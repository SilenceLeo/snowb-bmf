var Ch=Object.defineProperty,Ph=Object.defineProperties;var Ih=Object.getOwnPropertyDescriptors;var ua=Object.getOwnPropertySymbols;var hd=Object.prototype.hasOwnProperty,yd=Object.prototype.propertyIsEnumerable;var pd=(d,h,f)=>h in d?Ch(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,X=(d,h)=>{for(var f in h||(h={}))hd.call(h,f)&&pd(d,f,h[f]);if(ua)for(var f of ua(h))yd.call(h,f)&&pd(d,f,h[f]);return d},Re=(d,h)=>Ph(d,Ih(h));var Ji=(d,h)=>{var f={};for(var y in d)hd.call(d,y)&&h.indexOf(y)<0&&(f[y]=d[y]);if(d!=null&&ua)for(var y of ua(d))h.indexOf(y)<0&&yd.call(d,y)&&(f[y]=d[y]);return f};var Ah=(d,h)=>()=>(h||d((h={exports:{}}).exports,h),h.exports);var De=(d,h,f)=>new Promise((y,g)=>{var b=O=>{try{S(f.next(O))}catch(w){g(w)}},v=O=>{try{S(f.throw(O))}catch(w){g(w)}},S=O=>O.done?y(O.value):Promise.resolve(O.value).then(b,v);S((f=f.apply(d,h)).next())});import{h as hasOwn,j as jsxRuntimeExports,E as Emotion$1,c as createEmotionProps,T as Typography,B as Box,D as Divider,L as ListItem,a as ListItemText,I as IconButton,H as HighlightOffIcon,b as List,d as Button,C as CircularProgress,F as FontDownload,G as Grid,S as Slider$1,e as Input,f as TextField,g as Checkbox,P as PropTypes,u as useTheme,i as Popper,k as ClickAwayListener,R as RadioGroup,l as FormControlLabel,m as Radio,n as Select,M as MenuItem,o as Switch,p as ButtonGroup,q as Dialog,r as DialogTitle,s as DialogContent,t as DialogActions,v as Link,w as Paper,x as MenuList,y as Stack$1,z as DeleteIcon,A as InputBase,J as AccordionSummary,K as PhotoLibraryIcon,N as FullscreenExitIcon,O as FullscreenIcon,Q as accordionSummaryClasses,U as ExpandMoreIcon,V as AccordionDetails,W as Accordion,X as LinearProgress,Y as ErrorOutlineIcon,Z as CloseIcon,_ as svgIconClasses,$ as Tabs,a0 as Snackbar$1,a1 as Alert,a2 as ErrorIcon$1,a3 as CheckCircleIcon,a4 as UpdateIcon,a5 as RefreshIcon,a6 as createTheme,a7 as responsiveFontSizes,a8 as StyledEngineProvider,a9 as CssBaseline,aa as ThemeProvider}from"./mui-BRPp4hhc.js";import{r as reactExports,a as React,c as reactDomExports,t as toJS,m as makeObservable,d as action,o as observable,e as runInAction,f as computed,g as reaction,h as deepObserve,i as configure,j as observer}from"./mobx-DmT1BJL9.js";import{r as requireReact,a as requireReactDom,c as commonjsGlobal,g as getDefaultExportFromCjs}from"./vendor-DusaJeda.js";import{C as Color,r as requireFileSaver_min,a as requireJszip_min}from"./utils-Cc0gQ23c.js";var Mh=Ah((exports,module)=>{(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))y(g);new MutationObserver(g=>{for(const b of g)if(b.type==="childList")for(const v of b.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&y(v)}).observe(document,{childList:!0,subtree:!0});function f(g){const b={};return g.integrity&&(b.integrity=g.integrity),g.referrerPolicy&&(b.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?b.credentials="include":g.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function y(g){if(g.ep)return;g.ep=!0;const b=f(g);fetch(g.href,b)}})();var Fragment=jsxRuntimeExports.Fragment,jsx=function(h,f,y){return hasOwn.call(f,"css")?jsxRuntimeExports.jsx(Emotion$1,createEmotionProps(h,f),y):jsxRuntimeExports.jsx(h,f,y)},jsxs=function(h,f,y){return hasOwn.call(f,"css")?jsxRuntimeExports.jsxs(Emotion$1,createEmotionProps(h,f),y):jsxRuntimeExports.jsxs(h,f,y)};const DEBUG_BUILD$3=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,GLOBAL_OBJ=globalThis,SDK_VERSION="9.46.0";function getMainCarrier(){return getSentryCarrier(GLOBAL_OBJ),GLOBAL_OBJ}function getSentryCarrier(d){const h=d.__SENTRY__=d.__SENTRY__||{};return h.version=h.version||SDK_VERSION,h[SDK_VERSION]=h[SDK_VERSION]||{}}function getGlobalSingleton(d,h,f=GLOBAL_OBJ){const y=f.__SENTRY__=f.__SENTRY__||{},g=y[SDK_VERSION]=y[SDK_VERSION]||{};return g[d]||(g[d]=h())}const CONSOLE_LEVELS$1=["debug","info","warn","error","log","assert","trace"],PREFIX$1="Sentry Logger ",originalConsoleMethods={};function consoleSandbox(d){if(!("console"in GLOBAL_OBJ))return d();const h=GLOBAL_OBJ.console,f={},y=Object.keys(originalConsoleMethods);y.forEach(g=>{const b=originalConsoleMethods[g];f[g]=h[g],h[g]=b});try{return d()}finally{y.forEach(g=>{h[g]=f[g]})}}function enable(){_getLoggerSettings().enabled=!0}function disable(){_getLoggerSettings().enabled=!1}function isEnabled$1(){return _getLoggerSettings().enabled}function log(...d){_maybeLog("log",...d)}function warn(...d){_maybeLog("warn",...d)}function error$1(...d){_maybeLog("error",...d)}function _maybeLog(d,...h){DEBUG_BUILD$3&&isEnabled$1()&&consoleSandbox(()=>{GLOBAL_OBJ.console[d](`${PREFIX$1}[${d}]:`,...h)})}function _getLoggerSettings(){return DEBUG_BUILD$3?getGlobalSingleton("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const debug$1={enable,disable,isEnabled:isEnabled$1,log,warn,error:error$1},STACKTRACE_FRAME_LIMIT=50,UNKNOWN_FUNCTION="?",WEBPACK_ERROR_REGEXP=/\(error: (.*)\)/,STRIP_FRAME_REGEXP=/captureMessage|captureException/;function createStackParser(...d){const h=d.sort((f,y)=>f[0]-y[0]).map(f=>f[1]);return(f,y=0,g=0)=>{const b=[],v=f.split(`
`);for(let S=y;S<v.length;S++){const O=v[S];if(O.length>1024)continue;const w=WEBPACK_ERROR_REGEXP.test(O)?O.replace(WEBPACK_ERROR_REGEXP,"$1"):O;if(!w.match(/\S*Error: /)){for(const T of h){const E=T(w);if(E){b.push(E);break}}if(b.length>=STACKTRACE_FRAME_LIMIT+g)break}}return stripSentryFramesAndReverse(b.slice(g))}}function stackParserFromStackParserOptions(d){return Array.isArray(d)?createStackParser(...d):d}function stripSentryFramesAndReverse(d){if(!d.length)return[];const h=Array.from(d);return/sentryWrapped/.test(getLastStackFrame(h).function||"")&&h.pop(),h.reverse(),STRIP_FRAME_REGEXP.test(getLastStackFrame(h).function||"")&&(h.pop(),STRIP_FRAME_REGEXP.test(getLastStackFrame(h).function||"")&&h.pop()),h.slice(0,STACKTRACE_FRAME_LIMIT).map(f=>Re(X({},f),{filename:f.filename||getLastStackFrame(h).filename,function:f.function||UNKNOWN_FUNCTION}))}function getLastStackFrame(d){return d[d.length-1]||{}}const defaultFunctionName="<anonymous>";function getFunctionName(d){try{return!d||typeof d!="function"?defaultFunctionName:d.name||defaultFunctionName}catch(h){return defaultFunctionName}}function getFramesFromEvent(d){const h=d.exception;if(h){const f=[];try{return h.values.forEach(y=>{y.stacktrace.frames&&f.push(...y.stacktrace.frames)}),f}catch(y){return}}}const handlers$2={},instrumented$1={};function addHandler$1(d,h){handlers$2[d]=handlers$2[d]||[],handlers$2[d].push(h)}function maybeInstrument(d,h){if(!instrumented$1[d]){instrumented$1[d]=!0;try{h()}catch(f){DEBUG_BUILD$3&&debug$1.error(`Error while instrumenting ${d}`,f)}}}function triggerHandlers$1(d,h){const f=d&&handlers$2[d];if(f)for(const y of f)try{y(h)}catch(g){DEBUG_BUILD$3&&debug$1.error(`Error while triggering instrumentation handler.
Type: ${d}
Name: ${getFunctionName(y)}
Error:`,g)}}let _oldOnErrorHandler=null;function addGlobalErrorInstrumentationHandler(d){const h="error";addHandler$1(h,d),maybeInstrument(h,instrumentError)}function instrumentError(){_oldOnErrorHandler=GLOBAL_OBJ.onerror,GLOBAL_OBJ.onerror=function(d,h,f,y,g){return triggerHandlers$1("error",{column:y,error:g,line:f,msg:d,url:h}),_oldOnErrorHandler?_oldOnErrorHandler.apply(this,arguments):!1},GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}let _oldOnUnhandledRejectionHandler=null;function addGlobalUnhandledRejectionInstrumentationHandler(d){const h="unhandledrejection";addHandler$1(h,d),maybeInstrument(h,instrumentUnhandledRejection)}function instrumentUnhandledRejection(){_oldOnUnhandledRejectionHandler=GLOBAL_OBJ.onunhandledrejection,GLOBAL_OBJ.onunhandledrejection=function(d){return triggerHandlers$1("unhandledrejection",d),_oldOnUnhandledRejectionHandler?_oldOnUnhandledRejectionHandler.apply(this,arguments):!0},GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const objectToString$1=Object.prototype.toString;function isError(d){switch(objectToString$1.call(d)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return isInstanceOf(d,Error)}}function isBuiltin(d,h){return objectToString$1.call(d)===`[object ${h}]`}function isErrorEvent$2(d){return isBuiltin(d,"ErrorEvent")}function isDOMError(d){return isBuiltin(d,"DOMError")}function isDOMException(d){return isBuiltin(d,"DOMException")}function isString(d){return isBuiltin(d,"String")}function isParameterizedString(d){return typeof d=="object"&&d!==null&&"__sentry_template_string__"in d&&"__sentry_template_values__"in d}function isPrimitive(d){return d===null||isParameterizedString(d)||typeof d!="object"&&typeof d!="function"}function isPlainObject$1(d){return isBuiltin(d,"Object")}function isEvent(d){return typeof Event!="undefined"&&isInstanceOf(d,Event)}function isElement$2(d){return typeof Element!="undefined"&&isInstanceOf(d,Element)}function isRegExp(d){return isBuiltin(d,"RegExp")}function isThenable(d){return!!(d!=null&&d.then&&typeof d.then=="function")}function isSyntheticEvent(d){return isPlainObject$1(d)&&"nativeEvent"in d&&"preventDefault"in d&&"stopPropagation"in d}function isInstanceOf(d,h){try{return d instanceof h}catch(f){return!1}}function isVueViewModel(d){return!!(typeof d=="object"&&d!==null&&(d.__isVue||d._isVue))}function isRequest(d){return typeof Request!="undefined"&&isInstanceOf(d,Request)}const WINDOW$4=GLOBAL_OBJ,DEFAULT_MAX_STRING_LENGTH=80;function htmlTreeAsString(d,h={}){if(!d)return"<unknown>";try{let f=d;const y=5,g=[];let b=0,v=0;const S=" > ",O=S.length;let w;const T=Array.isArray(h)?h:h.keyAttrs,E=!Array.isArray(h)&&h.maxStringLength||DEFAULT_MAX_STRING_LENGTH;for(;f&&b++<y&&(w=_htmlElementAsString(f,T),!(w==="html"||b>1&&v+g.length*O+w.length>=E));)g.push(w),v+=w.length,f=f.parentNode;return g.reverse().join(S)}catch(f){return"<unknown>"}}function _htmlElementAsString(d,h){const f=d,y=[];if(!(f!=null&&f.tagName))return"";if(WINDOW$4.HTMLElement&&f instanceof HTMLElement&&f.dataset){if(f.dataset.sentryComponent)return f.dataset.sentryComponent;if(f.dataset.sentryElement)return f.dataset.sentryElement}y.push(f.tagName.toLowerCase());const g=h!=null&&h.length?h.filter(v=>f.getAttribute(v)).map(v=>[v,f.getAttribute(v)]):null;if(g!=null&&g.length)g.forEach(v=>{y.push(`[${v[0]}="${v[1]}"]`)});else{f.id&&y.push(`#${f.id}`);const v=f.className;if(v&&isString(v)){const S=v.split(/\s+/);for(const O of S)y.push(`.${O}`)}}const b=["aria-label","type","name","title","alt"];for(const v of b){const S=f.getAttribute(v);S&&y.push(`[${v}="${S}"]`)}return y.join("")}function getLocationHref(){try{return WINDOW$4.document.location.href}catch(d){return""}}function getComponentName(d){if(!WINDOW$4.HTMLElement)return null;let h=d;const f=5;for(let y=0;y<f;y++){if(!h)return null;if(h instanceof HTMLElement){if(h.dataset.sentryComponent)return h.dataset.sentryComponent;if(h.dataset.sentryElement)return h.dataset.sentryElement}h=h.parentNode}return null}function truncate(d,h=0){return typeof d!="string"||h===0||d.length<=h?d:`${d.slice(0,h)}...`}function safeJoin(d,h){if(!Array.isArray(d))return"";const f=[];for(let y=0;y<d.length;y++){const g=d[y];try{isVueViewModel(g)?f.push("[VueViewModel]"):f.push(String(g))}catch(b){f.push("[value cannot be serialized]")}}return f.join(h)}function isMatchingPattern(d,h,f=!1){return isString(d)?isRegExp(h)?h.test(d):isString(h)?f?d===h:d.includes(h):!1:!1}function stringMatchesSomePattern(d,h=[],f=!1){return h.some(y=>isMatchingPattern(d,y,f))}function fill$1(d,h,f){if(!(h in d))return;const y=d[h];if(typeof y!="function")return;const g=f(y);typeof g=="function"&&markFunctionWrapped(g,y);try{d[h]=g}catch(b){DEBUG_BUILD$3&&debug$1.log(`Failed to replace method "${h}" in object`,d)}}function addNonEnumerableProperty(d,h,f){try{Object.defineProperty(d,h,{value:f,writable:!0,configurable:!0})}catch(y){DEBUG_BUILD$3&&debug$1.log(`Failed to add non-enumerable property "${h}" to object`,d)}}function markFunctionWrapped(d,h){try{const f=h.prototype||{};d.prototype=h.prototype=f,addNonEnumerableProperty(d,"__sentry_original__",h)}catch(f){}}function getOriginalFunction(d){return d.__sentry_original__}function convertToPlainObject(d){if(isError(d))return X({message:d.message,name:d.name,stack:d.stack},getOwnProperties(d));if(isEvent(d)){const h=X({type:d.type,target:serializeEventTarget(d.target),currentTarget:serializeEventTarget(d.currentTarget)},getOwnProperties(d));return typeof CustomEvent!="undefined"&&isInstanceOf(d,CustomEvent)&&(h.detail=d.detail),h}else return d}function serializeEventTarget(d){try{return isElement$2(d)?htmlTreeAsString(d):Object.prototype.toString.call(d)}catch(h){return"<unknown>"}}function getOwnProperties(d){if(typeof d=="object"&&d!==null){const h={};for(const f in d)Object.prototype.hasOwnProperty.call(d,f)&&(h[f]=d[f]);return h}else return{}}function extractExceptionKeysForMessage(d,h=40){const f=Object.keys(convertToPlainObject(d));f.sort();const y=f[0];if(!y)return"[object has no keys]";if(y.length>=h)return truncate(y,h);for(let g=f.length;g>0;g--){const b=f.slice(0,g).join(", ");if(!(b.length>h))return g===f.length?b:truncate(b,h)}return""}function getCrypto(){const d=GLOBAL_OBJ;return d.crypto||d.msCrypto}function uuid4(d=getCrypto()){let h=()=>Math.random()*16;try{if(d!=null&&d.randomUUID)return d.randomUUID().replace(/-/g,"");d!=null&&d.getRandomValues&&(h=()=>{const f=new Uint8Array(1);return d.getRandomValues(f),f[0]})}catch(f){}return("10000000100040008000"+1e11).replace(/[018]/g,f=>(f^(h()&15)>>f/4).toString(16))}function getFirstException(d){var h,f;return(f=(h=d.exception)==null?void 0:h.values)==null?void 0:f[0]}function getEventDescription(d){const{message:h,event_id:f}=d;if(h)return h;const y=getFirstException(d);return y?y.type&&y.value?`${y.type}: ${y.value}`:y.type||y.value||f||"<unknown>":f||"<unknown>"}function addExceptionTypeValue(d,h,f){const y=d.exception=d.exception||{},g=y.values=y.values||[],b=g[0]=g[0]||{};b.value||(b.value=h||""),b.type||(b.type="Error")}function addExceptionMechanism(d,h){const f=getFirstException(d);if(!f)return;const y={type:"generic",handled:!0},g=f.mechanism;if(f.mechanism=X(X(X({},y),g),h),h&&"data"in h){const b=X(X({},g==null?void 0:g.data),h.data);f.mechanism.data=b}}function checkOrSetAlreadyCaught(d){if(isAlreadyCaptured(d))return!0;try{addNonEnumerableProperty(d,"__sentry_captured__",!0)}catch(h){}return!1}function isAlreadyCaptured(d){try{return d.__sentry_captured__}catch(h){}}const ONE_SECOND_IN_MS=1e3;function dateTimestampInSeconds(){return Date.now()/ONE_SECOND_IN_MS}function createUnixTimestampInSecondsFunc(){const{performance:d}=GLOBAL_OBJ;if(!(d!=null&&d.now)||!d.timeOrigin)return dateTimestampInSeconds;const h=d.timeOrigin;return()=>(h+d.now())/ONE_SECOND_IN_MS}let _cachedTimestampInSeconds;function timestampInSeconds(){return(_cachedTimestampInSeconds!=null?_cachedTimestampInSeconds:_cachedTimestampInSeconds=createUnixTimestampInSecondsFunc())()}let cachedTimeOrigin;function getBrowserTimeOrigin(){var T;const{performance:d}=GLOBAL_OBJ;if(!(d!=null&&d.now))return[void 0,"none"];const h=3600*1e3,f=d.now(),y=Date.now(),g=d.timeOrigin?Math.abs(d.timeOrigin+f-y):h,b=g<h,v=(T=d.timing)==null?void 0:T.navigationStart,O=typeof v=="number"?Math.abs(v+f-y):h,w=O<h;return b||w?g<=O?[d.timeOrigin,"timeOrigin"]:[v,"navigationStart"]:[y,"dateNow"]}function browserPerformanceTimeOrigin(){return cachedTimeOrigin||(cachedTimeOrigin=getBrowserTimeOrigin()),cachedTimeOrigin[0]}function makeSession$1(d){const h=timestampInSeconds(),f={sid:uuid4(),init:!0,timestamp:h,started:h,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>sessionToJSON(f)};return d&&updateSession(f,d),f}function updateSession(d,h={}){if(h.user&&(!d.ipAddress&&h.user.ip_address&&(d.ipAddress=h.user.ip_address),!d.did&&!h.did&&(d.did=h.user.id||h.user.email||h.user.username)),d.timestamp=h.timestamp||timestampInSeconds(),h.abnormal_mechanism&&(d.abnormal_mechanism=h.abnormal_mechanism),h.ignoreDuration&&(d.ignoreDuration=h.ignoreDuration),h.sid&&(d.sid=h.sid.length===32?h.sid:uuid4()),h.init!==void 0&&(d.init=h.init),!d.did&&h.did&&(d.did=`${h.did}`),typeof h.started=="number"&&(d.started=h.started),d.ignoreDuration)d.duration=void 0;else if(typeof h.duration=="number")d.duration=h.duration;else{const f=d.timestamp-d.started;d.duration=f>=0?f:0}h.release&&(d.release=h.release),h.environment&&(d.environment=h.environment),!d.ipAddress&&h.ipAddress&&(d.ipAddress=h.ipAddress),!d.userAgent&&h.userAgent&&(d.userAgent=h.userAgent),typeof h.errors=="number"&&(d.errors=h.errors),h.status&&(d.status=h.status)}function closeSession(d,h){let f={};d.status==="ok"&&(f={status:"exited"}),updateSession(d,f)}function sessionToJSON(d){return{sid:`${d.sid}`,init:d.init,started:new Date(d.started*1e3).toISOString(),timestamp:new Date(d.timestamp*1e3).toISOString(),status:d.status,errors:d.errors,did:typeof d.did=="number"||typeof d.did=="string"?`${d.did}`:void 0,duration:d.duration,abnormal_mechanism:d.abnormal_mechanism,attrs:{release:d.release,environment:d.environment,ip_address:d.ipAddress,user_agent:d.userAgent}}}function merge$2(d,h,f=2){if(!h||typeof h!="object"||f<=0)return h;if(d&&Object.keys(h).length===0)return d;const y=X({},d);for(const g in h)Object.prototype.hasOwnProperty.call(h,g)&&(y[g]=merge$2(y[g],h[g],f-1));return y}function generateTraceId(){return uuid4()}function generateSpanId(){return uuid4().substring(16)}const SCOPE_SPAN_FIELD="_sentrySpan";function _setSpanForScope(d,h){h?addNonEnumerableProperty(d,SCOPE_SPAN_FIELD,h):delete d[SCOPE_SPAN_FIELD]}function _getSpanForScope(d){return d[SCOPE_SPAN_FIELD]}const DEFAULT_MAX_BREADCRUMBS=100;class Scope{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:generateTraceId(),sampleRand:Math.random()}}clone(){const h=new Scope;return h._breadcrumbs=[...this._breadcrumbs],h._tags=X({},this._tags),h._extra=X({},this._extra),h._contexts=X({},this._contexts),this._contexts.flags&&(h._contexts.flags={values:[...this._contexts.flags.values]}),h._user=this._user,h._level=this._level,h._session=this._session,h._transactionName=this._transactionName,h._fingerprint=this._fingerprint,h._eventProcessors=[...this._eventProcessors],h._attachments=[...this._attachments],h._sdkProcessingMetadata=X({},this._sdkProcessingMetadata),h._propagationContext=X({},this._propagationContext),h._client=this._client,h._lastEventId=this._lastEventId,_setSpanForScope(h,_getSpanForScope(this)),h}setClient(h){this._client=h}setLastEventId(h){this._lastEventId=h}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(h){this._scopeListeners.push(h)}addEventProcessor(h){return this._eventProcessors.push(h),this}setUser(h){return this._user=h||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&updateSession(this._session,{user:h}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(h){return this._tags=X(X({},this._tags),h),this._notifyScopeListeners(),this}setTag(h,f){return this._tags=Re(X({},this._tags),{[h]:f}),this._notifyScopeListeners(),this}setExtras(h){return this._extra=X(X({},this._extra),h),this._notifyScopeListeners(),this}setExtra(h,f){return this._extra=Re(X({},this._extra),{[h]:f}),this._notifyScopeListeners(),this}setFingerprint(h){return this._fingerprint=h,this._notifyScopeListeners(),this}setLevel(h){return this._level=h,this._notifyScopeListeners(),this}setTransactionName(h){return this._transactionName=h,this._notifyScopeListeners(),this}setContext(h,f){return f===null?delete this._contexts[h]:this._contexts[h]=f,this._notifyScopeListeners(),this}setSession(h){return h?this._session=h:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(h){if(!h)return this;const f=typeof h=="function"?h(this):h,y=f instanceof Scope?f.getScopeData():isPlainObject$1(f)?h:void 0,{tags:g,extra:b,user:v,contexts:S,level:O,fingerprint:w=[],propagationContext:T}=y||{};return this._tags=X(X({},this._tags),g),this._extra=X(X({},this._extra),b),this._contexts=X(X({},this._contexts),S),v&&Object.keys(v).length&&(this._user=v),O&&(this._level=O),w.length&&(this._fingerprint=w),T&&(this._propagationContext=T),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,_setSpanForScope(this,void 0),this._attachments=[],this.setPropagationContext({traceId:generateTraceId(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(h,f){var b;const y=typeof f=="number"?f:DEFAULT_MAX_BREADCRUMBS;if(y<=0)return this;const g=Re(X({timestamp:dateTimestampInSeconds()},h),{message:h.message?truncate(h.message,2048):h.message});return this._breadcrumbs.push(g),this._breadcrumbs.length>y&&(this._breadcrumbs=this._breadcrumbs.slice(-y),(b=this._client)==null||b.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(h){return this._attachments.push(h),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:_getSpanForScope(this)}}setSDKProcessingMetadata(h){return this._sdkProcessingMetadata=merge$2(this._sdkProcessingMetadata,h,2),this}setPropagationContext(h){return this._propagationContext=h,this}getPropagationContext(){return this._propagationContext}captureException(h,f){const y=(f==null?void 0:f.event_id)||uuid4();if(!this._client)return DEBUG_BUILD$3&&debug$1.warn("No client configured on scope - will not capture exception!"),y;const g=new Error("Sentry syntheticException");return this._client.captureException(h,Re(X({originalException:h,syntheticException:g},f),{event_id:y}),this),y}captureMessage(h,f,y){const g=(y==null?void 0:y.event_id)||uuid4();if(!this._client)return DEBUG_BUILD$3&&debug$1.warn("No client configured on scope - will not capture message!"),g;const b=new Error(h);return this._client.captureMessage(h,f,Re(X({originalException:h,syntheticException:b},y),{event_id:g}),this),g}captureEvent(h,f){const y=(f==null?void 0:f.event_id)||uuid4();return this._client?(this._client.captureEvent(h,Re(X({},f),{event_id:y}),this),y):(DEBUG_BUILD$3&&debug$1.warn("No client configured on scope - will not capture event!"),y)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(h=>{h(this)}),this._notifyingListeners=!1)}}function getDefaultCurrentScope(){return getGlobalSingleton("defaultCurrentScope",()=>new Scope)}function getDefaultIsolationScope(){return getGlobalSingleton("defaultIsolationScope",()=>new Scope)}class AsyncContextStack{constructor(h,f){let y;h?y=h:y=new Scope;let g;f?g=f:g=new Scope,this._stack=[{scope:y}],this._isolationScope=g}withScope(h){const f=this._pushScope();let y;try{y=h(f)}catch(g){throw this._popScope(),g}return isThenable(y)?y.then(g=>(this._popScope(),g),g=>{throw this._popScope(),g}):(this._popScope(),y)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const h=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:h}),h}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function getAsyncContextStack(){const d=getMainCarrier(),h=getSentryCarrier(d);return h.stack=h.stack||new AsyncContextStack(getDefaultCurrentScope(),getDefaultIsolationScope())}function withScope$1(d){return getAsyncContextStack().withScope(d)}function withSetScope(d,h){const f=getAsyncContextStack();return f.withScope(()=>(f.getStackTop().scope=d,h(d)))}function withIsolationScope(d){return getAsyncContextStack().withScope(()=>d(getAsyncContextStack().getIsolationScope()))}function getStackAsyncContextStrategy(){return{withIsolationScope,withScope:withScope$1,withSetScope,withSetIsolationScope:(d,h)=>withIsolationScope(h),getCurrentScope:()=>getAsyncContextStack().getScope(),getIsolationScope:()=>getAsyncContextStack().getIsolationScope()}}function getAsyncContextStrategy(d){const h=getSentryCarrier(d);return h.acs?h.acs:getStackAsyncContextStrategy()}function getCurrentScope(){const d=getMainCarrier();return getAsyncContextStrategy(d).getCurrentScope()}function getIsolationScope(){const d=getMainCarrier();return getAsyncContextStrategy(d).getIsolationScope()}function getGlobalScope(){return getGlobalSingleton("globalScope",()=>new Scope)}function withScope(...d){const h=getMainCarrier(),f=getAsyncContextStrategy(h);if(d.length===2){const[y,g]=d;return y?f.withSetScope(y,g):f.withScope(g)}return f.withScope(d[0])}function getClient(){return getCurrentScope().getClient()}function getTraceContextFromScope(d){const h=d.getPropagationContext(),{traceId:f,parentSpanId:y,propagationSpanId:g}=h,b={trace_id:f,span_id:g||generateSpanId()};return y&&(b.parent_span_id=y),b}const SEMANTIC_ATTRIBUTE_SENTRY_SOURCE="sentry.source",SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE="sentry.sample_rate",SEMANTIC_ATTRIBUTE_SENTRY_PREVIOUS_TRACE_SAMPLE_RATE="sentry.previous_trace_sample_rate",SEMANTIC_ATTRIBUTE_SENTRY_OP="sentry.op",SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN="sentry.origin",SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON="sentry.idle_span_finish_reason",SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT="sentry.measurement_unit",SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE="sentry.measurement_value",SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME="sentry.custom_span_name",SEMANTIC_ATTRIBUTE_PROFILE_ID="sentry.profile_id",SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME="sentry.exclusive_time",SEMANTIC_LINK_ATTRIBUTE_LINK_TYPE="sentry.link.type",SPAN_STATUS_UNSET=0,SPAN_STATUS_OK=1,SPAN_STATUS_ERROR=2;function getSpanStatusFromHttpCode(d){if(d<400&&d>=100)return{code:SPAN_STATUS_OK};if(d>=400&&d<500)switch(d){case 401:return{code:SPAN_STATUS_ERROR,message:"unauthenticated"};case 403:return{code:SPAN_STATUS_ERROR,message:"permission_denied"};case 404:return{code:SPAN_STATUS_ERROR,message:"not_found"};case 409:return{code:SPAN_STATUS_ERROR,message:"already_exists"};case 413:return{code:SPAN_STATUS_ERROR,message:"failed_precondition"};case 429:return{code:SPAN_STATUS_ERROR,message:"resource_exhausted"};case 499:return{code:SPAN_STATUS_ERROR,message:"cancelled"};default:return{code:SPAN_STATUS_ERROR,message:"invalid_argument"}}if(d>=500&&d<600)switch(d){case 501:return{code:SPAN_STATUS_ERROR,message:"unimplemented"};case 503:return{code:SPAN_STATUS_ERROR,message:"unavailable"};case 504:return{code:SPAN_STATUS_ERROR,message:"deadline_exceeded"};default:return{code:SPAN_STATUS_ERROR,message:"internal_error"}}return{code:SPAN_STATUS_ERROR,message:"unknown_error"}}function setHttpStatus(d,h){d.setAttribute("http.response.status_code",h);const f=getSpanStatusFromHttpCode(h);f.message!=="unknown_error"&&d.setStatus(f)}const SCOPE_ON_START_SPAN_FIELD="_sentryScope",ISOLATION_SCOPE_ON_START_SPAN_FIELD="_sentryIsolationScope";function setCapturedScopesOnSpan(d,h,f){d&&(addNonEnumerableProperty(d,ISOLATION_SCOPE_ON_START_SPAN_FIELD,f),addNonEnumerableProperty(d,SCOPE_ON_START_SPAN_FIELD,h))}function getCapturedScopesOnSpan(d){return{scope:d[SCOPE_ON_START_SPAN_FIELD],isolationScope:d[ISOLATION_SCOPE_ON_START_SPAN_FIELD]}}const SENTRY_BAGGAGE_KEY_PREFIX="sentry-",SENTRY_BAGGAGE_KEY_PREFIX_REGEX=/^sentry-/,MAX_BAGGAGE_STRING_LENGTH=8192;function baggageHeaderToDynamicSamplingContext(d){const h=parseBaggageHeader(d);if(!h)return;const f=Object.entries(h).reduce((y,[g,b])=>{if(g.match(SENTRY_BAGGAGE_KEY_PREFIX_REGEX)){const v=g.slice(SENTRY_BAGGAGE_KEY_PREFIX.length);y[v]=b}return y},{});if(Object.keys(f).length>0)return f}function dynamicSamplingContextToSentryBaggageHeader(d){if(!d)return;const h=Object.entries(d).reduce((f,[y,g])=>(g&&(f[`${SENTRY_BAGGAGE_KEY_PREFIX}${y}`]=g),f),{});return objectToBaggageHeader(h)}function parseBaggageHeader(d){if(!(!d||!isString(d)&&!Array.isArray(d)))return Array.isArray(d)?d.reduce((h,f)=>{const y=baggageHeaderToObject(f);return Object.entries(y).forEach(([g,b])=>{h[g]=b}),h},{}):baggageHeaderToObject(d)}function baggageHeaderToObject(d){return d.split(",").map(h=>h.split("=").map(f=>{try{return decodeURIComponent(f.trim())}catch(y){return}})).reduce((h,[f,y])=>(f&&y&&(h[f]=y),h),{})}function objectToBaggageHeader(d){if(Object.keys(d).length!==0)return Object.entries(d).reduce((h,[f,y],g)=>{const b=`${encodeURIComponent(f)}=${encodeURIComponent(y)}`,v=g===0?b:`${h},${b}`;return v.length>MAX_BAGGAGE_STRING_LENGTH?(DEBUG_BUILD$3&&debug$1.warn(`Not adding key: ${f} with val: ${y} to baggage header due to exceeding baggage size limits.`),h):v},"")}function parseSampleRate(d){if(typeof d=="boolean")return Number(d);const h=typeof d=="string"?parseFloat(d):d;if(!(typeof h!="number"||isNaN(h)||h<0||h>1))return h}const TRACEPARENT_REGEXP=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function extractTraceparentData(d){if(!d)return;const h=d.match(TRACEPARENT_REGEXP);if(!h)return;let f;return h[3]==="1"?f=!0:h[3]==="0"&&(f=!1),{traceId:h[1],parentSampled:f,parentSpanId:h[2]}}function propagationContextFromHeaders(d,h){const f=extractTraceparentData(d),y=baggageHeaderToDynamicSamplingContext(h);if(!(f!=null&&f.traceId))return{traceId:generateTraceId(),sampleRand:Math.random()};const g=getSampleRandFromTraceparentAndDsc(f,y);y&&(y.sample_rand=g.toString());const{traceId:b,parentSpanId:v,parentSampled:S}=f;return{traceId:b,parentSpanId:v,sampled:S,dsc:y||{},sampleRand:g}}function generateSentryTraceHeader(d=generateTraceId(),h=generateSpanId(),f){let y="";return f!==void 0&&(y=f?"-1":"-0"),`${d}-${h}${y}`}function getSampleRandFromTraceparentAndDsc(d,h){const f=parseSampleRate(h==null?void 0:h.sample_rand);if(f!==void 0)return f;const y=parseSampleRate(h==null?void 0:h.sample_rate);return y&&(d==null?void 0:d.parentSampled)!==void 0?d.parentSampled?Math.random()*y:y+Math.random()*(1-y):Math.random()}const TRACE_FLAG_NONE=0,TRACE_FLAG_SAMPLED=1;let hasShownSpanDropWarning=!1;function spanToTransactionTraceContext(d){const{spanId:h,traceId:f}=d.spanContext(),{data:y,op:g,parent_span_id:b,status:v,origin:S,links:O}=spanToJSON(d);return{parent_span_id:b,span_id:h,trace_id:f,data:y,op:g,status:v,origin:S,links:O}}function spanToTraceContext(d){const{spanId:h,traceId:f,isRemote:y}=d.spanContext(),g=y?h:spanToJSON(d).parent_span_id,b=getCapturedScopesOnSpan(d).scope,v=y?(b==null?void 0:b.getPropagationContext().propagationSpanId)||generateSpanId():h;return{parent_span_id:g,span_id:v,trace_id:f}}function spanToTraceHeader(d){const{traceId:h,spanId:f}=d.spanContext(),y=spanIsSampled(d);return generateSentryTraceHeader(h,f,y)}function convertSpanLinksForEnvelope(d){if(d&&d.length>0)return d.map(v=>{var S=v,{context:O}=S,w=O,{spanId:h,traceId:f,traceFlags:y}=w,g=Ji(w,["spanId","traceId","traceFlags"]),{attributes:b}=S;return X({span_id:h,trace_id:f,sampled:y===TRACE_FLAG_SAMPLED,attributes:b},g)})}function spanTimeInputToSeconds(d){return typeof d=="number"?ensureTimestampInSeconds(d):Array.isArray(d)?d[0]+d[1]/1e9:d instanceof Date?ensureTimestampInSeconds(d.getTime()):timestampInSeconds()}function ensureTimestampInSeconds(d){return d>9999999999?d/1e3:d}function spanToJSON(d){var y;if(spanIsSentrySpan(d))return d.getSpanJSON();const{spanId:h,traceId:f}=d.spanContext();if(spanIsOpenTelemetrySdkTraceBaseSpan(d)){const{attributes:g,startTime:b,name:v,endTime:S,status:O,links:w}=d,T="parentSpanId"in d?d.parentSpanId:"parentSpanContext"in d?(y=d.parentSpanContext)==null?void 0:y.spanId:void 0;return{span_id:h,trace_id:f,data:g,description:v,parent_span_id:T,start_timestamp:spanTimeInputToSeconds(b),timestamp:spanTimeInputToSeconds(S)||void 0,status:getStatusMessage(O),op:g[SEMANTIC_ATTRIBUTE_SENTRY_OP],origin:g[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],links:convertSpanLinksForEnvelope(w)}}return{span_id:h,trace_id:f,start_timestamp:0,data:{}}}function spanIsOpenTelemetrySdkTraceBaseSpan(d){const h=d;return!!h.attributes&&!!h.startTime&&!!h.name&&!!h.endTime&&!!h.status}function spanIsSentrySpan(d){return typeof d.getSpanJSON=="function"}function spanIsSampled(d){const{traceFlags:h}=d.spanContext();return h===TRACE_FLAG_SAMPLED}function getStatusMessage(d){if(!(!d||d.code===SPAN_STATUS_UNSET))return d.code===SPAN_STATUS_OK?"ok":d.message||"unknown_error"}const CHILD_SPANS_FIELD="_sentryChildSpans",ROOT_SPAN_FIELD="_sentryRootSpan";function addChildSpanToSpan(d,h){const f=d[ROOT_SPAN_FIELD]||d;addNonEnumerableProperty(h,ROOT_SPAN_FIELD,f),d[CHILD_SPANS_FIELD]?d[CHILD_SPANS_FIELD].add(h):addNonEnumerableProperty(d,CHILD_SPANS_FIELD,new Set([h]))}function removeChildSpanFromSpan(d,h){d[CHILD_SPANS_FIELD]&&d[CHILD_SPANS_FIELD].delete(h)}function getSpanDescendants(d){const h=new Set;function f(y){if(!h.has(y)&&spanIsSampled(y)){h.add(y);const g=y[CHILD_SPANS_FIELD]?Array.from(y[CHILD_SPANS_FIELD]):[];for(const b of g)f(b)}}return f(d),Array.from(h)}function getRootSpan(d){return d[ROOT_SPAN_FIELD]||d}function getActiveSpan(){const d=getMainCarrier(),h=getAsyncContextStrategy(d);return h.getActiveSpan?h.getActiveSpan():_getSpanForScope(getCurrentScope())}function showSpanDropWarning(){hasShownSpanDropWarning||(consoleSandbox(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),hasShownSpanDropWarning=!0)}let errorsInstrumented=!1;function registerSpanErrorInstrumentation(){if(errorsInstrumented)return;function d(){const h=getActiveSpan(),f=h&&getRootSpan(h);if(f){const y="internal_error";DEBUG_BUILD$3&&debug$1.log(`[Tracing] Root span: ${y} -> Global error occurred`),f.setStatus({code:SPAN_STATUS_ERROR,message:y})}}d.tag="sentry_tracingErrorCallback",errorsInstrumented=!0,addGlobalErrorInstrumentationHandler(d),addGlobalUnhandledRejectionInstrumentationHandler(d)}function hasSpansEnabled(d){var f;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const h=d||((f=getClient())==null?void 0:f.getOptions());return!!h&&(h.tracesSampleRate!=null||!!h.tracesSampler)}const DEFAULT_ENVIRONMENT="production",ORG_ID_REGEX=/^o(\d+)\./,DSN_REGEX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function isValidProtocol(d){return d==="http"||d==="https"}function dsnToString(d,h=!1){const{host:f,path:y,pass:g,port:b,projectId:v,protocol:S,publicKey:O}=d;return`${S}://${O}${h&&g?`:${g}`:""}@${f}${b?`:${b}`:""}/${y&&`${y}/`}${v}`}function dsnFromString(d){const h=DSN_REGEX.exec(d);if(!h){consoleSandbox(()=>{console.error(`Invalid Sentry Dsn: ${d}`)});return}const[f,y,g="",b="",v="",S=""]=h.slice(1);let O="",w=S;const T=w.split("/");if(T.length>1&&(O=T.slice(0,-1).join("/"),w=T.pop()),w){const E=w.match(/^\d+/);E&&(w=E[0])}return dsnFromComponents({host:b,pass:g,path:O,projectId:w,port:v,protocol:f,publicKey:y})}function dsnFromComponents(d){return{protocol:d.protocol,publicKey:d.publicKey||"",pass:d.pass||"",host:d.host,port:d.port||"",path:d.path||"",projectId:d.projectId}}function validateDsn(d){if(!DEBUG_BUILD$3)return!0;const{port:h,projectId:f,protocol:y}=d;return["protocol","publicKey","host","projectId"].find(v=>d[v]?!1:(debug$1.error(`Invalid Sentry Dsn: ${v} missing`),!0))?!1:f.match(/^\d+$/)?isValidProtocol(y)?h&&isNaN(parseInt(h,10))?(debug$1.error(`Invalid Sentry Dsn: Invalid port ${h}`),!1):!0:(debug$1.error(`Invalid Sentry Dsn: Invalid protocol ${y}`),!1):(debug$1.error(`Invalid Sentry Dsn: Invalid projectId ${f}`),!1)}function extractOrgIdFromDsnHost(d){const h=d.match(ORG_ID_REGEX);return h==null?void 0:h[1]}function makeDsn(d){const h=typeof d=="string"?dsnFromString(d):dsnFromComponents(d);if(!(!h||!validateDsn(h)))return h}const FROZEN_DSC_FIELD="_frozenDsc";function freezeDscOnSpan(d,h){addNonEnumerableProperty(d,FROZEN_DSC_FIELD,h)}function getDynamicSamplingContextFromClient(d,h){const f=h.getOptions(),{publicKey:y,host:g}=h.getDsn()||{};let b;f.orgId?b=String(f.orgId):g&&(b=extractOrgIdFromDsnHost(g));const v={environment:f.environment||DEFAULT_ENVIRONMENT,release:f.release,public_key:y,trace_id:d,org_id:b};return h.emit("createDsc",v),v}function getDynamicSamplingContextFromScope(d,h){const f=h.getPropagationContext();return f.dsc||getDynamicSamplingContextFromClient(f.traceId,d)}function getDynamicSamplingContextFromSpan(d){var P,M,A,D;const h=getClient();if(!h)return{};const f=getRootSpan(d),y=spanToJSON(f),g=y.data,b=f.spanContext().traceState,v=(M=(P=b==null?void 0:b.get("sentry.sample_rate"))!=null?P:g[SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE])!=null?M:g[SEMANTIC_ATTRIBUTE_SENTRY_PREVIOUS_TRACE_SAMPLE_RATE];function S(N){return(typeof v=="number"||typeof v=="string")&&(N.sample_rate=`${v}`),N}const O=f[FROZEN_DSC_FIELD];if(O)return S(O);const w=b==null?void 0:b.get("sentry.dsc"),T=w&&baggageHeaderToDynamicSamplingContext(w);if(T)return S(T);const E=getDynamicSamplingContextFromClient(d.spanContext().traceId,h),k=g[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],C=y.description;return k!=="url"&&C&&(E.transaction=C),hasSpansEnabled()&&(E.sampled=String(spanIsSampled(f)),E.sample_rand=(D=b==null?void 0:b.get("sentry.sample_rand"))!=null?D:(A=getCapturedScopesOnSpan(f).scope)==null?void 0:A.getPropagationContext().sampleRand.toString()),S(E),h.emit("createDsc",E,f),E}class SentryNonRecordingSpan{constructor(h={}){this._traceId=h.traceId||generateTraceId(),this._spanId=h.spanId||generateSpanId()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:TRACE_FLAG_NONE}}end(h){}setAttribute(h,f){return this}setAttributes(h){return this}setStatus(h){return this}updateName(h){return this}isRecording(){return!1}addEvent(h,f,y){return this}addLink(h){return this}addLinks(h){return this}recordException(h,f){}}function normalize(d,h=100,f=1/0){try{return visit("",d,h,f)}catch(y){return{ERROR:`**non-serializable** (${y})`}}}function normalizeToSize(d,h=3,f=100*1024){const y=normalize(d,h);return jsonSize(y)>f?normalizeToSize(d,h-1,f):y}function visit(d,h,f=1/0,y=1/0,g=memoBuilder()){const[b,v]=g;if(h==null||["boolean","string"].includes(typeof h)||typeof h=="number"&&Number.isFinite(h))return h;const S=stringifyValue(d,h);if(!S.startsWith("[object "))return S;if(h.__sentry_skip_normalization__)return h;const O=typeof h.__sentry_override_normalization_depth__=="number"?h.__sentry_override_normalization_depth__:f;if(O===0)return S.replace("object ","");if(b(h))return"[Circular ~]";const w=h;if(w&&typeof w.toJSON=="function")try{const C=w.toJSON();return visit("",C,O-1,y,g)}catch(C){}const T=Array.isArray(h)?[]:{};let E=0;const k=convertToPlainObject(h);for(const C in k){if(!Object.prototype.hasOwnProperty.call(k,C))continue;if(E>=y){T[C]="[MaxProperties ~]";break}const P=k[C];T[C]=visit(C,P,O-1,y,g),E++}return v(h),T}function stringifyValue(d,h){try{if(d==="domain"&&h&&typeof h=="object"&&h._events)return"[Domain]";if(d==="domainEmitter")return"[DomainEmitter]";if(typeof global!="undefined"&&h===global)return"[Global]";if(typeof window!="undefined"&&h===window)return"[Window]";if(typeof document!="undefined"&&h===document)return"[Document]";if(isVueViewModel(h))return"[VueViewModel]";if(isSyntheticEvent(h))return"[SyntheticEvent]";if(typeof h=="number"&&!Number.isFinite(h))return`[${h}]`;if(typeof h=="function")return`[Function: ${getFunctionName(h)}]`;if(typeof h=="symbol")return`[${String(h)}]`;if(typeof h=="bigint")return`[BigInt: ${String(h)}]`;const f=getConstructorName(h);return/^HTML(\w*)Element$/.test(f)?`[HTMLElement: ${f}]`:`[object ${f}]`}catch(f){return`**non-serializable** (${f})`}}function getConstructorName(d){const h=Object.getPrototypeOf(d);return h!=null&&h.constructor?h.constructor.name:"null prototype"}function utf8Length(d){return~-encodeURI(d).split(/%..|./).length}function jsonSize(d){return utf8Length(JSON.stringify(d))}function memoBuilder(){const d=new WeakSet;function h(y){return d.has(y)?!0:(d.add(y),!1)}function f(y){d.delete(y)}return[h,f]}function createEnvelope(d,h=[]){return[d,h]}function addItemToEnvelope(d,h){const[f,y]=d;return[f,[...y,h]]}function forEachEnvelopeItem(d,h){const f=d[1];for(const y of f){const g=y[0].type;if(h(y,g))return!0}return!1}function encodeUTF8(d){const h=getSentryCarrier(GLOBAL_OBJ);return h.encodePolyfill?h.encodePolyfill(d):new TextEncoder().encode(d)}function serializeEnvelope(d){const[h,f]=d;let y=JSON.stringify(h);function g(b){typeof y=="string"?y=typeof b=="string"?y+b:[encodeUTF8(y),b]:y.push(typeof b=="string"?encodeUTF8(b):b)}for(const b of f){const[v,S]=b;if(g(`
${JSON.stringify(v)}
`),typeof S=="string"||S instanceof Uint8Array)g(S);else{let O;try{O=JSON.stringify(S)}catch(w){O=JSON.stringify(normalize(S))}g(O)}}return typeof y=="string"?y:concatBuffers(y)}function concatBuffers(d){const h=d.reduce((g,b)=>g+b.length,0),f=new Uint8Array(h);let y=0;for(const g of d)f.set(g,y),y+=g.length;return f}function createSpanEnvelopeItem(d){return[{type:"span"},d]}function createAttachmentEnvelopeItem(d){const h=typeof d.data=="string"?encodeUTF8(d.data):d.data;return[{type:"attachment",length:h.length,filename:d.filename,content_type:d.contentType,attachment_type:d.attachmentType},h]}const ITEM_TYPE_TO_DATA_CATEGORY_MAP={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function envelopeItemTypeToDataCategory(d){return ITEM_TYPE_TO_DATA_CATEGORY_MAP[d]}function getSdkMetadataForEnvelopeHeader(d){if(!(d!=null&&d.sdk))return;const{name:h,version:f}=d.sdk;return{name:h,version:f}}function createEventEnvelopeHeaders(d,h,f,y){var b;const g=(b=d.sdkProcessingMetadata)==null?void 0:b.dynamicSamplingContext;return X(X(X({event_id:d.event_id,sent_at:new Date().toISOString()},h&&{sdk:h}),!!f&&y&&{dsn:dsnToString(y)}),g&&{trace:g})}function enhanceEventWithSdkInfo(d,h){return h&&(d.sdk=d.sdk||{},d.sdk.name=d.sdk.name||h.name,d.sdk.version=d.sdk.version||h.version,d.sdk.integrations=[...d.sdk.integrations||[],...h.integrations||[]],d.sdk.packages=[...d.sdk.packages||[],...h.packages||[]]),d}function createSessionEnvelope(d,h,f,y){const g=getSdkMetadataForEnvelopeHeader(f),b=X(X({sent_at:new Date().toISOString()},g&&{sdk:g}),!!y&&h&&{dsn:dsnToString(h)}),v="aggregates"in d?[{type:"sessions"},d]:[{type:"session"},d.toJSON()];return createEnvelope(b,[v])}function createEventEnvelope(d,h,f,y){const g=getSdkMetadataForEnvelopeHeader(f),b=d.type&&d.type!=="replay_event"?d.type:"event";enhanceEventWithSdkInfo(d,f==null?void 0:f.sdk);const v=createEventEnvelopeHeaders(d,g,y,h);return delete d.sdkProcessingMetadata,createEnvelope(v,[[{type:b},d]])}function createSpanEnvelope(d,h){function f(T){return!!T.trace_id&&!!T.public_key}const y=getDynamicSamplingContextFromSpan(d[0]),g=h==null?void 0:h.getDsn(),b=h==null?void 0:h.getOptions().tunnel,v=X(X({sent_at:new Date().toISOString()},f(y)&&{trace:y}),!!b&&g&&{dsn:dsnToString(g)}),S=h==null?void 0:h.getOptions().beforeSendSpan,O=S?T=>{const E=spanToJSON(T),k=S(E);return k||(showSpanDropWarning(),E)}:spanToJSON,w=[];for(const T of d){const E=O(T);E&&w.push(createSpanEnvelopeItem(E))}return createEnvelope(v,w)}function logSpanStart(d){if(!DEBUG_BUILD$3)return;const{description:h="< unknown name >",op:f="< unknown op >",parent_span_id:y}=spanToJSON(d),{spanId:g}=d.spanContext(),b=spanIsSampled(d),v=getRootSpan(d),S=v===d,O=`[Tracing] Starting ${b?"sampled":"unsampled"} ${S?"root ":""}span`,w=[`op: ${f}`,`name: ${h}`,`ID: ${g}`];if(y&&w.push(`parent ID: ${y}`),!S){const{op:T,description:E}=spanToJSON(v);w.push(`root ID: ${v.spanContext().spanId}`),T&&w.push(`root op: ${T}`),E&&w.push(`root description: ${E}`)}debug$1.log(`${O}
  ${w.join(`
  `)}`)}function logSpanEnd(d){if(!DEBUG_BUILD$3)return;const{description:h="< unknown name >",op:f="< unknown op >"}=spanToJSON(d),{spanId:y}=d.spanContext(),b=getRootSpan(d)===d,v=`[Tracing] Finishing "${f}" ${b?"root ":""}span "${h}" with ID ${y}`;debug$1.log(v)}function setMeasurement(d,h,f,y=getActiveSpan()){const g=y&&getRootSpan(y);g&&(DEBUG_BUILD$3&&debug$1.log(`[Measurement] Setting measurement on root span: ${d} = ${h} ${f}`),g.addEvent(d,{[SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:h,[SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:f}))}function timedEventsToMeasurements(d){if(!d||d.length===0)return;const h={};return d.forEach(f=>{const y=f.attributes||{},g=y[SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT],b=y[SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE];typeof g=="string"&&typeof b=="number"&&(h[f.name]={value:b,unit:g})}),h}const MAX_SPAN_COUNT=1e3;class SentrySpan{constructor(h={}){this._traceId=h.traceId||generateTraceId(),this._spanId=h.spanId||generateSpanId(),this._startTime=h.startTimestamp||timestampInSeconds(),this._links=h.links,this._attributes={},this.setAttributes(X({[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"manual",[SEMANTIC_ATTRIBUTE_SENTRY_OP]:h.op},h.attributes)),this._name=h.name,h.parentSpanId&&(this._parentSpanId=h.parentSpanId),"sampled"in h&&(this._sampled=h.sampled),h.endTimestamp&&(this._endTime=h.endTimestamp),this._events=[],this._isStandaloneSpan=h.isStandalone,this._endTime&&this._onSpanEnded()}addLink(h){return this._links?this._links.push(h):this._links=[h],this}addLinks(h){return this._links?this._links.push(...h):this._links=h,this}recordException(h,f){}spanContext(){const{_spanId:h,_traceId:f,_sampled:y}=this;return{spanId:h,traceId:f,traceFlags:y?TRACE_FLAG_SAMPLED:TRACE_FLAG_NONE}}setAttribute(h,f){return f===void 0?delete this._attributes[h]:this._attributes[h]=f,this}setAttributes(h){return Object.keys(h).forEach(f=>this.setAttribute(f,h[f])),this}updateStartTime(h){this._startTime=spanTimeInputToSeconds(h)}setStatus(h){return this._status=h,this}updateName(h){return this._name=h,this.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,"custom"),this}end(h){this._endTime||(this._endTime=spanTimeInputToSeconds(h),logSpanEnd(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[SEMANTIC_ATTRIBUTE_SENTRY_OP],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:getStatusMessage(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],profile_id:this._attributes[SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:this._attributes[SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:timedEventsToMeasurements(this._events),is_segment:this._isStandaloneSpan&&getRootSpan(this)===this||void 0,segment_id:this._isStandaloneSpan?getRootSpan(this).spanContext().spanId:void 0,links:convertSpanLinksForEnvelope(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(h,f,y){DEBUG_BUILD$3&&debug$1.log("[Tracing] Adding an event to span:",h);const g=isSpanTimeInput(f)?f:y||timestampInSeconds(),b=isSpanTimeInput(f)?{}:f||{},v={name:h,time:spanTimeInputToSeconds(g),attributes:b};return this._events.push(v),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const h=getClient();if(h&&h.emit("spanEnd",this),!(this._isStandaloneSpan||this===getRootSpan(this)))return;if(this._isStandaloneSpan){this._sampled?sendSpanEnvelope(createSpanEnvelope([this],h)):(DEBUG_BUILD$3&&debug$1.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),h&&h.recordDroppedEvent("sample_rate","span"));return}const y=this._convertSpanToTransaction();y&&(getCapturedScopesOnSpan(this).scope||getCurrentScope()).captureEvent(y)}_convertSpanToTransaction(){var T;if(!isFullFinishedSpan(spanToJSON(this)))return;this._name||(DEBUG_BUILD$3&&debug$1.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:h,isolationScope:f}=getCapturedScopesOnSpan(this),y=(T=h==null?void 0:h.getScopeData().sdkProcessingMetadata)==null?void 0:T.normalizedRequest;if(this._sampled!==!0)return;const b=getSpanDescendants(this).filter(E=>E!==this&&!isStandaloneSpan(E)).map(E=>spanToJSON(E)).filter(isFullFinishedSpan),v=this._attributes[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];delete this._attributes[SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME],b.forEach(E=>{delete E.data[SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME]});const S=X({contexts:{trace:spanToTransactionTraceContext(this)},spans:b.length>MAX_SPAN_COUNT?b.sort((E,k)=>E.start_timestamp-k.start_timestamp).slice(0,MAX_SPAN_COUNT):b,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:h,capturedSpanIsolationScope:f,dynamicSamplingContext:getDynamicSamplingContextFromSpan(this)},request:y},v&&{transaction_info:{source:v}}),O=timedEventsToMeasurements(this._events);return O&&Object.keys(O).length&&(DEBUG_BUILD$3&&debug$1.log("[Measurements] Adding measurements to transaction event",JSON.stringify(O,void 0,2)),S.measurements=O),S}}function isSpanTimeInput(d){return d&&typeof d=="number"||d instanceof Date||Array.isArray(d)}function isFullFinishedSpan(d){return!!d.start_timestamp&&!!d.timestamp&&!!d.span_id&&!!d.trace_id}function isStandaloneSpan(d){return d instanceof SentrySpan&&d.isStandaloneSpan()}function sendSpanEnvelope(d){const h=getClient();if(!h)return;const f=d[1];if(!f||f.length===0){h.recordDroppedEvent("before_send","span");return}h.sendEnvelope(d)}function handleCallbackErrors(d,h,f=()=>{}){let y;try{y=d()}catch(g){throw h(g),f(),g}return maybeHandlePromiseRejection(y,h,f)}function maybeHandlePromiseRejection(d,h,f){return isThenable(d)?d.then(y=>(f(),y),y=>{throw h(y),f(),y}):(f(),d)}function sampleSpan(d,h,f){if(!hasSpansEnabled(d))return[!1];let y,g;typeof d.tracesSampler=="function"?(g=d.tracesSampler(Re(X({},h),{inheritOrSampleWith:S=>typeof h.parentSampleRate=="number"?h.parentSampleRate:typeof h.parentSampled=="boolean"?Number(h.parentSampled):S})),y=!0):h.parentSampled!==void 0?g=h.parentSampled:typeof d.tracesSampleRate!="undefined"&&(g=d.tracesSampleRate,y=!0);const b=parseSampleRate(g);if(b===void 0)return DEBUG_BUILD$3&&debug$1.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(g)} of type ${JSON.stringify(typeof g)}.`),[!1];if(!b)return DEBUG_BUILD$3&&debug$1.log(`[Tracing] Discarding transaction because ${typeof d.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,b,y];const v=f<b;return v||DEBUG_BUILD$3&&debug$1.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(g)})`),[v,b,y]}const SUPPRESS_TRACING_KEY="__SENTRY_SUPPRESS_TRACING__";function startSpan(d,h){const f=getAcs();if(f.startSpan)return f.startSpan(d,h);const y=parseSentrySpanArguments(d),{forceTransaction:g,parentSpan:b,scope:v}=d,S=v==null?void 0:v.clone();return withScope(S,()=>getActiveSpanWrapper(b)(()=>{const w=getCurrentScope(),T=getParentSpan(w,b),k=d.onlyIfParent&&!T?new SentryNonRecordingSpan:createChildOrRootSpan({parentSpan:T,spanArguments:y,forceTransaction:g,scope:w});return _setSpanForScope(w,k),handleCallbackErrors(()=>h(k),()=>{const{status:C}=spanToJSON(k);k.isRecording()&&(!C||C==="ok")&&k.setStatus({code:SPAN_STATUS_ERROR,message:"internal_error"})},()=>{k.end()})}))}function startInactiveSpan(d){const h=getAcs();if(h.startInactiveSpan)return h.startInactiveSpan(d);const f=parseSentrySpanArguments(d),{forceTransaction:y,parentSpan:g}=d;return(d.scope?v=>withScope(d.scope,v):g!==void 0?v=>withActiveSpan(g,v):v=>v())(()=>{const v=getCurrentScope(),S=getParentSpan(v,g);return d.onlyIfParent&&!S?new SentryNonRecordingSpan:createChildOrRootSpan({parentSpan:S,spanArguments:f,forceTransaction:y,scope:v})})}function withActiveSpan(d,h){const f=getAcs();return f.withActiveSpan?f.withActiveSpan(d,h):withScope(y=>(_setSpanForScope(y,d||void 0),h(y)))}function createChildOrRootSpan({parentSpan:d,spanArguments:h,forceTransaction:f,scope:y}){if(!hasSpansEnabled()){const v=new SentryNonRecordingSpan;if(f||!d){const S=X({sampled:"false",sample_rate:"0",transaction:h.name},getDynamicSamplingContextFromSpan(v));freezeDscOnSpan(v,S)}return v}const g=getIsolationScope();let b;if(d&&!f)b=_startChildSpan(d,y,h),addChildSpanToSpan(d,b);else if(d){const v=getDynamicSamplingContextFromSpan(d),{traceId:S,spanId:O}=d.spanContext(),w=spanIsSampled(d);b=_startRootSpan(X({traceId:S,parentSpanId:O},h),y,w),freezeDscOnSpan(b,v)}else{const{traceId:v,dsc:S,parentSpanId:O,sampled:w}=X(X({},g.getPropagationContext()),y.getPropagationContext());b=_startRootSpan(X({traceId:v,parentSpanId:O},h),y,w),S&&freezeDscOnSpan(b,S)}return logSpanStart(b),setCapturedScopesOnSpan(b,y,g),b}function parseSentrySpanArguments(d){const h=d.experimental||{},f=X({isStandalone:h.standalone},d);if(d.startTime){const y=X({},f);return y.startTimestamp=spanTimeInputToSeconds(d.startTime),delete y.startTime,y}return f}function getAcs(){const d=getMainCarrier();return getAsyncContextStrategy(d)}function _startRootSpan(d,h,f){var P,M;const y=getClient(),g=(y==null?void 0:y.getOptions())||{},{name:b=""}=d,v={spanAttributes:X({},d.attributes),spanName:b,parentSampled:f};y==null||y.emit("beforeSampling",v,{decision:!1});const S=(P=v.parentSampled)!=null?P:f,O=v.spanAttributes,w=h.getPropagationContext(),[T,E,k]=h.getScopeData().sdkProcessingMetadata[SUPPRESS_TRACING_KEY]?[!1]:sampleSpan(g,{name:b,parentSampled:S,attributes:O,parentSampleRate:parseSampleRate((M=w.dsc)==null?void 0:M.sample_rate)},w.sampleRand),C=new SentrySpan(Re(X({},d),{attributes:X({[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"custom",[SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]:E!==void 0&&k?E:void 0},O),sampled:T}));return!T&&y&&(DEBUG_BUILD$3&&debug$1.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),y.recordDroppedEvent("sample_rate","transaction")),y&&y.emit("spanStart",C),C}function _startChildSpan(d,h,f){const{spanId:y,traceId:g}=d.spanContext(),b=h.getScopeData().sdkProcessingMetadata[SUPPRESS_TRACING_KEY]?!1:spanIsSampled(d),v=b?new SentrySpan(Re(X({},f),{parentSpanId:y,traceId:g,sampled:b})):new SentryNonRecordingSpan({traceId:g});addChildSpanToSpan(d,v);const S=getClient();return S&&(S.emit("spanStart",v),f.endTimestamp&&S.emit("spanEnd",v)),v}function getParentSpan(d,h){if(h)return h;if(h===null)return;const f=_getSpanForScope(d);if(!f)return;const y=getClient();return(y?y.getOptions():{}).parentSpanIsAlwaysRootSpan?getRootSpan(f):f}function getActiveSpanWrapper(d){return d!==void 0?h=>withActiveSpan(d,h):h=>h()}const TRACING_DEFAULTS={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},FINISH_REASON_HEARTBEAT_FAILED="heartbeatFailed",FINISH_REASON_IDLE_TIMEOUT="idleTimeout",FINISH_REASON_FINAL_TIMEOUT="finalTimeout",FINISH_REASON_EXTERNAL_FINISH="externalFinish";function startIdleSpan(d,h={}){const f=new Map;let y=!1,g,b=FINISH_REASON_EXTERNAL_FINISH,v=!h.disableAutoFinish;const S=[],{idleTimeout:O=TRACING_DEFAULTS.idleTimeout,finalTimeout:w=TRACING_DEFAULTS.finalTimeout,childSpanTimeout:T=TRACING_DEFAULTS.childSpanTimeout,beforeSpanEnd:E}=h,k=getClient();if(!k||!hasSpansEnabled()){const L=new SentryNonRecordingSpan,U=X({sample_rate:"0",sampled:"false"},getDynamicSamplingContextFromSpan(L));return freezeDscOnSpan(L,U),L}const C=getCurrentScope(),P=getActiveSpan(),M=_startIdleSpan(d);M.end=new Proxy(M.end,{apply(L,U,z){if(E&&E(M),U instanceof SentryNonRecordingSpan)return;const[V,...Y]=z,W=V||timestampInSeconds(),K=spanTimeInputToSeconds(W),re=getSpanDescendants(M).filter(ue=>ue!==M);if(!re.length)return F(K),Reflect.apply(L,U,[K,...Y]);const fe=re.map(ue=>spanToJSON(ue).timestamp).filter(ue=>!!ue),se=fe.length?Math.max(...fe):void 0,J=spanToJSON(M).start_timestamp,ie=Math.min(J?J+w/1e3:1/0,Math.max(J||-1/0,Math.min(K,se||1/0)));return F(ie),Reflect.apply(L,U,[ie,...Y])}});function A(){g&&(clearTimeout(g),g=void 0)}function D(L){A(),g=setTimeout(()=>{!y&&f.size===0&&v&&(b=FINISH_REASON_IDLE_TIMEOUT,M.end(L))},O)}function N(L){g=setTimeout(()=>{!y&&v&&(b=FINISH_REASON_HEARTBEAT_FAILED,M.end(L))},T)}function j(L){A(),f.set(L,!0);const U=timestampInSeconds();N(U+T/1e3)}function q(L){if(f.has(L)&&f.delete(L),f.size===0){const U=timestampInSeconds();D(U+O/1e3)}}function F(L){y=!0,f.clear(),S.forEach(K=>K()),_setSpanForScope(C,P);const U=spanToJSON(M),{start_timestamp:z}=U;if(!z)return;U.data[SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON]||M.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,b),debug$1.log(`[Tracing] Idle span "${U.op}" finished`);const Y=getSpanDescendants(M).filter(K=>K!==M);let W=0;Y.forEach(K=>{K.isRecording()&&(K.setStatus({code:SPAN_STATUS_ERROR,message:"cancelled"}),K.end(L),DEBUG_BUILD$3&&debug$1.log("[Tracing] Cancelling span since span ended early",JSON.stringify(K,void 0,2)));const re=spanToJSON(K),{timestamp:fe=0,start_timestamp:se=0}=re,J=se<=L,ie=(w+O)/1e3,ue=fe-se<=ie;if(DEBUG_BUILD$3){const ke=JSON.stringify(K,void 0,2);J?ue||debug$1.log("[Tracing] Discarding span since it finished after idle span final timeout",ke):debug$1.log("[Tracing] Discarding span since it happened after idle span was finished",ke)}(!ue||!J)&&(removeChildSpanFromSpan(M,K),W++)}),W>0&&M.setAttribute("sentry.idle_span_discarded_spans",W)}return S.push(k.on("spanStart",L=>{if(y||L===M||spanToJSON(L).timestamp||L instanceof SentrySpan&&L.isStandaloneSpan())return;getSpanDescendants(M).includes(L)&&j(L.spanContext().spanId)})),S.push(k.on("spanEnd",L=>{y||q(L.spanContext().spanId)})),S.push(k.on("idleSpanEnableAutoFinish",L=>{L===M&&(v=!0,D(),f.size&&N())})),h.disableAutoFinish||D(),setTimeout(()=>{y||(M.setStatus({code:SPAN_STATUS_ERROR,message:"deadline_exceeded"}),b=FINISH_REASON_FINAL_TIMEOUT,M.end())},w),M}function _startIdleSpan(d){const h=startInactiveSpan(d);return _setSpanForScope(getCurrentScope(),h),DEBUG_BUILD$3&&debug$1.log("[Tracing] Started span is an idle span"),h}const STATE_PENDING=0,STATE_RESOLVED=1,STATE_REJECTED=2;function resolvedSyncPromise(d){return new SyncPromise(h=>{h(d)})}function rejectedSyncPromise(d){return new SyncPromise((h,f)=>{f(d)})}class SyncPromise{constructor(h){this._state=STATE_PENDING,this._handlers=[],this._runExecutor(h)}then(h,f){return new SyncPromise((y,g)=>{this._handlers.push([!1,b=>{if(!h)y(b);else try{y(h(b))}catch(v){g(v)}},b=>{if(!f)g(b);else try{y(f(b))}catch(v){g(v)}}]),this._executeHandlers()})}catch(h){return this.then(f=>f,h)}finally(h){return new SyncPromise((f,y)=>{let g,b;return this.then(v=>{b=!1,g=v,h&&h()},v=>{b=!0,g=v,h&&h()}).then(()=>{if(b){y(g);return}f(g)})})}_executeHandlers(){if(this._state===STATE_PENDING)return;const h=this._handlers.slice();this._handlers=[],h.forEach(f=>{f[0]||(this._state===STATE_RESOLVED&&f[1](this._value),this._state===STATE_REJECTED&&f[2](this._value),f[0]=!0)})}_runExecutor(h){const f=(b,v)=>{if(this._state===STATE_PENDING){if(isThenable(v)){v.then(y,g);return}this._state=b,this._value=v,this._executeHandlers()}},y=b=>{f(STATE_RESOLVED,b)},g=b=>{f(STATE_REJECTED,b)};try{h(y,g)}catch(b){g(b)}}}function notifyEventProcessors(d,h,f,y=0){return new SyncPromise((g,b)=>{const v=d[y];if(h===null||typeof v!="function")g(h);else{const S=v(X({},h),f);DEBUG_BUILD$3&&v.id&&S===null&&debug$1.log(`Event processor "${v.id}" dropped event`),isThenable(S)?S.then(O=>notifyEventProcessors(d,O,f,y+1).then(g)).then(null,b):notifyEventProcessors(d,S,f,y+1).then(g).then(null,b)}})}function applyScopeDataToEvent(d,h){const{fingerprint:f,span:y,breadcrumbs:g,sdkProcessingMetadata:b}=h;applyDataToEvent(d,h),y&&applySpanToEvent(d,y),applyFingerprintToEvent(d,f),applyBreadcrumbsToEvent(d,g),applySdkMetadataToEvent(d,b)}function mergeScopeData(d,h){const{extra:f,tags:y,user:g,contexts:b,level:v,sdkProcessingMetadata:S,breadcrumbs:O,fingerprint:w,eventProcessors:T,attachments:E,propagationContext:k,transactionName:C,span:P}=h;mergeAndOverwriteScopeData(d,"extra",f),mergeAndOverwriteScopeData(d,"tags",y),mergeAndOverwriteScopeData(d,"user",g),mergeAndOverwriteScopeData(d,"contexts",b),d.sdkProcessingMetadata=merge$2(d.sdkProcessingMetadata,S,2),v&&(d.level=v),C&&(d.transactionName=C),P&&(d.span=P),O.length&&(d.breadcrumbs=[...d.breadcrumbs,...O]),w.length&&(d.fingerprint=[...d.fingerprint,...w]),T.length&&(d.eventProcessors=[...d.eventProcessors,...T]),E.length&&(d.attachments=[...d.attachments,...E]),d.propagationContext=X(X({},d.propagationContext),k)}function mergeAndOverwriteScopeData(d,h,f){d[h]=merge$2(d[h],f,1)}function applyDataToEvent(d,h){const{extra:f,tags:y,user:g,contexts:b,level:v,transactionName:S}=h;Object.keys(f).length&&(d.extra=X(X({},f),d.extra)),Object.keys(y).length&&(d.tags=X(X({},y),d.tags)),Object.keys(g).length&&(d.user=X(X({},g),d.user)),Object.keys(b).length&&(d.contexts=X(X({},b),d.contexts)),v&&(d.level=v),S&&d.type!=="transaction"&&(d.transaction=S)}function applyBreadcrumbsToEvent(d,h){const f=[...d.breadcrumbs||[],...h];d.breadcrumbs=f.length?f:void 0}function applySdkMetadataToEvent(d,h){d.sdkProcessingMetadata=X(X({},d.sdkProcessingMetadata),h)}function applySpanToEvent(d,h){d.contexts=X({trace:spanToTraceContext(h)},d.contexts),d.sdkProcessingMetadata=X({dynamicSamplingContext:getDynamicSamplingContextFromSpan(h)},d.sdkProcessingMetadata);const f=getRootSpan(h),y=spanToJSON(f).description;y&&!d.transaction&&d.type==="transaction"&&(d.transaction=y)}function applyFingerprintToEvent(d,h){d.fingerprint=d.fingerprint?Array.isArray(d.fingerprint)?d.fingerprint:[d.fingerprint]:[],h&&(d.fingerprint=d.fingerprint.concat(h)),d.fingerprint.length||delete d.fingerprint}let parsedStackResults,lastKeysCount,cachedFilenameDebugIds;function getFilenameToDebugIdMap(d){const h=GLOBAL_OBJ._sentryDebugIds;if(!h)return{};const f=Object.keys(h);return cachedFilenameDebugIds&&f.length===lastKeysCount||(lastKeysCount=f.length,cachedFilenameDebugIds=f.reduce((y,g)=>{parsedStackResults||(parsedStackResults={});const b=parsedStackResults[g];if(b)y[b[0]]=b[1];else{const v=d(g);for(let S=v.length-1;S>=0;S--){const O=v[S],w=O==null?void 0:O.filename,T=h[g];if(w&&T){y[w]=T,parsedStackResults[g]=[w,T];break}}}return y},{})),cachedFilenameDebugIds}function prepareEvent(d,h,f,y,g,b){const{normalizeDepth:v=3,normalizeMaxBreadth:S=1e3}=d,O=Re(X({},h),{event_id:h.event_id||f.event_id||uuid4(),timestamp:h.timestamp||dateTimestampInSeconds()}),w=f.integrations||d.integrations.map(A=>A.name);applyClientOptions(O,d),applyIntegrationsMetadata(O,w),g&&g.emit("applyFrameMetadata",h),h.type===void 0&&applyDebugIds(O,d.stackParser);const T=getFinalScope(y,f.captureContext);f.mechanism&&addExceptionMechanism(O,f.mechanism);const E=g?g.getEventProcessors():[],k=getGlobalScope().getScopeData();if(b){const A=b.getScopeData();mergeScopeData(k,A)}if(T){const A=T.getScopeData();mergeScopeData(k,A)}const C=[...f.attachments||[],...k.attachments];C.length&&(f.attachments=C),applyScopeDataToEvent(O,k);const P=[...E,...k.eventProcessors];return notifyEventProcessors(P,O,f).then(A=>(A&&applyDebugMeta(A),typeof v=="number"&&v>0?normalizeEvent(A,v,S):A))}function applyClientOptions(d,h){const{environment:f,release:y,dist:g,maxValueLength:b=250}=h;d.environment=d.environment||f||DEFAULT_ENVIRONMENT,!d.release&&y&&(d.release=y),!d.dist&&g&&(d.dist=g);const v=d.request;v!=null&&v.url&&(v.url=truncate(v.url,b))}function applyDebugIds(d,h){var y,g;const f=getFilenameToDebugIdMap(h);(g=(y=d.exception)==null?void 0:y.values)==null||g.forEach(b=>{var v,S;(S=(v=b.stacktrace)==null?void 0:v.frames)==null||S.forEach(O=>{O.filename&&(O.debug_id=f[O.filename])})})}function applyDebugMeta(d){var y,g;const h={};if((g=(y=d.exception)==null?void 0:y.values)==null||g.forEach(b=>{var v,S;(S=(v=b.stacktrace)==null?void 0:v.frames)==null||S.forEach(O=>{O.debug_id&&(O.abs_path?h[O.abs_path]=O.debug_id:O.filename&&(h[O.filename]=O.debug_id),delete O.debug_id)})}),Object.keys(h).length===0)return;d.debug_meta=d.debug_meta||{},d.debug_meta.images=d.debug_meta.images||[];const f=d.debug_meta.images;Object.entries(h).forEach(([b,v])=>{f.push({type:"sourcemap",code_file:b,debug_id:v})})}function applyIntegrationsMetadata(d,h){h.length>0&&(d.sdk=d.sdk||{},d.sdk.integrations=[...d.sdk.integrations||[],...h])}function normalizeEvent(d,h,f){var g,b;if(!d)return null;const y=X(X(X(X(X({},d),d.breadcrumbs&&{breadcrumbs:d.breadcrumbs.map(v=>X(X({},v),v.data&&{data:normalize(v.data,h,f)}))}),d.user&&{user:normalize(d.user,h,f)}),d.contexts&&{contexts:normalize(d.contexts,h,f)}),d.extra&&{extra:normalize(d.extra,h,f)});return(g=d.contexts)!=null&&g.trace&&y.contexts&&(y.contexts.trace=d.contexts.trace,d.contexts.trace.data&&(y.contexts.trace.data=normalize(d.contexts.trace.data,h,f))),d.spans&&(y.spans=d.spans.map(v=>X(X({},v),v.data&&{data:normalize(v.data,h,f)}))),(b=d.contexts)!=null&&b.flags&&y.contexts&&(y.contexts.flags=normalize(d.contexts.flags,3,f)),y}function getFinalScope(d,h){if(!h)return d;const f=d?d.clone():new Scope;return f.update(h),f}function parseEventHintOrCaptureContext(d){if(d)return hintIsScopeOrFunction(d)?{captureContext:d}:hintIsScopeContext(d)?{captureContext:d}:d}function hintIsScopeOrFunction(d){return d instanceof Scope||typeof d=="function"}const captureContextKeys=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function hintIsScopeContext(d){return Object.keys(d).some(h=>captureContextKeys.includes(h))}function captureException(d,h){return getCurrentScope().captureException(d,parseEventHintOrCaptureContext(h))}function captureMessage(d,h){const y={captureContext:h};return getCurrentScope().captureMessage(d,void 0,y)}function captureEvent(d,h){return getCurrentScope().captureEvent(d,h)}function setContext(d,h){getIsolationScope().setContext(d,h)}function isEnabled(){const d=getClient();return(d==null?void 0:d.getOptions().enabled)!==!1&&!!(d!=null&&d.getTransport())}function addEventProcessor(d){getIsolationScope().addEventProcessor(d)}function startSession(d){const h=getIsolationScope(),f=getCurrentScope(),{userAgent:y}=GLOBAL_OBJ.navigator||{},g=makeSession$1(X(X({user:f.getUser()||h.getUser()},y&&{userAgent:y}),d)),b=h.getSession();return(b==null?void 0:b.status)==="ok"&&updateSession(b,{status:"exited"}),endSession(),h.setSession(g),g}function endSession(){const d=getIsolationScope(),f=getCurrentScope().getSession()||d.getSession();f&&closeSession(f),_sendSessionUpdate(),d.setSession()}function _sendSessionUpdate(){const d=getIsolationScope(),h=getClient(),f=d.getSession();f&&h&&h.captureSession(f)}function captureSession(d=!1){if(d){endSession();return}_sendSessionUpdate()}const SENTRY_API_VERSION="7";function getBaseApiEndpoint(d){const h=d.protocol?`${d.protocol}:`:"",f=d.port?`:${d.port}`:"";return`${h}//${d.host}${f}${d.path?`/${d.path}`:""}/api/`}function _getIngestEndpoint(d){return`${getBaseApiEndpoint(d)}${d.projectId}/envelope/`}function _encodedAuth(d,h){const f={sentry_version:SENTRY_API_VERSION};return d.publicKey&&(f.sentry_key=d.publicKey),h&&(f.sentry_client=`${h.name}/${h.version}`),new URLSearchParams(f).toString()}function getEnvelopeEndpointWithUrlEncodedAuth(d,h,f){return h||`${_getIngestEndpoint(d)}?${_encodedAuth(d,f)}`}const installedIntegrations=[];function filterDuplicates(d){const h={};return d.forEach(f=>{const{name:y}=f,g=h[y];g&&!g.isDefaultInstance&&f.isDefaultInstance||(h[y]=f)}),Object.values(h)}function getIntegrationsToSetup(d){const h=d.defaultIntegrations||[],f=d.integrations;h.forEach(g=>{g.isDefaultInstance=!0});let y;if(Array.isArray(f))y=[...h,...f];else if(typeof f=="function"){const g=f(h);y=Array.isArray(g)?g:[g]}else y=h;return filterDuplicates(y)}function setupIntegrations(d,h){const f={};return h.forEach(y=>{y&&setupIntegration(d,y,f)}),f}function afterSetupIntegrations(d,h){for(const f of h)f!=null&&f.afterAllSetup&&f.afterAllSetup(d)}function setupIntegration(d,h,f){if(f[h.name]){DEBUG_BUILD$3&&debug$1.log(`Integration skipped because it was already installed: ${h.name}`);return}if(f[h.name]=h,installedIntegrations.indexOf(h.name)===-1&&typeof h.setupOnce=="function"&&(h.setupOnce(),installedIntegrations.push(h.name)),h.setup&&typeof h.setup=="function"&&h.setup(d),typeof h.preprocessEvent=="function"){const y=h.preprocessEvent.bind(h);d.on("preprocessEvent",(g,b)=>y(g,b,d))}if(typeof h.processEvent=="function"){const y=h.processEvent.bind(h),g=Object.assign((b,v)=>y(b,v,d),{id:h.name});d.addEventProcessor(g)}DEBUG_BUILD$3&&debug$1.log(`Integration installed: ${h.name}`)}function defineIntegration(d){return d}function createClientReportEnvelope(d,h,f){const y=[{type:"client_report"},{timestamp:dateTimestampInSeconds(),discarded_events:d}];return createEnvelope(h?{dsn:h}:{},[y])}function getPossibleEventMessages(d){const h=[];d.message&&h.push(d.message);try{const f=d.exception.values[d.exception.values.length-1];f!=null&&f.value&&(h.push(f.value),f.type&&h.push(`${f.type}: ${f.value}`))}catch(f){}return h}function convertTransactionEventToSpanJson(d){var O,w,T;const{trace_id:h,parent_span_id:f,span_id:y,status:g,origin:b,data:v,op:S}=(w=(O=d.contexts)==null?void 0:O.trace)!=null?w:{};return{data:v!=null?v:{},description:d.transaction,op:S,parent_span_id:f,span_id:y!=null?y:"",start_timestamp:(T=d.start_timestamp)!=null?T:0,status:g,timestamp:d.timestamp,trace_id:h!=null?h:"",origin:b,profile_id:v==null?void 0:v[SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:v==null?void 0:v[SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:d.measurements,is_segment:!0}}function convertSpanJsonToTransactionEvent(d){return{type:"transaction",timestamp:d.timestamp,start_timestamp:d.start_timestamp,transaction:d.description,contexts:{trace:{trace_id:d.trace_id,span_id:d.span_id,parent_span_id:d.parent_span_id,op:d.op,status:d.status,origin:d.origin,data:X(X(X({},d.data),d.profile_id&&{[SEMANTIC_ATTRIBUTE_PROFILE_ID]:d.profile_id}),d.exclusive_time&&{[SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:d.exclusive_time})}},measurements:d.measurements}}const ALREADY_SEEN_ERROR="Not capturing exception because it's already been captured.",MISSING_RELEASE_FOR_SESSION_ERROR="Discarded session because of missing or non-string release",INTERNAL_ERROR_SYMBOL=Symbol.for("SentryInternalError"),DO_NOT_SEND_EVENT_SYMBOL=Symbol.for("SentryDoNotSendEventError");function _makeInternalError(d){return{message:d,[INTERNAL_ERROR_SYMBOL]:!0}}function _makeDoNotSendEventError(d){return{message:d,[DO_NOT_SEND_EVENT_SYMBOL]:!0}}function _isInternalError(d){return!!d&&typeof d=="object"&&INTERNAL_ERROR_SYMBOL in d}function _isDoNotSendEventError(d){return!!d&&typeof d=="object"&&DO_NOT_SEND_EVENT_SYMBOL in d}class Client{constructor(h){if(this._options=h,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],h.dsn?this._dsn=makeDsn(h.dsn):DEBUG_BUILD$3&&debug$1.warn("No DSN provided, client will not send events."),this._dsn){const f=getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,h.tunnel,h._metadata?h._metadata.sdk:void 0);this._transport=h.transport(Re(X({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},h.transportOptions),{url:f}))}}captureException(h,f,y){const g=uuid4();if(checkOrSetAlreadyCaught(h))return DEBUG_BUILD$3&&debug$1.log(ALREADY_SEEN_ERROR),g;const b=X({event_id:g},f);return this._process(this.eventFromException(h,b).then(v=>this._captureEvent(v,b,y))),b.event_id}captureMessage(h,f,y,g){const b=X({event_id:uuid4()},y),v=isParameterizedString(h)?h:String(h),S=isPrimitive(h)?this.eventFromMessage(v,f,b):this.eventFromException(h,b);return this._process(S.then(O=>this._captureEvent(O,b,g))),b.event_id}captureEvent(h,f,y){const g=uuid4();if(f!=null&&f.originalException&&checkOrSetAlreadyCaught(f.originalException))return DEBUG_BUILD$3&&debug$1.log(ALREADY_SEEN_ERROR),g;const b=X({event_id:g},f),v=h.sdkProcessingMetadata||{},S=v.capturedSpanScope,O=v.capturedSpanIsolationScope;return this._process(this._captureEvent(h,b,S||y,O)),b.event_id}captureSession(h){this.sendSession(h),updateSession(h,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(h){const f=this._transport;return f?(this.emit("flush"),this._isClientDoneProcessing(h).then(y=>f.flush(h).then(g=>y&&g))):resolvedSyncPromise(!0)}close(h){return this.flush(h).then(f=>(this.getOptions().enabled=!1,this.emit("close"),f))}getEventProcessors(){return this._eventProcessors}addEventProcessor(h){this._eventProcessors.push(h)}init(){(this._isEnabled()||this._options.integrations.some(({name:h})=>h.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(h){return this._integrations[h]}addIntegration(h){const f=this._integrations[h.name];setupIntegration(this,h,this._integrations),f||afterSetupIntegrations(this,[h])}sendEvent(h,f={}){this.emit("beforeSendEvent",h,f);let y=createEventEnvelope(h,this._dsn,this._options._metadata,this._options.tunnel);for(const b of f.attachments||[])y=addItemToEnvelope(y,createAttachmentEnvelopeItem(b));const g=this.sendEnvelope(y);g&&g.then(b=>this.emit("afterSendEvent",h,b),null)}sendSession(h){const{release:f,environment:y=DEFAULT_ENVIRONMENT}=this._options;if("aggregates"in h){const b=h.attrs||{};if(!b.release&&!f){DEBUG_BUILD$3&&debug$1.warn(MISSING_RELEASE_FOR_SESSION_ERROR);return}b.release=b.release||f,b.environment=b.environment||y,h.attrs=b}else{if(!h.release&&!f){DEBUG_BUILD$3&&debug$1.warn(MISSING_RELEASE_FOR_SESSION_ERROR);return}h.release=h.release||f,h.environment=h.environment||y}this.emit("beforeSendSession",h);const g=createSessionEnvelope(h,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(g)}recordDroppedEvent(h,f,y=1){if(this._options.sendClientReports){const g=`${h}:${f}`;DEBUG_BUILD$3&&debug$1.log(`Recording outcome: "${g}"${y>1?` (${y} times)`:""}`),this._outcomes[g]=(this._outcomes[g]||0)+y}}on(h,f){const y=this._hooks[h]=this._hooks[h]||[];return y.push(f),()=>{const g=y.indexOf(f);g>-1&&y.splice(g,1)}}emit(h,...f){const y=this._hooks[h];y&&y.forEach(g=>g(...f))}sendEnvelope(h){return this.emit("beforeEnvelope",h),this._isEnabled()&&this._transport?this._transport.send(h).then(null,f=>(DEBUG_BUILD$3&&debug$1.error("Error while sending envelope:",f),f)):(DEBUG_BUILD$3&&debug$1.error("Transport disabled"),resolvedSyncPromise({}))}_setupIntegrations(){const{integrations:h}=this._options;this._integrations=setupIntegrations(this,h),afterSetupIntegrations(this,h)}_updateSessionFromEvent(h,f){var O;let y=f.level==="fatal",g=!1;const b=(O=f.exception)==null?void 0:O.values;if(b){g=!0;for(const w of b){const T=w.mechanism;if((T==null?void 0:T.handled)===!1){y=!0;break}}}const v=h.status==="ok";(v&&h.errors===0||v&&y)&&(updateSession(h,Re(X({},y&&{status:"crashed"}),{errors:h.errors||Number(g||y)})),this.captureSession(h))}_isClientDoneProcessing(h){return new SyncPromise(f=>{let y=0;const g=1,b=setInterval(()=>{this._numProcessing==0?(clearInterval(b),f(!0)):(y+=g,h&&y>=h&&(clearInterval(b),f(!1)))},g)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(h,f,y,g){const b=this.getOptions(),v=Object.keys(this._integrations);return!f.integrations&&(v!=null&&v.length)&&(f.integrations=v),this.emit("preprocessEvent",h,f),h.type||g.setLastEventId(h.event_id||f.event_id),prepareEvent(b,h,f,y,this,g).then(S=>{if(S===null)return S;this.emit("postprocessEvent",S,f),S.contexts=X({trace:getTraceContextFromScope(y)},S.contexts);const O=getDynamicSamplingContextFromScope(this,y);return S.sdkProcessingMetadata=X({dynamicSamplingContext:O},S.sdkProcessingMetadata),S})}_captureEvent(h,f={},y=getCurrentScope(),g=getIsolationScope()){return DEBUG_BUILD$3&&isErrorEvent$1(h)&&debug$1.log(`Captured error event \`${getPossibleEventMessages(h)[0]||"<unknown>"}\``),this._processEvent(h,f,y,g).then(b=>b.event_id,b=>{DEBUG_BUILD$3&&(_isDoNotSendEventError(b)?debug$1.log(b.message):_isInternalError(b)?debug$1.warn(b.message):debug$1.warn(b))})}_processEvent(h,f,y,g){const b=this.getOptions(),{sampleRate:v}=b,S=isTransactionEvent$1(h),O=isErrorEvent$1(h),w=h.type||"error",T=`before send for type \`${w}\``,E=typeof v=="undefined"?void 0:parseSampleRate(v);if(O&&typeof E=="number"&&Math.random()>E)return this.recordDroppedEvent("sample_rate","error"),rejectedSyncPromise(_makeDoNotSendEventError(`Discarding event because it's not included in the random sample (sampling rate = ${v})`));const k=w==="replay_event"?"replay":w;return this._prepareEvent(h,f,y,g).then(C=>{if(C===null)throw this.recordDroppedEvent("event_processor",k),_makeDoNotSendEventError("An event processor returned `null`, will not send event.");if(f.data&&f.data.__sentry__===!0)return C;const M=processBeforeSend(this,b,C,f);return _validateBeforeSendResult(M,T)}).then(C=>{var A;if(C===null){if(this.recordDroppedEvent("before_send",k),S){const N=1+(h.spans||[]).length;this.recordDroppedEvent("before_send","span",N)}throw _makeDoNotSendEventError(`${T} returned \`null\`, will not send event.`)}const P=y.getSession()||g.getSession();if(O&&P&&this._updateSessionFromEvent(P,C),S){const D=((A=C.sdkProcessingMetadata)==null?void 0:A.spanCountBeforeProcessing)||0,N=C.spans?C.spans.length:0,j=D-N;j>0&&this.recordDroppedEvent("before_send","span",j)}const M=C.transaction_info;if(S&&M&&C.transaction!==h.transaction){const D="custom";C.transaction_info=Re(X({},M),{source:D})}return this.sendEvent(C,f),C}).then(null,C=>{throw _isDoNotSendEventError(C)||_isInternalError(C)?C:(this.captureException(C,{data:{__sentry__:!0},originalException:C}),_makeInternalError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${C}`))})}_process(h){this._numProcessing++,h.then(f=>(this._numProcessing--,f),f=>(this._numProcessing--,f))}_clearOutcomes(){const h=this._outcomes;return this._outcomes={},Object.entries(h).map(([f,y])=>{const[g,b]=f.split(":");return{reason:g,category:b,quantity:y}})}_flushOutcomes(){DEBUG_BUILD$3&&debug$1.log("Flushing outcomes...");const h=this._clearOutcomes();if(h.length===0){DEBUG_BUILD$3&&debug$1.log("No outcomes to send");return}if(!this._dsn){DEBUG_BUILD$3&&debug$1.log("No dsn provided, will not send outcomes");return}DEBUG_BUILD$3&&debug$1.log("Sending outcomes:",h);const f=createClientReportEnvelope(h,this._options.tunnel&&dsnToString(this._dsn));this.sendEnvelope(f)}}function _validateBeforeSendResult(d,h){const f=`${h} must return \`null\` or a valid event.`;if(isThenable(d))return d.then(y=>{if(!isPlainObject$1(y)&&y!==null)throw _makeInternalError(f);return y},y=>{throw _makeInternalError(`${h} rejected with ${y}`)});if(!isPlainObject$1(d)&&d!==null)throw _makeInternalError(f);return d}function processBeforeSend(d,h,f,y){const{beforeSend:g,beforeSendTransaction:b,beforeSendSpan:v}=h;let S=f;if(isErrorEvent$1(S)&&g)return g(S,y);if(isTransactionEvent$1(S)){if(v){const O=v(convertTransactionEventToSpanJson(S));if(O?S=merge$2(f,convertSpanJsonToTransactionEvent(O)):showSpanDropWarning(),S.spans){const w=[];for(const T of S.spans){const E=v(T);E?w.push(E):(showSpanDropWarning(),w.push(T))}S.spans=w}}if(b){if(S.spans){const O=S.spans.length;S.sdkProcessingMetadata=Re(X({},f.sdkProcessingMetadata),{spanCountBeforeProcessing:O})}return b(S,y)}}return S}function isErrorEvent$1(d){return d.type===void 0}function isTransactionEvent$1(d){return d.type==="transaction"}function createLogContainerEnvelopeItem(d){return[{type:"log",item_count:d.length,content_type:"application/vnd.sentry.items.log+json"},{items:d}]}function createLogEnvelope(d,h,f,y){const g={};return h!=null&&h.sdk&&(g.sdk={name:h.sdk.name,version:h.sdk.version}),f&&y&&(g.dsn=dsnToString(y)),createEnvelope(g,[createLogContainerEnvelopeItem(d)])}function _INTERNAL_flushLogsBuffer(d,h){var b;const f=(b=_INTERNAL_getLogBuffer(d))!=null?b:[];if(f.length===0)return;const y=d.getOptions(),g=createLogEnvelope(f,y._metadata,y.tunnel,d.getDsn());_getBufferMap().set(d,[]),d.emit("flushLogs"),d.sendEnvelope(g)}function _INTERNAL_getLogBuffer(d){return _getBufferMap().get(d)}function _getBufferMap(){return getGlobalSingleton("clientToLogBufferMap",()=>new WeakMap)}function initAndBind(d,h){h.debug===!0&&(DEBUG_BUILD$3?debug$1.enable():consoleSandbox(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),getCurrentScope().update(h.initialScope);const y=new d(h);return setCurrentClient(y),y.init(),y}function setCurrentClient(d){getCurrentScope().setClient(d)}const SENTRY_BUFFER_FULL_ERROR=Symbol.for("SentryBufferFullError");function makePromiseBuffer(d){const h=[];function f(){return d===void 0||h.length<d}function y(v){return h.splice(h.indexOf(v),1)[0]||Promise.resolve(void 0)}function g(v){if(!f())return rejectedSyncPromise(SENTRY_BUFFER_FULL_ERROR);const S=v();return h.indexOf(S)===-1&&h.push(S),S.then(()=>y(S)).then(null,()=>y(S).then(null,()=>{})),S}function b(v){return new SyncPromise((S,O)=>{let w=h.length;if(!w)return S(!0);const T=setTimeout(()=>{v&&v>0&&S(!1)},v);h.forEach(E=>{resolvedSyncPromise(E).then(()=>{--w||(clearTimeout(T),S(!0))},O)})})}return{$:h,add:g,drain:b}}const DEFAULT_RETRY_AFTER=60*1e3;function parseRetryAfterHeader(d,h=Date.now()){const f=parseInt(`${d}`,10);if(!isNaN(f))return f*1e3;const y=Date.parse(`${d}`);return isNaN(y)?DEFAULT_RETRY_AFTER:y-h}function disabledUntil(d,h){return d[h]||d.all||0}function isRateLimited(d,h,f=Date.now()){return disabledUntil(d,h)>f}function updateRateLimits(d,{statusCode:h,headers:f},y=Date.now()){const g=X({},d),b=f==null?void 0:f["x-sentry-rate-limits"],v=f==null?void 0:f["retry-after"];if(b)for(const S of b.trim().split(",")){const[O,w,,,T]=S.split(":",5),E=parseInt(O,10),k=(isNaN(E)?60:E)*1e3;if(!w)g.all=y+k;else for(const C of w.split(";"))C==="metric_bucket"?(!T||T.split(";").includes("custom"))&&(g[C]=y+k):g[C]=y+k}else v?g.all=y+parseRetryAfterHeader(v,y):h===429&&(g.all=y+60*1e3);return g}const DEFAULT_TRANSPORT_BUFFER_SIZE=64;function createTransport(d,h,f=makePromiseBuffer(d.bufferSize||DEFAULT_TRANSPORT_BUFFER_SIZE)){let y={};const g=v=>f.drain(v);function b(v){const S=[];if(forEachEnvelopeItem(v,(E,k)=>{const C=envelopeItemTypeToDataCategory(k);isRateLimited(y,C)?d.recordDroppedEvent("ratelimit_backoff",C):S.push(E)}),S.length===0)return resolvedSyncPromise({});const O=createEnvelope(v[0],S),w=E=>{forEachEnvelopeItem(O,(k,C)=>{d.recordDroppedEvent(E,envelopeItemTypeToDataCategory(C))})},T=()=>h({body:serializeEnvelope(O)}).then(E=>(E.statusCode!==void 0&&(E.statusCode<200||E.statusCode>=300)&&DEBUG_BUILD$3&&debug$1.warn(`Sentry responded with status code ${E.statusCode} to sent event.`),y=updateRateLimits(y,E),E),E=>{throw w("network_error"),DEBUG_BUILD$3&&debug$1.error("Encountered error running transport request:",E),E});return f.add(T).then(E=>E,E=>{if(E===SENTRY_BUFFER_FULL_ERROR)return DEBUG_BUILD$3&&debug$1.error("Skipped sending event because buffer is full."),w("queue_overflow"),resolvedSyncPromise({});throw E})}return{send:b,flush:g}}function isSentryRequestUrl(d,h){const f=h==null?void 0:h.getDsn(),y=h==null?void 0:h.getOptions().tunnel;return checkDsn(d,f)||checkTunnel(d,y)}function checkTunnel(d,h){return h?removeTrailingSlash(d)===removeTrailingSlash(h):!1}function checkDsn(d,h){return h?d.includes(h.host):!1}function removeTrailingSlash(d){return d[d.length-1]==="/"?d.slice(0,-1):d}function addAutoIpAddressToUser(d){var h;((h=d.user)==null?void 0:h.ip_address)===void 0&&(d.user=Re(X({},d.user),{ip_address:"{{auto}}"}))}function addAutoIpAddressToSession(d){var h;"aggregates"in d?((h=d.attrs)==null?void 0:h.ip_address)===void 0&&(d.attrs=Re(X({},d.attrs),{ip_address:"{{auto}}"})):d.ipAddress===void 0&&(d.ipAddress="{{auto}}")}function applySdkMetadata(d,h,f=[h],y="npm"){const g=d._metadata||{};g.sdk||(g.sdk={name:`sentry.javascript.${h}`,packages:f.map(b=>({name:`${y}:@sentry/${b}`,version:SDK_VERSION})),version:SDK_VERSION}),d._metadata=g}function getTraceData(d={}){const h=d.client||getClient();if(!isEnabled()||!h)return{};const f=getMainCarrier(),y=getAsyncContextStrategy(f);if(y.getTraceData)return y.getTraceData(d);const g=d.scope||getCurrentScope(),b=d.span||getActiveSpan(),v=b?spanToTraceHeader(b):scopeToTraceHeader(g),S=b?getDynamicSamplingContextFromSpan(b):getDynamicSamplingContextFromScope(h,g),O=dynamicSamplingContextToSentryBaggageHeader(S);return TRACEPARENT_REGEXP.test(v)?{"sentry-trace":v,baggage:O}:(debug$1.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function scopeToTraceHeader(d){const{traceId:h,sampled:f,propagationSpanId:y}=d.getPropagationContext();return generateSentryTraceHeader(h,y,f)}function debounce$3(d,h,f){let y,g,b;const v=f!=null&&f.maxWait?Math.max(f.maxWait,h):0,S=(f==null?void 0:f.setTimeoutImpl)||setTimeout;function O(){return w(),y=d(),y}function w(){g!==void 0&&clearTimeout(g),b!==void 0&&clearTimeout(b),g=b=void 0}function T(){return g!==void 0||b!==void 0?O():y}function E(){return g&&clearTimeout(g),g=S(O,h),v&&b===void 0&&(b=S(O,v)),y}return E.cancel=w,E.flush=T,E}const DEFAULT_BREADCRUMBS=100;function addBreadcrumb(d,h){const f=getClient(),y=getIsolationScope();if(!f)return;const{beforeBreadcrumb:g=null,maxBreadcrumbs:b=DEFAULT_BREADCRUMBS}=f.getOptions();if(b<=0)return;const v=dateTimestampInSeconds(),S=X({timestamp:v},d),O=g?consoleSandbox(()=>g(S,h)):S;O!==null&&(f.emit&&f.emit("beforeAddBreadcrumb",O,h),y.addBreadcrumb(O,b))}let originalFunctionToString;const INTEGRATION_NAME$6="FunctionToString",SETUP_CLIENTS=new WeakMap,_functionToStringIntegration=(()=>({name:INTEGRATION_NAME$6,setupOnce(){originalFunctionToString=Function.prototype.toString;try{Function.prototype.toString=function(...d){const h=getOriginalFunction(this),f=SETUP_CLIENTS.has(getClient())&&h!==void 0?h:this;return originalFunctionToString.apply(f,d)}}catch(d){}},setup(d){SETUP_CLIENTS.set(d,!0)}})),functionToStringIntegration=_functionToStringIntegration,DEFAULT_IGNORE_ERRORS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],INTEGRATION_NAME$5="EventFilters",eventFiltersIntegration=(d={})=>{let h;return{name:INTEGRATION_NAME$5,setup(f){const y=f.getOptions();h=_mergeOptions(d,y)},processEvent(f,y,g){if(!h){const b=g.getOptions();h=_mergeOptions(d,b)}return _shouldDropEvent$1(f,h)?null:f}}},inboundFiltersIntegration=((d={})=>Re(X({},eventFiltersIntegration(d)),{name:"InboundFilters"}));function _mergeOptions(d={},h={}){return{allowUrls:[...d.allowUrls||[],...h.allowUrls||[]],denyUrls:[...d.denyUrls||[],...h.denyUrls||[]],ignoreErrors:[...d.ignoreErrors||[],...h.ignoreErrors||[],...d.disableErrorDefaults?[]:DEFAULT_IGNORE_ERRORS],ignoreTransactions:[...d.ignoreTransactions||[],...h.ignoreTransactions||[]]}}function _shouldDropEvent$1(d,h){if(d.type){if(d.type==="transaction"&&_isIgnoredTransaction(d,h.ignoreTransactions))return DEBUG_BUILD$3&&debug$1.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${getEventDescription(d)}`),!0}else{if(_isIgnoredError(d,h.ignoreErrors))return DEBUG_BUILD$3&&debug$1.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${getEventDescription(d)}`),!0;if(_isUselessError(d))return DEBUG_BUILD$3&&debug$1.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${getEventDescription(d)}`),!0;if(_isDeniedUrl(d,h.denyUrls))return DEBUG_BUILD$3&&debug$1.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${getEventDescription(d)}.
Url: ${_getEventFilterUrl(d)}`),!0;if(!_isAllowedUrl(d,h.allowUrls))return DEBUG_BUILD$3&&debug$1.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${getEventDescription(d)}.
Url: ${_getEventFilterUrl(d)}`),!0}return!1}function _isIgnoredError(d,h){return h!=null&&h.length?getPossibleEventMessages(d).some(f=>stringMatchesSomePattern(f,h)):!1}function _isIgnoredTransaction(d,h){if(!(h!=null&&h.length))return!1;const f=d.transaction;return f?stringMatchesSomePattern(f,h):!1}function _isDeniedUrl(d,h){if(!(h!=null&&h.length))return!1;const f=_getEventFilterUrl(d);return f?stringMatchesSomePattern(f,h):!1}function _isAllowedUrl(d,h){if(!(h!=null&&h.length))return!0;const f=_getEventFilterUrl(d);return f?stringMatchesSomePattern(f,h):!0}function _getLastValidUrl(d=[]){for(let h=d.length-1;h>=0;h--){const f=d[h];if(f&&f.filename!=="<anonymous>"&&f.filename!=="[native code]")return f.filename||null}return null}function _getEventFilterUrl(d){var h,f,y;try{const g=[...(f=(h=d.exception)==null?void 0:h.values)!=null?f:[]].reverse().find(v=>{var S,O,w;return((S=v.mechanism)==null?void 0:S.parent_id)===void 0&&((w=(O=v.stacktrace)==null?void 0:O.frames)==null?void 0:w.length)}),b=(y=g==null?void 0:g.stacktrace)==null?void 0:y.frames;return b?_getLastValidUrl(b):null}catch(g){return DEBUG_BUILD$3&&debug$1.error(`Cannot extract url for event ${getEventDescription(d)}`),null}}function _isUselessError(d){var h,f;return(f=(h=d.exception)==null?void 0:h.values)!=null&&f.length?!d.message&&!d.exception.values.some(y=>y.stacktrace||y.type&&y.type!=="Error"||y.value):!1}function applyAggregateErrorsToEvent(d,h,f,y,g,b){var S;if(!((S=g.exception)!=null&&S.values)||!b||!isInstanceOf(b.originalException,Error))return;const v=g.exception.values.length>0?g.exception.values[g.exception.values.length-1]:void 0;v&&(g.exception.values=aggregateExceptionsFromError(d,h,y,b.originalException,f,g.exception.values,v,0))}function aggregateExceptionsFromError(d,h,f,y,g,b,v,S){if(b.length>=f+1)return b;let O=[...b];if(isInstanceOf(y[g],Error)){applyExceptionGroupFieldsForParentException(v,S);const w=d(h,y[g]),T=O.length;applyExceptionGroupFieldsForChildException(w,g,T,S),O=aggregateExceptionsFromError(d,h,f,y[g],g,[w,...O],w,T)}return Array.isArray(y.errors)&&y.errors.forEach((w,T)=>{if(isInstanceOf(w,Error)){applyExceptionGroupFieldsForParentException(v,S);const E=d(h,w),k=O.length;applyExceptionGroupFieldsForChildException(E,`errors[${T}]`,k,S),O=aggregateExceptionsFromError(d,h,f,w,g,[E,...O],E,k)}}),O}function applyExceptionGroupFieldsForParentException(d,h){d.mechanism=d.mechanism||{type:"generic",handled:!0},d.mechanism=Re(X(X({},d.mechanism),d.type==="AggregateError"&&{is_exception_group:!0}),{exception_id:h})}function applyExceptionGroupFieldsForChildException(d,h,f,y){d.mechanism=d.mechanism||{type:"generic",handled:!0},d.mechanism=Re(X({},d.mechanism),{type:"chained",source:h,exception_id:f,parent_id:y})}function addConsoleInstrumentationHandler(d){const h="console";addHandler$1(h,d),maybeInstrument(h,instrumentConsole)}function instrumentConsole(){"console"in GLOBAL_OBJ&&CONSOLE_LEVELS$1.forEach(function(d){d in GLOBAL_OBJ.console&&fill$1(GLOBAL_OBJ.console,d,function(h){return originalConsoleMethods[d]=h,function(...f){triggerHandlers$1("console",{args:f,level:d});const g=originalConsoleMethods[d];g==null||g.apply(GLOBAL_OBJ.console,f)}})})}function severityLevelFromString(d){return d==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(d)?d:"log"}const INTEGRATION_NAME$4="Dedupe",_dedupeIntegration=(()=>{let d;return{name:INTEGRATION_NAME$4,processEvent(h){if(h.type)return h;try{if(_shouldDropEvent(h,d))return DEBUG_BUILD$3&&debug$1.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(f){}return d=h}}}),dedupeIntegration=_dedupeIntegration;function _shouldDropEvent(d,h){return h?!!(_isSameMessageEvent(d,h)||_isSameExceptionEvent(d,h)):!1}function _isSameMessageEvent(d,h){const f=d.message,y=h.message;return!(!f&&!y||f&&!y||!f&&y||f!==y||!_isSameFingerprint(d,h)||!_isSameStacktrace(d,h))}function _isSameExceptionEvent(d,h){const f=_getExceptionFromEvent(h),y=_getExceptionFromEvent(d);return!(!f||!y||f.type!==y.type||f.value!==y.value||!_isSameFingerprint(d,h)||!_isSameStacktrace(d,h))}function _isSameStacktrace(d,h){let f=getFramesFromEvent(d),y=getFramesFromEvent(h);if(!f&&!y)return!0;if(f&&!y||!f&&y||(f=f,y=y,y.length!==f.length))return!1;for(let g=0;g<y.length;g++){const b=y[g],v=f[g];if(b.filename!==v.filename||b.lineno!==v.lineno||b.colno!==v.colno||b.function!==v.function)return!1}return!0}function _isSameFingerprint(d,h){let f=d.fingerprint,y=h.fingerprint;if(!f&&!y)return!0;if(f&&!y||!f&&y)return!1;f=f,y=y;try{return f.join("")===y.join("")}catch(g){return!1}}function _getExceptionFromEvent(d){var h,f;return(f=(h=d.exception)==null?void 0:h.values)==null?void 0:f[0]}const DEFAULT_BASE_URL="thismessage:/";function isURLObjectRelative(d){return"isRelative"in d}function parseStringToURLObject(d,h){const f=d.indexOf("://")<=0&&d.indexOf("//")!==0,y=f?DEFAULT_BASE_URL:void 0;try{if("canParse"in URL&&!URL.canParse(d,y))return;const g=new URL(d,y);return f?{isRelative:f,pathname:g.pathname,search:g.search,hash:g.hash}:g}catch(g){}}function getSanitizedUrlStringFromUrlObject(d){if(isURLObjectRelative(d))return d.pathname;const h=new URL(d);return h.search="",h.hash="",["80","443"].includes(h.port)&&(h.port=""),h.password&&(h.password="%filtered%"),h.username&&(h.username="%filtered%"),h.toString()}function parseUrl(d){if(!d)return{};const h=d.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!h)return{};const f=h[6]||"",y=h[8]||"";return{host:h[4],path:h[5],protocol:h[2],search:f,hash:y,relative:h[5]+f+y}}function stripUrlQueryAndFragment(d){return d.split(/[?#]/,1)[0]}function instrumentFetchRequest(d,h,f,y,g="auto.http.browser"){if(!d.fetchData)return;const{method:b,url:v}=d.fetchData,S=hasSpansEnabled()&&h(v);if(d.endTimestamp&&S){const E=d.fetchData.__span;if(!E)return;const k=y[E];k&&(endSpan(k,d),delete y[E]);return}const O=!!getActiveSpan(),w=S&&O?startInactiveSpan(getSpanStartOptions(v,b,g)):new SentryNonRecordingSpan;if(d.fetchData.__span=w.spanContext().spanId,y[w.spanContext().spanId]=w,f(d.fetchData.url)){const E=d.args[0],k=d.args[1]||{},C=_addTracingHeadersToFetchRequest(E,k,hasSpansEnabled()&&O?w:void 0);C&&(d.args[1]=k,k.headers=C)}const T=getClient();if(T){const E={input:d.args,response:d.response,startTimestamp:d.startTimestamp,endTimestamp:d.endTimestamp};T.emit("beforeOutgoingRequestSpan",w,E)}return w}function _addTracingHeadersToFetchRequest(d,h,f){const y=getTraceData({span:f}),g=y["sentry-trace"],b=y.baggage;if(!g)return;const v=h.headers||(isRequest(d)?d.headers:void 0);if(v)if(isHeaders(v)){const S=new Headers(v);if(S.get("sentry-trace")||S.set("sentry-trace",g),b){const O=S.get("baggage");O?baggageHeaderHasSentryBaggageValues(O)||S.set("baggage",`${O},${b}`):S.set("baggage",b)}return S}else if(Array.isArray(v)){const S=[...v];v.find(w=>w[0]==="sentry-trace")||S.push(["sentry-trace",g]);const O=v.find(w=>w[0]==="baggage"&&baggageHeaderHasSentryBaggageValues(w[1]));return b&&!O&&S.push(["baggage",b]),S}else{const S="sentry-trace"in v?v["sentry-trace"]:void 0,O="baggage"in v?v.baggage:void 0,w=O?Array.isArray(O)?[...O]:[O]:[],T=O&&(Array.isArray(O)?O.find(E=>baggageHeaderHasSentryBaggageValues(E)):baggageHeaderHasSentryBaggageValues(O));return b&&!T&&w.push(b),Re(X({},v),{"sentry-trace":S!=null?S:g,baggage:w.length>0?w.join(","):void 0})}else return X({},y)}function endSpan(d,h){var f,y;if(h.response){setHttpStatus(d,h.response.status);const g=(y=(f=h.response)==null?void 0:f.headers)==null?void 0:y.get("content-length");if(g){const b=parseInt(g);b>0&&d.setAttribute("http.response_content_length",b)}}else h.error&&d.setStatus({code:SPAN_STATUS_ERROR,message:"internal_error"});d.end()}function baggageHeaderHasSentryBaggageValues(d){return d.split(",").some(h=>h.trim().startsWith(SENTRY_BAGGAGE_KEY_PREFIX))}function isHeaders(d){return typeof Headers!="undefined"&&isInstanceOf(d,Headers)}function getSpanStartOptions(d,h,f){const y=parseStringToURLObject(d);return{name:y?`${h} ${getSanitizedUrlStringFromUrlObject(y)}`:h,attributes:getFetchSpanAttributes(d,y,h,f)}}function getFetchSpanAttributes(d,h,f,y){const g={url:d,type:"fetch","http.method":f,[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:y,[SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"};return h&&(isURLObjectRelative(h)||(g["http.url"]=h.href,g["server.address"]=h.host),h.search&&(g["http.query"]=h.search),h.hash&&(g["http.fragment"]=h.hash)),g}function getBreadcrumbLogLevelFromHttpStatusCode(d){if(d!==void 0)return d>=400&&d<500?"warning":d>=500?"error":void 0}const WINDOW$3=GLOBAL_OBJ;function supportsHistory(){return"history"in WINDOW$3&&!!WINDOW$3.history}function _isFetchSupported(){if(!("fetch"in WINDOW$3))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(d){return!1}}function isNativeFunction(d){return d&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(d.toString())}function supportsNativeFetch(){var f;if(typeof EdgeRuntime=="string")return!0;if(!_isFetchSupported())return!1;if(isNativeFunction(WINDOW$3.fetch))return!0;let d=!1;const h=WINDOW$3.document;if(h&&typeof h.createElement=="function")try{const y=h.createElement("iframe");y.hidden=!0,h.head.appendChild(y),(f=y.contentWindow)!=null&&f.fetch&&(d=isNativeFunction(y.contentWindow.fetch)),h.head.removeChild(y)}catch(y){DEBUG_BUILD$3&&debug$1.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",y)}return d}function addFetchInstrumentationHandler(d,h){const f="fetch";addHandler$1(f,d),maybeInstrument(f,()=>instrumentFetch(void 0,h))}function addFetchEndInstrumentationHandler(d){const h="fetch-body-resolved";addHandler$1(h,d),maybeInstrument(h,()=>instrumentFetch(streamHandler))}function instrumentFetch(d,h=!1){h&&!supportsNativeFetch()||fill$1(GLOBAL_OBJ,"fetch",function(f){return function(...y){const g=new Error,{method:b,url:v}=parseFetchArgs(y),S={args:y,fetchData:{method:b,url:v},startTimestamp:timestampInSeconds()*1e3,virtualError:g,headers:getHeadersFromFetchArgs(y)};return d||triggerHandlers$1("fetch",X({},S)),f.apply(GLOBAL_OBJ,y).then(O=>De(null,null,function*(){return d?d(O):triggerHandlers$1("fetch",Re(X({},S),{endTimestamp:timestampInSeconds()*1e3,response:O})),O}),O=>{if(triggerHandlers$1("fetch",Re(X({},S),{endTimestamp:timestampInSeconds()*1e3,error:O})),isError(O)&&O.stack===void 0&&(O.stack=g.stack,addNonEnumerableProperty(O,"framesToPop",1)),O instanceof TypeError&&(O.message==="Failed to fetch"||O.message==="Load failed"||O.message==="NetworkError when attempting to fetch resource."))try{const w=new URL(S.fetchData.url);O.message=`${O.message} (${w.host})`}catch(w){}throw O})}})}function resolveResponse(d,h){return De(this,null,function*(){if(d!=null&&d.body){const f=d.body,y=f.getReader(),g=setTimeout(()=>{f.cancel().then(null,()=>{})},90*1e3);let b=!0;for(;b;){let v;try{v=setTimeout(()=>{f.cancel().then(null,()=>{})},5e3);const{done:S}=yield y.read();clearTimeout(v),S&&(h(),b=!1)}catch(S){b=!1}finally{clearTimeout(v)}}clearTimeout(g),y.releaseLock(),f.cancel().then(null,()=>{})}})}function streamHandler(d){let h;try{h=d.clone()}catch(f){return}resolveResponse(h,()=>{triggerHandlers$1("fetch-body-resolved",{endTimestamp:timestampInSeconds()*1e3,response:d})})}function hasProp(d,h){return!!d&&typeof d=="object"&&!!d[h]}function getUrlFromResource(d){return typeof d=="string"?d:d?hasProp(d,"url")?d.url:d.toString?d.toString():"":""}function parseFetchArgs(d){if(d.length===0)return{method:"GET",url:""};if(d.length===2){const[f,y]=d;return{url:getUrlFromResource(f),method:hasProp(y,"method")?String(y.method).toUpperCase():"GET"}}const h=d[0];return{url:getUrlFromResource(h),method:hasProp(h,"method")?String(h.method).toUpperCase():"GET"}}function getHeadersFromFetchArgs(d){const[h,f]=d;try{if(typeof f=="object"&&f!==null&&"headers"in f&&f.headers)return new Headers(f.headers);if(isRequest(h))return new Headers(h.headers)}catch(y){}}function isBrowserBundle(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function getSDKSource(){return"npm"}function isNodeEnv(){return!isBrowserBundle()&&Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function isBrowser$1(){return typeof window!="undefined"&&(!isNodeEnv()||isElectronNodeRenderer())}function isElectronNodeRenderer(){const d=GLOBAL_OBJ.process;return(d==null?void 0:d.type)==="renderer"}const WINDOW$2=GLOBAL_OBJ;let ignoreOnError=0;function shouldIgnoreOnError(){return ignoreOnError>0}function ignoreNextOnError(){ignoreOnError++,setTimeout(()=>{ignoreOnError--})}function wrap(d,h={}){function f(g){return typeof g=="function"}if(!f(d))return d;try{const g=d.__sentry_wrapped__;if(g)return typeof g=="function"?g:d;if(getOriginalFunction(d))return d}catch(g){return d}const y=function(...g){try{const b=g.map(v=>wrap(v,h));return d.apply(this,b)}catch(b){throw ignoreNextOnError(),withScope(v=>{v.addEventProcessor(S=>(h.mechanism&&(addExceptionTypeValue(S,void 0),addExceptionMechanism(S,h.mechanism)),S.extra=Re(X({},S.extra),{arguments:g}),S)),captureException(b)}),b}};try{for(const g in d)Object.prototype.hasOwnProperty.call(d,g)&&(y[g]=d[g])}catch(g){}markFunctionWrapped(y,d),addNonEnumerableProperty(d,"__sentry_wrapped__",y);try{Object.getOwnPropertyDescriptor(y,"name").configurable&&Object.defineProperty(y,"name",{get(){return d.name}})}catch(g){}return y}function getHttpRequestData(){const d=getLocationHref(),{referrer:h}=WINDOW$2.document||{},{userAgent:f}=WINDOW$2.navigator||{},y=X(X({},h&&{Referer:h}),f&&{"User-Agent":f});return{url:d,headers:y}}function exceptionFromError(d,h){const f=parseStackFrames(d,h),y={type:extractType(h),value:extractMessage(h)};return f.length&&(y.stacktrace={frames:f}),y.type===void 0&&y.value===""&&(y.value="Unrecoverable error caught"),y}function eventFromPlainObject(d,h,f,y){const g=getClient(),b=g==null?void 0:g.getOptions().normalizeDepth,v=getErrorPropertyFromObject(h),S={__serialized__:normalizeToSize(h,b)};if(v)return{exception:{values:[exceptionFromError(d,v)]},extra:S};const O={exception:{values:[{type:isEvent(h)?h.constructor.name:y?"UnhandledRejection":"Error",value:getNonErrorObjectExceptionValue(h,{isUnhandledRejection:y})}]},extra:S};if(f){const w=parseStackFrames(d,f);w.length&&(O.exception.values[0].stacktrace={frames:w})}return O}function eventFromError(d,h){return{exception:{values:[exceptionFromError(d,h)]}}}function parseStackFrames(d,h){const f=h.stacktrace||h.stack||"",y=getSkipFirstStackStringLines(h),g=getPopFirstTopFrames(h);try{return d(f,y,g)}catch(b){}return[]}const reactMinifiedRegexp=/Minified React error #\d+;/i;function getSkipFirstStackStringLines(d){return d&&reactMinifiedRegexp.test(d.message)?1:0}function getPopFirstTopFrames(d){return typeof d.framesToPop=="number"?d.framesToPop:0}function isWebAssemblyException(d){return typeof WebAssembly!="undefined"&&typeof WebAssembly.Exception!="undefined"?d instanceof WebAssembly.Exception:!1}function extractType(d){const h=d==null?void 0:d.name;return!h&&isWebAssemblyException(d)?d.message&&Array.isArray(d.message)&&d.message.length==2?d.message[0]:"WebAssembly.Exception":h}function extractMessage(d){const h=d==null?void 0:d.message;return isWebAssemblyException(d)?Array.isArray(d.message)&&d.message.length==2?d.message[1]:"wasm exception":h?h.error&&typeof h.error.message=="string"?h.error.message:h:"No error message"}function eventFromException(d,h,f,y){const g=(f==null?void 0:f.syntheticException)||void 0,b=eventFromUnknownInput(d,h,g,y);return addExceptionMechanism(b),b.level="error",f!=null&&f.event_id&&(b.event_id=f.event_id),resolvedSyncPromise(b)}function eventFromMessage(d,h,f="info",y,g){const b=(y==null?void 0:y.syntheticException)||void 0,v=eventFromString(d,h,b,g);return v.level=f,y!=null&&y.event_id&&(v.event_id=y.event_id),resolvedSyncPromise(v)}function eventFromUnknownInput(d,h,f,y,g){let b;if(isErrorEvent$2(h)&&h.error)return eventFromError(d,h.error);if(isDOMError(h)||isDOMException(h)){const v=h;if("stack"in h)b=eventFromError(d,h);else{const S=v.name||(isDOMError(v)?"DOMError":"DOMException"),O=v.message?`${S}: ${v.message}`:S;b=eventFromString(d,O,f,y),addExceptionTypeValue(b,O)}return"code"in v&&(b.tags=Re(X({},b.tags),{"DOMException.code":`${v.code}`})),b}return isError(h)?eventFromError(d,h):isPlainObject$1(h)||isEvent(h)?(b=eventFromPlainObject(d,h,f,g),addExceptionMechanism(b,{synthetic:!0}),b):(b=eventFromString(d,h,f,y),addExceptionTypeValue(b,`${h}`),addExceptionMechanism(b,{synthetic:!0}),b)}function eventFromString(d,h,f,y){const g={};if(y&&f){const b=parseStackFrames(d,f);b.length&&(g.exception={values:[{value:h,stacktrace:{frames:b}}]}),addExceptionMechanism(g,{synthetic:!0})}if(isParameterizedString(h)){const{__sentry_template_string__:b,__sentry_template_values__:v}=h;return g.logentry={message:b,params:v},g}return g.message=h,g}function getNonErrorObjectExceptionValue(d,{isUnhandledRejection:h}){const f=extractExceptionKeysForMessage(d),y=h?"promise rejection":"exception";return isErrorEvent$2(d)?`Event \`ErrorEvent\` captured as ${y} with message \`${d.message}\``:isEvent(d)?`Event \`${getObjectClassName(d)}\` (type=${d.type}) captured as ${y}`:`Object captured as ${y} with keys: ${f}`}function getObjectClassName(d){try{const h=Object.getPrototypeOf(d);return h?h.constructor.name:void 0}catch(h){}}function getErrorPropertyFromObject(d){for(const h in d)if(Object.prototype.hasOwnProperty.call(d,h)){const f=d[h];if(f instanceof Error)return f}}const DEFAULT_FLUSH_INTERVAL=5e3;class BrowserClient extends Client{constructor(h){const f=applyDefaultOptions(h),y=WINDOW$2.SENTRY_SDK_SOURCE||getSDKSource();applySdkMetadata(f,"browser",["browser"],y),super(f);const{sendDefaultPii:g,sendClientReports:b,enableLogs:v,_experiments:S}=this._options,O=v!=null?v:S==null?void 0:S.enableLogs;WINDOW$2.document&&(b||O)&&WINDOW$2.document.addEventListener("visibilitychange",()=>{WINDOW$2.document.visibilityState==="hidden"&&(b&&this._flushOutcomes(),O&&_INTERNAL_flushLogsBuffer(this))}),O&&(this.on("flush",()=>{_INTERNAL_flushLogsBuffer(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{_INTERNAL_flushLogsBuffer(this)},DEFAULT_FLUSH_INTERVAL)})),g&&(this.on("postprocessEvent",addAutoIpAddressToUser),this.on("beforeSendSession",addAutoIpAddressToSession))}eventFromException(h,f){return eventFromException(this._options.stackParser,h,f,this._options.attachStacktrace)}eventFromMessage(h,f="info",y){return eventFromMessage(this._options.stackParser,h,f,y,this._options.attachStacktrace)}_prepareEvent(h,f,y,g){return h.platform=h.platform||"javascript",super._prepareEvent(h,f,y,g)}}function applyDefaultOptions(d){var h;return X({release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(h=WINDOW$2.SENTRY_RELEASE)==null?void 0:h.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0},d)}const DEBUG_BUILD$2=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,WINDOW$1=GLOBAL_OBJ,getRating=(d,h)=>d>h[1]?"poor":d>h[0]?"needs-improvement":"good",bindReporter=(d,h,f,y)=>{let g,b;return v=>{h.value>=0&&(v||y)&&(b=h.value-(g!=null?g:0),(b||g===void 0)&&(g=h.value,h.delta=b,h.rating=getRating(h.value,f),d(h)))}},generateUniqueID=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,getNavigationEntry=(d=!0)=>{var f,y;const h=(y=(f=WINDOW$1.performance)==null?void 0:f.getEntriesByType)==null?void 0:y.call(f,"navigation")[0];if(!d||h&&h.responseStart>0&&h.responseStart<performance.now())return h},getActivationStart=()=>{var h;const d=getNavigationEntry();return(h=d==null?void 0:d.activationStart)!=null?h:0},initMetric=(d,h=-1)=>{var b,v;const f=getNavigationEntry();let y="navigate";return f&&((b=WINDOW$1.document)!=null&&b.prerendering||getActivationStart()>0?y="prerender":(v=WINDOW$1.document)!=null&&v.wasDiscarded?y="restore":f.type&&(y=f.type.replace(/_/g,"-"))),{name:d,value:h,rating:"good",delta:0,entries:[],id:generateUniqueID(),navigationType:y}},instanceMap=new WeakMap;function initUnique(d,h){return instanceMap.get(d)||instanceMap.set(d,new h),instanceMap.get(d)}class LayoutShiftManager{constructor(){LayoutShiftManager.prototype.__init.call(this),LayoutShiftManager.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(h){var g;if(h.hadRecentInput)return;const f=this._sessionEntries[0],y=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&f&&y&&h.startTime-y.startTime<1e3&&h.startTime-f.startTime<5e3?(this._sessionValue+=h.value,this._sessionEntries.push(h)):(this._sessionValue=h.value,this._sessionEntries=[h]),(g=this._onAfterProcessingUnexpectedShift)==null||g.call(this,h)}}const observe=(d,h,f={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(d)){const y=new PerformanceObserver(g=>{Promise.resolve().then(()=>{h(g.getEntries())})});return y.observe(X({type:d,buffered:!0},f)),y}}catch(y){}},runOnce=d=>{let h=!1;return()=>{h||(d(),h=!0)}};let firstHiddenTime=-1;const initHiddenTime=()=>{var d,h;return((d=WINDOW$1.document)==null?void 0:d.visibilityState)==="hidden"&&!((h=WINDOW$1.document)!=null&&h.prerendering)?0:1/0},onVisibilityUpdate=d=>{WINDOW$1.document.visibilityState==="hidden"&&firstHiddenTime>-1&&(firstHiddenTime=d.type==="visibilitychange"?d.timeStamp:0,removeChangeListeners())},addChangeListeners=()=>{addEventListener("visibilitychange",onVisibilityUpdate,!0),addEventListener("prerenderingchange",onVisibilityUpdate,!0)},removeChangeListeners=()=>{removeEventListener("visibilitychange",onVisibilityUpdate,!0),removeEventListener("prerenderingchange",onVisibilityUpdate,!0)},getVisibilityWatcher=()=>{var d;if(WINDOW$1.document&&firstHiddenTime<0){const h=getActivationStart(),f=WINDOW$1.document.prerendering||(d=globalThis.performance.getEntriesByType("visibility-state").filter(y=>y.name==="hidden"&&y.startTime>h)[0])==null?void 0:d.startTime;firstHiddenTime=f!=null?f:initHiddenTime(),addChangeListeners()}return{get firstHiddenTime(){return firstHiddenTime}}},whenActivated=d=>{var h;(h=WINDOW$1.document)!=null&&h.prerendering?addEventListener("prerenderingchange",()=>d(),!0):d()},FCPThresholds=[1800,3e3],onFCP=(d,h={})=>{whenActivated(()=>{const f=getVisibilityWatcher(),y=initMetric("FCP");let g;const v=observe("paint",S=>{for(const O of S)O.name==="first-contentful-paint"&&(v.disconnect(),O.startTime<f.firstHiddenTime&&(y.value=Math.max(O.startTime-getActivationStart(),0),y.entries.push(O),g(!0)))});v&&(g=bindReporter(d,y,FCPThresholds,h.reportAllChanges))})},CLSThresholds=[.1,.25],onCLS=(d,h={})=>{onFCP(runOnce(()=>{var S,O;const f=initMetric("CLS",0);let y;const g=initUnique(h,LayoutShiftManager),b=w=>{for(const T of w)g._processEntry(T);g._sessionValue>f.value&&(f.value=g._sessionValue,f.entries=g._sessionEntries,y())},v=observe("layout-shift",b);v&&(y=bindReporter(d,f,CLSThresholds,h.reportAllChanges),(S=WINDOW$1.document)==null||S.addEventListener("visibilitychange",()=>{var w;((w=WINDOW$1.document)==null?void 0:w.visibilityState)==="hidden"&&(b(v.takeRecords()),y(!0))}),(O=WINDOW$1==null?void 0:WINDOW$1.setTimeout)==null||O.call(WINDOW$1,y))}))},onHidden=d=>{const h=f=>{var y;(f.type==="pagehide"||((y=WINDOW$1.document)==null?void 0:y.visibilityState)==="hidden")&&d(f)};WINDOW$1.document&&(addEventListener("visibilitychange",h,!0),addEventListener("pagehide",h,!0))},FIDThresholds=[100,300],onFID=(d,h={})=>{whenActivated(()=>{const f=getVisibilityWatcher(),y=initMetric("FID");let g;const b=O=>{O.startTime<f.firstHiddenTime&&(y.value=O.processingStart-O.startTime,y.entries.push(O),g(!0))},v=O=>{O.forEach(b)},S=observe("first-input",v);g=bindReporter(d,y,FIDThresholds,h.reportAllChanges),S&&onHidden(runOnce(()=>{v(S.takeRecords()),S.disconnect()}))})};let interactionCountEstimate=0,minKnownInteractionId=1/0,maxKnownInteractionId=0;const updateEstimate=d=>{d.forEach(h=>{h.interactionId&&(minKnownInteractionId=Math.min(minKnownInteractionId,h.interactionId),maxKnownInteractionId=Math.max(maxKnownInteractionId,h.interactionId),interactionCountEstimate=maxKnownInteractionId?(maxKnownInteractionId-minKnownInteractionId)/7+1:0)})};let po;const getInteractionCount=()=>po?interactionCountEstimate:performance.interactionCount||0,initInteractionCountPolyfill=()=>{"interactionCount"in performance||po||(po=observe("event",updateEstimate,{type:"event",buffered:!0,durationThreshold:0}))},MAX_INTERACTIONS_TO_CONSIDER=10;let prevInteractionCount=0;const getInteractionCountForNavigation=()=>getInteractionCount()-prevInteractionCount;class InteractionManager{constructor(){InteractionManager.prototype.__init.call(this),InteractionManager.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){prevInteractionCount=getInteractionCount(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const h=Math.min(this._longestInteractionList.length-1,Math.floor(getInteractionCountForNavigation()/50));return this._longestInteractionList[h]}_processEntry(h){var g,b;if((g=this._onBeforeProcessingEntry)==null||g.call(this,h),!(h.interactionId||h.entryType==="first-input"))return;const f=this._longestInteractionList.at(-1);let y=this._longestInteractionMap.get(h.interactionId);if(y||this._longestInteractionList.length<MAX_INTERACTIONS_TO_CONSIDER||h.duration>f._latency){if(y?h.duration>y._latency?(y.entries=[h],y._latency=h.duration):h.duration===y._latency&&h.startTime===y.entries[0].startTime&&y.entries.push(h):(y={id:h.interactionId,entries:[h],_latency:h.duration},this._longestInteractionMap.set(y.id,y),this._longestInteractionList.push(y)),this._longestInteractionList.sort((v,S)=>S._latency-v._latency),this._longestInteractionList.length>MAX_INTERACTIONS_TO_CONSIDER){const v=this._longestInteractionList.splice(MAX_INTERACTIONS_TO_CONSIDER);for(const S of v)this._longestInteractionMap.delete(S.id)}(b=this._onAfterProcessingINPCandidate)==null||b.call(this,y)}}}const whenIdleOrHidden=d=>{var f;const h=WINDOW$1.requestIdleCallback||WINDOW$1.setTimeout;((f=WINDOW$1.document)==null?void 0:f.visibilityState)==="hidden"?d():(d=runOnce(d),h(d),onHidden(d))},INPThresholds=[200,500],DEFAULT_DURATION_THRESHOLD=40,onINP=(d,h={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&whenActivated(()=>{var S;initInteractionCountPolyfill();const f=initMetric("INP");let y;const g=initUnique(h,InteractionManager),b=O=>{whenIdleOrHidden(()=>{for(const T of O)g._processEntry(T);const w=g._estimateP98LongestInteraction();w&&w._latency!==f.value&&(f.value=w._latency,f.entries=w.entries,y())})},v=observe("event",b,{durationThreshold:(S=h.durationThreshold)!=null?S:DEFAULT_DURATION_THRESHOLD});y=bindReporter(d,f,INPThresholds,h.reportAllChanges),v&&(v.observe({type:"first-input",buffered:!0}),onHidden(()=>{b(v.takeRecords()),y(!0)}))})};class LCPEntryManager{_processEntry(h){var f;(f=this._onBeforeProcessingEntry)==null||f.call(this,h)}}const LCPThresholds=[2500,4e3],onLCP=(d,h={})=>{whenActivated(()=>{const f=getVisibilityWatcher(),y=initMetric("LCP");let g;const b=initUnique(h,LCPEntryManager),v=O=>{h.reportAllChanges||(O=O.slice(-1));for(const w of O)b._processEntry(w),w.startTime<f.firstHiddenTime&&(y.value=Math.max(w.startTime-getActivationStart(),0),y.entries=[w],g())},S=observe("largest-contentful-paint",v);if(S){g=bindReporter(d,y,LCPThresholds,h.reportAllChanges);const O=runOnce(()=>{v(S.takeRecords()),S.disconnect(),g(!0)});for(const w of["keydown","click","visibilitychange"])WINDOW$1.document&&addEventListener(w,()=>whenIdleOrHidden(O),{capture:!0,once:!0})}})},TTFBThresholds=[800,1800],whenReady=d=>{var h,f;(h=WINDOW$1.document)!=null&&h.prerendering?whenActivated(()=>whenReady(d)):((f=WINDOW$1.document)==null?void 0:f.readyState)!=="complete"?addEventListener("load",()=>whenReady(d),!0):setTimeout(d)},onTTFB=(d,h={})=>{const f=initMetric("TTFB"),y=bindReporter(d,f,TTFBThresholds,h.reportAllChanges);whenReady(()=>{const g=getNavigationEntry();g&&(f.value=Math.max(g.responseStart-getActivationStart(),0),f.entries=[g],y(!0))})},handlers$1={},instrumented={};let _previousCls,_previousFid,_previousLcp,_previousTtfb,_previousInp;function addClsInstrumentationHandler(d,h=!1){return addMetricObserver("cls",d,instrumentCls,_previousCls,h)}function addLcpInstrumentationHandler(d,h=!1){return addMetricObserver("lcp",d,instrumentLcp,_previousLcp,h)}function addFidInstrumentationHandler(d){return addMetricObserver("fid",d,instrumentFid,_previousFid)}function addTtfbInstrumentationHandler(d){return addMetricObserver("ttfb",d,instrumentTtfb,_previousTtfb)}function addInpInstrumentationHandler(d){return addMetricObserver("inp",d,instrumentInp,_previousInp)}function addPerformanceInstrumentationHandler(d,h){return addHandler(d,h),instrumented[d]||(instrumentPerformanceObserver(d),instrumented[d]=!0),getCleanupCallback(d,h)}function triggerHandlers(d,h){const f=handlers$1[d];if(f!=null&&f.length)for(const y of f)try{y(h)}catch(g){DEBUG_BUILD$2&&debug$1.error(`Error while triggering instrumentation handler.
Type: ${d}
Name: ${getFunctionName(y)}
Error:`,g)}}function instrumentCls(){return onCLS(d=>{triggerHandlers("cls",{metric:d}),_previousCls=d},{reportAllChanges:!0})}function instrumentFid(){return onFID(d=>{triggerHandlers("fid",{metric:d}),_previousFid=d})}function instrumentLcp(){return onLCP(d=>{triggerHandlers("lcp",{metric:d}),_previousLcp=d},{reportAllChanges:!0})}function instrumentTtfb(){return onTTFB(d=>{triggerHandlers("ttfb",{metric:d}),_previousTtfb=d})}function instrumentInp(){return onINP(d=>{triggerHandlers("inp",{metric:d}),_previousInp=d})}function addMetricObserver(d,h,f,y,g=!1){addHandler(d,h);let b;return instrumented[d]||(b=f(),instrumented[d]=!0),y&&h({metric:y}),getCleanupCallback(d,h,g?b:void 0)}function instrumentPerformanceObserver(d){const h={};d==="event"&&(h.durationThreshold=0),observe(d,f=>{triggerHandlers(d,{entries:f})},h)}function addHandler(d,h){handlers$1[d]=handlers$1[d]||[],handlers$1[d].push(h)}function getCleanupCallback(d,h,f){return()=>{f&&f();const y=handlers$1[d];if(!y)return;const g=y.indexOf(h);g!==-1&&y.splice(g,1)}}function isPerformanceEventTiming(d){return"duration"in d}function isMeasurementValue(d){return typeof d=="number"&&isFinite(d)}function startAndEndSpan(d,h,f,g){var y=Ji(g,[]);const b=spanToJSON(d).start_timestamp;return b&&b>h&&typeof d.updateStartTime=="function"&&d.updateStartTime(h),withActiveSpan(d,()=>{const v=startInactiveSpan(X({startTime:h},y));return v&&v.end(f),v})}function startStandaloneWebVitalSpan(d){var A;const h=getClient();if(!h)return;const{name:f,transaction:y,attributes:g,startTime:b}=d,{release:v,environment:S,sendDefaultPii:O}=h.getOptions(),w=h.getIntegrationByName("Replay"),T=w==null?void 0:w.getReplayId(),E=getCurrentScope(),k=E.getUser(),C=k!==void 0?k.email||k.id||k.ip_address:void 0;let P;try{P=E.getScopeData().contexts.profile.profile_id}catch(D){}const M=X({release:v,environment:S,user:C||void 0,profile_id:P||void 0,replay_id:T||void 0,transaction:y,"user_agent.original":(A=WINDOW$1.navigator)==null?void 0:A.userAgent,"client.address":O?"{{auto}}":void 0},g);return startInactiveSpan({name:f,attributes:M,startTime:b,experimental:{standalone:!0}})}function getBrowserPerformanceAPI(){return WINDOW$1.addEventListener&&WINDOW$1.performance}function msToSec(d){return d/1e3}function extractNetworkProtocol(d){let h="unknown",f="unknown",y="";for(const g of d){if(g==="/"){[h,f]=d.split("/");break}if(!isNaN(Number(g))){h=y==="h"?"http":y,f=d.split(y)[1];break}y+=g}return y===d&&(h=y),{name:h,version:f}}function supportsWebVital(d){try{return PerformanceObserver.supportedEntryTypes.includes(d)}catch(h){return!1}}function listenForWebVitalReportEvents(d,h){let f,y=!1;function g(S){!y&&f&&h(S,f),y=!0}onHidden(()=>{g("pagehide")});const b=d.on("beforeStartNavigationSpan",(S,O)=>{O!=null&&O.isRedirect||(g("navigation"),b==null||b(),v==null||v())}),v=d.on("afterStartPageLoadSpan",S=>{f=S.spanContext().spanId,v==null||v()})}function trackClsAsStandaloneSpan(d){let h=0,f;if(!supportsWebVital("layout-shift"))return;const y=addClsInstrumentationHandler(({metric:g})=>{const b=g.entries[g.entries.length-1];b&&(h=g.value,f=b)},!0);listenForWebVitalReportEvents(d,(g,b)=>{sendStandaloneClsSpan(h,f,b,g),y()})}function sendStandaloneClsSpan(d,h,f,y){var w;DEBUG_BUILD$2&&debug$1.log(`Sending CLS span (${d})`);const g=msToSec((browserPerformanceTimeOrigin()||0)+((h==null?void 0:h.startTime)||0)),b=getCurrentScope().getScopeData().transactionName,v=h?htmlTreeAsString((w=h.sources[0])==null?void 0:w.node):"Layout shift",S={[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser.cls",[SEMANTIC_ATTRIBUTE_SENTRY_OP]:"ui.webvital.cls",[SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:(h==null?void 0:h.duration)||0,"sentry.pageload.span_id":f,"sentry.report_event":y};h!=null&&h.sources&&h.sources.forEach((T,E)=>{S[`cls.source.${E+1}`]=htmlTreeAsString(T.node)});const O=startStandaloneWebVitalSpan({name:v,transaction:b,attributes:S,startTime:g});O&&(O.addEvent("cls",{[SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:"",[SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:d}),O.end(g))}function trackLcpAsStandaloneSpan(d){let h=0,f;if(!supportsWebVital("largest-contentful-paint"))return;const y=addLcpInstrumentationHandler(({metric:g})=>{const b=g.entries[g.entries.length-1];b&&(h=g.value,f=b)},!0);listenForWebVitalReportEvents(d,(g,b)=>{_sendStandaloneLcpSpan(h,f,b,g),y()})}function _sendStandaloneLcpSpan(d,h,f,y){DEBUG_BUILD$2&&debug$1.log(`Sending LCP span (${d})`);const g=msToSec((browserPerformanceTimeOrigin()||0)+((h==null?void 0:h.startTime)||0)),b=getCurrentScope().getScopeData().transactionName,v=h?htmlTreeAsString(h.element):"Largest contentful paint",S={[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser.lcp",[SEMANTIC_ATTRIBUTE_SENTRY_OP]:"ui.webvital.lcp",[SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:0,"sentry.pageload.span_id":f,"sentry.report_event":y};h&&(h.element&&(S["lcp.element"]=htmlTreeAsString(h.element)),h.id&&(S["lcp.id"]=h.id),h.url&&(S["lcp.url"]=h.url.trim().slice(0,200)),h.loadTime!=null&&(S["lcp.loadTime"]=h.loadTime),h.renderTime!=null&&(S["lcp.renderTime"]=h.renderTime),h.size!=null&&(S["lcp.size"]=h.size));const O=startStandaloneWebVitalSpan({name:v,transaction:b,attributes:S,startTime:g});O&&(O.addEvent("lcp",{[SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:"millisecond",[SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:d}),O.end(g))}const MAX_INT_AS_BYTES=2147483647;let _performanceCursor=0,_measurements={},_lcpEntry,_clsEntry;function startTrackingWebVitals({recordClsStandaloneSpans:d,recordLcpStandaloneSpans:h,client:f}){const y=getBrowserPerformanceAPI();if(y&&browserPerformanceTimeOrigin()){y.mark&&WINDOW$1.performance.mark("sentry-tracing-init");const g=_trackFID(),b=h?trackLcpAsStandaloneSpan(f):_trackLCP(),v=_trackTtfb(),S=d?trackClsAsStandaloneSpan(f):_trackCLS();return()=>{g(),b==null||b(),v(),S==null||S()}}return()=>{}}function startTrackingLongTasks(){addPerformanceInstrumentationHandler("longtask",({entries:d})=>{const h=getActiveSpan();if(!h)return;const{op:f,start_timestamp:y}=spanToJSON(h);for(const g of d){const b=msToSec(browserPerformanceTimeOrigin()+g.startTime),v=msToSec(g.duration);f==="navigation"&&y&&b<y||startAndEndSpan(h,b,b+v,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}})}})}function startTrackingLongAnimationFrames(){new PerformanceObserver(h=>{const f=getActiveSpan();if(f)for(const y of h.getEntries()){if(!y.scripts[0])continue;const g=msToSec(browserPerformanceTimeOrigin()+y.startTime),{start_timestamp:b,op:v}=spanToJSON(f);if(v==="navigation"&&b&&g<b)continue;const S=msToSec(y.duration),O={[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"},w=y.scripts[0],{invoker:T,invokerType:E,sourceURL:k,sourceFunctionName:C,sourceCharPosition:P}=w;O["browser.script.invoker"]=T,O["browser.script.invoker_type"]=E,k&&(O["code.filepath"]=k),C&&(O["code.function"]=C),P!==-1&&(O["browser.script.source_char_position"]=P),startAndEndSpan(f,g,g+S,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:O})}}).observe({type:"long-animation-frame",buffered:!0})}function startTrackingInteractions(){addPerformanceInstrumentationHandler("event",({entries:d})=>{const h=getActiveSpan();if(h){for(const f of d)if(f.name==="click"){const y=msToSec(browserPerformanceTimeOrigin()+f.startTime),g=msToSec(f.duration),b={name:htmlTreeAsString(f.target),op:`ui.interaction.${f.name}`,startTime:y,attributes:{[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}},v=getComponentName(f.target);v&&(b.attributes["ui.component_name"]=v),startAndEndSpan(h,y,y+g,b)}}})}function _trackCLS(){return addClsInstrumentationHandler(({metric:d})=>{const h=d.entries[d.entries.length-1];h&&(_measurements.cls={value:d.value,unit:""},_clsEntry=h)},!0)}function _trackLCP(){return addLcpInstrumentationHandler(({metric:d})=>{const h=d.entries[d.entries.length-1];h&&(_measurements.lcp={value:d.value,unit:"millisecond"},_lcpEntry=h)},!0)}function _trackFID(){return addFidInstrumentationHandler(({metric:d})=>{const h=d.entries[d.entries.length-1];if(!h)return;const f=msToSec(browserPerformanceTimeOrigin()),y=msToSec(h.startTime);_measurements.fid={value:d.value,unit:"millisecond"},_measurements["mark.fid"]={value:f+y,unit:"second"}})}function _trackTtfb(){return addTtfbInstrumentationHandler(({metric:d})=>{d.entries[d.entries.length-1]&&(_measurements.ttfb={value:d.value,unit:"millisecond"})})}function addPerformanceEntries(d,h){const f=getBrowserPerformanceAPI(),y=browserPerformanceTimeOrigin();if(!(f!=null&&f.getEntries)||!y)return;const g=msToSec(y),b=f.getEntries(),{op:v,start_timestamp:S}=spanToJSON(d);if(b.slice(_performanceCursor).forEach(O=>{const w=msToSec(O.startTime),T=msToSec(Math.max(0,O.duration));if(!(v==="navigation"&&S&&g+w<S))switch(O.entryType){case"navigation":{_addNavigationSpans(d,O,g);break}case"mark":case"paint":case"measure":{_addMeasureSpans(d,O,w,T,g,h.ignorePerformanceApiSpans);const E=getVisibilityWatcher(),k=O.startTime<E.firstHiddenTime;O.name==="first-paint"&&k&&(_measurements.fp={value:O.startTime,unit:"millisecond"}),O.name==="first-contentful-paint"&&k&&(_measurements.fcp={value:O.startTime,unit:"millisecond"});break}case"resource":{_addResourceSpans(d,O,O.name,w,T,g,h.ignoreResourceSpans);break}}}),_performanceCursor=Math.max(b.length-1,0),_trackNavigator(d),v==="pageload"){_addTtfbRequestTimeToMeasurements(_measurements);const O=_measurements["mark.fid"];O&&_measurements.fid&&(startAndEndSpan(d,O.value,O.value+msToSec(_measurements.fid.value),{name:"first input delay",op:"ui.action",attributes:{[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}),delete _measurements["mark.fid"]),h.recordClsOnPageloadSpan||delete _measurements.cls,h.recordLcpOnPageloadSpan||delete _measurements.lcp,Object.entries(_measurements).forEach(([w,T])=>{setMeasurement(w,T.value,T.unit)}),d.setAttribute("performance.timeOrigin",g),d.setAttribute("performance.activationStart",getActivationStart()),_setWebVitalAttributes(d,h)}_lcpEntry=void 0,_clsEntry=void 0,_measurements={}}function _addMeasureSpans(d,h,f,y,g,b){if(["mark","measure"].includes(h.entryType)&&stringMatchesSomePattern(h.name,b))return;const v=getNavigationEntry(!1),S=msToSec(v?v.requestStart:0),O=g+Math.max(f,S),w=g+f,T=w+y,E={[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.resource.browser.metrics"};O!==w&&(E["sentry.browser.measure_happened_before_request"]=!0,E["sentry.browser.measure_start_time"]=O),_addDetailToSpanAttributes(E,h),O<=T&&startAndEndSpan(d,O,T,{name:h.name,op:h.entryType,attributes:E})}function _addDetailToSpanAttributes(d,h){try{const f=h.detail;if(!f)return;if(typeof f=="object"){for(const[y,g]of Object.entries(f))if(g&&isPrimitive(g))d[`sentry.browser.measure.detail.${y}`]=g;else if(g!==void 0)try{d[`sentry.browser.measure.detail.${y}`]=JSON.stringify(g)}catch(b){}return}if(isPrimitive(f)){d["sentry.browser.measure.detail"]=f;return}try{d["sentry.browser.measure.detail"]=JSON.stringify(f)}catch(y){}}catch(f){}}function _addNavigationSpans(d,h,f){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(y=>{_addPerformanceNavigationTiming(d,h,y,f)}),_addPerformanceNavigationTiming(d,h,"secureConnection",f,"TLS/SSL"),_addPerformanceNavigationTiming(d,h,"fetch",f,"cache"),_addPerformanceNavigationTiming(d,h,"domainLookup",f,"DNS"),_addRequest(d,h,f)}function _addPerformanceNavigationTiming(d,h,f,y,g=f){const b=_getEndPropertyNameForNavigationTiming(f),v=h[b],S=h[`${f}Start`];!S||!v||startAndEndSpan(d,y+msToSec(S),y+msToSec(v),{op:`browser.${g}`,name:h.name,attributes:X({[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"},f==="redirect"&&h.redirectCount!=null?{"http.redirect_count":h.redirectCount}:{})})}function _getEndPropertyNameForNavigationTiming(d){return d==="secureConnection"?"connectEnd":d==="fetch"?"domainLookupStart":`${d}End`}function _addRequest(d,h,f){const y=f+msToSec(h.requestStart),g=f+msToSec(h.responseEnd),b=f+msToSec(h.responseStart);h.responseEnd&&(startAndEndSpan(d,y,g,{op:"browser.request",name:h.name,attributes:{[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}),startAndEndSpan(d,b,g,{op:"browser.response",name:h.name,attributes:{[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}))}function _addResourceSpans(d,h,f,y,g,b,v){if(h.initiatorType==="xmlhttprequest"||h.initiatorType==="fetch")return;const S=h.initiatorType?`resource.${h.initiatorType}`:"resource.other";if(v!=null&&v.includes(S))return;const O=parseUrl(f),w={[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.resource.browser.metrics"};setResourceEntrySizeData(w,h,"transferSize","http.response_transfer_size"),setResourceEntrySizeData(w,h,"encodedBodySize","http.response_content_length"),setResourceEntrySizeData(w,h,"decodedBodySize","http.decoded_response_content_length");const T=h.deliveryType;T!=null&&(w["http.response_delivery_type"]=T);const E=h.renderBlockingStatus;if(E&&(w["resource.render_blocking_status"]=E),O.protocol&&(w["url.scheme"]=O.protocol.split(":").pop()),O.host&&(w["server.address"]=O.host),w["url.same_origin"]=f.includes(WINDOW$1.location.origin),h.nextHopProtocol!=null){const{name:P,version:M}=extractNetworkProtocol(h.nextHopProtocol);w["network.protocol.name"]=P,w["network.protocol.version"]=M}const k=b+y,C=k+g;startAndEndSpan(d,k,C,{name:f.replace(WINDOW$1.location.origin,""),op:S,attributes:w})}function _trackNavigator(d){const h=WINDOW$1.navigator;if(!h)return;const f=h.connection;f&&(f.effectiveType&&d.setAttribute("effectiveConnectionType",f.effectiveType),f.type&&d.setAttribute("connectionType",f.type),isMeasurementValue(f.rtt)&&(_measurements["connection.rtt"]={value:f.rtt,unit:"millisecond"})),isMeasurementValue(h.deviceMemory)&&d.setAttribute("deviceMemory",`${h.deviceMemory} GB`),isMeasurementValue(h.hardwareConcurrency)&&d.setAttribute("hardwareConcurrency",String(h.hardwareConcurrency))}function _setWebVitalAttributes(d,h){_lcpEntry&&h.recordLcpOnPageloadSpan&&(_lcpEntry.element&&d.setAttribute("lcp.element",htmlTreeAsString(_lcpEntry.element)),_lcpEntry.id&&d.setAttribute("lcp.id",_lcpEntry.id),_lcpEntry.url&&d.setAttribute("lcp.url",_lcpEntry.url.trim().slice(0,200)),_lcpEntry.loadTime!=null&&d.setAttribute("lcp.loadTime",_lcpEntry.loadTime),_lcpEntry.renderTime!=null&&d.setAttribute("lcp.renderTime",_lcpEntry.renderTime),d.setAttribute("lcp.size",_lcpEntry.size)),_clsEntry!=null&&_clsEntry.sources&&h.recordClsOnPageloadSpan&&_clsEntry.sources.forEach((f,y)=>d.setAttribute(`cls.source.${y+1}`,htmlTreeAsString(f.node)))}function setResourceEntrySizeData(d,h,f,y){const g=h[f];g!=null&&g<MAX_INT_AS_BYTES&&(d[y]=g)}function _addTtfbRequestTimeToMeasurements(d){const h=getNavigationEntry(!1);if(!h)return;const{responseStart:f,requestStart:y}=h;y<=f&&(d["ttfb.requestTime"]={value:f-y,unit:"millisecond"})}function startTrackingElementTiming(){return getBrowserPerformanceAPI()&&browserPerformanceTimeOrigin()?addPerformanceInstrumentationHandler("element",_onElementTiming):()=>{}}const _onElementTiming=({entries:d})=>{const h=getActiveSpan(),f=h?getRootSpan(h):void 0,y=f?spanToJSON(f).description:getCurrentScope().getScopeData().transactionName;d.forEach(g=>{var C,P;const b=g;if(!b.identifier)return;const v=b.name,S=b.renderTime,O=b.loadTime,[w,T]=O?[msToSec(O),"load-time"]:S?[msToSec(S),"render-time"]:[timestampInSeconds(),"entry-emission"],E=v==="image-paint"?msToSec(Math.max(0,(S!=null?S:0)-(O!=null?O:0))):0,k={[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.elementtiming",[SEMANTIC_ATTRIBUTE_SENTRY_OP]:"ui.elementtiming",[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"component","sentry.span_start_time_source":T,"sentry.transaction_name":y,"element.id":b.id,"element.type":((P=(C=b.element)==null?void 0:C.tagName)==null?void 0:P.toLowerCase())||"unknown","element.size":b.naturalWidth&&b.naturalHeight?`${b.naturalWidth}x${b.naturalHeight}`:void 0,"element.render_time":S,"element.load_time":O,"element.url":b.url||void 0,"element.identifier":b.identifier,"element.paint_type":v};startSpan({name:`element[${b.identifier}]`,attributes:k,startTime:w,onlyIfParent:!0},M=>{M.end(w+E)})})},DEBOUNCE_DURATION=1e3;let debounceTimerID,lastCapturedEventType,lastCapturedEventTargetId;function addClickKeypressInstrumentationHandler(d){addHandler$1("dom",d),maybeInstrument("dom",instrumentDOM)}function instrumentDOM(){if(!WINDOW$1.document)return;const d=triggerHandlers$1.bind(null,"dom"),h=makeDOMEventHandler(d,!0);WINDOW$1.document.addEventListener("click",h,!1),WINDOW$1.document.addEventListener("keypress",h,!1),["EventTarget","Node"].forEach(f=>{var b,v;const g=(b=WINDOW$1[f])==null?void 0:b.prototype;(v=g==null?void 0:g.hasOwnProperty)!=null&&v.call(g,"addEventListener")&&(fill$1(g,"addEventListener",function(S){return function(O,w,T){if(O==="click"||O=="keypress")try{const E=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},k=E[O]=E[O]||{refCount:0};if(!k.handler){const C=makeDOMEventHandler(d);k.handler=C,S.call(this,O,C,T)}k.refCount++}catch(E){}return S.call(this,O,w,T)}}),fill$1(g,"removeEventListener",function(S){return function(O,w,T){if(O==="click"||O=="keypress")try{const E=this.__sentry_instrumentation_handlers__||{},k=E[O];k&&(k.refCount--,k.refCount<=0&&(S.call(this,O,k.handler,T),k.handler=void 0,delete E[O]),Object.keys(E).length===0&&delete this.__sentry_instrumentation_handlers__)}catch(E){}return S.call(this,O,w,T)}}))})}function isSimilarToLastCapturedEvent(d){if(d.type!==lastCapturedEventType)return!1;try{if(!d.target||d.target._sentryId!==lastCapturedEventTargetId)return!1}catch(h){}return!0}function shouldSkipDOMEvent(d,h){return d!=="keypress"?!1:h!=null&&h.tagName?!(h.tagName==="INPUT"||h.tagName==="TEXTAREA"||h.isContentEditable):!0}function makeDOMEventHandler(d,h=!1){return f=>{if(!f||f._sentryCaptured)return;const y=getEventTarget$1(f);if(shouldSkipDOMEvent(f.type,y))return;addNonEnumerableProperty(f,"_sentryCaptured",!0),y&&!y._sentryId&&addNonEnumerableProperty(y,"_sentryId",uuid4());const g=f.type==="keypress"?"input":f.type;isSimilarToLastCapturedEvent(f)||(d({event:f,name:g,global:h}),lastCapturedEventType=f.type,lastCapturedEventTargetId=y?y._sentryId:void 0),clearTimeout(debounceTimerID),debounceTimerID=WINDOW$1.setTimeout(()=>{lastCapturedEventTargetId=void 0,lastCapturedEventType=void 0},DEBOUNCE_DURATION)}}function getEventTarget$1(d){try{return d.target}catch(h){return null}}let lastHref;function addHistoryInstrumentationHandler(d){const h="history";addHandler$1(h,d),maybeInstrument(h,instrumentHistory)}function instrumentHistory(){if(WINDOW$1.addEventListener("popstate",()=>{const h=WINDOW$1.location.href,f=lastHref;if(lastHref=h,f===h)return;triggerHandlers$1("history",{from:f,to:h})}),!supportsHistory())return;function d(h){return function(...f){const y=f.length>2?f[2]:void 0;if(y){const g=lastHref,b=getAbsoluteUrl(String(y));if(lastHref=b,g===b)return h.apply(this,f);triggerHandlers$1("history",{from:g,to:b})}return h.apply(this,f)}}fill$1(WINDOW$1.history,"pushState",d),fill$1(WINDOW$1.history,"replaceState",d)}function getAbsoluteUrl(d){try{return new URL(d,WINDOW$1.location.origin).toString()}catch(h){return d}}const cachedImplementations$2={};function getNativeImplementation(d){const h=cachedImplementations$2[d];if(h)return h;let f=WINDOW$1[d];if(isNativeFunction(f))return cachedImplementations$2[d]=f.bind(WINDOW$1);const y=WINDOW$1.document;if(y&&typeof y.createElement=="function")try{const g=y.createElement("iframe");g.hidden=!0,y.head.appendChild(g);const b=g.contentWindow;b!=null&&b[d]&&(f=b[d]),y.head.removeChild(g)}catch(g){DEBUG_BUILD$2&&debug$1.warn(`Could not create sandbox iframe for ${d} check, bailing to window.${d}: `,g)}return f&&(cachedImplementations$2[d]=f.bind(WINDOW$1))}function clearCachedImplementation(d){cachedImplementations$2[d]=void 0}function setTimeout$3(...d){return getNativeImplementation("setTimeout")(...d)}const SENTRY_XHR_DATA_KEY="__sentry_xhr_v3__";function addXhrInstrumentationHandler(d){addHandler$1("xhr",d),maybeInstrument("xhr",instrumentXHR)}function instrumentXHR(){if(!WINDOW$1.XMLHttpRequest)return;const d=XMLHttpRequest.prototype;d.open=new Proxy(d.open,{apply(h,f,y){const g=new Error,b=timestampInSeconds()*1e3,v=isString(y[0])?y[0].toUpperCase():void 0,S=parseXhrUrlArg(y[1]);if(!v||!S)return h.apply(f,y);f[SENTRY_XHR_DATA_KEY]={method:v,url:S,request_headers:{}},v==="POST"&&S.match(/sentry_key/)&&(f.__sentry_own_request__=!0);const O=()=>{const w=f[SENTRY_XHR_DATA_KEY];if(w&&f.readyState===4){try{w.status_code=f.status}catch(E){}const T={endTimestamp:timestampInSeconds()*1e3,startTimestamp:b,xhr:f,virtualError:g};triggerHandlers$1("xhr",T)}};return"onreadystatechange"in f&&typeof f.onreadystatechange=="function"?f.onreadystatechange=new Proxy(f.onreadystatechange,{apply(w,T,E){return O(),w.apply(T,E)}}):f.addEventListener("readystatechange",O),f.setRequestHeader=new Proxy(f.setRequestHeader,{apply(w,T,E){const[k,C]=E,P=T[SENTRY_XHR_DATA_KEY];return P&&isString(k)&&isString(C)&&(P.request_headers[k.toLowerCase()]=C),w.apply(T,E)}}),h.apply(f,y)}}),d.send=new Proxy(d.send,{apply(h,f,y){const g=f[SENTRY_XHR_DATA_KEY];if(!g)return h.apply(f,y);y[0]!==void 0&&(g.body=y[0]);const b={startTimestamp:timestampInSeconds()*1e3,xhr:f};return triggerHandlers$1("xhr",b),h.apply(f,y)}})}function parseXhrUrlArg(d){if(isString(d))return d;try{return d.toString()}catch(h){}}function serializeFormData(d){return new URLSearchParams(d).toString()}function getBodyString(d,h=debug$1){try{if(typeof d=="string")return[d];if(d instanceof URLSearchParams)return[d.toString()];if(d instanceof FormData)return[serializeFormData(d)];if(!d)return[void 0]}catch(f){return DEBUG_BUILD$2&&h.error(f,"Failed to serialize body",d),[void 0,"BODY_PARSE_ERROR"]}return DEBUG_BUILD$2&&h.log("Skipping network body because of body type",d),[void 0,"UNPARSEABLE_BODY_TYPE"]}function getFetchRequestArgBody(d=[]){if(!(d.length!==2||typeof d[1]!="object"))return d[1].body}const LAST_INTERACTIONS=[],INTERACTIONS_SPAN_MAP=new Map,MAX_PLAUSIBLE_INP_DURATION=60;function startTrackingINP(){if(getBrowserPerformanceAPI()&&browserPerformanceTimeOrigin()){const h=_trackINP();return()=>{h()}}return()=>{}}const INP_ENTRY_MAP={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function _trackINP(){return addInpInstrumentationHandler(_onInp)}const _onInp=({metric:d})=>{if(d.value==null)return;const h=msToSec(d.value);if(h>MAX_PLAUSIBLE_INP_DURATION)return;const f=d.entries.find(P=>P.duration===d.value&&INP_ENTRY_MAP[P.name]);if(!f)return;const{interactionId:y}=f,g=INP_ENTRY_MAP[f.name],b=msToSec(browserPerformanceTimeOrigin()+f.startTime),v=getActiveSpan(),S=v?getRootSpan(v):void 0,w=(y!=null?INTERACTIONS_SPAN_MAP.get(y):void 0)||S,T=w?spanToJSON(w).description:getCurrentScope().getScopeData().transactionName,E=htmlTreeAsString(f.target),k={[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser.inp",[SEMANTIC_ATTRIBUTE_SENTRY_OP]:`ui.interaction.${g}`,[SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:f.duration},C=startStandaloneWebVitalSpan({name:E,transaction:T,attributes:k,startTime:b});C&&(C.addEvent("inp",{[SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:"millisecond",[SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:d.value}),C.end(b+h))};function registerInpInteractionListener(){const d=({entries:h})=>{const f=getActiveSpan(),y=f&&getRootSpan(f);h.forEach(g=>{if(!isPerformanceEventTiming(g)||!y)return;const b=g.interactionId;if(b!=null&&!INTERACTIONS_SPAN_MAP.has(b)){if(LAST_INTERACTIONS.length>10){const v=LAST_INTERACTIONS.shift();INTERACTIONS_SPAN_MAP.delete(v)}LAST_INTERACTIONS.push(b),INTERACTIONS_SPAN_MAP.set(b,y)}})};addPerformanceInstrumentationHandler("event",d),addPerformanceInstrumentationHandler("first-input",d)}function makeFetchTransport(d,h=getNativeImplementation("fetch")){let f=0,y=0;function g(b){const v=b.body.length;f+=v,y++;const S=X({body:b.body,method:"POST",referrerPolicy:"strict-origin",headers:d.headers,keepalive:f<=6e4&&y<15},d.fetchOptions);if(!h)return clearCachedImplementation("fetch"),rejectedSyncPromise("No fetch implementation available");try{return h(d.url,S).then(O=>(f-=v,y--,{statusCode:O.status,headers:{"x-sentry-rate-limits":O.headers.get("X-Sentry-Rate-Limits"),"retry-after":O.headers.get("Retry-After")}}))}catch(O){return clearCachedImplementation("fetch"),f-=v,y--,rejectedSyncPromise(O)}}return createTransport(d,g)}const CHROME_PRIORITY=30,GECKO_PRIORITY=50;function createFrame(d,h,f,y){const g={filename:d,function:h==="<anonymous>"?UNKNOWN_FUNCTION:h,in_app:!0};return f!==void 0&&(g.lineno=f),y!==void 0&&(g.colno=y),g}const chromeRegexNoFnName=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,chromeRegex=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,chromeEvalRegex=/\((\S*)(?::(\d+))(?::(\d+))\)/,chromeStackParserFn=d=>{const h=chromeRegexNoFnName.exec(d);if(h){const[,y,g,b]=h;return createFrame(y,UNKNOWN_FUNCTION,+g,+b)}const f=chromeRegex.exec(d);if(f){if(f[2]&&f[2].indexOf("eval")===0){const v=chromeEvalRegex.exec(f[2]);v&&(f[2]=v[1],f[3]=v[2],f[4]=v[3])}const[g,b]=extractSafariExtensionDetails(f[1]||UNKNOWN_FUNCTION,f[2]);return createFrame(b,g,f[3]?+f[3]:void 0,f[4]?+f[4]:void 0)}},chromeStackLineParser=[CHROME_PRIORITY,chromeStackParserFn],geckoREgex=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,geckoEvalRegex=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,gecko=d=>{const h=geckoREgex.exec(d);if(h){if(h[3]&&h[3].indexOf(" > eval")>-1){const b=geckoEvalRegex.exec(h[3]);b&&(h[1]=h[1]||"eval",h[3]=b[1],h[4]=b[2],h[5]="")}let y=h[3],g=h[1]||UNKNOWN_FUNCTION;return[g,y]=extractSafariExtensionDetails(g,y),createFrame(y,g,h[4]?+h[4]:void 0,h[5]?+h[5]:void 0)}},geckoStackLineParser=[GECKO_PRIORITY,gecko],defaultStackLineParsers=[chromeStackLineParser,geckoStackLineParser],defaultStackParser=createStackParser(...defaultStackLineParsers),extractSafariExtensionDetails=(d,h)=>{const f=d.indexOf("safari-extension")!==-1,y=d.indexOf("safari-web-extension")!==-1;return f||y?[d.indexOf("@")!==-1?d.split("@")[0]:UNKNOWN_FUNCTION,f?`safari-extension:${h}`:`safari-web-extension:${h}`]:[d,h]},DEBUG_BUILD$1=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,MAX_ALLOWED_STRING_LENGTH=1024,INTEGRATION_NAME$3="Breadcrumbs",_breadcrumbsIntegration=((d={})=>{const h=X({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},d);return{name:INTEGRATION_NAME$3,setup(f){h.console&&addConsoleInstrumentationHandler(_getConsoleBreadcrumbHandler(f)),h.dom&&addClickKeypressInstrumentationHandler(_getDomBreadcrumbHandler(f,h.dom)),h.xhr&&addXhrInstrumentationHandler(_getXhrBreadcrumbHandler(f)),h.fetch&&addFetchInstrumentationHandler(_getFetchBreadcrumbHandler(f)),h.history&&addHistoryInstrumentationHandler(_getHistoryBreadcrumbHandler(f)),h.sentry&&f.on("beforeSendEvent",_getSentryBreadcrumbHandler(f))}}}),breadcrumbsIntegration=_breadcrumbsIntegration;function _getSentryBreadcrumbHandler(d){return function(f){getClient()===d&&addBreadcrumb({category:`sentry.${f.type==="transaction"?"transaction":"event"}`,event_id:f.event_id,level:f.level,message:getEventDescription(f)},{event:f})}}function _getDomBreadcrumbHandler(d,h){return function(y){if(getClient()!==d)return;let g,b,v=typeof h=="object"?h.serializeAttribute:void 0,S=typeof h=="object"&&typeof h.maxStringLength=="number"?h.maxStringLength:void 0;S&&S>MAX_ALLOWED_STRING_LENGTH&&(DEBUG_BUILD$1&&debug$1.warn(`\`dom.maxStringLength\` cannot exceed ${MAX_ALLOWED_STRING_LENGTH}, but a value of ${S} was configured. Sentry will use ${MAX_ALLOWED_STRING_LENGTH} instead.`),S=MAX_ALLOWED_STRING_LENGTH),typeof v=="string"&&(v=[v]);try{const w=y.event,T=_isEvent(w)?w.target:w;g=htmlTreeAsString(T,{keyAttrs:v,maxStringLength:S}),b=getComponentName(T)}catch(w){g="<unknown>"}if(g.length===0)return;const O={category:`ui.${y.name}`,message:g};b&&(O.data={"ui.component_name":b}),addBreadcrumb(O,{event:y.event,name:y.name,global:y.global})}}function _getConsoleBreadcrumbHandler(d){return function(f){if(getClient()!==d)return;const y={category:"console",data:{arguments:f.args,logger:"console"},level:severityLevelFromString(f.level),message:safeJoin(f.args," ")};if(f.level==="assert")if(f.args[0]===!1)y.message=`Assertion failed: ${safeJoin(f.args.slice(1)," ")||"console.assert"}`,y.data.arguments=f.args.slice(1);else return;addBreadcrumb(y,{input:f.args,level:f.level})}}function _getXhrBreadcrumbHandler(d){return function(f){if(getClient()!==d)return;const{startTimestamp:y,endTimestamp:g}=f,b=f.xhr[SENTRY_XHR_DATA_KEY];if(!y||!g||!b)return;const{method:v,url:S,status_code:O,body:w}=b,T={method:v,url:S,status_code:O},E={xhr:f.xhr,input:w,startTimestamp:y,endTimestamp:g},k={category:"xhr",data:T,type:"http",level:getBreadcrumbLogLevelFromHttpStatusCode(O)};d.emit("beforeOutgoingRequestBreadcrumb",k,E),addBreadcrumb(k,E)}}function _getFetchBreadcrumbHandler(d){return function(f){if(getClient()!==d)return;const{startTimestamp:y,endTimestamp:g}=f;if(g&&!(f.fetchData.url.match(/sentry_key/)&&f.fetchData.method==="POST"))if(f.fetchData.method,f.fetchData.url,f.error){const b=f.fetchData,v={data:f.error,input:f.args,startTimestamp:y,endTimestamp:g},S={category:"fetch",data:b,level:"error",type:"http"};d.emit("beforeOutgoingRequestBreadcrumb",S,v),addBreadcrumb(S,v)}else{const b=f.response,v=Re(X({},f.fetchData),{status_code:b==null?void 0:b.status});f.fetchData.request_body_size,f.fetchData.response_body_size,b==null||b.status;const S={input:f.args,response:b,startTimestamp:y,endTimestamp:g},O={category:"fetch",data:v,type:"http",level:getBreadcrumbLogLevelFromHttpStatusCode(v.status_code)};d.emit("beforeOutgoingRequestBreadcrumb",O,S),addBreadcrumb(O,S)}}}function _getHistoryBreadcrumbHandler(d){return function(f){if(getClient()!==d)return;let y=f.from,g=f.to;const b=parseUrl(WINDOW$2.location.href);let v=y?parseUrl(y):void 0;const S=parseUrl(g);v!=null&&v.path||(v=b),b.protocol===S.protocol&&b.host===S.host&&(g=S.relative),b.protocol===v.protocol&&b.host===v.host&&(y=v.relative),addBreadcrumb({category:"navigation",data:{from:y,to:g}})}}function _isEvent(d){return!!d&&!!d.target}const DEFAULT_EVENT_TARGET=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],INTEGRATION_NAME$2="BrowserApiErrors",_browserApiErrorsIntegration=((d={})=>{const h=X({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1},d);return{name:INTEGRATION_NAME$2,setupOnce(){h.setTimeout&&fill$1(WINDOW$2,"setTimeout",_wrapTimeFunction),h.setInterval&&fill$1(WINDOW$2,"setInterval",_wrapTimeFunction),h.requestAnimationFrame&&fill$1(WINDOW$2,"requestAnimationFrame",_wrapRAF),h.XMLHttpRequest&&"XMLHttpRequest"in WINDOW$2&&fill$1(XMLHttpRequest.prototype,"send",_wrapXHR);const f=h.eventTarget;f&&(Array.isArray(f)?f:DEFAULT_EVENT_TARGET).forEach(g=>_wrapEventTarget(g,h))}}}),browserApiErrorsIntegration=_browserApiErrorsIntegration;function _wrapTimeFunction(d){return function(...h){const f=h[0];return h[0]=wrap(f,{mechanism:{data:{function:getFunctionName(d)},handled:!1,type:"instrument"}}),d.apply(this,h)}}function _wrapRAF(d){return function(h){return d.apply(this,[wrap(h,{mechanism:{data:{function:"requestAnimationFrame",handler:getFunctionName(d)},handled:!1,type:"instrument"}})])}}function _wrapXHR(d){return function(...h){const f=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(g=>{g in f&&typeof f[g]=="function"&&fill$1(f,g,function(b){const v={mechanism:{data:{function:g,handler:getFunctionName(b)},handled:!1,type:"instrument"}},S=getOriginalFunction(b);return S&&(v.mechanism.data.handler=getFunctionName(S)),wrap(b,v)})}),d.apply(this,h)}}function _wrapEventTarget(d,h){var g,b;const y=(g=WINDOW$2[d])==null?void 0:g.prototype;(b=y==null?void 0:y.hasOwnProperty)!=null&&b.call(y,"addEventListener")&&(fill$1(y,"addEventListener",function(v){return function(S,O,w){try{isEventListenerObject(O)&&(O.handleEvent=wrap(O.handleEvent,{mechanism:{data:{function:"handleEvent",handler:getFunctionName(O),target:d},handled:!1,type:"instrument"}}))}catch(T){}return h.unregisterOriginalCallbacks&&unregisterOriginalCallback(this,S,O),v.apply(this,[S,wrap(O,{mechanism:{data:{function:"addEventListener",handler:getFunctionName(O),target:d},handled:!1,type:"instrument"}}),w])}}),fill$1(y,"removeEventListener",function(v){return function(S,O,w){try{const T=O.__sentry_wrapped__;T&&v.call(this,S,T,w)}catch(T){}return v.call(this,S,O,w)}}))}function isEventListenerObject(d){return typeof d.handleEvent=="function"}function unregisterOriginalCallback(d,h,f){d&&typeof d=="object"&&"removeEventListener"in d&&typeof d.removeEventListener=="function"&&d.removeEventListener(h,f)}const browserSessionIntegration=()=>({name:"BrowserSession",setupOnce(){if(typeof WINDOW$2.document=="undefined"){DEBUG_BUILD$1&&debug$1.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}startSession({ignoreDuration:!0}),captureSession(),addHistoryInstrumentationHandler(({from:d,to:h})=>{d!==void 0&&d!==h&&(startSession({ignoreDuration:!0}),captureSession())})}}),INTEGRATION_NAME$1="GlobalHandlers",_globalHandlersIntegration=((d={})=>{const h=X({onerror:!0,onunhandledrejection:!0},d);return{name:INTEGRATION_NAME$1,setupOnce(){Error.stackTraceLimit=50},setup(f){h.onerror&&(_installGlobalOnErrorHandler(f),globalHandlerLog("onerror")),h.onunhandledrejection&&(_installGlobalOnUnhandledRejectionHandler(f),globalHandlerLog("onunhandledrejection"))}}}),globalHandlersIntegration=_globalHandlersIntegration;function _installGlobalOnErrorHandler(d){addGlobalErrorInstrumentationHandler(h=>{const{stackParser:f,attachStacktrace:y}=getOptions();if(getClient()!==d||shouldIgnoreOnError())return;const{msg:g,url:b,line:v,column:S,error:O}=h,w=_enhanceEventWithInitialFrame(eventFromUnknownInput(f,O||g,void 0,y,!1),b,v,S);w.level="error",captureEvent(w,{originalException:O,mechanism:{handled:!1,type:"onerror"}})})}function _installGlobalOnUnhandledRejectionHandler(d){addGlobalUnhandledRejectionInstrumentationHandler(h=>{const{stackParser:f,attachStacktrace:y}=getOptions();if(getClient()!==d||shouldIgnoreOnError())return;const g=_getUnhandledRejectionError(h),b=isPrimitive(g)?_eventFromRejectionWithPrimitive(g):eventFromUnknownInput(f,g,void 0,y,!0);b.level="error",captureEvent(b,{originalException:g,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function _getUnhandledRejectionError(d){if(isPrimitive(d))return d;try{if("reason"in d)return d.reason;if("detail"in d&&"reason"in d.detail)return d.detail.reason}catch(h){}return d}function _eventFromRejectionWithPrimitive(d){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(d)}`}]}}}function _enhanceEventWithInitialFrame(d,h,f,y){const g=d.exception=d.exception||{},b=g.values=g.values||[],v=b[0]=b[0]||{},S=v.stacktrace=v.stacktrace||{},O=S.frames=S.frames||[],w=y,T=f,E=isString(h)&&h.length>0?h:getLocationHref();return O.length===0&&O.push({colno:w,filename:E,function:UNKNOWN_FUNCTION,in_app:!0,lineno:T}),d}function globalHandlerLog(d){DEBUG_BUILD$1&&debug$1.log(`Global Handler attached: ${d}`)}function getOptions(){const d=getClient();return(d==null?void 0:d.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}const httpContextIntegration=()=>({name:"HttpContext",preprocessEvent(d){var y;if(!WINDOW$2.navigator&&!WINDOW$2.location&&!WINDOW$2.document)return;const h=getHttpRequestData(),f=X(X({},h.headers),(y=d.request)==null?void 0:y.headers);d.request=Re(X(X({},h),d.request),{headers:f})}}),DEFAULT_KEY="cause",DEFAULT_LIMIT=5,INTEGRATION_NAME="LinkedErrors",_linkedErrorsIntegration=((d={})=>{const h=d.limit||DEFAULT_LIMIT,f=d.key||DEFAULT_KEY;return{name:INTEGRATION_NAME,preprocessEvent(y,g,b){const v=b.getOptions();applyAggregateErrorsToEvent(exceptionFromError,v.stackParser,f,h,y,g)}}}),linkedErrorsIntegration=_linkedErrorsIntegration;function checkAndWarnIfIsEmbeddedBrowserExtension(){return _isEmbeddedBrowserExtension()?(DEBUG_BUILD$1&&consoleSandbox(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function _isEmbeddedBrowserExtension(){var b;if(typeof WINDOW$2.window=="undefined")return!1;const d=WINDOW$2;if(d.nw)return!1;const h=d.chrome||d.browser;if(!((b=h==null?void 0:h.runtime)!=null&&b.id))return!1;const f=getLocationHref(),y=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(WINDOW$2===WINDOW$2.top&&y.some(v=>f.startsWith(`${v}://`)))}function getDefaultIntegrations(d){return[inboundFiltersIntegration(),functionToStringIntegration(),browserApiErrorsIntegration(),breadcrumbsIntegration(),globalHandlersIntegration(),linkedErrorsIntegration(),dedupeIntegration(),httpContextIntegration(),browserSessionIntegration()]}function init$1(d={}){const h=!d.skipBrowserExtensionCheck&&checkAndWarnIfIsEmbeddedBrowserExtension(),f=Re(X({},d),{enabled:h?!1:d.enabled,stackParser:stackParserFromStackParserOptions(d.stackParser||defaultStackParser),integrations:getIntegrationsToSetup({integrations:d.integrations,defaultIntegrations:d.defaultIntegrations==null?getDefaultIntegrations():d.defaultIntegrations}),transport:d.transport||makeFetchTransport});return initAndBind(BrowserClient,f)}const WINDOW=GLOBAL_OBJ,REPLAY_SESSION_KEY="sentryReplaySession",REPLAY_EVENT_NAME="replay_event",UNABLE_TO_SEND_REPLAY="Unable to send Replay",SESSION_IDLE_PAUSE_DURATION=3e5,SESSION_IDLE_EXPIRE_DURATION=9e5,DEFAULT_FLUSH_MIN_DELAY=5e3,DEFAULT_FLUSH_MAX_DELAY=5500,BUFFER_CHECKOUT_TIME=6e4,RETRY_BASE_INTERVAL=5e3,RETRY_MAX_COUNT=3,NETWORK_BODY_MAX_SIZE=15e4,CONSOLE_ARG_MAX_SIZE=5e3,SLOW_CLICK_THRESHOLD=3e3,SLOW_CLICK_SCROLL_TIMEOUT=300,REPLAY_MAX_EVENT_BUFFER_SIZE=2e7,MIN_REPLAY_DURATION=4999,MIN_REPLAY_DURATION_LIMIT=15e3,MAX_REPLAY_DURATION=36e5;var __defProp$1$1=Object.defineProperty,__defNormalProp$1$1=(d,h,f)=>h in d?__defProp$1$1(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$1$1=(d,h,f)=>__defNormalProp$1$1(d,typeof h!="symbol"?h+"":h,f),NodeType$2=(d=>(d[d.Document=0]="Document",d[d.DocumentType=1]="DocumentType",d[d.Element=2]="Element",d[d.Text=3]="Text",d[d.CDATA=4]="CDATA",d[d.Comment=5]="Comment",d))(NodeType$2||{});function isElement$1(d){return d.nodeType===d.ELEMENT_NODE}function isShadowRoot(d){const h=d==null?void 0:d.host;return(h==null?void 0:h.shadowRoot)===d}function isNativeShadowDom(d){return Object.prototype.toString.call(d)==="[object ShadowRoot]"}function fixBrowserCompatibilityIssuesInCSS(d){return d.includes(" background-clip: text;")&&!d.includes(" -webkit-background-clip: text;")&&(d=d.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),d}function escapeImportStatement(d){const{cssText:h}=d;if(h.split('"').length<3)return h;const f=["@import",`url(${JSON.stringify(d.href)})`];return d.layerName===""?f.push("layer"):d.layerName&&f.push(`layer(${d.layerName})`),d.supportsText&&f.push(`supports(${d.supportsText})`),d.media.length&&f.push(d.media.mediaText),f.join(" ")+";"}function stringifyStylesheet(d){try{const h=d.rules||d.cssRules;return h?fixBrowserCompatibilityIssuesInCSS(Array.from(h,stringifyRule).join("")):null}catch(h){return null}}function fixAllCssProperty(d){let h="";for(let f=0;f<d.style.length;f++){const y=d.style,g=y[f],b=y.getPropertyPriority(g);h+=`${g}:${y.getPropertyValue(g)}${b?" !important":""};`}return`${d.selectorText} { ${h} }`}function stringifyRule(d){let h;if(isCSSImportRule(d))try{h=stringifyStylesheet(d.styleSheet)||escapeImportStatement(d)}catch(f){}else if(isCSSStyleRule(d)){let f=d.cssText;const y=d.selectorText.includes(":"),g=typeof d.style.all=="string"&&d.style.all;if(g&&(f=fixAllCssProperty(d)),y&&(f=fixSafariColons(f)),y||g)return f}return h||d.cssText}function fixSafariColons(d){const h=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return d.replace(h,"$1\\$2")}function isCSSImportRule(d){return"styleSheet"in d}function isCSSStyleRule(d){return"selectorText"in d}class Mirror{constructor(){__publicField$1$1(this,"idNodeMap",new Map),__publicField$1$1(this,"nodeMetaMap",new WeakMap)}getId(h){var y;if(!h)return-1;const f=(y=this.getMeta(h))==null?void 0:y.id;return f!=null?f:-1}getNode(h){return this.idNodeMap.get(h)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(h){return this.nodeMetaMap.get(h)||null}removeNodeFromMap(h){const f=this.getId(h);this.idNodeMap.delete(f),h.childNodes&&h.childNodes.forEach(y=>this.removeNodeFromMap(y))}has(h){return this.idNodeMap.has(h)}hasNode(h){return this.nodeMetaMap.has(h)}add(h,f){const y=f.id;this.idNodeMap.set(y,h),this.nodeMetaMap.set(h,f)}replace(h,f){const y=this.getNode(h);if(y){const g=this.nodeMetaMap.get(y);g&&this.nodeMetaMap.set(f,g)}this.idNodeMap.set(h,f)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function createMirror$2(){return new Mirror}function shouldMaskInput({maskInputOptions:d,tagName:h,type:f}){return h==="OPTION"&&(h="SELECT"),!!(d[h.toLowerCase()]||f&&d[f]||f==="password"||h==="INPUT"&&!f&&d.text)}function maskInputValue({isMasked:d,element:h,value:f,maskInputFn:y}){let g=f||"";return d?(y&&(g=y(g,h)),"*".repeat(g.length)):g}function toLowerCase(d){return d.toLowerCase()}function toUpperCase(d){return d.toUpperCase()}const ORIGINAL_ATTRIBUTE_NAME="__rrweb_original__";function is2DCanvasBlank(d){const h=d.getContext("2d");if(!h)return!0;const f=50;for(let y=0;y<d.width;y+=f)for(let g=0;g<d.height;g+=f){const b=h.getImageData,v=ORIGINAL_ATTRIBUTE_NAME in b?b[ORIGINAL_ATTRIBUTE_NAME]:b;if(new Uint32Array(v.call(h,y,g,Math.min(f,d.width-y),Math.min(f,d.height-g)).data.buffer).some(O=>O!==0))return!1}return!0}function getInputType(d){const h=d.type;return d.hasAttribute("data-rr-is-password")?"password":h?toLowerCase(h):null}function getInputValue(d,h,f){return h==="INPUT"&&(f==="radio"||f==="checkbox")?d.getAttribute("value")||"":d.value}function extractFileExtension(d,h){var b;let f;try{f=new URL(d,h!=null?h:window.location.href)}catch(v){return null}const y=/\.([0-9a-z]+)(?:$)/i,g=f.pathname.match(y);return(b=g==null?void 0:g[1])!=null?b:null}const cachedImplementations$1={};function getImplementation$1(d){const h=cachedImplementations$1[d];if(h)return h;const f=window.document;let y=window[d];if(f&&typeof f.createElement=="function")try{const g=f.createElement("iframe");g.hidden=!0,f.head.appendChild(g);const b=g.contentWindow;b&&b[d]&&(y=b[d]),f.head.removeChild(g)}catch(g){}return cachedImplementations$1[d]=y.bind(window)}function setTimeout$2(...d){return getImplementation$1("setTimeout")(...d)}function clearTimeout$1(...d){return getImplementation$1("clearTimeout")(...d)}function getIframeContentDocument(d){try{return d.contentDocument}catch(h){}}let _id=1;const tagNameRegex=new RegExp("[^a-z0-9-_:]"),IGNORED_NODE=-2;function genId(){return _id++}function getValidTagName$1(d){if(d instanceof HTMLFormElement)return"form";const h=toLowerCase(d.tagName);return tagNameRegex.test(h)?"div":h}function extractOrigin(d){let h="";return d.indexOf("//")>-1?h=d.split("/").slice(0,3).join("/"):h=d.split("/")[0],h=h.split("?")[0],h}let canvasService,canvasCtx;const URL_IN_CSS_REF=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,URL_PROTOCOL_MATCH=/^(?:[a-z+]+:)?\/\//i,URL_WWW_MATCH=/^www\..*/i,DATA_URI=/^(data:)([^,]*),(.*)/i;function absoluteToStylesheet(d,h){return(d||"").replace(URL_IN_CSS_REF,(f,y,g,b,v,S)=>{const O=g||v||S,w=y||b||"";if(!O)return f;if(URL_PROTOCOL_MATCH.test(O)||URL_WWW_MATCH.test(O))return`url(${w}${O}${w})`;if(DATA_URI.test(O))return`url(${w}${O}${w})`;if(O[0]==="/")return`url(${w}${extractOrigin(h)+O}${w})`;const T=h.split("/"),E=O.split("/");T.pop();for(const k of E)k!=="."&&(k===".."?T.pop():T.push(k));return`url(${w}${T.join("/")}${w})`})}const SRCSET_NOT_SPACES=/^[^ \t\n\r\u000c]+/,SRCSET_COMMAS_OR_SPACES=/^[, \t\n\r\u000c]+/;function getAbsoluteSrcsetString(d,h){if(h.trim()==="")return h;let f=0;function y(b){let v;const S=b.exec(h.substring(f));return S?(v=S[0],f+=v.length,v):""}const g=[];for(;y(SRCSET_COMMAS_OR_SPACES),!(f>=h.length);){let b=y(SRCSET_NOT_SPACES);if(b.slice(-1)===",")b=absoluteToDoc(d,b.substring(0,b.length-1)),g.push(b);else{let v="";b=absoluteToDoc(d,b);let S=!1;for(;;){const O=h.charAt(f);if(O===""){g.push((b+v).trim());break}else if(S)O===")"&&(S=!1);else if(O===","){f+=1,g.push((b+v).trim());break}else O==="("&&(S=!0);v+=O,f+=1}}}return g.join(", ")}const cachedDocument=new WeakMap;function absoluteToDoc(d,h){return!h||h.trim()===""?h:getHref(d,h)}function isSVGElement(d){return!!(d.tagName==="svg"||d.ownerSVGElement)}function getHref(d,h){let f=cachedDocument.get(d);if(f||(f=d.createElement("a"),cachedDocument.set(d,f)),!h)h="";else if(h.startsWith("blob:")||h.startsWith("data:"))return h;return f.setAttribute("href",h),f.href}function transformAttribute(d,h,f,y,g,b){return y&&(f==="src"||f==="href"&&!(h==="use"&&y[0]==="#")||f==="xlink:href"&&y[0]!=="#"||f==="background"&&(h==="table"||h==="td"||h==="th")?absoluteToDoc(d,y):f==="srcset"?getAbsoluteSrcsetString(d,y):f==="style"?absoluteToStylesheet(y,getHref(d)):h==="object"&&f==="data"?absoluteToDoc(d,y):typeof b=="function"?b(f,y,g):y)}function ignoreAttribute(d,h,f){return(d==="video"||d==="audio")&&h==="autoplay"}function _isBlockedElement(d,h,f,y){try{if(y&&d.matches(y))return!1;if(typeof h=="string"){if(d.classList.contains(h))return!0}else for(let g=d.classList.length;g--;){const b=d.classList[g];if(h.test(b))return!0}if(f)return d.matches(f)}catch(g){}return!1}function elementClassMatchesRegex(d,h){for(let f=d.classList.length;f--;){const y=d.classList[f];if(h.test(y))return!0}return!1}function distanceToMatch(d,h,f=1/0,y=0){return!d||d.nodeType!==d.ELEMENT_NODE||y>f?-1:h(d)?y:distanceToMatch(d.parentNode,h,f,y+1)}function createMatchPredicate(d,h){return f=>{const y=f;if(y===null)return!1;try{if(d){if(typeof d=="string"){if(y.matches(`.${d}`))return!0}else if(elementClassMatchesRegex(y,d))return!0}return!!(h&&y.matches(h))}catch(g){return!1}}}function needMaskingText(d,h,f,y,g,b){try{const v=d.nodeType===d.ELEMENT_NODE?d:d.parentElement;if(v===null)return!1;if(v.tagName==="INPUT"){const w=v.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(w))return!0}let S=-1,O=-1;if(b){if(O=distanceToMatch(v,createMatchPredicate(y,g)),O<0)return!0;S=distanceToMatch(v,createMatchPredicate(h,f),O>=0?O:1/0)}else{if(S=distanceToMatch(v,createMatchPredicate(h,f)),S<0)return!1;O=distanceToMatch(v,createMatchPredicate(y,g),S>=0?S:1/0)}return S>=0?O>=0?S<=O:!0:O>=0?!1:!!b}catch(v){}return!!b}function onceIframeLoaded(d,h,f){const y=d.contentWindow;if(!y)return;let g=!1,b;try{b=y.document.readyState}catch(S){return}if(b!=="complete"){const S=setTimeout$2(()=>{g||(h(),g=!0)},f);d.addEventListener("load",()=>{clearTimeout$1(S),g=!0,h()});return}const v="about:blank";if(y.location.href!==v||d.src===v||d.src==="")return setTimeout$2(h,0),d.addEventListener("load",h);d.addEventListener("load",h)}function onceStylesheetLoaded(d,h,f){let y=!1,g;try{g=d.sheet}catch(v){return}if(g)return;const b=setTimeout$2(()=>{y||(h(),y=!0)},f);d.addEventListener("load",()=>{clearTimeout$1(b),y=!0,h()})}function serializeNode(d,h){const{doc:f,mirror:y,blockClass:g,blockSelector:b,unblockSelector:v,maskAllText:S,maskAttributeFn:O,maskTextClass:w,unmaskTextClass:T,maskTextSelector:E,unmaskTextSelector:k,inlineStylesheet:C,maskInputOptions:P={},maskTextFn:M,maskInputFn:A,dataURLOptions:D={},inlineImages:N,recordCanvas:j,keepIframeSrcFn:q,newlyAddedElement:F=!1}=h,L=getRootId(f,y);switch(d.nodeType){case d.DOCUMENT_NODE:return d.compatMode!=="CSS1Compat"?{type:NodeType$2.Document,childNodes:[],compatMode:d.compatMode}:{type:NodeType$2.Document,childNodes:[]};case d.DOCUMENT_TYPE_NODE:return{type:NodeType$2.DocumentType,name:d.name,publicId:d.publicId,systemId:d.systemId,rootId:L};case d.ELEMENT_NODE:return serializeElementNode(d,{doc:f,blockClass:g,blockSelector:b,unblockSelector:v,inlineStylesheet:C,maskAttributeFn:O,maskInputOptions:P,maskInputFn:A,dataURLOptions:D,inlineImages:N,recordCanvas:j,keepIframeSrcFn:q,newlyAddedElement:F,rootId:L,maskTextClass:w,unmaskTextClass:T,maskTextSelector:E,unmaskTextSelector:k});case d.TEXT_NODE:return serializeTextNode(d,{doc:f,maskAllText:S,maskTextClass:w,unmaskTextClass:T,maskTextSelector:E,unmaskTextSelector:k,maskTextFn:M,maskInputOptions:P,maskInputFn:A,rootId:L});case d.CDATA_SECTION_NODE:return{type:NodeType$2.CDATA,textContent:"",rootId:L};case d.COMMENT_NODE:return{type:NodeType$2.Comment,textContent:d.textContent||"",rootId:L};default:return!1}}function getRootId(d,h){if(!h.hasNode(d))return;const f=h.getId(d);return f===1?void 0:f}function serializeTextNode(d,h){var D;const{maskAllText:f,maskTextClass:y,unmaskTextClass:g,maskTextSelector:b,unmaskTextSelector:v,maskTextFn:S,maskInputOptions:O,maskInputFn:w,rootId:T}=h,E=d.parentNode&&d.parentNode.tagName;let k=d.textContent;const C=E==="STYLE"?!0:void 0,P=E==="SCRIPT"?!0:void 0,M=E==="TEXTAREA"?!0:void 0;if(C&&k){try{d.nextSibling||d.previousSibling||(D=d.parentNode.sheet)!=null&&D.cssRules&&(k=stringifyStylesheet(d.parentNode.sheet))}catch(N){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${N}`,d)}k=absoluteToStylesheet(k,getHref(h.doc))}P&&(k="SCRIPT_PLACEHOLDER");const A=needMaskingText(d,y,b,g,v,f);if(!C&&!P&&!M&&k&&A&&(k=S?S(k,d.parentElement):k.replace(/[\S]/g,"*")),M&&k&&(O.textarea||A)&&(k=w?w(k,d.parentNode):k.replace(/[\S]/g,"*")),E==="OPTION"&&k){const N=shouldMaskInput({type:null,tagName:E,maskInputOptions:O});k=maskInputValue({isMasked:needMaskingText(d,y,b,g,v,N),element:d,value:k,maskInputFn:w})}return{type:NodeType$2.Text,textContent:k||"",isStyle:C,rootId:T}}function serializeElementNode(d,h){const{doc:f,blockClass:y,blockSelector:g,unblockSelector:b,inlineStylesheet:v,maskInputOptions:S={},maskAttributeFn:O,maskInputFn:w,dataURLOptions:T={},inlineImages:E,recordCanvas:k,keepIframeSrcFn:C,newlyAddedElement:P=!1,rootId:M,maskTextClass:A,unmaskTextClass:D,maskTextSelector:N,unmaskTextSelector:j}=h,q=_isBlockedElement(d,y,g,b),F=getValidTagName$1(d);let L={};const U=d.attributes.length;for(let V=0;V<U;V++){const Y=d.attributes[V];Y.name&&!ignoreAttribute(F,Y.name,Y.value)&&(L[Y.name]=transformAttribute(f,F,toLowerCase(Y.name),Y.value,d,O))}if(F==="link"&&v){const V=Array.from(f.styleSheets).find(W=>W.href===d.href);let Y=null;V&&(Y=stringifyStylesheet(V)),Y&&(L.rel=null,L.href=null,L.crossorigin=null,L._cssText=absoluteToStylesheet(Y,V.href))}if(F==="style"&&d.sheet&&!(d.innerText||d.textContent||"").trim().length){const V=stringifyStylesheet(d.sheet);V&&(L._cssText=absoluteToStylesheet(V,getHref(f)))}if(F==="input"||F==="textarea"||F==="select"||F==="option"){const V=d,Y=getInputType(V),W=getInputValue(V,toUpperCase(F),Y),K=V.checked;if(Y!=="submit"&&Y!=="button"&&W){const re=needMaskingText(V,A,N,D,j,shouldMaskInput({type:Y,tagName:toUpperCase(F),maskInputOptions:S}));L.value=maskInputValue({isMasked:re,element:V,value:W,maskInputFn:w})}K&&(L.checked=K)}if(F==="option"&&(d.selected&&!S.select?L.selected=!0:delete L.selected),F==="canvas"&&k){if(d.__context==="2d")is2DCanvasBlank(d)||(L.rr_dataURL=d.toDataURL(T.type,T.quality));else if(!("__context"in d)){const V=d.toDataURL(T.type,T.quality),Y=f.createElement("canvas");Y.width=d.width,Y.height=d.height;const W=Y.toDataURL(T.type,T.quality);V!==W&&(L.rr_dataURL=V)}}if(F==="img"&&E){canvasService||(canvasService=f.createElement("canvas"),canvasCtx=canvasService.getContext("2d"));const V=d,Y=V.currentSrc||V.getAttribute("src")||"<unknown-src>",W=V.crossOrigin,K=()=>{V.removeEventListener("load",K);try{canvasService.width=V.naturalWidth,canvasService.height=V.naturalHeight,canvasCtx.drawImage(V,0,0),L.rr_dataURL=canvasService.toDataURL(T.type,T.quality)}catch(re){if(V.crossOrigin!=="anonymous"){V.crossOrigin="anonymous",V.complete&&V.naturalWidth!==0?K():V.addEventListener("load",K);return}else console.warn(`Cannot inline img src=${Y}! Error: ${re}`)}V.crossOrigin==="anonymous"&&(W?L.crossOrigin=W:V.removeAttribute("crossorigin"))};V.complete&&V.naturalWidth!==0?K():V.addEventListener("load",K)}if((F==="audio"||F==="video")&&(L.rr_mediaState=d.paused?"paused":"played",L.rr_mediaCurrentTime=d.currentTime),P||(d.scrollLeft&&(L.rr_scrollLeft=d.scrollLeft),d.scrollTop&&(L.rr_scrollTop=d.scrollTop)),q){const{width:V,height:Y}=d.getBoundingClientRect();L={class:L.class,rr_width:`${V}px`,rr_height:`${Y}px`}}F==="iframe"&&!C(L.src)&&(!q&&!getIframeContentDocument(d)&&(L.rr_src=L.src),delete L.src);let z;try{customElements.get(F)&&(z=!0)}catch(V){}return{type:NodeType$2.Element,tagName:F,attributes:L,childNodes:[],isSVG:isSVGElement(d)||void 0,needBlock:q,rootId:M,isCustom:z}}function lowerIfExists(d){return d==null?"":d.toLowerCase()}function slimDOMExcluded(d,h){if(h.comment&&d.type===NodeType$2.Comment)return!0;if(d.type===NodeType$2.Element){if(h.script&&(d.tagName==="script"||d.tagName==="link"&&(d.attributes.rel==="preload"||d.attributes.rel==="modulepreload")||d.tagName==="link"&&d.attributes.rel==="prefetch"&&typeof d.attributes.href=="string"&&extractFileExtension(d.attributes.href)==="js"))return!0;if(h.headFavicon&&(d.tagName==="link"&&d.attributes.rel==="shortcut icon"||d.tagName==="meta"&&(lowerIfExists(d.attributes.name).match(/^msapplication-tile(image|color)$/)||lowerIfExists(d.attributes.name)==="application-name"||lowerIfExists(d.attributes.rel)==="icon"||lowerIfExists(d.attributes.rel)==="apple-touch-icon"||lowerIfExists(d.attributes.rel)==="shortcut icon")))return!0;if(d.tagName==="meta"){if(h.headMetaDescKeywords&&lowerIfExists(d.attributes.name).match(/^description|keywords$/))return!0;if(h.headMetaSocial&&(lowerIfExists(d.attributes.property).match(/^(og|twitter|fb):/)||lowerIfExists(d.attributes.name).match(/^(og|twitter):/)||lowerIfExists(d.attributes.name)==="pinterest"))return!0;if(h.headMetaRobots&&(lowerIfExists(d.attributes.name)==="robots"||lowerIfExists(d.attributes.name)==="googlebot"||lowerIfExists(d.attributes.name)==="bingbot"))return!0;if(h.headMetaHttpEquiv&&d.attributes["http-equiv"]!==void 0)return!0;if(h.headMetaAuthorship&&(lowerIfExists(d.attributes.name)==="author"||lowerIfExists(d.attributes.name)==="generator"||lowerIfExists(d.attributes.name)==="framework"||lowerIfExists(d.attributes.name)==="publisher"||lowerIfExists(d.attributes.name)==="progid"||lowerIfExists(d.attributes.property).match(/^article:/)||lowerIfExists(d.attributes.property).match(/^product:/)))return!0;if(h.headMetaVerification&&(lowerIfExists(d.attributes.name)==="google-site-verification"||lowerIfExists(d.attributes.name)==="yandex-verification"||lowerIfExists(d.attributes.name)==="csrf-token"||lowerIfExists(d.attributes.name)==="p:domain_verify"||lowerIfExists(d.attributes.name)==="verify-v1"||lowerIfExists(d.attributes.name)==="verification"||lowerIfExists(d.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function serializeNodeWithId(d,h){const{doc:f,mirror:y,blockClass:g,blockSelector:b,unblockSelector:v,maskAllText:S,maskTextClass:O,unmaskTextClass:w,maskTextSelector:T,unmaskTextSelector:E,skipChild:k=!1,inlineStylesheet:C=!0,maskInputOptions:P={},maskAttributeFn:M,maskTextFn:A,maskInputFn:D,slimDOMOptions:N,dataURLOptions:j={},inlineImages:q=!1,recordCanvas:F=!1,onSerialize:L,onIframeLoad:U,iframeLoadTimeout:z=5e3,onStylesheetLoad:V,stylesheetLoadTimeout:Y=5e3,keepIframeSrcFn:W=()=>!1,newlyAddedElement:K=!1}=h;let{preserveWhiteSpace:re=!0}=h;const fe=serializeNode(d,{doc:f,mirror:y,blockClass:g,blockSelector:b,maskAllText:S,unblockSelector:v,maskTextClass:O,unmaskTextClass:w,maskTextSelector:T,unmaskTextSelector:E,inlineStylesheet:C,maskInputOptions:P,maskAttributeFn:M,maskTextFn:A,maskInputFn:D,dataURLOptions:j,inlineImages:q,recordCanvas:F,keepIframeSrcFn:W,newlyAddedElement:K});if(!fe)return console.warn(d,"not serialized"),null;let se;y.hasNode(d)?se=y.getId(d):slimDOMExcluded(fe,N)||!re&&fe.type===NodeType$2.Text&&!fe.isStyle&&!fe.textContent.replace(/^\s+|\s+$/gm,"").length?se=IGNORED_NODE:se=genId();const J=Object.assign(fe,{id:se});if(y.add(d,J),se===IGNORED_NODE)return null;L&&L(d);let ie=!k;if(J.type===NodeType$2.Element){ie=ie&&!J.needBlock,delete J.needBlock;const ue=d.shadowRoot;ue&&isNativeShadowDom(ue)&&(J.isShadowHost=!0)}if((J.type===NodeType$2.Document||J.type===NodeType$2.Element)&&ie){N.headWhitespace&&J.type===NodeType$2.Element&&J.tagName==="head"&&(re=!1);const ue={doc:f,mirror:y,blockClass:g,blockSelector:b,maskAllText:S,unblockSelector:v,maskTextClass:O,unmaskTextClass:w,maskTextSelector:T,unmaskTextSelector:E,skipChild:k,inlineStylesheet:C,maskInputOptions:P,maskAttributeFn:M,maskTextFn:A,maskInputFn:D,slimDOMOptions:N,dataURLOptions:j,inlineImages:q,recordCanvas:F,preserveWhiteSpace:re,onSerialize:L,onIframeLoad:U,iframeLoadTimeout:z,onStylesheetLoad:V,stylesheetLoadTimeout:Y,keepIframeSrcFn:W};for(const ke of Array.from(d.childNodes)){const pe=serializeNodeWithId(ke,ue);pe&&J.childNodes.push(pe)}if(isElement$1(d)&&d.shadowRoot)for(const ke of Array.from(d.shadowRoot.childNodes)){const pe=serializeNodeWithId(ke,ue);pe&&(isNativeShadowDom(d.shadowRoot)&&(pe.isShadow=!0),J.childNodes.push(pe))}}return d.parentNode&&isShadowRoot(d.parentNode)&&isNativeShadowDom(d.parentNode)&&(J.isShadow=!0),J.type===NodeType$2.Element&&J.tagName==="iframe"&&!_isBlockedElement(d,g,b,v)&&onceIframeLoaded(d,()=>{const ue=getIframeContentDocument(d);if(ue&&U){const ke=serializeNodeWithId(ue,{doc:ue,mirror:y,blockClass:g,blockSelector:b,unblockSelector:v,maskAllText:S,maskTextClass:O,unmaskTextClass:w,maskTextSelector:T,unmaskTextSelector:E,skipChild:!1,inlineStylesheet:C,maskInputOptions:P,maskAttributeFn:M,maskTextFn:A,maskInputFn:D,slimDOMOptions:N,dataURLOptions:j,inlineImages:q,recordCanvas:F,preserveWhiteSpace:re,onSerialize:L,onIframeLoad:U,iframeLoadTimeout:z,onStylesheetLoad:V,stylesheetLoadTimeout:Y,keepIframeSrcFn:W});ke&&U(d,ke)}},z),J.type===NodeType$2.Element&&J.tagName==="link"&&typeof J.attributes.rel=="string"&&(J.attributes.rel==="stylesheet"||J.attributes.rel==="preload"&&typeof J.attributes.href=="string"&&extractFileExtension(J.attributes.href)==="css")&&onceStylesheetLoaded(d,()=>{if(V){const ue=serializeNodeWithId(d,{doc:f,mirror:y,blockClass:g,blockSelector:b,unblockSelector:v,maskAllText:S,maskTextClass:O,unmaskTextClass:w,maskTextSelector:T,unmaskTextSelector:E,skipChild:!1,inlineStylesheet:C,maskInputOptions:P,maskAttributeFn:M,maskTextFn:A,maskInputFn:D,slimDOMOptions:N,dataURLOptions:j,inlineImages:q,recordCanvas:F,preserveWhiteSpace:re,onSerialize:L,onIframeLoad:U,iframeLoadTimeout:z,onStylesheetLoad:V,stylesheetLoadTimeout:Y,keepIframeSrcFn:W});ue&&V(d,ue)}},Y),J}function snapshot(d,h){const{mirror:f=new Mirror,blockClass:y="rr-block",blockSelector:g=null,unblockSelector:b=null,maskAllText:v=!1,maskTextClass:S="rr-mask",unmaskTextClass:O=null,maskTextSelector:w=null,unmaskTextSelector:T=null,inlineStylesheet:E=!0,inlineImages:k=!1,recordCanvas:C=!1,maskAllInputs:P=!1,maskAttributeFn:M,maskTextFn:A,maskInputFn:D,slimDOM:N=!1,dataURLOptions:j,preserveWhiteSpace:q,onSerialize:F,onIframeLoad:L,iframeLoadTimeout:U,onStylesheetLoad:z,stylesheetLoadTimeout:V,keepIframeSrcFn:Y=()=>!1}=h||{};return serializeNodeWithId(d,{doc:d,mirror:f,blockClass:y,blockSelector:g,unblockSelector:b,maskAllText:v,maskTextClass:S,unmaskTextClass:O,maskTextSelector:w,unmaskTextSelector:T,skipChild:!1,inlineStylesheet:E,maskInputOptions:P===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:P===!1?{}:P,maskAttributeFn:M,maskTextFn:A,maskInputFn:D,slimDOMOptions:N===!0||N==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:N==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:N===!1?{}:N,dataURLOptions:j,inlineImages:k,recordCanvas:C,preserveWhiteSpace:q,onSerialize:F,onIframeLoad:L,iframeLoadTimeout:U,onStylesheetLoad:z,stylesheetLoadTimeout:V,keepIframeSrcFn:Y,newlyAddedElement:!1})}function on(d,h,f=document){const y={capture:!0,passive:!0};return f.addEventListener(d,h,y),()=>f.removeEventListener(d,h,y)}const DEPARTED_MIRROR_ACCESS_WARNING=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let _mirror={map:{},getId(){return console.error(DEPARTED_MIRROR_ACCESS_WARNING),-1},getNode(){return console.error(DEPARTED_MIRROR_ACCESS_WARNING),null},removeNodeFromMap(){console.error(DEPARTED_MIRROR_ACCESS_WARNING)},has(){return console.error(DEPARTED_MIRROR_ACCESS_WARNING),!1},reset(){console.error(DEPARTED_MIRROR_ACCESS_WARNING)}};typeof window!="undefined"&&window.Proxy&&window.Reflect&&(_mirror=new Proxy(_mirror,{get(d,h,f){return h==="map"&&console.error(DEPARTED_MIRROR_ACCESS_WARNING),Reflect.get(d,h,f)}}));function throttle$1(d,h,f={}){let y=null,g=0;return function(...b){const v=Date.now();!g&&f.leading===!1&&(g=v);const S=h-(v-g),O=this;S<=0||S>h?(y&&(clearTimeout$2(y),y=null),g=v,d.apply(O,b)):!y&&f.trailing!==!1&&(y=setTimeout$1(()=>{g=f.leading===!1?0:Date.now(),y=null,d.apply(O,b)},S))}}function hookSetter(d,h,f,y,g=window){const b=g.Object.getOwnPropertyDescriptor(d,h);return g.Object.defineProperty(d,h,y?f:{set(v){setTimeout$1(()=>{f.set.call(this,v)},0),b&&b.set&&b.set.call(this,v)}}),()=>hookSetter(d,h,b||{},!0)}function patch(d,h,f){try{if(!(h in d))return()=>{};const y=d[h],g=f(y);return typeof g=="function"&&(g.prototype=g.prototype||{},Object.defineProperties(g,{__rrweb_original__:{enumerable:!1,value:y}})),d[h]=g,()=>{d[h]=y}}catch(y){return()=>{}}}let nowTimestamp=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(nowTimestamp=()=>new Date().getTime());function getWindowScroll(d){var f,y,g,b,v,S;const h=d.document;return{left:h.scrollingElement?h.scrollingElement.scrollLeft:d.pageXOffset!==void 0?d.pageXOffset:(h==null?void 0:h.documentElement.scrollLeft)||((y=(f=h==null?void 0:h.body)==null?void 0:f.parentElement)==null?void 0:y.scrollLeft)||((g=h==null?void 0:h.body)==null?void 0:g.scrollLeft)||0,top:h.scrollingElement?h.scrollingElement.scrollTop:d.pageYOffset!==void 0?d.pageYOffset:(h==null?void 0:h.documentElement.scrollTop)||((v=(b=h==null?void 0:h.body)==null?void 0:b.parentElement)==null?void 0:v.scrollTop)||((S=h==null?void 0:h.body)==null?void 0:S.scrollTop)||0}}function getWindowHeight(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function getWindowWidth(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function closestElementOfNode$1(d){if(!d)return null;try{return d.nodeType===d.ELEMENT_NODE?d:d.parentElement}catch(h){return null}}function isBlocked(d,h,f,y,g){if(!d)return!1;const b=closestElementOfNode$1(d);if(!b)return!1;const v=createMatchPredicate(h,f);if(!g){const w=y&&b.matches(y);return v(b)&&!w}const S=distanceToMatch(b,v);let O=-1;return S<0?!1:(y&&(O=distanceToMatch(b,createMatchPredicate(null,y))),S>-1&&O<0?!0:S<O)}function isSerialized(d,h){return h.getId(d)!==-1}function isIgnored(d,h){return h.getId(d)===IGNORED_NODE}function isAncestorRemoved(d,h){if(isShadowRoot(d))return!1;const f=h.getId(d);return h.has(f)?d.parentNode&&d.parentNode.nodeType===d.DOCUMENT_NODE?!1:d.parentNode?isAncestorRemoved(d.parentNode,h):!0:!0}function legacy_isTouchEvent(d){return!!d.changedTouches}function polyfill$1(d=window){"NodeList"in d&&!d.NodeList.prototype.forEach&&(d.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in d&&!d.DOMTokenList.prototype.forEach&&(d.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...h)=>{let f=h[0];if(!(0 in h))throw new TypeError("1 argument is required");do if(this===f)return!0;while(f=f&&f.parentNode);return!1})}function isSerializedIframe(d,h){return!!(d.nodeName==="IFRAME"&&h.getMeta(d))}function isSerializedStylesheet(d,h){return!!(d.nodeName==="LINK"&&d.nodeType===d.ELEMENT_NODE&&d.getAttribute&&d.getAttribute("rel")==="stylesheet"&&h.getMeta(d))}function hasShadowRoot(d){return!!(d!=null&&d.shadowRoot)}class StyleSheetMirror{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(h){var f;return(f=this.styleIDMap.get(h))!=null?f:-1}has(h){return this.styleIDMap.has(h)}add(h,f){if(this.has(h))return this.getId(h);let y;return f===void 0?y=this.id++:y=f,this.styleIDMap.set(h,y),this.idStyleMap.set(y,h),y}getStyle(h){return this.idStyleMap.get(h)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function getShadowHost(d){var f,y;let h=null;return((y=(f=d.getRootNode)==null?void 0:f.call(d))==null?void 0:y.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&d.getRootNode().host&&(h=d.getRootNode().host),h}function getRootShadowHost(d){let h=d,f;for(;f=getShadowHost(h);)h=f;return h}function shadowHostInDom(d){const h=d.ownerDocument;if(!h)return!1;const f=getRootShadowHost(d);return h.contains(f)}function inDom(d){const h=d.ownerDocument;return h?h.contains(d)||shadowHostInDom(d):!1}const cachedImplementations={};function getImplementation(d){const h=cachedImplementations[d];if(h)return h;const f=window.document;let y=window[d];if(f&&typeof f.createElement=="function")try{const g=f.createElement("iframe");g.hidden=!0,f.head.appendChild(g);const b=g.contentWindow;b&&b[d]&&(y=b[d]),f.head.removeChild(g)}catch(g){}return cachedImplementations[d]=y.bind(window)}function onRequestAnimationFrame(...d){return getImplementation("requestAnimationFrame")(...d)}function setTimeout$1(...d){return getImplementation("setTimeout")(...d)}function clearTimeout$2(...d){return getImplementation("clearTimeout")(...d)}var EventType=(d=>(d[d.DomContentLoaded=0]="DomContentLoaded",d[d.Load=1]="Load",d[d.FullSnapshot=2]="FullSnapshot",d[d.IncrementalSnapshot=3]="IncrementalSnapshot",d[d.Meta=4]="Meta",d[d.Custom=5]="Custom",d[d.Plugin=6]="Plugin",d))(EventType||{}),IncrementalSource=(d=>(d[d.Mutation=0]="Mutation",d[d.MouseMove=1]="MouseMove",d[d.MouseInteraction=2]="MouseInteraction",d[d.Scroll=3]="Scroll",d[d.ViewportResize=4]="ViewportResize",d[d.Input=5]="Input",d[d.TouchMove=6]="TouchMove",d[d.MediaInteraction=7]="MediaInteraction",d[d.StyleSheetRule=8]="StyleSheetRule",d[d.CanvasMutation=9]="CanvasMutation",d[d.Font=10]="Font",d[d.Log=11]="Log",d[d.Drag=12]="Drag",d[d.StyleDeclaration=13]="StyleDeclaration",d[d.Selection=14]="Selection",d[d.AdoptedStyleSheet=15]="AdoptedStyleSheet",d[d.CustomElement=16]="CustomElement",d))(IncrementalSource||{}),MouseInteractions=(d=>(d[d.MouseUp=0]="MouseUp",d[d.MouseDown=1]="MouseDown",d[d.Click=2]="Click",d[d.ContextMenu=3]="ContextMenu",d[d.DblClick=4]="DblClick",d[d.Focus=5]="Focus",d[d.Blur=6]="Blur",d[d.TouchStart=7]="TouchStart",d[d.TouchMove_Departed=8]="TouchMove_Departed",d[d.TouchEnd=9]="TouchEnd",d[d.TouchCancel=10]="TouchCancel",d))(MouseInteractions||{}),PointerTypes=(d=>(d[d.Mouse=0]="Mouse",d[d.Pen=1]="Pen",d[d.Touch=2]="Touch",d))(PointerTypes||{}),MediaInteractions=(d=>(d[d.Play=0]="Play",d[d.Pause=1]="Pause",d[d.Seeked=2]="Seeked",d[d.VolumeChange=3]="VolumeChange",d[d.RateChange=4]="RateChange",d))(MediaInteractions||{});function getIFrameContentDocument(d){try{return d.contentDocument}catch(h){}}function getIFrameContentWindow(d){try{return d.contentWindow}catch(h){}}function isNodeInLinkedList(d){return"__ln"in d}class DoubleLinkedList{constructor(){this.length=0,this.head=null,this.tail=null}get(h){if(h>=this.length)throw new Error("Position outside of list range");let f=this.head;for(let y=0;y<h;y++)f=(f==null?void 0:f.next)||null;return f}addNode(h){const f={value:h,previous:null,next:null};if(h.__ln=f,h.previousSibling&&isNodeInLinkedList(h.previousSibling)){const y=h.previousSibling.__ln.next;f.next=y,f.previous=h.previousSibling.__ln,h.previousSibling.__ln.next=f,y&&(y.previous=f)}else if(h.nextSibling&&isNodeInLinkedList(h.nextSibling)&&h.nextSibling.__ln.previous){const y=h.nextSibling.__ln.previous;f.previous=y,f.next=h.nextSibling.__ln,h.nextSibling.__ln.previous=f,y&&(y.next=f)}else this.head&&(this.head.previous=f),f.next=this.head,this.head=f;f.next===null&&(this.tail=f),this.length++}removeNode(h){const f=h.__ln;this.head&&(f.previous?(f.previous.next=f.next,f.next?f.next.previous=f.previous:this.tail=f.previous):(this.head=f.next,this.head?this.head.previous=null:this.tail=null),h.__ln&&delete h.__ln,this.length--)}}const moveKey=(d,h)=>`${d}@${h}`;class MutationBuffer{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=h=>{h.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const h=[],f=new Set,y=new DoubleLinkedList,g=O=>{let w=O,T=IGNORED_NODE;for(;T===IGNORED_NODE;)w=w&&w.nextSibling,T=w&&this.mirror.getId(w);return T},b=O=>{if(!O.parentNode||!inDom(O))return;const w=isShadowRoot(O.parentNode)?this.mirror.getId(getShadowHost(O)):this.mirror.getId(O.parentNode),T=g(O);if(w===-1||T===-1)return y.addNode(O);const E=serializeNodeWithId(O,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:k=>{isSerializedIframe(k,this.mirror)&&!isBlocked(k,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(k),isSerializedStylesheet(k,this.mirror)&&this.stylesheetManager.trackLinkElement(k),hasShadowRoot(O)&&this.shadowDomManager.addShadowRoot(O.shadowRoot,this.doc)},onIframeLoad:(k,C)=>{isBlocked(k,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(k,C),k.contentWindow&&this.canvasManager.addWindow(k.contentWindow),this.shadowDomManager.observeAttachShadow(k))},onStylesheetLoad:(k,C)=>{this.stylesheetManager.attachLinkElement(k,C)}});E&&(h.push({parentId:w,nextId:T,node:E}),f.add(E.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const O of this.movedSet)isParentRemoved(this.removes,O,this.mirror)&&!this.movedSet.has(O.parentNode)||b(O);for(const O of this.addedSet)!isAncestorInSet(this.droppedSet,O)&&!isParentRemoved(this.removes,O,this.mirror)||isAncestorInSet(this.movedSet,O)?b(O):this.droppedSet.add(O);let v=null;for(;y.length;){let O=null;if(v){const w=this.mirror.getId(v.value.parentNode),T=g(v.value);w!==-1&&T!==-1&&(O=v)}if(!O){let w=y.tail;for(;w;){const T=w;if(w=w.previous,T){const E=this.mirror.getId(T.value.parentNode);if(g(T.value)===-1)continue;if(E!==-1){O=T;break}else{const C=T.value;if(C.parentNode&&C.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const P=C.parentNode.host;if(this.mirror.getId(P)!==-1){O=T;break}}}}}}if(!O){for(;y.head;)y.removeNode(y.head.value);break}v=O.previous,y.removeNode(O.value),b(O.value)}const S={texts:this.texts.map(O=>({id:this.mirror.getId(O.node),value:O.value})).filter(O=>!f.has(O.id)).filter(O=>this.mirror.has(O.id)),attributes:this.attributes.map(O=>{const{attributes:w}=O;if(typeof w.style=="string"){const T=JSON.stringify(O.styleDiff),E=JSON.stringify(O._unchangedStyles);T.length<w.style.length&&(T+E).split("var(").length===w.style.split("var(").length&&(w.style=O.styleDiff)}return{id:this.mirror.getId(O.node),attributes:w}}).filter(O=>!f.has(O.id)).filter(O=>this.mirror.has(O.id)),removes:this.removes,adds:h};!S.texts.length&&!S.attributes.length&&!S.removes.length&&!S.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(S))},this.processMutation=h=>{if(!isIgnored(h.target,this.mirror))switch(h.type){case"characterData":{const f=h.target.textContent;!isBlocked(h.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&f!==h.oldValue&&this.texts.push({value:needMaskingText(h.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&f?this.maskTextFn?this.maskTextFn(f,closestElementOfNode$1(h.target)):f.replace(/[\S]/g,"*"):f,node:h.target});break}case"attributes":{const f=h.target;let y=h.attributeName,g=h.target.getAttribute(y);if(y==="value"){const v=getInputType(f),S=f.tagName;g=getInputValue(f,S,v);const O=shouldMaskInput({maskInputOptions:this.maskInputOptions,tagName:S,type:v}),w=needMaskingText(h.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,O);g=maskInputValue({isMasked:w,element:f,value:g,maskInputFn:this.maskInputFn})}if(isBlocked(h.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||g===h.oldValue)return;let b=this.attributeMap.get(h.target);if(f.tagName==="IFRAME"&&y==="src"&&!this.keepIframeSrcFn(g))if(!getIFrameContentDocument(f))y="rr_src";else return;if(b||(b={node:h.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(b),this.attributeMap.set(h.target,b)),y==="type"&&f.tagName==="INPUT"&&(h.oldValue||"").toLowerCase()==="password"&&f.setAttribute("data-rr-is-password","true"),!ignoreAttribute(f.tagName,y)&&(b.attributes[y]=transformAttribute(this.doc,toLowerCase(f.tagName),toLowerCase(y),g,f,this.maskAttributeFn),y==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(S){this.unattachedDoc=this.doc}const v=this.unattachedDoc.createElement("span");h.oldValue&&v.setAttribute("style",h.oldValue);for(const S of Array.from(f.style)){const O=f.style.getPropertyValue(S),w=f.style.getPropertyPriority(S);O!==v.style.getPropertyValue(S)||w!==v.style.getPropertyPriority(S)?w===""?b.styleDiff[S]=O:b.styleDiff[S]=[O,w]:b._unchangedStyles[S]=[O,w]}for(const S of Array.from(v.style))f.style.getPropertyValue(S)===""&&(b.styleDiff[S]=!1)}break}case"childList":{if(isBlocked(h.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;h.addedNodes.forEach(f=>this.genAdds(f,h.target)),h.removedNodes.forEach(f=>{const y=this.mirror.getId(f),g=isShadowRoot(h.target)?this.mirror.getId(h.target.host):this.mirror.getId(h.target);isBlocked(h.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||isIgnored(f,this.mirror)||!isSerialized(f,this.mirror)||(this.addedSet.has(f)?(deepDelete(this.addedSet,f),this.droppedSet.add(f)):this.addedSet.has(h.target)&&y===-1||isAncestorRemoved(h.target,this.mirror)||(this.movedSet.has(f)&&this.movedMap[moveKey(y,g)]?deepDelete(this.movedSet,f):this.removes.push({parentId:g,id:y,isShadow:isShadowRoot(h.target)&&isNativeShadowDom(h.target)?!0:void 0})),this.mapRemoves.push(f))});break}}},this.genAdds=(h,f)=>{if(!this.processedNodeManager.inOtherBuffer(h,this)&&!(this.addedSet.has(h)||this.movedSet.has(h))){if(this.mirror.hasNode(h)){if(isIgnored(h,this.mirror))return;this.movedSet.add(h);let y=null;f&&this.mirror.hasNode(f)&&(y=this.mirror.getId(f)),y&&y!==-1&&(this.movedMap[moveKey(this.mirror.getId(h),y)]=!0)}else this.addedSet.add(h),this.droppedSet.delete(h);isBlocked(h,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(h.childNodes.forEach(y=>this.genAdds(y)),hasShadowRoot(h)&&h.shadowRoot.childNodes.forEach(y=>{this.processedNodeManager.add(y,this),this.genAdds(y,h)}))}}}init(h){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(f=>{this[f]=h[f]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function deepDelete(d,h){d.delete(h),h.childNodes.forEach(f=>deepDelete(d,f))}function isParentRemoved(d,h,f){return d.length===0?!1:_isParentRemoved(d,h,f)}function _isParentRemoved(d,h,f){let y=h.parentNode;for(;y;){const g=f.getId(y);if(d.some(b=>b.id===g))return!0;y=y.parentNode}return!1}function isAncestorInSet(d,h){return d.size===0?!1:_isAncestorInSet(d,h)}function _isAncestorInSet(d,h){const{parentNode:f}=h;return f?d.has(f)?!0:_isAncestorInSet(d,f):!1}let errorHandler;function registerErrorHandler(d){errorHandler=d}function unregisterErrorHandler(){errorHandler=void 0}const callbackWrapper=d=>errorHandler?(...f)=>{try{return d(...f)}catch(y){if(errorHandler&&errorHandler(y)===!0)return()=>{};throw y}}:d,mutationBuffers=[];function getEventTarget(d){try{if("composedPath"in d){const h=d.composedPath();if(h.length)return h[0]}else if("path"in d&&d.path.length)return d.path[0]}catch(h){}return d&&d.target}function initMutationObserver(d,h){var v,S;const f=new MutationBuffer;mutationBuffers.push(f),f.init(d);let y=window.MutationObserver||window.__rrMutationObserver;const g=(S=(v=window==null?void 0:window.Zone)==null?void 0:v.__symbol__)==null?void 0:S.call(v,"MutationObserver");g&&window[g]&&(y=window[g]);const b=new y(callbackWrapper(O=>{d.onMutation&&d.onMutation(O)===!1||f.processMutations.bind(f)(O)}));return b.observe(h,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),b}function initMoveObserver({mousemoveCb:d,sampling:h,doc:f,mirror:y}){if(h.mousemove===!1)return()=>{};const g=typeof h.mousemove=="number"?h.mousemove:50,b=typeof h.mousemoveCallback=="number"?h.mousemoveCallback:500;let v=[],S;const O=throttle$1(callbackWrapper(E=>{const k=Date.now()-S;d(v.map(C=>(C.timeOffset-=k,C)),E),v=[],S=null}),b),w=callbackWrapper(throttle$1(callbackWrapper(E=>{const k=getEventTarget(E),{clientX:C,clientY:P}=legacy_isTouchEvent(E)?E.changedTouches[0]:E;S||(S=nowTimestamp()),v.push({x:C,y:P,id:y.getId(k),timeOffset:nowTimestamp()-S}),O(typeof DragEvent!="undefined"&&E instanceof DragEvent?IncrementalSource.Drag:E instanceof MouseEvent?IncrementalSource.MouseMove:IncrementalSource.TouchMove)}),g,{trailing:!1})),T=[on("mousemove",w,f),on("touchmove",w,f),on("drag",w,f)];return callbackWrapper(()=>{T.forEach(E=>E())})}function initMouseInteractionObserver({mouseInteractionCb:d,doc:h,mirror:f,blockClass:y,blockSelector:g,unblockSelector:b,sampling:v}){if(v.mouseInteraction===!1)return()=>{};const S=v.mouseInteraction===!0||v.mouseInteraction===void 0?{}:v.mouseInteraction,O=[];let w=null;const T=E=>k=>{const C=getEventTarget(k);if(isBlocked(C,y,g,b,!0))return;let P=null,M=E;if("pointerType"in k){switch(k.pointerType){case"mouse":P=PointerTypes.Mouse;break;case"touch":P=PointerTypes.Touch;break;case"pen":P=PointerTypes.Pen;break}P===PointerTypes.Touch?MouseInteractions[E]===MouseInteractions.MouseDown?M="TouchStart":MouseInteractions[E]===MouseInteractions.MouseUp&&(M="TouchEnd"):PointerTypes.Pen}else legacy_isTouchEvent(k)&&(P=PointerTypes.Touch);P!==null?(w=P,(M.startsWith("Touch")&&P===PointerTypes.Touch||M.startsWith("Mouse")&&P===PointerTypes.Mouse)&&(P=null)):MouseInteractions[E]===MouseInteractions.Click&&(P=w,w=null);const A=legacy_isTouchEvent(k)?k.changedTouches[0]:k;if(!A)return;const D=f.getId(C),{clientX:N,clientY:j}=A;callbackWrapper(d)(X({type:MouseInteractions[M],id:D,x:N,y:j},P!==null&&{pointerType:P}))};return Object.keys(MouseInteractions).filter(E=>Number.isNaN(Number(E))&&!E.endsWith("_Departed")&&S[E]!==!1).forEach(E=>{let k=toLowerCase(E);const C=T(E);if(window.PointerEvent)switch(MouseInteractions[E]){case MouseInteractions.MouseDown:case MouseInteractions.MouseUp:k=k.replace("mouse","pointer");break;case MouseInteractions.TouchStart:case MouseInteractions.TouchEnd:return}O.push(on(k,C,h))}),callbackWrapper(()=>{O.forEach(E=>E())})}function initScrollObserver({scrollCb:d,doc:h,mirror:f,blockClass:y,blockSelector:g,unblockSelector:b,sampling:v}){const S=callbackWrapper(throttle$1(callbackWrapper(O=>{const w=getEventTarget(O);if(!w||isBlocked(w,y,g,b,!0))return;const T=f.getId(w);if(w===h&&h.defaultView){const E=getWindowScroll(h.defaultView);d({id:T,x:E.left,y:E.top})}else d({id:T,x:w.scrollLeft,y:w.scrollTop})}),v.scroll||100));return on("scroll",S,h)}function initViewportResizeObserver({viewportResizeCb:d},{win:h}){let f=-1,y=-1;const g=callbackWrapper(throttle$1(callbackWrapper(()=>{const b=getWindowHeight(),v=getWindowWidth();(f!==b||y!==v)&&(d({width:Number(v),height:Number(b)}),f=b,y=v)}),200));return on("resize",g,h)}const INPUT_TAGS=["INPUT","TEXTAREA","SELECT"],lastInputValueMap=new WeakMap;function initInputObserver({inputCb:d,doc:h,mirror:f,blockClass:y,blockSelector:g,unblockSelector:b,ignoreClass:v,ignoreSelector:S,maskInputOptions:O,maskInputFn:w,sampling:T,userTriggeredOnInput:E,maskTextClass:k,unmaskTextClass:C,maskTextSelector:P,unmaskTextSelector:M}){function A(U){let z=getEventTarget(U);const V=U.isTrusted,Y=z&&toUpperCase(z.tagName);if(Y==="OPTION"&&(z=z.parentElement),!z||!Y||INPUT_TAGS.indexOf(Y)<0||isBlocked(z,y,g,b,!0))return;const W=z;if(W.classList.contains(v)||S&&W.matches(S))return;const K=getInputType(z);let re=getInputValue(W,Y,K),fe=!1;const se=shouldMaskInput({maskInputOptions:O,tagName:Y,type:K}),J=needMaskingText(z,k,P,C,M,se);(K==="radio"||K==="checkbox")&&(fe=z.checked),re=maskInputValue({isMasked:J,element:z,value:re,maskInputFn:w}),D(z,E?{text:re,isChecked:fe,userTriggered:V}:{text:re,isChecked:fe});const ie=z.name;K==="radio"&&ie&&fe&&h.querySelectorAll(`input[type="radio"][name="${ie}"]`).forEach(ue=>{if(ue!==z){const ke=maskInputValue({isMasked:J,element:ue,value:getInputValue(ue,Y,K),maskInputFn:w});D(ue,E?{text:ke,isChecked:!fe,userTriggered:!1}:{text:ke,isChecked:!fe})}})}function D(U,z){const V=lastInputValueMap.get(U);if(!V||V.text!==z.text||V.isChecked!==z.isChecked){lastInputValueMap.set(U,z);const Y=f.getId(U);callbackWrapper(d)(Re(X({},z),{id:Y}))}}const j=(T.input==="last"?["change"]:["input","change"]).map(U=>on(U,callbackWrapper(A),h)),q=h.defaultView;if(!q)return()=>{j.forEach(U=>U())};const F=q.Object.getOwnPropertyDescriptor(q.HTMLInputElement.prototype,"value"),L=[[q.HTMLInputElement.prototype,"value"],[q.HTMLInputElement.prototype,"checked"],[q.HTMLSelectElement.prototype,"value"],[q.HTMLTextAreaElement.prototype,"value"],[q.HTMLSelectElement.prototype,"selectedIndex"],[q.HTMLOptionElement.prototype,"selected"]];return F&&F.set&&j.push(...L.map(U=>hookSetter(U[0],U[1],{set(){callbackWrapper(A)({target:this,isTrusted:!1})}},!1,q))),callbackWrapper(()=>{j.forEach(U=>U())})}function getNestedCSSRulePositions(d){const h=[];function f(y,g){if(hasNestedCSSRule("CSSGroupingRule")&&y.parentRule instanceof CSSGroupingRule||hasNestedCSSRule("CSSMediaRule")&&y.parentRule instanceof CSSMediaRule||hasNestedCSSRule("CSSSupportsRule")&&y.parentRule instanceof CSSSupportsRule||hasNestedCSSRule("CSSConditionRule")&&y.parentRule instanceof CSSConditionRule){const v=Array.from(y.parentRule.cssRules).indexOf(y);g.unshift(v)}else if(y.parentStyleSheet){const v=Array.from(y.parentStyleSheet.cssRules).indexOf(y);g.unshift(v)}return g}return f(d,h)}function getIdAndStyleId(d,h,f){let y,g;return d?(d.ownerNode?y=h.getId(d.ownerNode):g=f.getId(d),{styleId:g,id:y}):{}}function initStyleSheetObserver({styleSheetRuleCb:d,mirror:h,stylesheetManager:f},{win:y}){if(!y.CSSStyleSheet||!y.CSSStyleSheet.prototype)return()=>{};const g=y.CSSStyleSheet.prototype.insertRule;y.CSSStyleSheet.prototype.insertRule=new Proxy(g,{apply:callbackWrapper((T,E,k)=>{const[C,P]=k,{id:M,styleId:A}=getIdAndStyleId(E,h,f.styleMirror);return(M&&M!==-1||A&&A!==-1)&&d({id:M,styleId:A,adds:[{rule:C,index:P}]}),T.apply(E,k)})});const b=y.CSSStyleSheet.prototype.deleteRule;y.CSSStyleSheet.prototype.deleteRule=new Proxy(b,{apply:callbackWrapper((T,E,k)=>{const[C]=k,{id:P,styleId:M}=getIdAndStyleId(E,h,f.styleMirror);return(P&&P!==-1||M&&M!==-1)&&d({id:P,styleId:M,removes:[{index:C}]}),T.apply(E,k)})});let v;y.CSSStyleSheet.prototype.replace&&(v=y.CSSStyleSheet.prototype.replace,y.CSSStyleSheet.prototype.replace=new Proxy(v,{apply:callbackWrapper((T,E,k)=>{const[C]=k,{id:P,styleId:M}=getIdAndStyleId(E,h,f.styleMirror);return(P&&P!==-1||M&&M!==-1)&&d({id:P,styleId:M,replace:C}),T.apply(E,k)})}));let S;y.CSSStyleSheet.prototype.replaceSync&&(S=y.CSSStyleSheet.prototype.replaceSync,y.CSSStyleSheet.prototype.replaceSync=new Proxy(S,{apply:callbackWrapper((T,E,k)=>{const[C]=k,{id:P,styleId:M}=getIdAndStyleId(E,h,f.styleMirror);return(P&&P!==-1||M&&M!==-1)&&d({id:P,styleId:M,replaceSync:C}),T.apply(E,k)})}));const O={};canMonkeyPatchNestedCSSRule("CSSGroupingRule")?O.CSSGroupingRule=y.CSSGroupingRule:(canMonkeyPatchNestedCSSRule("CSSMediaRule")&&(O.CSSMediaRule=y.CSSMediaRule),canMonkeyPatchNestedCSSRule("CSSConditionRule")&&(O.CSSConditionRule=y.CSSConditionRule),canMonkeyPatchNestedCSSRule("CSSSupportsRule")&&(O.CSSSupportsRule=y.CSSSupportsRule));const w={};return Object.entries(O).forEach(([T,E])=>{w[T]={insertRule:E.prototype.insertRule,deleteRule:E.prototype.deleteRule},E.prototype.insertRule=new Proxy(w[T].insertRule,{apply:callbackWrapper((k,C,P)=>{const[M,A]=P,{id:D,styleId:N}=getIdAndStyleId(C.parentStyleSheet,h,f.styleMirror);return(D&&D!==-1||N&&N!==-1)&&d({id:D,styleId:N,adds:[{rule:M,index:[...getNestedCSSRulePositions(C),A||0]}]}),k.apply(C,P)})}),E.prototype.deleteRule=new Proxy(w[T].deleteRule,{apply:callbackWrapper((k,C,P)=>{const[M]=P,{id:A,styleId:D}=getIdAndStyleId(C.parentStyleSheet,h,f.styleMirror);return(A&&A!==-1||D&&D!==-1)&&d({id:A,styleId:D,removes:[{index:[...getNestedCSSRulePositions(C),M]}]}),k.apply(C,P)})})}),callbackWrapper(()=>{y.CSSStyleSheet.prototype.insertRule=g,y.CSSStyleSheet.prototype.deleteRule=b,v&&(y.CSSStyleSheet.prototype.replace=v),S&&(y.CSSStyleSheet.prototype.replaceSync=S),Object.entries(O).forEach(([T,E])=>{E.prototype.insertRule=w[T].insertRule,E.prototype.deleteRule=w[T].deleteRule})})}function initAdoptedStyleSheetObserver({mirror:d,stylesheetManager:h},f){var v,S,O;let y=null;f.nodeName==="#document"?y=d.getId(f):y=d.getId(f.host);const g=f.nodeName==="#document"?(v=f.defaultView)==null?void 0:v.Document:(O=(S=f.ownerDocument)==null?void 0:S.defaultView)==null?void 0:O.ShadowRoot,b=g!=null&&g.prototype?Object.getOwnPropertyDescriptor(g==null?void 0:g.prototype,"adoptedStyleSheets"):void 0;return y===null||y===-1||!g||!b?()=>{}:(Object.defineProperty(f,"adoptedStyleSheets",{configurable:b.configurable,enumerable:b.enumerable,get(){var w;return(w=b.get)==null?void 0:w.call(this)},set(w){var E;const T=(E=b.set)==null?void 0:E.call(this,w);if(y!==null&&y!==-1)try{h.adoptStyleSheets(w,y)}catch(k){}return T}}),callbackWrapper(()=>{Object.defineProperty(f,"adoptedStyleSheets",{configurable:b.configurable,enumerable:b.enumerable,get:b.get,set:b.set})}))}function initStyleDeclarationObserver({styleDeclarationCb:d,mirror:h,ignoreCSSAttributes:f,stylesheetManager:y},{win:g}){const b=g.CSSStyleDeclaration.prototype.setProperty;g.CSSStyleDeclaration.prototype.setProperty=new Proxy(b,{apply:callbackWrapper((S,O,w)=>{var M;const[T,E,k]=w;if(f.has(T))return b.apply(O,[T,E,k]);const{id:C,styleId:P}=getIdAndStyleId((M=O.parentRule)==null?void 0:M.parentStyleSheet,h,y.styleMirror);return(C&&C!==-1||P&&P!==-1)&&d({id:C,styleId:P,set:{property:T,value:E,priority:k},index:getNestedCSSRulePositions(O.parentRule)}),S.apply(O,w)})});const v=g.CSSStyleDeclaration.prototype.removeProperty;return g.CSSStyleDeclaration.prototype.removeProperty=new Proxy(v,{apply:callbackWrapper((S,O,w)=>{var C;const[T]=w;if(f.has(T))return v.apply(O,[T]);const{id:E,styleId:k}=getIdAndStyleId((C=O.parentRule)==null?void 0:C.parentStyleSheet,h,y.styleMirror);return(E&&E!==-1||k&&k!==-1)&&d({id:E,styleId:k,remove:{property:T},index:getNestedCSSRulePositions(O.parentRule)}),S.apply(O,w)})}),callbackWrapper(()=>{g.CSSStyleDeclaration.prototype.setProperty=b,g.CSSStyleDeclaration.prototype.removeProperty=v})}function initMediaInteractionObserver({mediaInteractionCb:d,blockClass:h,blockSelector:f,unblockSelector:y,mirror:g,sampling:b,doc:v}){const S=callbackWrapper(w=>throttle$1(callbackWrapper(T=>{const E=getEventTarget(T);if(!E||isBlocked(E,h,f,y,!0))return;const{currentTime:k,volume:C,muted:P,playbackRate:M}=E;d({type:w,id:g.getId(E),currentTime:k,volume:C,muted:P,playbackRate:M})}),b.media||500)),O=[on("play",S(MediaInteractions.Play),v),on("pause",S(MediaInteractions.Pause),v),on("seeked",S(MediaInteractions.Seeked),v),on("volumechange",S(MediaInteractions.VolumeChange),v),on("ratechange",S(MediaInteractions.RateChange),v)];return callbackWrapper(()=>{O.forEach(w=>w())})}function initFontObserver({fontCb:d,doc:h}){const f=h.defaultView;if(!f)return()=>{};const y=[],g=new WeakMap,b=f.FontFace;f.FontFace=function(O,w,T){const E=new b(O,w,T);return g.set(E,{family:O,buffer:typeof w!="string",descriptors:T,fontSource:typeof w=="string"?w:JSON.stringify(Array.from(new Uint8Array(w)))}),E};const v=patch(h.fonts,"add",function(S){return function(O){return setTimeout$1(callbackWrapper(()=>{const w=g.get(O);w&&(d(w),g.delete(O))}),0),S.apply(this,[O])}});return y.push(()=>{f.FontFace=b}),y.push(v),callbackWrapper(()=>{y.forEach(S=>S())})}function initSelectionObserver(d){const{doc:h,mirror:f,blockClass:y,blockSelector:g,unblockSelector:b,selectionCb:v}=d;let S=!0;const O=callbackWrapper(()=>{const w=h.getSelection();if(!w||S&&(w!=null&&w.isCollapsed))return;S=w.isCollapsed||!1;const T=[],E=w.rangeCount||0;for(let k=0;k<E;k++){const C=w.getRangeAt(k),{startContainer:P,startOffset:M,endContainer:A,endOffset:D}=C;isBlocked(P,y,g,b,!0)||isBlocked(A,y,g,b,!0)||T.push({start:f.getId(P),startOffset:M,end:f.getId(A),endOffset:D})}v({ranges:T})});return O(),on("selectionchange",O)}function initCustomElementObserver({doc:d,customElementCb:h}){const f=d.defaultView;return!f||!f.customElements?()=>{}:patch(f.customElements,"define",function(g){return function(b,v,S){try{h({define:{name:b}})}catch(O){}return g.apply(this,[b,v,S])}})}function initObservers(d,h={}){const f=d.doc.defaultView;if(!f)return()=>{};let y;d.recordDOM&&(y=initMutationObserver(d,d.doc));const g=initMoveObserver(d),b=initMouseInteractionObserver(d),v=initScrollObserver(d),S=initViewportResizeObserver(d,{win:f}),O=initInputObserver(d),w=initMediaInteractionObserver(d);let T=()=>{},E=()=>{},k=()=>{},C=()=>{};d.recordDOM&&(T=initStyleSheetObserver(d,{win:f}),E=initAdoptedStyleSheetObserver(d,d.doc),k=initStyleDeclarationObserver(d,{win:f}),d.collectFonts&&(C=initFontObserver(d)));const P=initSelectionObserver(d),M=initCustomElementObserver(d),A=[];for(const D of d.plugins)A.push(D.observer(D.callback,f,D.options));return callbackWrapper(()=>{mutationBuffers.forEach(D=>D.reset()),y==null||y.disconnect(),g(),b(),v(),S(),O(),w(),T(),E(),k(),C(),P(),M(),A.forEach(D=>D())})}function hasNestedCSSRule(d){return typeof window[d]!="undefined"}function canMonkeyPatchNestedCSSRule(d){return!!(typeof window[d]!="undefined"&&window[d].prototype&&"insertRule"in window[d].prototype&&"deleteRule"in window[d].prototype)}class CrossOriginIframeMirror{constructor(h){this.generateIdFn=h,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(h,f,y,g){const b=y||this.getIdToRemoteIdMap(h),v=g||this.getRemoteIdToIdMap(h);let S=b.get(f);return S||(S=this.generateIdFn(),b.set(f,S),v.set(S,f)),S}getIds(h,f){const y=this.getIdToRemoteIdMap(h),g=this.getRemoteIdToIdMap(h);return f.map(b=>this.getId(h,b,y,g))}getRemoteId(h,f,y){const g=y||this.getRemoteIdToIdMap(h);if(typeof f!="number")return f;const b=g.get(f);return b||-1}getRemoteIds(h,f){const y=this.getRemoteIdToIdMap(h);return f.map(g=>this.getRemoteId(h,g,y))}reset(h){if(!h){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(h),this.iframeRemoteIdToIdMap.delete(h)}getIdToRemoteIdMap(h){let f=this.iframeIdToRemoteIdMap.get(h);return f||(f=new Map,this.iframeIdToRemoteIdMap.set(h,f)),f}getRemoteIdToIdMap(h){let f=this.iframeRemoteIdToIdMap.get(h);return f||(f=new Map,this.iframeRemoteIdToIdMap.set(h,f)),f}}class IframeManagerNoop{constructor(){this.crossOriginIframeMirror=new CrossOriginIframeMirror(genId),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class IframeManager{constructor(h){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new CrossOriginIframeMirror(genId),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=h.mutationCb,this.wrappedEmit=h.wrappedEmit,this.stylesheetManager=h.stylesheetManager,this.recordCrossOriginIframes=h.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new CrossOriginIframeMirror(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=h.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(h){this.iframes.set(h,!0),h.contentWindow&&this.crossOriginIframeMap.set(h.contentWindow,h)}addLoadListener(h){this.loadListener=h}attachIframe(h,f){var g,b;this.mutationCb({adds:[{parentId:this.mirror.getId(h),nextId:null,node:f}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((g=h.contentWindow)==null||g.addEventListener("message",this.handleMessage.bind(this))),(b=this.loadListener)==null||b.call(this,h);const y=getIFrameContentDocument(h);y&&y.adoptedStyleSheets&&y.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(y.adoptedStyleSheets,this.mirror.getId(y))}handleMessage(h){const f=h;if(f.data.type!=="rrweb"||f.origin!==f.data.origin||!h.source)return;const g=this.crossOriginIframeMap.get(h.source);if(!g)return;const b=this.transformCrossOriginEvent(g,f.data.event);b&&this.wrappedEmit(b,f.data.isCheckout)}transformCrossOriginEvent(h,f){var y;switch(f.type){case EventType.FullSnapshot:{this.crossOriginIframeMirror.reset(h),this.crossOriginIframeStyleMirror.reset(h),this.replaceIdOnNode(f.data.node,h);const g=f.data.node.id;return this.crossOriginIframeRootIdMap.set(h,g),this.patchRootIdOnNode(f.data.node,g),{timestamp:f.timestamp,type:EventType.IncrementalSnapshot,data:{source:IncrementalSource.Mutation,adds:[{parentId:this.mirror.getId(h),nextId:null,node:f.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case EventType.Meta:case EventType.Load:case EventType.DomContentLoaded:return!1;case EventType.Plugin:return f;case EventType.Custom:return this.replaceIds(f.data.payload,h,["id","parentId","previousId","nextId"]),f;case EventType.IncrementalSnapshot:switch(f.data.source){case IncrementalSource.Mutation:return f.data.adds.forEach(g=>{this.replaceIds(g,h,["parentId","nextId","previousId"]),this.replaceIdOnNode(g.node,h);const b=this.crossOriginIframeRootIdMap.get(h);b&&this.patchRootIdOnNode(g.node,b)}),f.data.removes.forEach(g=>{this.replaceIds(g,h,["parentId","id"])}),f.data.attributes.forEach(g=>{this.replaceIds(g,h,["id"])}),f.data.texts.forEach(g=>{this.replaceIds(g,h,["id"])}),f;case IncrementalSource.Drag:case IncrementalSource.TouchMove:case IncrementalSource.MouseMove:return f.data.positions.forEach(g=>{this.replaceIds(g,h,["id"])}),f;case IncrementalSource.ViewportResize:return!1;case IncrementalSource.MediaInteraction:case IncrementalSource.MouseInteraction:case IncrementalSource.Scroll:case IncrementalSource.CanvasMutation:case IncrementalSource.Input:return this.replaceIds(f.data,h,["id"]),f;case IncrementalSource.StyleSheetRule:case IncrementalSource.StyleDeclaration:return this.replaceIds(f.data,h,["id"]),this.replaceStyleIds(f.data,h,["styleId"]),f;case IncrementalSource.Font:return f;case IncrementalSource.Selection:return f.data.ranges.forEach(g=>{this.replaceIds(g,h,["start","end"])}),f;case IncrementalSource.AdoptedStyleSheet:return this.replaceIds(f.data,h,["id"]),this.replaceStyleIds(f.data,h,["styleIds"]),(y=f.data.styles)==null||y.forEach(g=>{this.replaceStyleIds(g,h,["styleId"])}),f}}return!1}replace(h,f,y,g){for(const b of g)!Array.isArray(f[b])&&typeof f[b]!="number"||(Array.isArray(f[b])?f[b]=h.getIds(y,f[b]):f[b]=h.getId(y,f[b]));return f}replaceIds(h,f,y){return this.replace(this.crossOriginIframeMirror,h,f,y)}replaceStyleIds(h,f,y){return this.replace(this.crossOriginIframeStyleMirror,h,f,y)}replaceIdOnNode(h,f){this.replaceIds(h,f,["id","rootId"]),"childNodes"in h&&h.childNodes.forEach(y=>{this.replaceIdOnNode(y,f)})}patchRootIdOnNode(h,f){h.type!==NodeType$2.Document&&!h.rootId&&(h.rootId=f),"childNodes"in h&&h.childNodes.forEach(y=>{this.patchRootIdOnNode(y,f)})}}class ShadowDomManagerNoop{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class ShadowDomManager{constructor(h){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=h.mutationCb,this.scrollCb=h.scrollCb,this.bypassOptions=h.bypassOptions,this.mirror=h.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(h,f){if(!isNativeShadowDom(h)||this.shadowDoms.has(h))return;this.shadowDoms.add(h),this.bypassOptions.canvasManager.addShadowRoot(h);const y=initMutationObserver(Re(X({},this.bypassOptions),{doc:f,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),h);this.restoreHandlers.push(()=>y.disconnect()),this.restoreHandlers.push(initScrollObserver(Re(X({},this.bypassOptions),{scrollCb:this.scrollCb,doc:h,mirror:this.mirror}))),setTimeout$1(()=>{h.adoptedStyleSheets&&h.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(h.adoptedStyleSheets,this.mirror.getId(h.host)),this.restoreHandlers.push(initAdoptedStyleSheetObserver({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},h))},0)}observeAttachShadow(h){const f=getIFrameContentDocument(h),y=getIFrameContentWindow(h);!f||!y||this.patchAttachShadow(y.Element,f)}patchAttachShadow(h,f){const y=this;this.restoreHandlers.push(patch(h.prototype,"attachShadow",function(g){return function(b){const v=g.call(this,b);return this.shadowRoot&&inDom(this)&&y.addShadowRoot(this.shadowRoot,f),v}}))}reset(){this.restoreHandlers.forEach(h=>{try{h()}catch(f){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var i$1=0;i$1<chars.length;i$1++)lookup[chars.charCodeAt(i$1)]=i$1;class CanvasManagerNoop{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class StylesheetManager{constructor(h){this.trackedLinkElements=new WeakSet,this.styleMirror=new StyleSheetMirror,this.mutationCb=h.mutationCb,this.adoptedStyleSheetCb=h.adoptedStyleSheetCb}attachLinkElement(h,f){"_cssText"in f.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:f.id,attributes:f.attributes}]}),this.trackLinkElement(h)}trackLinkElement(h){this.trackedLinkElements.has(h)||(this.trackedLinkElements.add(h),this.trackStylesheetInLinkElement(h))}adoptStyleSheets(h,f){if(h.length===0)return;const y={id:f,styleIds:[]},g=[];for(const b of h){let v;this.styleMirror.has(b)?v=this.styleMirror.getId(b):(v=this.styleMirror.add(b),g.push({styleId:v,rules:Array.from(b.rules||CSSRule,(S,O)=>({rule:stringifyRule(S),index:O}))})),y.styleIds.push(v)}g.length>0&&(y.styles=g),this.adoptedStyleSheetCb(y)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(h){}}class ProcessedNodeManager{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(h,f){const y=this.nodeMap.get(h);return y&&Array.from(y).some(g=>g!==f)}add(h,f){this.active||(this.active=!0,onRequestAnimationFrame(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(h,(this.nodeMap.get(h)||new Set).add(f))}destroy(){}}let wrappedEmit,_takeFullSnapshot;var gd;try{if(Array.from([1],d=>d*2)[0]!==2){const d=document.createElement("iframe");document.body.appendChild(d),Array.from=((gd=d.contentWindow)==null?void 0:gd.Array.from)||Array.from,document.body.removeChild(d)}}catch(d){console.debug("Unable to override Array.from",d)}const mirror=createMirror$2();function record(d={}){const{emit:h,checkoutEveryNms:f,checkoutEveryNth:y,blockClass:g="rr-block",blockSelector:b=null,unblockSelector:v=null,ignoreClass:S="rr-ignore",ignoreSelector:O=null,maskAllText:w=!1,maskTextClass:T="rr-mask",unmaskTextClass:E=null,maskTextSelector:k=null,unmaskTextSelector:C=null,inlineStylesheet:P=!0,maskAllInputs:M,maskInputOptions:A,slimDOMOptions:D,maskAttributeFn:N,maskInputFn:j,maskTextFn:q,maxCanvasSize:F=null,packFn:L,sampling:U={},dataURLOptions:z={},mousemoveWait:V,recordDOM:Y=!0,recordCanvas:W=!1,recordCrossOriginIframes:K=!1,recordAfter:re=d.recordAfter==="DOMContentLoaded"?d.recordAfter:"load",userTriggeredOnInput:fe=!1,collectFonts:se=!1,inlineImages:J=!1,plugins:ie,keepIframeSrcFn:ue=()=>!1,ignoreCSSAttributes:ke=new Set([]),errorHandler:pe,onMutation:ne,getCanvasManager:de}=d;registerErrorHandler(pe);const ae=K?window.parent===window:!0;let H=!1;if(!ae)try{window.parent.document&&(H=!1)}catch(Me){H=!0}if(ae&&!h)throw new Error("emit function is required");if(!ae&&!H)return()=>{};V!==void 0&&U.mousemove===void 0&&(U.mousemove=V),mirror.reset();const Z=M===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:A!==void 0?A:{},ve=D===!0||D==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:D==="all",headMetaDescKeywords:D==="all"}:D||{};polyfill$1();let Te,te=0;const ge=Me=>{for(const Ue of ie||[])Ue.eventProcessor&&(Me=Ue.eventProcessor(Me));return L&&!H&&(Me=L(Me)),Me};wrappedEmit=(Me,Ue)=>{var Be;const Ne=Me;if(Ne.timestamp=nowTimestamp(),(Be=mutationBuffers[0])!=null&&Be.isFrozen()&&Ne.type!==EventType.FullSnapshot&&!(Ne.type===EventType.IncrementalSnapshot&&Ne.data.source===IncrementalSource.Mutation)&&mutationBuffers.forEach(ut=>ut.unfreeze()),ae)h==null||h(ge(Ne),Ue);else if(H){const ut={type:"rrweb",event:ge(Ne),origin:window.location.origin,isCheckout:Ue};window.parent.postMessage(ut,"*")}if(Ne.type===EventType.FullSnapshot)Te=Ne,te=0;else if(Ne.type===EventType.IncrementalSnapshot){if(Ne.data.source===IncrementalSource.Mutation&&Ne.data.isAttachIframe)return;te++;const ut=y&&te>=y,Ge=f&&Te&&Ne.timestamp-Te.timestamp>f;(ut||Ge)&&Ke(!0)}};const $e=Me=>{wrappedEmit({type:EventType.IncrementalSnapshot,data:X({source:IncrementalSource.Mutation},Me)})},Q=Me=>wrappedEmit({type:EventType.IncrementalSnapshot,data:X({source:IncrementalSource.Scroll},Me)}),le=Me=>wrappedEmit({type:EventType.IncrementalSnapshot,data:X({source:IncrementalSource.CanvasMutation},Me)}),Se=Me=>wrappedEmit({type:EventType.IncrementalSnapshot,data:X({source:IncrementalSource.AdoptedStyleSheet},Me)}),Oe=new StylesheetManager({mutationCb:$e,adoptedStyleSheetCb:Se}),xe=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new IframeManagerNoop:new IframeManager({mirror,mutationCb:$e,stylesheetManager:Oe,recordCrossOriginIframes:K,wrappedEmit});for(const Me of ie||[])Me.getMirror&&Me.getMirror({nodeMirror:mirror,crossOriginIframeMirror:xe.crossOriginIframeMirror,crossOriginIframeStyleMirror:xe.crossOriginIframeStyleMirror});const Pe=new ProcessedNodeManager,Ce=_getCanvasManager(de,{mirror,win:window,mutationCb:Me=>wrappedEmit({type:EventType.IncrementalSnapshot,data:X({source:IncrementalSource.CanvasMutation},Me)}),recordCanvas:W,blockClass:g,blockSelector:b,unblockSelector:v,maxCanvasSize:F,sampling:U.canvas,dataURLOptions:z,errorHandler:pe}),Ye=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new ShadowDomManagerNoop:new ShadowDomManager({mutationCb:$e,scrollCb:Q,bypassOptions:{onMutation:ne,blockClass:g,blockSelector:b,unblockSelector:v,maskAllText:w,maskTextClass:T,unmaskTextClass:E,maskTextSelector:k,unmaskTextSelector:C,inlineStylesheet:P,maskInputOptions:Z,dataURLOptions:z,maskAttributeFn:N,maskTextFn:q,maskInputFn:j,recordCanvas:W,inlineImages:J,sampling:U,slimDOMOptions:ve,iframeManager:xe,stylesheetManager:Oe,canvasManager:Ce,keepIframeSrcFn:ue,processedNodeManager:Pe},mirror}),Ke=(Me=!1)=>{if(!Y)return;wrappedEmit({type:EventType.Meta,data:{href:window.location.href,width:getWindowWidth(),height:getWindowHeight()}},Me),Oe.reset(),Ye.init(),mutationBuffers.forEach(Ne=>Ne.lock());const Ue=snapshot(document,{mirror,blockClass:g,blockSelector:b,unblockSelector:v,maskAllText:w,maskTextClass:T,unmaskTextClass:E,maskTextSelector:k,unmaskTextSelector:C,inlineStylesheet:P,maskAllInputs:Z,maskAttributeFn:N,maskInputFn:j,maskTextFn:q,slimDOM:ve,dataURLOptions:z,recordCanvas:W,inlineImages:J,onSerialize:Ne=>{isSerializedIframe(Ne,mirror)&&xe.addIframe(Ne),isSerializedStylesheet(Ne,mirror)&&Oe.trackLinkElement(Ne),hasShadowRoot(Ne)&&Ye.addShadowRoot(Ne.shadowRoot,document)},onIframeLoad:(Ne,Be)=>{xe.attachIframe(Ne,Be),Ne.contentWindow&&Ce.addWindow(Ne.contentWindow),Ye.observeAttachShadow(Ne)},onStylesheetLoad:(Ne,Be)=>{Oe.attachLinkElement(Ne,Be)},keepIframeSrcFn:ue});if(!Ue)return console.warn("Failed to snapshot the document");wrappedEmit({type:EventType.FullSnapshot,data:{node:Ue,initialOffset:getWindowScroll(window)}}),mutationBuffers.forEach(Ne=>Ne.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Oe.adoptStyleSheets(document.adoptedStyleSheets,mirror.getId(document))};_takeFullSnapshot=Ke;try{const Me=[],Ue=Be=>{var ut;return callbackWrapper(initObservers)({onMutation:ne,mutationCb:$e,mousemoveCb:(Ge,$t)=>wrappedEmit({type:EventType.IncrementalSnapshot,data:{source:$t,positions:Ge}}),mouseInteractionCb:Ge=>wrappedEmit({type:EventType.IncrementalSnapshot,data:X({source:IncrementalSource.MouseInteraction},Ge)}),scrollCb:Q,viewportResizeCb:Ge=>wrappedEmit({type:EventType.IncrementalSnapshot,data:X({source:IncrementalSource.ViewportResize},Ge)}),inputCb:Ge=>wrappedEmit({type:EventType.IncrementalSnapshot,data:X({source:IncrementalSource.Input},Ge)}),mediaInteractionCb:Ge=>wrappedEmit({type:EventType.IncrementalSnapshot,data:X({source:IncrementalSource.MediaInteraction},Ge)}),styleSheetRuleCb:Ge=>wrappedEmit({type:EventType.IncrementalSnapshot,data:X({source:IncrementalSource.StyleSheetRule},Ge)}),styleDeclarationCb:Ge=>wrappedEmit({type:EventType.IncrementalSnapshot,data:X({source:IncrementalSource.StyleDeclaration},Ge)}),canvasMutationCb:le,fontCb:Ge=>wrappedEmit({type:EventType.IncrementalSnapshot,data:X({source:IncrementalSource.Font},Ge)}),selectionCb:Ge=>{wrappedEmit({type:EventType.IncrementalSnapshot,data:X({source:IncrementalSource.Selection},Ge)})},customElementCb:Ge=>{wrappedEmit({type:EventType.IncrementalSnapshot,data:X({source:IncrementalSource.CustomElement},Ge)})},blockClass:g,ignoreClass:S,ignoreSelector:O,maskAllText:w,maskTextClass:T,unmaskTextClass:E,maskTextSelector:k,unmaskTextSelector:C,maskInputOptions:Z,inlineStylesheet:P,sampling:U,recordDOM:Y,recordCanvas:W,inlineImages:J,userTriggeredOnInput:fe,collectFonts:se,doc:Be,maskAttributeFn:N,maskInputFn:j,maskTextFn:q,keepIframeSrcFn:ue,blockSelector:b,unblockSelector:v,slimDOMOptions:ve,dataURLOptions:z,mirror,iframeManager:xe,stylesheetManager:Oe,shadowDomManager:Ye,processedNodeManager:Pe,canvasManager:Ce,ignoreCSSAttributes:ke,plugins:((ut=ie==null?void 0:ie.filter(Ge=>Ge.observer))==null?void 0:ut.map(Ge=>({observer:Ge.observer,options:Ge.options,callback:$t=>wrappedEmit({type:EventType.Plugin,data:{plugin:Ge.name,payload:$t}})})))||[]},{})};xe.addLoadListener(Be=>{try{Me.push(Ue(Be.contentDocument))}catch(ut){console.warn(ut)}});const Ne=()=>{Ke(),Me.push(Ue(document))};return document.readyState==="interactive"||document.readyState==="complete"?Ne():(Me.push(on("DOMContentLoaded",()=>{wrappedEmit({type:EventType.DomContentLoaded,data:{}}),re==="DOMContentLoaded"&&Ne()})),Me.push(on("load",()=>{wrappedEmit({type:EventType.Load,data:{}}),re==="load"&&Ne()},window))),()=>{Me.forEach(Be=>Be()),Pe.destroy(),_takeFullSnapshot=void 0,unregisterErrorHandler()}}catch(Me){console.warn(Me)}}function takeFullSnapshot(d){if(!_takeFullSnapshot)throw new Error("please take full snapshot after start recording");_takeFullSnapshot(d)}record.mirror=mirror;record.takeFullSnapshot=takeFullSnapshot;function _getCanvasManager(d,h){try{return d?d(h):new CanvasManagerNoop}catch(f){return console.warn("Unable to initialize CanvasManager"),new CanvasManagerNoop}}var n$1;(function(d){d[d.NotStarted=0]="NotStarted",d[d.Running=1]="Running",d[d.Stopped=2]="Stopped"})(n$1||(n$1={}));const ReplayEventTypeIncrementalSnapshot=3,ReplayEventTypeCustom=5;function timestampToMs(d){return d>9999999999?d:d*1e3}function timestampToS(d){return d>9999999999?d/1e3:d}function addBreadcrumbEvent(d,h){h.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(h.category)?d.triggerUserActivity():d.checkAndHandleExpiredSession(),d.addUpdate(()=>(d.throttledAddEvent({type:EventType.Custom,timestamp:(h.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:normalize(h,10,1e3)}}),h.category==="console")))}const INTERACTIVE_SELECTOR="button,a";function getClosestInteractive(d){return d.closest(INTERACTIVE_SELECTOR)||d}function getClickTargetNode(d){const h=getTargetNode(d);return!h||!(h instanceof Element)?h:getClosestInteractive(h)}function getTargetNode(d){return isEventWithTarget(d)?d.target:d}function isEventWithTarget(d){return typeof d=="object"&&!!d&&"target"in d}let handlers;function onWindowOpen(d){return handlers||(handlers=[],monkeyPatchWindowOpen()),handlers.push(d),()=>{const h=handlers?handlers.indexOf(d):-1;h>-1&&handlers.splice(h,1)}}function monkeyPatchWindowOpen(){fill$1(WINDOW,"open",function(d){return function(...h){if(handlers)try{handlers.forEach(f=>f())}catch(f){}return d.apply(WINDOW,h)}})}const IncrementalMutationSources=new Set([IncrementalSource.Mutation,IncrementalSource.StyleSheetRule,IncrementalSource.StyleDeclaration,IncrementalSource.AdoptedStyleSheet,IncrementalSource.CanvasMutation,IncrementalSource.Selection,IncrementalSource.MediaInteraction]);function handleClick(d,h,f){d.handleClick(h,f)}class ClickDetector{constructor(h,f,y=addBreadcrumbEvent){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=f.timeout/1e3,this._threshold=f.threshold/1e3,this._scrollTimeout=f.scrollTimeout/1e3,this._replay=h,this._ignoreSelector=f.ignoreSelector,this._addBreadcrumbEvent=y}addListeners(){const h=onWindowOpen(()=>{this._lastMutation=nowInSeconds()});this._teardown=()=>{h(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(h,f){if(ignoreElement(f,this._ignoreSelector)||!isClickBreadcrumb(h))return;const y={timestamp:timestampToS(h.timestamp),clickBreadcrumb:h,clickCount:0,node:f};this._clicks.some(g=>g.node===y.node&&Math.abs(g.timestamp-y.timestamp)<1)||(this._clicks.push(y),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(h=Date.now()){this._lastMutation=timestampToS(h)}registerScroll(h=Date.now()){this._lastScroll=timestampToS(h)}registerClick(h){const f=getClosestInteractive(h);this._handleMultiClick(f)}_handleMultiClick(h){this._getClicks(h).forEach(f=>{f.clickCount++})}_getClicks(h){return this._clicks.filter(f=>f.node===h)}_checkClicks(){const h=[],f=nowInSeconds();this._clicks.forEach(y=>{!y.mutationAfter&&this._lastMutation&&(y.mutationAfter=y.timestamp<=this._lastMutation?this._lastMutation-y.timestamp:void 0),!y.scrollAfter&&this._lastScroll&&(y.scrollAfter=y.timestamp<=this._lastScroll?this._lastScroll-y.timestamp:void 0),y.timestamp+this._timeout<=f&&h.push(y)});for(const y of h){const g=this._clicks.indexOf(y);g>-1&&(this._generateBreadcrumbs(y),this._clicks.splice(g,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(h){const f=this._replay,y=h.scrollAfter&&h.scrollAfter<=this._scrollTimeout,g=h.mutationAfter&&h.mutationAfter<=this._threshold,b=!y&&!g,{clickCount:v,clickBreadcrumb:S}=h;if(b){const O=Math.min(h.mutationAfter||this._timeout,this._timeout)*1e3,w=O<this._timeout*1e3?"mutation":"timeout",T={type:"default",message:S.message,timestamp:S.timestamp,category:"ui.slowClickDetected",data:Re(X({},S.data),{url:WINDOW.location.href,route:f.getCurrentRoute(),timeAfterClickMs:O,endReason:w,clickCount:v||1})};this._addBreadcrumbEvent(f,T);return}if(v>1){const O={type:"default",message:S.message,timestamp:S.timestamp,category:"ui.multiClick",data:Re(X({},S.data),{url:WINDOW.location.href,route:f.getCurrentRoute(),clickCount:v,metric:!0})};this._addBreadcrumbEvent(f,O)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout$3(()=>this._checkClicks(),1e3)}}const SLOW_CLICK_TAGS=["A","BUTTON","INPUT"];function ignoreElement(d,h){return!!(!SLOW_CLICK_TAGS.includes(d.tagName)||d.tagName==="INPUT"&&!["submit","button"].includes(d.getAttribute("type")||"")||d.tagName==="A"&&(d.hasAttribute("download")||d.hasAttribute("target")&&d.getAttribute("target")!=="_self")||h&&d.matches(h))}function isClickBreadcrumb(d){return!!(d.data&&typeof d.data.nodeId=="number"&&d.timestamp)}function nowInSeconds(){return Date.now()/1e3}function updateClickDetectorForRecordingEvent(d,h){try{if(!isIncrementalEvent(h))return;const{source:f}=h.data;if(IncrementalMutationSources.has(f)&&d.registerMutation(h.timestamp),f===IncrementalSource.Scroll&&d.registerScroll(h.timestamp),isIncrementalMouseInteraction(h)){const{type:y,id:g}=h.data,b=record.mirror.getNode(g);b instanceof HTMLElement&&y===MouseInteractions.Click&&d.registerClick(b)}}catch(f){}}function isIncrementalEvent(d){return d.type===ReplayEventTypeIncrementalSnapshot}function isIncrementalMouseInteraction(d){return d.data.source===IncrementalSource.MouseInteraction}function createBreadcrumb(d){return X({timestamp:Date.now()/1e3,type:"default"},d)}var NodeType=(d=>(d[d.Document=0]="Document",d[d.DocumentType=1]="DocumentType",d[d.Element=2]="Element",d[d.Text=3]="Text",d[d.CDATA=4]="CDATA",d[d.Comment=5]="Comment",d))(NodeType||{});const ATTRIBUTES_TO_RECORD=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function getAttributesToRecord(d){const h={};!d["data-sentry-component"]&&d["data-sentry-element"]&&(d["data-sentry-component"]=d["data-sentry-element"]);for(const f in d)if(ATTRIBUTES_TO_RECORD.has(f)){let y=f;(f==="data-testid"||f==="data-test-id")&&(y="testId"),h[y]=d[f]}return h}const handleDomListener=d=>h=>{if(!d.isEnabled())return;const f=handleDom(h);if(!f)return;const y=h.name==="click",g=y?h.event:void 0;y&&d.clickDetector&&(g!=null&&g.target)&&!g.altKey&&!g.metaKey&&!g.ctrlKey&&!g.shiftKey&&handleClick(d.clickDetector,f,getClickTargetNode(h.event)),addBreadcrumbEvent(d,f)};function getBaseDomBreadcrumb(d,h){const f=record.mirror.getId(d),y=f&&record.mirror.getNode(f),g=y&&record.mirror.getMeta(y),b=g&&isElement(g)?g:null;return{message:h,data:b?{nodeId:f,node:{id:f,tagName:b.tagName,textContent:Array.from(b.childNodes).map(v=>v.type===NodeType.Text&&v.textContent).filter(Boolean).map(v=>v.trim()).join(""),attributes:getAttributesToRecord(b.attributes)}}:{}}}function handleDom(d){const{target:h,message:f}=getDomTarget(d);return createBreadcrumb(X({category:`ui.${d.name}`},getBaseDomBreadcrumb(h,f)))}function getDomTarget(d){const h=d.name==="click";let f,y=null;try{y=h?getClickTargetNode(d.event):getTargetNode(d.event),f=htmlTreeAsString(y,{maxStringLength:200})||"<unknown>"}catch(g){f="<unknown>"}return{target:y,message:f}}function isElement(d){return d.type===NodeType.Element}function handleKeyboardEvent(d,h){if(!d.isEnabled())return;d.updateUserActivity();const f=getKeyboardBreadcrumb(h);f&&addBreadcrumbEvent(d,f)}function getKeyboardBreadcrumb(d){const{metaKey:h,shiftKey:f,ctrlKey:y,altKey:g,key:b,target:v}=d;if(!v||isInputElement(v)||!b)return null;const S=h||y||g,O=b.length===1;if(!S&&O)return null;const w=htmlTreeAsString(v,{maxStringLength:200})||"<unknown>",T=getBaseDomBreadcrumb(v,w);return createBreadcrumb({category:"ui.keyDown",message:w,data:Re(X({},T.data),{metaKey:h,shiftKey:f,ctrlKey:y,altKey:g,key:b})})}function isInputElement(d){return d.tagName==="INPUT"||d.tagName==="TEXTAREA"||d.isContentEditable}const ENTRY_TYPES={resource:createResourceEntry,paint:createPaintEntry,navigation:createNavigationEntry};function webVitalHandler(d,h){return({metric:f})=>void h.replayPerformanceEntries.push(d(f))}function createPerformanceEntries(d){return d.map(createPerformanceEntry).filter(Boolean)}function createPerformanceEntry(d){const h=ENTRY_TYPES[d.entryType];return h?h(d):null}function getAbsoluteTime$1(d){return((browserPerformanceTimeOrigin()||WINDOW.performance.timeOrigin)+d)/1e3}function createPaintEntry(d){const{duration:h,entryType:f,name:y,startTime:g}=d,b=getAbsoluteTime$1(g);return{type:f,name:y,start:b,end:b+h,data:void 0}}function createNavigationEntry(d){const{entryType:h,name:f,decodedBodySize:y,duration:g,domComplete:b,encodedBodySize:v,domContentLoadedEventStart:S,domContentLoadedEventEnd:O,domInteractive:w,loadEventStart:T,loadEventEnd:E,redirectCount:k,startTime:C,transferSize:P,type:M}=d;return g===0?null:{type:`${h}.${M}`,start:getAbsoluteTime$1(C),end:getAbsoluteTime$1(b),name:f,data:{size:P,decodedBodySize:y,encodedBodySize:v,duration:g,domInteractive:w,domContentLoadedEventStart:S,domContentLoadedEventEnd:O,loadEventStart:T,loadEventEnd:E,domComplete:b,redirectCount:k}}}function createResourceEntry(d){const{entryType:h,initiatorType:f,name:y,responseEnd:g,startTime:b,decodedBodySize:v,encodedBodySize:S,responseStatus:O,transferSize:w}=d;return["fetch","xmlhttprequest"].includes(f)?null:{type:`${h}.${f}`,start:getAbsoluteTime$1(b),end:getAbsoluteTime$1(g),name:y,data:{size:w,statusCode:O,decodedBodySize:v,encodedBodySize:S}}}function getLargestContentfulPaint(d){const h=d.entries[d.entries.length-1],f=h!=null&&h.element?[h.element]:void 0;return getWebVital(d,"largest-contentful-paint",f)}function isLayoutShift(d){return d.sources!==void 0}function getCumulativeLayoutShift(d){const h=[],f=[];for(const y of d.entries)if(isLayoutShift(y)){const g=[];for(const b of y.sources)if(b.node){f.push(b.node);const v=record.mirror.getId(b.node);v&&g.push(v)}h.push({value:y.value,nodeIds:g.length?g:void 0})}return getWebVital(d,"cumulative-layout-shift",f,h)}function getFirstInputDelay(d){const h=d.entries[d.entries.length-1],f=h!=null&&h.target?[h.target]:void 0;return getWebVital(d,"first-input-delay",f)}function getInteractionToNextPaint(d){const h=d.entries[d.entries.length-1],f=h!=null&&h.target?[h.target]:void 0;return getWebVital(d,"interaction-to-next-paint",f)}function getWebVital(d,h,f,y){const g=d.value,b=d.rating,v=getAbsoluteTime$1(g);return{type:"web-vital",name:h,start:v,end:v,data:{value:g,size:g,rating:b,nodeIds:f?f.map(S=>record.mirror.getId(S)):void 0,attributions:y}}}function setupPerformanceObserver(d){function h(g){d.performanceEntries.includes(g)||d.performanceEntries.push(g)}function f({entries:g}){g.forEach(h)}const y=[];return["navigation","paint","resource"].forEach(g=>{y.push(addPerformanceInstrumentationHandler(g,f))}),y.push(addLcpInstrumentationHandler(webVitalHandler(getLargestContentfulPaint,d)),addClsInstrumentationHandler(webVitalHandler(getCumulativeLayoutShift,d)),addFidInstrumentationHandler(webVitalHandler(getFirstInputDelay,d)),addInpInstrumentationHandler(webVitalHandler(getInteractionToNextPaint,d))),()=>{y.forEach(g=>g())}}const DEBUG_BUILD=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,r$1='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function e$1(){const d=new Blob([r$1]);return URL.createObjectURL(d)}const CONSOLE_LEVELS=["log","warn","error"],PREFIX="[Replay] ";function _addBreadcrumb(d,h="info"){addBreadcrumb({category:"console",data:{logger:"replay"},level:h,message:`${PREFIX}${d}`},{level:h})}function makeReplayDebugLogger(){let d=!1,h=!1;const f={exception:()=>{},infoTick:()=>{},setConfig:y=>{d=!!y.captureExceptions,h=!!y.traceInternals}};return DEBUG_BUILD?(CONSOLE_LEVELS.forEach(y=>{f[y]=(...g)=>{debug$1[y](PREFIX,...g),h&&_addBreadcrumb(g.join(""),severityLevelFromString(y))}}),f.exception=(y,...g)=>{g.length&&f.error&&f.error(...g),debug$1.error(PREFIX,y),d?captureException(y):h&&_addBreadcrumb(y,"error")},f.infoTick=(...y)=>{debug$1.log(PREFIX,...y),h&&setTimeout(()=>_addBreadcrumb(y[0]),0)}):CONSOLE_LEVELS.forEach(y=>{f[y]=()=>{}}),f}const debug=makeReplayDebugLogger();class EventBufferSizeExceededError extends Error{constructor(){super(`Event buffer exceeded maximum size of ${REPLAY_MAX_EVENT_BUFFER_SIZE}.`)}}class EventBufferArray{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(h){return De(this,null,function*(){const f=JSON.stringify(h).length;if(this._totalSize+=f,this._totalSize>REPLAY_MAX_EVENT_BUFFER_SIZE)throw new EventBufferSizeExceededError;this.events.push(h)})}finish(){return new Promise(h=>{const f=this.events;this.clear(),h(JSON.stringify(f))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const h=this.events.map(f=>f.timestamp).sort()[0];return h?timestampToMs(h):null}}class WorkerHandler{constructor(h){this._worker=h,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((h,f)=>{this._worker.addEventListener("message",({data:y})=>{y.success?h():f()},{once:!0}),this._worker.addEventListener("error",y=>{f(y)},{once:!0})}),this._ensureReadyPromise)}destroy(){DEBUG_BUILD&&debug.log("Destroying compression worker"),this._worker.terminate()}postMessage(h,f){const y=this._getAndIncrementId();return new Promise((g,b)=>{const v=({data:S})=>{const O=S;if(O.method===h&&O.id===y){if(this._worker.removeEventListener("message",v),!O.success){DEBUG_BUILD&&debug.error("Error in compression worker: ",O.response),b(new Error("Error in compression worker"));return}g(O.response)}};this._worker.addEventListener("message",v),this._worker.postMessage({id:y,method:h,arg:f})})}_getAndIncrementId(){return this._id++}}class EventBufferCompressionWorker{constructor(h){this._worker=new WorkerHandler(h),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(h){const f=timestampToMs(h.timestamp);(!this._earliestTimestamp||f<this._earliestTimestamp)&&(this._earliestTimestamp=f);const y=JSON.stringify(h);return this._totalSize+=y.length,this._totalSize>REPLAY_MAX_EVENT_BUFFER_SIZE?Promise.reject(new EventBufferSizeExceededError):this._sendEventToWorker(y)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,h=>{DEBUG_BUILD&&debug.exception(h,'Sending "clear" message to worker failed',h)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(h){return this._worker.postMessage("addEvent",h)}_finishRequest(){return De(this,null,function*(){const h=yield this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,h})}}class EventBufferProxy{constructor(h){this._fallback=new EventBufferArray,this._compression=new EventBufferCompressionWorker(h),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(h){this._used.hasCheckout=h}set waitForCheckout(h){this._used.waitForCheckout=h}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(h){return this._used.addEvent(h)}finish(){return De(this,null,function*(){return yield this.ensureWorkerIsLoaded(),this._used.finish()})}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){return De(this,null,function*(){try{yield this._compression.ensureReady()}catch(h){DEBUG_BUILD&&debug.exception(h,"Failed to load the compression worker, falling back to simple buffer");return}yield this._switchToCompressionWorker()})}_switchToCompressionWorker(){return De(this,null,function*(){const{events:h,hasCheckout:f,waitForCheckout:y}=this._fallback,g=[];for(const b of h)g.push(this._compression.addEvent(b));this._compression.hasCheckout=f,this._compression.waitForCheckout=y,this._used=this._compression;try{yield Promise.all(g),this._fallback.clear()}catch(b){DEBUG_BUILD&&debug.exception(b,"Failed to add events when switching buffers.")}})}}function createEventBuffer({useCompression:d,workerUrl:h}){if(d&&window.Worker){const f=_loadWorker(h);if(f)return f}return DEBUG_BUILD&&debug.log("Using simple buffer"),new EventBufferArray}function _loadWorker(d){try{const h=d||_getWorkerUrl();if(!h)return;DEBUG_BUILD&&debug.log(`Using compression worker${d?` from ${d}`:""}`);const f=new Worker(h);return new EventBufferProxy(f)}catch(h){DEBUG_BUILD&&debug.exception(h,"Failed to create compression worker")}}function _getWorkerUrl(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__=="undefined"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?e$1():""}function hasSessionStorage(){try{return"sessionStorage"in WINDOW&&!!WINDOW.sessionStorage}catch(d){return!1}}function clearSession(d){deleteSession(),d.session=void 0}function deleteSession(){if(hasSessionStorage())try{WINDOW.sessionStorage.removeItem(REPLAY_SESSION_KEY)}catch(d){}}function isSampled(d){return d===void 0?!1:Math.random()<d}function saveSession(d){if(hasSessionStorage())try{WINDOW.sessionStorage.setItem(REPLAY_SESSION_KEY,JSON.stringify(d))}catch(h){}}function makeSession(d){const h=Date.now(),f=d.id||uuid4(),y=d.started||h,g=d.lastActivity||h,b=d.segmentId||0,v=d.sampled,S=d.previousSessionId;return{id:f,started:y,lastActivity:g,segmentId:b,sampled:v,previousSessionId:S}}function getSessionSampleType(d,h){return isSampled(d)?"session":h?"buffer":!1}function createSession({sessionSampleRate:d,allowBuffering:h,stickySession:f=!1},{previousSessionId:y}={}){const g=getSessionSampleType(d,h),b=makeSession({sampled:g,previousSessionId:y});return f&&saveSession(b),b}function fetchSession(){if(!hasSessionStorage())return null;try{const d=WINDOW.sessionStorage.getItem(REPLAY_SESSION_KEY);if(!d)return null;const h=JSON.parse(d);return DEBUG_BUILD&&debug.infoTick("Loading existing session"),makeSession(h)}catch(d){return null}}function isExpired(d,h,f=+new Date){return d===null||h===void 0||h<0?!0:h===0?!1:d+h<=f}function isSessionExpired(d,{maxReplayDuration:h,sessionIdleExpire:f,targetTime:y=Date.now()}){return isExpired(d.started,h,y)||isExpired(d.lastActivity,f,y)}function shouldRefreshSession(d,{sessionIdleExpire:h,maxReplayDuration:f}){return!(!isSessionExpired(d,{sessionIdleExpire:h,maxReplayDuration:f})||d.sampled==="buffer"&&d.segmentId===0)}function loadOrCreateSession({sessionIdleExpire:d,maxReplayDuration:h,previousSessionId:f},y){const g=y.stickySession&&fetchSession();return g?shouldRefreshSession(g,{sessionIdleExpire:d,maxReplayDuration:h})?(DEBUG_BUILD&&debug.infoTick("Session in sessionStorage is expired, creating new one..."),createSession(y,{previousSessionId:g.id})):g:(DEBUG_BUILD&&debug.infoTick("Creating new session"),createSession(y,{previousSessionId:f}))}function isCustomEvent(d){return d.type===EventType.Custom}function addEventSync(d,h,f){return shouldAddEvent(d,h)?(_addEvent(d,h,f),!0):!1}function addEvent$1(d,h,f){return shouldAddEvent(d,h)?_addEvent(d,h,f):Promise.resolve(null)}function _addEvent(d,h,f){return De(this,null,function*(){const{eventBuffer:y}=d;if(!y||y.waitForCheckout&&!f)return null;const g=d.recordingMode==="buffer";try{f&&g&&y.clear(),f&&(y.hasCheckout=!0,y.waitForCheckout=!1);const b=d.getOptions(),v=maybeApplyCallback(h,b.beforeAddRecordingEvent);return v?yield y.addEvent(v):void 0}catch(b){const v=b&&b instanceof EventBufferSizeExceededError,S=v?"addEventSizeExceeded":"addEvent";if(v&&g)return y.clear(),y.waitForCheckout=!0,null;d.handleException(b),yield d.stop({reason:S});const O=getClient();O&&O.recordDroppedEvent("internal_sdk_error","replay")}})}function shouldAddEvent(d,h){if(!d.eventBuffer||d.isPaused()||!d.isEnabled())return!1;const f=timestampToMs(h.timestamp);return f+d.timeouts.sessionIdlePause<Date.now()?!1:f>d.getContext().initialTimestamp+d.getOptions().maxReplayDuration?(DEBUG_BUILD&&debug.infoTick(`Skipping event with timestamp ${f} because it is after maxReplayDuration`),!1):!0}function maybeApplyCallback(d,h){try{if(typeof h=="function"&&isCustomEvent(d))return h(d)}catch(f){return DEBUG_BUILD&&debug.exception(f,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return d}function isErrorEvent(d){return!d.type}function isTransactionEvent(d){return d.type==="transaction"}function isReplayEvent(d){return d.type==="replay_event"}function isFeedbackEvent(d){return d.type==="feedback"}function handleAfterSendEvent(d){return(h,f)=>{if(!d.isEnabled()||!isErrorEvent(h)&&!isTransactionEvent(h))return;const y=f==null?void 0:f.statusCode;if(!(!y||y<200||y>=300)){if(isTransactionEvent(h)){handleTransactionEvent(d,h);return}handleErrorEvent(d,h)}}}function handleTransactionEvent(d,h){var y,g;const f=d.getContext();(g=(y=h.contexts)==null?void 0:y.trace)!=null&&g.trace_id&&f.traceIds.size<100&&f.traceIds.add(h.contexts.trace.trace_id)}function handleErrorEvent(d,h){const f=d.getContext();if(h.event_id&&f.errorIds.size<100&&f.errorIds.add(h.event_id),d.recordingMode!=="buffer"||!h.tags||!h.tags.replayId)return;const{beforeErrorSampling:y}=d.getOptions();typeof y=="function"&&!y(h)||setTimeout$3(()=>De(null,null,function*(){try{yield d.sendBufferedReplayOrFlush()}catch(g){d.handleException(g)}}))}function handleBeforeSendEvent(d){return h=>{!d.isEnabled()||!isErrorEvent(h)||handleHydrationError(d,h)}}function handleHydrationError(d,h){var y,g,b;const f=(b=(g=(y=h.exception)==null?void 0:y.values)==null?void 0:g[0])==null?void 0:b.value;if(typeof f=="string"&&(f.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||f.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const v=createBreadcrumb({category:"replay.hydrate-error",data:{url:getLocationHref()}});addBreadcrumbEvent(d,v)}}function handleBreadcrumbs(d){const h=getClient();h&&h.on("beforeAddBreadcrumb",f=>beforeAddBreadcrumb(d,f))}function beforeAddBreadcrumb(d,h){if(!d.isEnabled()||!isBreadcrumbWithCategory(h))return;const f=normalizeBreadcrumb(h);f&&addBreadcrumbEvent(d,f)}function normalizeBreadcrumb(d){return!isBreadcrumbWithCategory(d)||["fetch","xhr","sentry.event","sentry.transaction"].includes(d.category)||d.category.startsWith("ui.")?null:d.category==="console"?normalizeConsoleBreadcrumb(d):createBreadcrumb(d)}function normalizeConsoleBreadcrumb(d){var g;const h=(g=d.data)==null?void 0:g.arguments;if(!Array.isArray(h)||h.length===0)return createBreadcrumb(d);let f=!1;const y=h.map(b=>{if(!b)return b;if(typeof b=="string")return b.length>CONSOLE_ARG_MAX_SIZE?(f=!0,`${b.slice(0,CONSOLE_ARG_MAX_SIZE)}`):b;if(typeof b=="object")try{const v=normalize(b,7);return JSON.stringify(v).length>CONSOLE_ARG_MAX_SIZE?(f=!0,`${JSON.stringify(v,null,2).slice(0,CONSOLE_ARG_MAX_SIZE)}`):v}catch(v){}return b});return createBreadcrumb(Re(X({},d),{data:X(Re(X({},d.data),{arguments:y}),f?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}function isBreadcrumbWithCategory(d){return!!d.category}function isRrwebError(d,h){var f,y,g;return d.type||!((y=(f=d.exception)==null?void 0:f.values)!=null&&y.length)?!1:!!((g=h.originalException)!=null&&g.__rrweb__)}function resetReplayIdOnDynamicSamplingContext(){const d=getCurrentScope().getPropagationContext().dsc;d&&delete d.replay_id;const h=getActiveSpan();if(h){const f=getDynamicSamplingContextFromSpan(h);delete f.replay_id}}function addFeedbackBreadcrumb(d,h){d.triggerUserActivity(),d.addUpdate(()=>h.timestamp?(d.throttledAddEvent({type:EventType.Custom,timestamp:h.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:h.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:h.event_id}}}}),!1):!0)}function shouldSampleForBufferEvent(d,h){return d.recordingMode!=="buffer"||h.message===UNABLE_TO_SEND_REPLAY||!h.exception||h.type?!1:isSampled(d.getOptions().errorSampleRate)}function handleGlobalEventListener(d){return Object.assign((h,f)=>!d.isEnabled()||d.isPaused()?h:isReplayEvent(h)?(delete h.breadcrumbs,h):!isErrorEvent(h)&&!isTransactionEvent(h)&&!isFeedbackEvent(h)?h:d.checkAndHandleExpiredSession()?isFeedbackEvent(h)?(d.flush(),h.contexts.feedback.replay_id=d.getSessionId(),addFeedbackBreadcrumb(d,h),h):isRrwebError(h,f)&&!d.getOptions()._experiments.captureExceptions?(DEBUG_BUILD&&debug.log("Ignoring error from rrweb internals",h),null):((shouldSampleForBufferEvent(d,h)||d.recordingMode==="session")&&(h.tags=Re(X({},h.tags),{replayId:d.getSessionId()})),h):(resetReplayIdOnDynamicSamplingContext(),h),{id:"Replay"})}function createPerformanceSpans(d,h){return h.map(({type:f,start:y,end:g,name:b,data:v})=>{const S=d.throttledAddEvent({type:EventType.Custom,timestamp:y,data:{tag:"performanceSpan",payload:{op:f,description:b,startTimestamp:y,endTimestamp:g,data:v}}});return typeof S=="string"?Promise.resolve(null):S})}function handleHistory(d){const{from:h,to:f}=d,y=Date.now()/1e3;return{type:"navigation.push",start:y,end:y,name:f,data:{previous:h}}}function handleHistorySpanListener(d){return h=>{if(!d.isEnabled())return;const f=handleHistory(h);f!==null&&(d.getContext().urls.push(f.name),d.triggerUserActivity(),d.addUpdate(()=>(createPerformanceSpans(d,[f]),!1)))}}function shouldFilterRequest(d,h){return DEBUG_BUILD&&d.getOptions()._experiments.traceInternals?!1:isSentryRequestUrl(h,getClient())}function addNetworkBreadcrumb(d,h){d.isEnabled()&&h!==null&&(shouldFilterRequest(d,h.name)||d.addUpdate(()=>(createPerformanceSpans(d,[h]),!0)))}function getBodySize(d){if(!d)return;const h=new TextEncoder;try{if(typeof d=="string")return h.encode(d).length;if(d instanceof URLSearchParams)return h.encode(d.toString()).length;if(d instanceof FormData){const f=serializeFormData(d);return h.encode(f).length}if(d instanceof Blob)return d.size;if(d instanceof ArrayBuffer)return d.byteLength}catch(f){}}function parseContentLengthHeader(d){if(!d)return;const h=parseInt(d,10);return isNaN(h)?void 0:h}function mergeWarning(d,h){if(!d)return{headers:{},size:void 0,_meta:{warnings:[h]}};const f=X({},d._meta),y=f.warnings||[];return f.warnings=[...y,h],d._meta=f,d}function makeNetworkReplayBreadcrumb(d,h){if(!h)return null;const{startTimestamp:f,endTimestamp:y,url:g,method:b,statusCode:v,request:S,response:O}=h;return{type:d,start:f/1e3,end:y/1e3,name:g,data:{method:b,statusCode:v,request:S,response:O}}}function buildSkippedNetworkRequestOrResponse(d){return{headers:{},size:d,_meta:{warnings:["URL_SKIPPED"]}}}function buildNetworkRequestOrResponse(d,h,f){if(!h&&Object.keys(d).length===0)return;if(!h)return{headers:d};if(!f)return{headers:d,size:h};const y={headers:d,size:h},{body:g,warnings:b}=normalizeNetworkBody(f);return y.body=g,b!=null&&b.length&&(y._meta={warnings:b}),y}function getAllowedHeaders(d,h){return Object.entries(d).reduce((f,[y,g])=>{const b=y.toLowerCase();return h.includes(b)&&d[y]&&(f[b]=g),f},{})}function normalizeNetworkBody(d){if(!d||typeof d!="string")return{body:d};const h=d.length>NETWORK_BODY_MAX_SIZE,f=_strIsProbablyJson(d);if(h){const y=d.slice(0,NETWORK_BODY_MAX_SIZE);return f?{body:y,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${y}`,warnings:["TEXT_TRUNCATED"]}}if(f)try{return{body:JSON.parse(d)}}catch(y){}return{body:d}}function _strIsProbablyJson(d){const h=d[0],f=d[d.length-1];return h==="["&&f==="]"||h==="{"&&f==="}"}function urlMatches(d,h){const f=getFullUrl(d);return stringMatchesSomePattern(f,h)}function getFullUrl(d,h=WINDOW.document.baseURI){if(d.startsWith("http://")||d.startsWith("https://")||d.startsWith(WINDOW.location.origin))return d;const f=new URL(d,h);if(f.origin!==new URL(h).origin)return d;const y=f.href;return!d.endsWith("/")&&y.endsWith("/")?y.slice(0,-1):y}function captureFetchBreadcrumbToReplay(d,h,f){return De(this,null,function*(){try{const y=yield _prepareFetchData(d,h,f),g=makeNetworkReplayBreadcrumb("resource.fetch",y);addNetworkBreadcrumb(f.replay,g)}catch(y){DEBUG_BUILD&&debug.exception(y,"Failed to capture fetch breadcrumb")}})}function enrichFetchBreadcrumb(d,h){const{input:f,response:y}=h,g=f?getFetchRequestArgBody(f):void 0,b=getBodySize(g),v=y?parseContentLengthHeader(y.headers.get("content-length")):void 0;b!==void 0&&(d.data.request_body_size=b),v!==void 0&&(d.data.response_body_size=v)}function _prepareFetchData(d,h,f){return De(this,null,function*(){const y=Date.now(),{startTimestamp:g=y,endTimestamp:b=y}=h,{url:v,method:S,status_code:O=0,request_body_size:w,response_body_size:T}=d.data,E=urlMatches(v,f.networkDetailAllowUrls)&&!urlMatches(v,f.networkDetailDenyUrls),k=E?_getRequestInfo(f,h.input,w):buildSkippedNetworkRequestOrResponse(w),C=yield _getResponseInfo(E,f,h.response,T);return{startTimestamp:g,endTimestamp:b,url:v,method:S,statusCode:O,request:k,response:C}})}function _getRequestInfo({networkCaptureBodies:d,networkRequestHeaders:h},f,y){const g=f?getRequestHeaders(f,h):{};if(!d)return buildNetworkRequestOrResponse(g,y,void 0);const b=getFetchRequestArgBody(f),[v,S]=getBodyString(b,debug),O=buildNetworkRequestOrResponse(g,y,v);return S?mergeWarning(O,S):O}function _getResponseInfo(b,v,S,O){return De(this,arguments,function*(d,{networkCaptureBodies:h,networkResponseHeaders:f},y,g){if(!d&&g!==void 0)return buildSkippedNetworkRequestOrResponse(g);const w=y?getAllHeaders(y.headers,f):{};if(!y||!h&&g!==void 0)return buildNetworkRequestOrResponse(w,g,void 0);const[T,E]=yield _parseFetchResponseBody(y),k=getResponseData(T,{networkCaptureBodies:h,responseBodySize:g,captureDetails:d,headers:w});return E?mergeWarning(k,E):k})}function getResponseData(d,{networkCaptureBodies:h,responseBodySize:f,captureDetails:y,headers:g}){try{const b=d!=null&&d.length&&f===void 0?getBodySize(d):f;return y?h?buildNetworkRequestOrResponse(g,b,d):buildNetworkRequestOrResponse(g,b,void 0):buildSkippedNetworkRequestOrResponse(b)}catch(b){return DEBUG_BUILD&&debug.exception(b,"Failed to serialize response body"),buildNetworkRequestOrResponse(g,f,void 0)}}function _parseFetchResponseBody(d){return De(this,null,function*(){const h=_tryCloneResponse(d);if(!h)return[void 0,"BODY_PARSE_ERROR"];try{return[yield _tryGetResponseText(h)]}catch(f){return f instanceof Error&&f.message.indexOf("Timeout")>-1?(DEBUG_BUILD&&debug.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(DEBUG_BUILD&&debug.exception(f,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}})}function getAllHeaders(d,h){const f={};return h.forEach(y=>{d.get(y)&&(f[y]=d.get(y))}),f}function getRequestHeaders(d,h){return d.length===1&&typeof d[0]!="string"?getHeadersFromOptions(d[0],h):d.length===2?getHeadersFromOptions(d[1],h):{}}function getHeadersFromOptions(d,h){if(!d)return{};const f=d.headers;return f?f instanceof Headers?getAllHeaders(f,h):Array.isArray(f)?{}:getAllowedHeaders(f,h):{}}function _tryCloneResponse(d){try{return d.clone()}catch(h){DEBUG_BUILD&&debug.exception(h,"Failed to clone response body")}}function _tryGetResponseText(d){return new Promise((h,f)=>{const y=setTimeout$3(()=>f(new Error("Timeout while trying to read response body")),500);_getResponseText(d).then(g=>h(g),g=>f(g)).finally(()=>clearTimeout(y))})}function _getResponseText(d){return De(this,null,function*(){return yield d.text()})}function captureXhrBreadcrumbToReplay(d,h,f){return De(this,null,function*(){try{const y=_prepareXhrData(d,h,f),g=makeNetworkReplayBreadcrumb("resource.xhr",y);addNetworkBreadcrumb(f.replay,g)}catch(y){DEBUG_BUILD&&debug.exception(y,"Failed to capture xhr breadcrumb")}})}function enrichXhrBreadcrumb(d,h){const{xhr:f,input:y}=h;if(!f)return;const g=getBodySize(y),b=f.getResponseHeader("content-length")?parseContentLengthHeader(f.getResponseHeader("content-length")):_getBodySize(f.response,f.responseType);g!==void 0&&(d.data.request_body_size=g),b!==void 0&&(d.data.response_body_size=b)}function _prepareXhrData(d,h,f){const y=Date.now(),{startTimestamp:g=y,endTimestamp:b=y,input:v,xhr:S}=h,{url:O,method:w,status_code:T=0,request_body_size:E,response_body_size:k}=d.data;if(!O)return null;if(!S||!urlMatches(O,f.networkDetailAllowUrls)||urlMatches(O,f.networkDetailDenyUrls)){const L=buildSkippedNetworkRequestOrResponse(E),U=buildSkippedNetworkRequestOrResponse(k);return{startTimestamp:g,endTimestamp:b,url:O,method:w,statusCode:T,request:L,response:U}}const C=S[SENTRY_XHR_DATA_KEY],P=C?getAllowedHeaders(C.request_headers,f.networkRequestHeaders):{},M=getAllowedHeaders(getResponseHeaders(S),f.networkResponseHeaders),[A,D]=f.networkCaptureBodies?getBodyString(v,debug):[void 0],[N,j]=f.networkCaptureBodies?_getXhrResponseBody(S):[void 0],q=buildNetworkRequestOrResponse(P,E,A),F=buildNetworkRequestOrResponse(M,k,N);return{startTimestamp:g,endTimestamp:b,url:O,method:w,statusCode:T,request:D?mergeWarning(q,D):q,response:j?mergeWarning(F,j):F}}function getResponseHeaders(d){const h=d.getAllResponseHeaders();return h?h.split(`\r
`).reduce((f,y)=>{const[g,b]=y.split(": ");return b&&(f[g.toLowerCase()]=b),f},{}):{}}function _getXhrResponseBody(d){const h=[];try{return[d.responseText]}catch(f){h.push(f)}try{return _parseXhrResponse(d.response,d.responseType)}catch(f){h.push(f)}return DEBUG_BUILD&&debug.warn("Failed to get xhr response body",...h),[void 0]}function _parseXhrResponse(d,h){try{if(typeof d=="string")return[d];if(d instanceof Document)return[d.body.outerHTML];if(h==="json"&&d&&typeof d=="object")return[JSON.stringify(d)];if(!d)return[void 0]}catch(f){return DEBUG_BUILD&&debug.exception(f,"Failed to serialize body",d),[void 0,"BODY_PARSE_ERROR"]}return DEBUG_BUILD&&debug.log("Skipping network body because of body type",d),[void 0,"UNPARSEABLE_BODY_TYPE"]}function _getBodySize(d,h){try{const f=h==="json"&&d&&typeof d=="object"?JSON.stringify(d):d;return getBodySize(f)}catch(f){return}}function handleNetworkBreadcrumbs(d){const h=getClient();try{const{networkDetailAllowUrls:f,networkDetailDenyUrls:y,networkCaptureBodies:g,networkRequestHeaders:b,networkResponseHeaders:v}=d.getOptions(),S={replay:d,networkDetailAllowUrls:f,networkDetailDenyUrls:y,networkCaptureBodies:g,networkRequestHeaders:b,networkResponseHeaders:v};h&&h.on("beforeAddBreadcrumb",(O,w)=>beforeAddNetworkBreadcrumb(S,O,w))}catch(f){}}function beforeAddNetworkBreadcrumb(d,h,f){if(h.data)try{_isXhrBreadcrumb(h)&&_isXhrHint(f)&&(enrichXhrBreadcrumb(h,f),captureXhrBreadcrumbToReplay(h,f,d)),_isFetchBreadcrumb(h)&&_isFetchHint(f)&&(enrichFetchBreadcrumb(h,f),captureFetchBreadcrumbToReplay(h,f,d))}catch(y){DEBUG_BUILD&&debug.exception(y,"Error when enriching network breadcrumb")}}function _isXhrBreadcrumb(d){return d.category==="xhr"}function _isFetchBreadcrumb(d){return d.category==="fetch"}function _isXhrHint(d){return d==null?void 0:d.xhr}function _isFetchHint(d){return d==null?void 0:d.response}function addGlobalListeners(d){const h=getClient();addClickKeypressInstrumentationHandler(handleDomListener(d)),addHistoryInstrumentationHandler(handleHistorySpanListener(d)),handleBreadcrumbs(d),handleNetworkBreadcrumbs(d);const f=handleGlobalEventListener(d);addEventProcessor(f),h&&(h.on("beforeSendEvent",handleBeforeSendEvent(d)),h.on("afterSendEvent",handleAfterSendEvent(d)),h.on("createDsc",y=>{const g=d.getSessionId();g&&d.isEnabled()&&d.recordingMode==="session"&&d.checkAndHandleExpiredSession()&&(y.replay_id=g)}),h.on("spanStart",y=>{d.lastActiveSpan=y}),h.on("spanEnd",y=>{d.lastActiveSpan=y}),h.on("beforeSendFeedback",(y,g)=>De(null,null,function*(){var v;const b=d.getSessionId();g!=null&&g.includeReplay&&d.isEnabled()&&b&&((v=y.contexts)!=null&&v.feedback)&&(y.contexts.feedback.source==="api"&&(yield d.sendBufferedReplayOrFlush()),y.contexts.feedback.replay_id=b)})),h.on("openFeedbackWidget",()=>De(null,null,function*(){yield d.sendBufferedReplayOrFlush()})))}function addMemoryEntry(d){return De(this,null,function*(){try{return Promise.all(createPerformanceSpans(d,[createMemoryEntry(WINDOW.performance.memory)]))}catch(h){return[]}})}function createMemoryEntry(d){const{jsHeapSizeLimit:h,totalJSHeapSize:f,usedJSHeapSize:y}=d,g=Date.now()/1e3;return{type:"memory",name:"memory",start:g,end:g,data:{memory:{jsHeapSizeLimit:h,totalJSHeapSize:f,usedJSHeapSize:y}}}}function debounce$2(d,h,f){return debounce$3(d,h,Re(X({},f),{setTimeoutImpl:setTimeout$3}))}const NAVIGATOR=GLOBAL_OBJ.navigator;function getRecordingSamplingOptions(){var d,h;return/iPhone|iPad|iPod/i.test((d=NAVIGATOR==null?void 0:NAVIGATOR.userAgent)!=null?d:"")||/Macintosh/i.test((h=NAVIGATOR==null?void 0:NAVIGATOR.userAgent)!=null?h:"")&&(NAVIGATOR!=null&&NAVIGATOR.maxTouchPoints)&&(NAVIGATOR==null?void 0:NAVIGATOR.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function getHandleRecordingEmit(d){let h=!1;return(f,y)=>{if(!d.checkAndHandleExpiredSession()){DEBUG_BUILD&&debug.warn("Received replay event after session expired.");return}const g=y||!h;h=!0,d.clickDetector&&updateClickDetectorForRecordingEvent(d.clickDetector,f),d.addUpdate(()=>{if(d.recordingMode==="buffer"&&g&&d.setInitialState(),!addEventSync(d,f,g))return!0;if(!g)return!1;const b=d.session;if(addSettingsEvent(d,g),d.recordingMode==="buffer"&&b&&d.eventBuffer){const v=d.eventBuffer.getEarliestTimestamp();v&&(DEBUG_BUILD&&debug.log(`Updating session start time to earliest event in buffer to ${new Date(v)}`),b.started=v,d.getOptions().stickySession&&saveSession(b))}return b!=null&&b.previousSessionId||d.recordingMode==="session"&&d.flush(),!0})}}function createOptionsEvent(d){const h=d.getOptions();return{type:EventType.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:d.isRecordingCanvas(),sessionSampleRate:h.sessionSampleRate,errorSampleRate:h.errorSampleRate,useCompressionOption:h.useCompression,blockAllMedia:h.blockAllMedia,maskAllText:h.maskAllText,maskAllInputs:h.maskAllInputs,useCompression:d.eventBuffer?d.eventBuffer.type==="worker":!1,networkDetailHasUrls:h.networkDetailAllowUrls.length>0,networkCaptureBodies:h.networkCaptureBodies,networkRequestHasHeaders:h.networkRequestHeaders.length>0,networkResponseHasHeaders:h.networkResponseHeaders.length>0}}}}function addSettingsEvent(d,h){!h||!d.session||d.session.segmentId!==0||addEventSync(d,createOptionsEvent(d),!1)}function closestElementOfNode(d){if(!d)return null;try{return d.nodeType===d.ELEMENT_NODE?d:d.parentElement}catch(h){return null}}function createReplayEnvelope(d,h,f,y){return createEnvelope(createEventEnvelopeHeaders(d,getSdkMetadataForEnvelopeHeader(d),y,f),[[{type:"replay_event"},d],[{type:"replay_recording",length:typeof h=="string"?new TextEncoder().encode(h).length:h.length},h]])}function prepareRecordingData({recordingData:d,headers:h}){let f;const y=`${JSON.stringify(h)}
`;if(typeof d=="string")f=`${y}${d}`;else{const b=new TextEncoder().encode(y);f=new Uint8Array(b.length+d.length),f.set(b),f.set(d,b.length)}return f}function prepareReplayEvent(g){return De(this,arguments,function*({client:d,scope:h,replayId:f,event:y}){const b=typeof d._integrations=="object"&&d._integrations!==null&&!Array.isArray(d._integrations)?Object.keys(d._integrations):void 0,v={event_id:f,integrations:b};d.emit("preprocessEvent",y,v);const S=yield prepareEvent(d.getOptions(),y,v,h,d,getIsolationScope());if(!S)return null;d.emit("postprocessEvent",S,v),S.platform=S.platform||"javascript";const O=d.getSdkMetadata(),{name:w,version:T}=(O==null?void 0:O.sdk)||{};return S.sdk=Re(X({},S.sdk),{name:w||"sentry.javascript.unknown",version:T||"0.0.0"}),S})}function sendReplayRequest(v){return De(this,arguments,function*({recordingData:d,replayId:h,segmentId:f,eventContext:y,timestamp:g,session:b}){const S=prepareRecordingData({recordingData:d,headers:{segment_id:f}}),{urls:O,errorIds:w,traceIds:T,initialTimestamp:E}=y,k=getClient(),C=getCurrentScope(),P=k==null?void 0:k.getTransport(),M=k==null?void 0:k.getDsn();if(!k||!P||!M||!b.sampled)return resolvedSyncPromise({});const A={type:REPLAY_EVENT_NAME,replay_start_timestamp:E/1e3,timestamp:g/1e3,error_ids:w,trace_ids:T,urls:O,replay_id:h,segment_id:f,replay_type:b.sampled},D=yield prepareReplayEvent({scope:C,client:k,replayId:h,event:A});if(!D)return k.recordDroppedEvent("event_processor","replay"),DEBUG_BUILD&&debug.log("An event processor returned `null`, will not send event."),resolvedSyncPromise({});delete D.sdkProcessingMetadata;const N=createReplayEnvelope(D,S,M,k.getOptions().tunnel);let j;try{j=yield P.send(N)}catch(F){const L=new Error(UNABLE_TO_SEND_REPLAY);try{L.cause=F}catch(U){}throw L}if(typeof j.statusCode=="number"&&(j.statusCode<200||j.statusCode>=300))throw new TransportStatusCodeError(j.statusCode);const q=updateRateLimits({},j);if(isRateLimited(q,"replay"))throw new RateLimitError(q);return j})}class TransportStatusCodeError extends Error{constructor(h){super(`Transport returned status code ${h}`)}}class RateLimitError extends Error{constructor(h){super("Rate limit hit"),this.rateLimits=h}}function sendReplay(f){return De(this,arguments,function*(d,h={count:0,interval:RETRY_BASE_INTERVAL}){const{recordingData:y,onError:g}=d;if(y.length)try{return yield sendReplayRequest(d),!0}catch(b){if(b instanceof TransportStatusCodeError||b instanceof RateLimitError)throw b;if(setContext("Replays",{_retryCount:h.count}),g&&g(b),h.count>=RETRY_MAX_COUNT){const v=new Error(`${UNABLE_TO_SEND_REPLAY} - max retries exceeded`);try{v.cause=b}catch(S){}throw v}return h.interval*=++h.count,new Promise((v,S)=>{setTimeout$3(()=>De(null,null,function*(){try{yield sendReplay(d,h),v(!0)}catch(O){S(O)}}),h.interval)})}})}const THROTTLED="__THROTTLED",SKIPPED="__SKIPPED";function throttle$2(d,h,f){const y=new Map,g=S=>{const O=S-f;y.forEach((w,T)=>{T<O&&y.delete(T)})},b=()=>[...y.values()].reduce((S,O)=>S+O,0);let v=!1;return(...S)=>{const O=Math.floor(Date.now()/1e3);if(g(O),b()>=h){const T=v;return v=!0,T?SKIPPED:THROTTLED}v=!1;const w=y.get(O)||0;return y.set(O,w+1),d(...S)}}class ReplayContainer{constructor({options:h,recordingOptions:f}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:SESSION_IDLE_PAUSE_DURATION,sessionIdleExpire:SESSION_IDLE_EXPIRE_DURATION},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=f,this._options=h,this._debouncedFlush=debounce$2(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=throttle$2((v,S)=>addEvent$1(this,v,S),300,5);const{slowClickTimeout:y,slowClickIgnoreSelectors:g}=this.getOptions(),b=y?{threshold:Math.min(SLOW_CLICK_THRESHOLD,y),timeout:y,scrollTimeout:SLOW_CLICK_SCROLL_TIMEOUT,ignoreSelector:g?g.join(","):""}:void 0;if(b&&(this.clickDetector=new ClickDetector(this,b)),DEBUG_BUILD){const v=h._experiments;debug.setConfig({captureExceptions:!!v.captureExceptions,traceInternals:!!v.traceInternals})}this._handleVisibilityChange=()=>{WINDOW.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const v=createBreadcrumb({category:"ui.blur"});this._doChangeToBackgroundTasks(v)},this._handleWindowFocus=()=>{const v=createBreadcrumb({category:"ui.focus"});this._doChangeToForegroundTasks(v)},this._handleKeyboardEvent=v=>{handleKeyboardEvent(this,v)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(h){DEBUG_BUILD&&debug.exception(h),this._options.onError&&this._options.onError(h)}initializeSampling(h){const{errorSampleRate:f,sessionSampleRate:y}=this._options,g=f<=0&&y<=0;if(this._requiresManualStart=g,!g){if(this._initializeSessionForSampling(h),!this.session){DEBUG_BUILD&&debug.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",DEBUG_BUILD&&debug.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){DEBUG_BUILD&&debug.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){DEBUG_BUILD&&debug.log("Buffering is in progress, call `flush()` to save the replay");return}DEBUG_BUILD&&debug.infoTick("Starting replay in session mode"),this._updateUserActivity();const h=loadOrCreateSession({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=h,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){DEBUG_BUILD&&debug.log("Buffering is in progress, call `flush()` to save the replay");return}DEBUG_BUILD&&debug.infoTick("Starting replay in buffer mode");const h=loadOrCreateSession({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=h,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const h=this._canvas;this._stopRecording=record(X(Re(X(Re(X(X({},this._recordingOptions),this.recordingMode==="buffer"?{checkoutEveryNms:BUFFER_CHECKOUT_TIME}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)}),{emit:getHandleRecordingEmit(this)}),getRecordingSamplingOptions()),{onMutation:this._onMutationHandler.bind(this)}),h?{recordCanvas:h.recordCanvas,getCanvasManager:h.getCanvasManager,sampling:h.sampling,dataURLOptions:h.dataURLOptions}:{}))}catch(h){this.handleException(h)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(h){return this.handleException(h),!1}}stop(){return De(this,arguments,function*({forceFlush:h=!1,reason:f}={}){var y;if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{DEBUG_BUILD&&debug.log(`Stopping Replay${f?` triggered by ${f}`:""}`),resetReplayIdOnDynamicSamplingContext(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),h&&(yield this._flush({force:!0})),(y=this.eventBuffer)==null||y.destroy(),this.eventBuffer=null,clearSession(this)}catch(g){this.handleException(g)}}})}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),DEBUG_BUILD&&debug.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),DEBUG_BUILD&&debug.log("Resuming replay"))}sendBufferedReplayOrFlush(){return De(this,arguments,function*({continueRecording:h=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const f=Date.now();DEBUG_BUILD&&debug.log("Converting buffer to session"),yield this.flushImmediate();const y=this.stopRecording();!h||!y||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(f),this._updateSessionActivity(f),this._maybeSaveSession()),this.startRecording())})}addUpdate(h){const f=h();this.recordingMode==="buffer"||!this._isEnabled||f!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){var h;return(h=this.session)==null?void 0:h.id}checkAndHandleExpiredSession(){if(this._lastActivity&&isExpired(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const h=`${WINDOW.location.pathname}${WINDOW.location.hash}${WINDOW.location.search}`,f=`${WINDOW.location.origin}${h}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=f,this._context.initialTimestamp=Date.now(),this._context.urls.push(f)}throttledAddEvent(h,f){const y=this._throttledAddEvent(h,f);if(y===THROTTLED){const g=createBreadcrumb({category:"replay.throttled"});this.addUpdate(()=>!addEventSync(this,{type:ReplayEventTypeCustom,timestamp:g.timestamp||0,data:{tag:"breadcrumb",payload:g,metric:!0}}))}return y}getCurrentRoute(){const h=this.lastActiveSpan||getActiveSpan(),f=h&&getRootSpan(h),g=(f&&spanToJSON(f).data||{})[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];if(!(!f||!g||!["route","custom"].includes(g)))return spanToJSON(f).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=createEventBuffer({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(h){const f=this._options.errorSampleRate>0,y=loadOrCreateSession({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:h},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:f});this.session=y}_checkSession(){if(!this.session)return!1;const h=this.session;return shouldRefreshSession(h,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(h),!1):!0}_refreshSession(h){return De(this,null,function*(){this._isEnabled&&(yield this.stop({reason:"refresh session"}),this.initializeSampling(h.id))})}_addListeners(){try{WINDOW.document.addEventListener("visibilitychange",this._handleVisibilityChange),WINDOW.addEventListener("blur",this._handleWindowBlur),WINDOW.addEventListener("focus",this._handleWindowFocus),WINDOW.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(addGlobalListeners(this),this._hasInitializedCoreListeners=!0)}catch(h){this.handleException(h)}this._performanceCleanupCallback=setupPerformanceObserver(this)}_removeListeners(){try{WINDOW.document.removeEventListener("visibilitychange",this._handleVisibilityChange),WINDOW.removeEventListener("blur",this._handleWindowBlur),WINDOW.removeEventListener("focus",this._handleWindowFocus),WINDOW.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(h){this.handleException(h)}}_doChangeToBackgroundTasks(h){!this.session||isSessionExpired(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(h&&this._createCustomBreadcrumb(h),this.conditionalFlush())}_doChangeToForegroundTasks(h){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){DEBUG_BUILD&&debug.log("Document has become active, but session has expired");return}h&&this._createCustomBreadcrumb(h)}_updateUserActivity(h=Date.now()){this._lastActivity=h}_updateSessionActivity(h=Date.now()){this.session&&(this.session.lastActivity=h,this._maybeSaveSession())}_createCustomBreadcrumb(h){this.addUpdate(()=>{this.throttledAddEvent({type:EventType.Custom,timestamp:h.timestamp||0,data:{tag:"breadcrumb",payload:h}})})}_addPerformanceEntries(){let h=createPerformanceEntries(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const f=this._context.initialTimestamp/1e3;h=h.filter(y=>y.start>=f)}return Promise.all(createPerformanceSpans(this,h))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:h,eventBuffer:f}=this;if(!h||!f||this._requiresManualStart||h.segmentId)return;const y=f.getEarliestTimestamp();y&&y<this._context.initialTimestamp&&(this._context.initialTimestamp=y)}_popEventContext(){const h={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),h}_runFlush(){return De(this,null,function*(){var f;const h=this.getSessionId();if(!this.session||!this.eventBuffer||!h){DEBUG_BUILD&&debug.error("No session or eventBuffer found to flush.");return}if(yield this._addPerformanceEntries(),!!((f=this.eventBuffer)!=null&&f.hasEvents)&&(yield addMemoryEntry(this),!!this.eventBuffer&&h===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const y=Date.now();if(y-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const g=this._popEventContext(),b=this.session.segmentId++;this._maybeSaveSession();const v=yield this.eventBuffer.finish();yield sendReplay({replayId:h,recordingData:v,segmentId:b,eventContext:g,session:this.session,timestamp:y,onError:S=>this.handleException(S)})}catch(y){this.handleException(y),this.stop({reason:"sendReplay"});const g=getClient();if(g){const b=y instanceof RateLimitError?"ratelimit_backoff":"send_error";g.recordDroppedEvent(b,"replay")}}})}_flush(){return De(this,arguments,function*({force:h=!1}={}){if(!this._isEnabled&&!h)return;if(!this.checkAndHandleExpiredSession()){DEBUG_BUILD&&debug.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const f=this.session.started,g=Date.now()-f;this._debouncedFlush.cancel();const b=g<this._options.minReplayDuration,v=g>this._options.maxReplayDuration+5e3;if(b||v){DEBUG_BUILD&&debug.log(`Session duration (${Math.floor(g/1e3)}s) is too ${b?"short":"long"}, not sending replay.`),b&&this._debouncedFlush();return}const S=this.eventBuffer;S&&this.session.segmentId===0&&!S.hasCheckout&&DEBUG_BUILD&&debug.log("Flushing initial segment without checkout.");const O=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{yield this._flushLock}catch(w){this.handleException(w)}finally{this._flushLock=void 0,O&&this._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&saveSession(this.session)}_onMutationHandler(h){const{ignoreMutations:f}=this._options._experiments;if(f!=null&&f.length&&h.some(S=>{const O=closestElementOfNode(S.target),w=f.join(",");return O==null?void 0:O.matches(w)}))return!1;const y=h.length,g=this._options.mutationLimit,b=this._options.mutationBreadcrumbLimit,v=g&&y>g;if(y>b||v){const S=createBreadcrumb({category:"replay.mutations",data:{count:y,limit:v}});this._createCustomBreadcrumb(S)}return v?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function getOption(d,h){return[...d,...h].join(",")}function getPrivacyOptions({mask:d,unmask:h,block:f,unblock:y,ignore:g}){const b=["base","iframe[srcdoc]:not([src])"],v=getOption(d,[".sentry-mask","[data-sentry-mask]"]),S=getOption(h,[]);return{maskTextSelector:v,unmaskTextSelector:S,blockSelector:getOption(f,[".sentry-block","[data-sentry-block]",...b]),unblockSelector:getOption(y,[]),ignoreSelector:getOption(g,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function maskAttribute({el:d,key:h,maskAttributes:f,maskAllText:y,privacyOptions:g,value:b}){return!y||g.unmaskTextSelector&&d.matches(g.unmaskTextSelector)?b:f.includes(h)||h==="value"&&d.tagName==="INPUT"&&["submit","button"].includes(d.getAttribute("type")||"")?b.replace(/[\S]/g,"*"):b}const MEDIA_SELECTORS='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',DEFAULT_NETWORK_HEADERS=["content-length","content-type","accept"];let _initialized=!1;const replayIntegration=(d=>new Replay(d));class Replay{constructor({flushMinDelay:h=DEFAULT_FLUSH_MIN_DELAY,flushMaxDelay:f=DEFAULT_FLUSH_MAX_DELAY,minReplayDuration:y=MIN_REPLAY_DURATION,maxReplayDuration:g=MAX_REPLAY_DURATION,stickySession:b=!0,useCompression:v=!0,workerUrl:S,_experiments:O={},maskAllText:w=!0,maskAllInputs:T=!0,blockAllMedia:E=!0,mutationBreadcrumbLimit:k=750,mutationLimit:C=1e4,slowClickTimeout:P=7e3,slowClickIgnoreSelectors:M=[],networkDetailAllowUrls:A=[],networkDetailDenyUrls:D=[],networkCaptureBodies:N=!0,networkRequestHeaders:j=[],networkResponseHeaders:q=[],mask:F=[],maskAttributes:L=["title","placeholder","aria-label"],unmask:U=[],block:z=[],unblock:V=[],ignore:Y=[],maskFn:W,beforeAddRecordingEvent:K,beforeErrorSampling:re,onError:fe}={}){this.name="Replay";const se=getPrivacyOptions({mask:F,unmask:U,block:z,unblock:V,ignore:Y});if(this._recordingOptions=Re(X({maskAllInputs:T,maskAllText:w,maskInputOptions:{password:!0},maskTextFn:W,maskInputFn:W,maskAttributeFn:(J,ie,ue)=>maskAttribute({maskAttributes:L,maskAllText:w,privacyOptions:se,key:J,value:ie,el:ue})},se),{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:J=>{try{J.__rrweb__=!0}catch(ie){}},recordCrossOriginIframes:!!O.recordCrossOriginIframes}),this._initialOptions={flushMinDelay:h,flushMaxDelay:f,minReplayDuration:Math.min(y,MIN_REPLAY_DURATION_LIMIT),maxReplayDuration:Math.min(g,MAX_REPLAY_DURATION),stickySession:b,useCompression:v,workerUrl:S,blockAllMedia:E,maskAllInputs:T,maskAllText:w,mutationBreadcrumbLimit:k,mutationLimit:C,slowClickTimeout:P,slowClickIgnoreSelectors:M,networkDetailAllowUrls:A,networkDetailDenyUrls:D,networkCaptureBodies:N,networkRequestHeaders:_getMergedNetworkHeaders(j),networkResponseHeaders:_getMergedNetworkHeaders(q),beforeAddRecordingEvent:K,beforeErrorSampling:re,onError:fe,_experiments:O},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${MEDIA_SELECTORS}`:MEDIA_SELECTORS),this._isInitialized&&isBrowser$1())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return _initialized}set _isInitialized(h){_initialized=h}afterAllSetup(h){!isBrowser$1()||this._replay||(this._setup(h),this._initialize(h))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(h){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(h):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){var h;if((h=this._replay)!=null&&h.isEnabled())return this._replay.getSessionId()}getRecordingMode(){var h;if((h=this._replay)!=null&&h.isEnabled())return this._replay.recordingMode}_initialize(h){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(h),this._replay.initializeSampling())}_setup(h){const f=loadReplayOptionsFromClient(this._initialOptions,h);this._replay=new ReplayContainer({options:f,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(h){try{const f=h.getIntegrationByName("ReplayCanvas");if(!f)return;this._replay._canvas=f.getOptions()}catch(f){}}}function loadReplayOptionsFromClient(d,h){const f=h.getOptions(),y=X({sessionSampleRate:0,errorSampleRate:0},d),g=parseSampleRate(f.replaysSessionSampleRate),b=parseSampleRate(f.replaysOnErrorSampleRate);return g==null&&b==null&&consoleSandbox(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),g!=null&&(y.sessionSampleRate=g),b!=null&&(y.errorSampleRate=b),y}function _getMergedNetworkHeaders(d){return[...DEFAULT_NETWORK_HEADERS,...d.map(h=>h.toLowerCase())]}function getAbsoluteTime(d=0){return((browserPerformanceTimeOrigin()||performance.timeOrigin)+d)/1e3}function resourceTimingToSpanAttributes(d){const h=[];if(d.nextHopProtocol!=null){const{name:f,version:y}=extractNetworkProtocol(d.nextHopProtocol);h.push(["network.protocol.version",y],["network.protocol.name",f])}return browserPerformanceTimeOrigin()?[...h,["http.request.redirect_start",getAbsoluteTime(d.redirectStart)],["http.request.fetch_start",getAbsoluteTime(d.fetchStart)],["http.request.domain_lookup_start",getAbsoluteTime(d.domainLookupStart)],["http.request.domain_lookup_end",getAbsoluteTime(d.domainLookupEnd)],["http.request.connect_start",getAbsoluteTime(d.connectStart)],["http.request.secure_connection_start",getAbsoluteTime(d.secureConnectionStart)],["http.request.connection_end",getAbsoluteTime(d.connectEnd)],["http.request.request_start",getAbsoluteTime(d.requestStart)],["http.request.response_start",getAbsoluteTime(d.responseStart)],["http.request.response_end",getAbsoluteTime(d.responseEnd)]]:h}const responseToSpanId=new WeakMap,spanIdToEndTimestamp=new Map,defaultRequestInstrumentationOptions={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function instrumentOutgoingRequests(d,h){const{traceFetch:f,traceXHR:y,trackFetchStreamPerformance:g,shouldCreateSpanForRequest:b,enableHTTPTimings:v,tracePropagationTargets:S,onRequestSpanStart:O}=X(X({},defaultRequestInstrumentationOptions),h),w=typeof b=="function"?b:k=>!0,T=k=>shouldAttachHeaders(k,S),E={};f&&(d.addEventProcessor(k=>(k.type==="transaction"&&k.spans&&k.spans.forEach(C=>{if(C.op==="http.client"){const P=spanIdToEndTimestamp.get(C.span_id);P&&(C.timestamp=P/1e3,spanIdToEndTimestamp.delete(C.span_id))}}),k)),g&&addFetchEndInstrumentationHandler(k=>{if(k.response){const C=responseToSpanId.get(k.response);C&&k.endTimestamp&&spanIdToEndTimestamp.set(C,k.endTimestamp)}}),addFetchInstrumentationHandler(k=>{const C=instrumentFetchRequest(k,w,T,E);if(k.response&&k.fetchData.__span&&responseToSpanId.set(k.response,k.fetchData.__span),C){const P=getFullURL(k.fetchData.url),M=P?parseUrl(P).host:void 0;C.setAttributes({"http.url":P,"server.address":M}),v&&addHTTPTimings(C),O==null||O(C,{headers:k.headers})}})),y&&addXhrInstrumentationHandler(k=>{var P;const C=xhrCallback(k,w,T,E);if(C){v&&addHTTPTimings(C);let M;try{M=new Headers((P=k.xhr.__sentry_xhr_v3__)==null?void 0:P.request_headers)}catch(A){}O==null||O(C,{headers:M})}})}function isPerformanceResourceTiming(d){return d.entryType==="resource"&&"initiatorType"in d&&typeof d.nextHopProtocol=="string"&&(d.initiatorType==="fetch"||d.initiatorType==="xmlhttprequest")}function addHTTPTimings(d){const{url:h}=spanToJSON(d).data;if(!h||typeof h!="string")return;const f=addPerformanceInstrumentationHandler("resource",({entries:y})=>{y.forEach(g=>{isPerformanceResourceTiming(g)&&g.name.endsWith(h)&&(resourceTimingToSpanAttributes(g).forEach(v=>d.setAttribute(...v)),setTimeout(f))})})}function shouldAttachHeaders(d,h){const f=getLocationHref();if(f){let y,g;try{y=new URL(d,f),g=new URL(f).origin}catch(v){return!1}const b=y.origin===g;return h?stringMatchesSomePattern(y.toString(),h)||b&&stringMatchesSomePattern(y.pathname,h):b}else{const y=!!d.match(/^\/(?!\/)/);return h?stringMatchesSomePattern(d,h):y}}function xhrCallback(d,h,f,y){const g=d.xhr,b=g==null?void 0:g[SENTRY_XHR_DATA_KEY];if(!g||g.__sentry_own_request__||!b)return;const{url:v,method:S}=b,O=hasSpansEnabled()&&h(v);if(d.endTimestamp&&O){const M=g.__sentry_xhr_span_id__;if(!M)return;const A=y[M];A&&b.status_code!==void 0&&(setHttpStatus(A,b.status_code),A.end(),delete y[M]);return}const w=getFullURL(v),T=parseUrl(w||v),E=stripUrlQueryAndFragment(v),k=!!getActiveSpan(),C=O&&k?startInactiveSpan({name:`${S} ${E}`,attributes:X(X({url:v,type:"xhr","http.method":S,"http.url":w,"server.address":T==null?void 0:T.host,[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser",[SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"},(T==null?void 0:T.search)&&{"http.query":T==null?void 0:T.search}),(T==null?void 0:T.hash)&&{"http.fragment":T==null?void 0:T.hash})}):new SentryNonRecordingSpan;g.__sentry_xhr_span_id__=C.spanContext().spanId,y[g.__sentry_xhr_span_id__]=C,f(v)&&addTracingHeadersToXhrRequest(g,hasSpansEnabled()&&k?C:void 0);const P=getClient();return P&&P.emit("beforeOutgoingRequestSpan",C,d),C}function addTracingHeadersToXhrRequest(d,h){const{"sentry-trace":f,baggage:y}=getTraceData({span:h});f&&setHeaderOnXhr(d,f,y)}function setHeaderOnXhr(d,h,f){var g;const y=(g=d.__sentry_xhr_v3__)==null?void 0:g.request_headers;if(!(y!=null&&y["sentry-trace"]))try{if(d.setRequestHeader("sentry-trace",h),f){const b=y==null?void 0:y.baggage;(!b||!baggageHeaderHasSentryValues(b))&&d.setRequestHeader("baggage",f)}}catch(b){}}function baggageHeaderHasSentryValues(d){return d.split(",").some(h=>h.trim().startsWith("sentry-"))}function getFullURL(d){try{return new URL(d,WINDOW$2.location.origin).href}catch(h){return}}function registerBackgroundTabDetection(){WINDOW$2.document?WINDOW$2.document.addEventListener("visibilitychange",()=>{const d=getActiveSpan();if(!d)return;const h=getRootSpan(d);if(WINDOW$2.document.hidden&&h){const f="cancelled",{op:y,status:g}=spanToJSON(h);DEBUG_BUILD$1&&debug$1.log(`[Tracing] Transaction: ${f} -> since tab moved to the background, op: ${y}`),g||h.setStatus({code:SPAN_STATUS_ERROR,message:f}),h.setAttribute("sentry.cancellation_reason","document.hidden"),h.end()}}):DEBUG_BUILD$1&&debug$1.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const PREVIOUS_TRACE_MAX_DURATION=3600,PREVIOUS_TRACE_KEY="sentry_previous_trace",PREVIOUS_TRACE_TMP_SPAN_ATTRIBUTE="sentry.previous_trace";function linkTraces(d,{linkPreviousTrace:h,consistentTraceSampling:f}){const y=h==="session-storage";let g=y?getPreviousTraceFromSessionStorage():void 0;d.on("spanStart",v=>{if(getRootSpan(v)!==v)return;const S=getCurrentScope().getPropagationContext();g=addPreviousTraceSpanLink(g,v,S),y&&storePreviousTraceInSessionStorage(g)});let b=!0;f&&d.on("beforeSampling",v=>{if(!g)return;const S=getCurrentScope(),O=S.getPropagationContext();if(b&&O.parentSpanId){b=!1;return}S.setPropagationContext(Re(X({},O),{dsc:Re(X({},O.dsc),{sample_rate:String(g.sampleRate),sampled:String(spanContextSampled(g.spanContext))}),sampleRand:g.sampleRand})),v.parentSampled=spanContextSampled(g.spanContext),v.parentSampleRate=g.sampleRate,v.spanAttributes=Re(X({},v.spanAttributes),{[SEMANTIC_ATTRIBUTE_SENTRY_PREVIOUS_TRACE_SAMPLE_RATE]:g.sampleRate})})}function addPreviousTraceSpanLink(d,h,f){const y=spanToJSON(h);function g(){var S,O,w;try{return(w=Number((S=f.dsc)==null?void 0:S.sample_rate))!=null?w:Number((O=y.data)==null?void 0:O[SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE])}catch(T){return 0}}const b={spanContext:h.spanContext(),startTimestamp:y.start_timestamp,sampleRate:g(),sampleRand:f.sampleRand};if(!d)return b;const v=d.spanContext;return v.traceId===y.trace_id?d:(Date.now()/1e3-d.startTimestamp<=PREVIOUS_TRACE_MAX_DURATION&&(DEBUG_BUILD$1&&debug$1.log(`Adding previous_trace ${v} link to span ${X({op:y.op},h.spanContext())}`),h.addLink({context:v,attributes:{[SEMANTIC_LINK_ATTRIBUTE_LINK_TYPE]:"previous_trace"}}),h.setAttribute(PREVIOUS_TRACE_TMP_SPAN_ATTRIBUTE,`${v.traceId}-${v.spanId}-${spanContextSampled(v)?1:0}`)),b)}function storePreviousTraceInSessionStorage(d){try{WINDOW$2.sessionStorage.setItem(PREVIOUS_TRACE_KEY,JSON.stringify(d))}catch(h){DEBUG_BUILD$1&&debug$1.warn("Could not store previous trace in sessionStorage",h)}}function getPreviousTraceFromSessionStorage(){var d;try{const h=(d=WINDOW$2.sessionStorage)==null?void 0:d.getItem(PREVIOUS_TRACE_KEY);return JSON.parse(h)}catch(h){return}}function spanContextSampled(d){return d.traceFlags===1}const BROWSER_TRACING_INTEGRATION_ID="BrowserTracing",DEFAULT_BROWSER_TRACING_OPTIONS=X(Re(X({},TRACING_DEFAULTS),{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{}}),defaultRequestInstrumentationOptions),browserTracingIntegration=((d={})=>{const h={name:void 0,source:void 0},f=WINDOW$2.document,{enableInp:y,enableElementTiming:g,enableLongTask:b,enableLongAnimationFrame:v,_experiments:{enableInteractions:S,enableStandaloneClsSpans:O,enableStandaloneLcpSpans:w},beforeStartSpan:T,idleTimeout:E,finalTimeout:k,childSpanTimeout:C,markBackgroundSpan:P,traceFetch:M,traceXHR:A,trackFetchStreamPerformance:D,shouldCreateSpanForRequest:N,enableHTTPTimings:j,ignoreResourceSpans:q,ignorePerformanceApiSpans:F,instrumentPageLoad:L,instrumentNavigation:U,detectRedirects:z,linkPreviousTrace:V,consistentTraceSampling:Y,onRequestSpanStart:W}=X(X({},DEFAULT_BROWSER_TRACING_OPTIONS),d);let K,re;function fe(se,J,ie=!0){const ue=J.op==="pageload",ke=T?T(J):J,pe=ke.attributes||{};if(J.name!==ke.name&&(pe[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]="custom",ke.attributes=pe),!ie){const ae=dateTimestampInSeconds();startInactiveSpan(Re(X({},ke),{startTime:ae})).end(ae);return}h.name=ke.name,h.source=pe[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];const ne=startIdleSpan(ke,{idleTimeout:E,finalTimeout:k,childSpanTimeout:C,disableAutoFinish:ue,beforeSpanEnd:ae=>{K==null||K(),addPerformanceEntries(ae,{recordClsOnPageloadSpan:!O,recordLcpOnPageloadSpan:!w,ignoreResourceSpans:q,ignorePerformanceApiSpans:F}),setActiveIdleSpan(se,void 0);const H=getCurrentScope(),Z=H.getPropagationContext();H.setPropagationContext(Re(X({},Z),{traceId:ne.spanContext().traceId,sampled:spanIsSampled(ne),dsc:getDynamicSamplingContextFromSpan(ae)}))}});setActiveIdleSpan(se,ne);function de(){f&&["interactive","complete"].includes(f.readyState)&&se.emit("idleSpanEnableAutoFinish",ne)}ue&&f&&(f.addEventListener("readystatechange",()=>{de()}),de())}return{name:BROWSER_TRACING_INTEGRATION_ID,setup(se){if(registerSpanErrorInstrumentation(),K=startTrackingWebVitals({recordClsStandaloneSpans:O||!1,recordLcpStandaloneSpans:w||!1,client:se}),y&&startTrackingINP(),g&&startTrackingElementTiming(),v&&GLOBAL_OBJ.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?startTrackingLongAnimationFrames():b&&startTrackingLongTasks(),S&&startTrackingInteractions(),z&&f){const ie=()=>{re=timestampInSeconds()};addEventListener("click",ie,{capture:!0}),addEventListener("keydown",ie,{capture:!0,passive:!0})}function J(){const ie=getActiveIdleSpan(se);ie&&!spanToJSON(ie).timestamp&&(DEBUG_BUILD$1&&debug$1.log(`[Tracing] Finishing current active span with op: ${spanToJSON(ie).op}`),ie.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,"cancelled"),ie.end())}se.on("startNavigationSpan",(ie,ue)=>{if(getClient()!==se)return;if(ue!=null&&ue.isRedirect){DEBUG_BUILD$1&&debug$1.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),fe(se,X({op:"navigation.redirect"},ie),!1);return}J(),getIsolationScope().setPropagationContext({traceId:generateTraceId(),sampleRand:Math.random()});const ke=getCurrentScope();ke.setPropagationContext({traceId:generateTraceId(),sampleRand:Math.random()}),ke.setSDKProcessingMetadata({normalizedRequest:void 0}),fe(se,X({op:"navigation"},ie))}),se.on("startPageLoadSpan",(ie,ue={})=>{if(getClient()!==se)return;J();const ke=ue.sentryTrace||getMetaContent("sentry-trace"),pe=ue.baggage||getMetaContent("baggage"),ne=propagationContextFromHeaders(ke,pe),de=getCurrentScope();de.setPropagationContext(ne),de.setSDKProcessingMetadata({normalizedRequest:getHttpRequestData()}),fe(se,X({op:"pageload"},ie))})},afterAllSetup(se){let J=getLocationHref();if(V!=="off"&&linkTraces(se,{linkPreviousTrace:V,consistentTraceSampling:Y}),WINDOW$2.location){if(L){const ie=browserPerformanceTimeOrigin();startBrowserTracingPageLoadSpan(se,{name:WINDOW$2.location.pathname,startTime:ie?ie/1e3:void 0,attributes:{[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url",[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.pageload.browser"}})}U&&addHistoryInstrumentationHandler(({to:ie,from:ue})=>{if(ue===void 0&&(J==null?void 0:J.indexOf(ie))!==-1){J=void 0;return}J=void 0;const ke=parseStringToURLObject(ie),pe=getActiveIdleSpan(se),ne=pe&&z&&isRedirect(pe,re);startBrowserTracingNavigationSpan(se,{name:(ke==null?void 0:ke.pathname)||WINDOW$2.location.pathname,attributes:{[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url",[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.navigation.browser"}},{url:ie,isRedirect:ne})})}P&&registerBackgroundTabDetection(),S&&registerInteractionListener(se,E,k,C,h),y&&registerInpInteractionListener(),instrumentOutgoingRequests(se,{traceFetch:M,traceXHR:A,trackFetchStreamPerformance:D,tracePropagationTargets:se.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:N,enableHTTPTimings:j,onRequestSpanStart:W})}}});function startBrowserTracingPageLoadSpan(d,h,f){d.emit("startPageLoadSpan",h,f),getCurrentScope().setTransactionName(h.name);const y=getActiveIdleSpan(d);return y&&d.emit("afterStartPageLoadSpan",y),y}function startBrowserTracingNavigationSpan(d,h,f){const{url:y,isRedirect:g}=f||{};d.emit("beforeStartNavigationSpan",h,{isRedirect:g}),d.emit("startNavigationSpan",h,{isRedirect:g});const b=getCurrentScope();return b.setTransactionName(h.name),y&&!g&&b.setSDKProcessingMetadata({normalizedRequest:Re(X({},getHttpRequestData()),{url:y})}),getActiveIdleSpan(d)}function getMetaContent(d){const h=WINDOW$2.document,f=h==null?void 0:h.querySelector(`meta[name=${d}]`);return(f==null?void 0:f.getAttribute("content"))||void 0}function registerInteractionListener(d,h,f,y,g){const b=WINDOW$2.document;let v;const S=()=>{const O="ui.action.click",w=getActiveIdleSpan(d);if(w){const T=spanToJSON(w).op;if(["navigation","pageload"].includes(T)){DEBUG_BUILD$1&&debug$1.warn(`[Tracing] Did not create ${O} span because a pageload or navigation span is in progress.`);return}}if(v&&(v.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,"interactionInterrupted"),v.end(),v=void 0),!g.name){DEBUG_BUILD$1&&debug$1.warn(`[Tracing] Did not create ${O} transaction because _latestRouteName is missing.`);return}v=startIdleSpan({name:g.name,op:O,attributes:{[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:g.source||"url"}},{idleTimeout:h,finalTimeout:f,childSpanTimeout:y})};b&&addEventListener("click",S,{capture:!0})}const ACTIVE_IDLE_SPAN_PROPERTY="_sentry_idleSpan";function getActiveIdleSpan(d){return d[ACTIVE_IDLE_SPAN_PROPERTY]}function setActiveIdleSpan(d,h){addNonEnumerableProperty(d,ACTIVE_IDLE_SPAN_PROPERTY,h)}const REDIRECT_THRESHOLD=.3;function isRedirect(d,h){const f=spanToJSON(d),y=dateTimestampInSeconds(),g=f.start_timestamp;return!(y-g>REDIRECT_THRESHOLD||h&&y-h<=REDIRECT_THRESHOLD)}function init(d){const h=X({},d);return applySdkMetadata(h,"react"),setContext("react",{version:reactExports.version}),init$1(h)}var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(d){function h(J,ie){var ue=J.length;J.push(ie);e:for(;0<ue;){var ke=ue-1>>>1,pe=J[ke];if(0<g(pe,ie))J[ke]=ie,J[ue]=pe,ue=ke;else break e}}function f(J){return J.length===0?null:J[0]}function y(J){if(J.length===0)return null;var ie=J[0],ue=J.pop();if(ue!==ie){J[0]=ue;e:for(var ke=0,pe=J.length,ne=pe>>>1;ke<ne;){var de=2*(ke+1)-1,ae=J[de],H=de+1,Z=J[H];if(0>g(ae,ue))H<pe&&0>g(Z,ae)?(J[ke]=Z,J[H]=ue,ke=H):(J[ke]=ae,J[de]=ue,ke=de);else if(H<pe&&0>g(Z,ue))J[ke]=Z,J[H]=ue,ke=H;else break e}}return ie}function g(J,ie){var ue=J.sortIndex-ie.sortIndex;return ue!==0?ue:J.id-ie.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var b=performance;d.unstable_now=function(){return b.now()}}else{var v=Date,S=v.now();d.unstable_now=function(){return v.now()-S}}var O=[],w=[],T=1,E=null,k=3,C=!1,P=!1,M=!1,A=!1,D=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate!="undefined"?setImmediate:null;function q(J){for(var ie=f(w);ie!==null;){if(ie.callback===null)y(w);else if(ie.startTime<=J)y(w),ie.sortIndex=ie.expirationTime,h(O,ie);else break;ie=f(w)}}function F(J){if(M=!1,q(J),!P)if(f(O)!==null)P=!0,L||(L=!0,K());else{var ie=f(w);ie!==null&&se(F,ie.startTime-J)}}var L=!1,U=-1,z=5,V=-1;function Y(){return A?!0:!(d.unstable_now()-V<z)}function W(){if(A=!1,L){var J=d.unstable_now();V=J;var ie=!0;try{e:{P=!1,M&&(M=!1,N(U),U=-1),C=!0;var ue=k;try{t:{for(q(J),E=f(O);E!==null&&!(E.expirationTime>J&&Y());){var ke=E.callback;if(typeof ke=="function"){E.callback=null,k=E.priorityLevel;var pe=ke(E.expirationTime<=J);if(J=d.unstable_now(),typeof pe=="function"){E.callback=pe,q(J),ie=!0;break t}E===f(O)&&y(O),q(J)}else y(O);E=f(O)}if(E!==null)ie=!0;else{var ne=f(w);ne!==null&&se(F,ne.startTime-J),ie=!1}}break e}finally{E=null,k=ue,C=!1}ie=void 0}}finally{ie?K():L=!1}}}var K;if(typeof j=="function")K=function(){j(W)};else if(typeof MessageChannel!="undefined"){var re=new MessageChannel,fe=re.port2;re.port1.onmessage=W,K=function(){fe.postMessage(null)}}else K=function(){D(W,0)};function se(J,ie){U=D(function(){J(d.unstable_now())},ie)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(J){J.callback=null},d.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<J?Math.floor(1e3/J):5},d.unstable_getCurrentPriorityLevel=function(){return k},d.unstable_next=function(J){switch(k){case 1:case 2:case 3:var ie=3;break;default:ie=k}var ue=k;k=ie;try{return J()}finally{k=ue}},d.unstable_requestPaint=function(){A=!0},d.unstable_runWithPriority=function(J,ie){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ue=k;k=J;try{return ie()}finally{k=ue}},d.unstable_scheduleCallback=function(J,ie,ue){var ke=d.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ke+ue:ke):ue=ke,J){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ue+pe,J={id:T++,callback:ie,priorityLevel:J,startTime:ue,expirationTime:pe,sortIndex:-1},ue>ke?(J.sortIndex=ue,h(w,J),f(O)===null&&J===f(w)&&(M?(N(U),U=-1):M=!0,se(F,ue-ke))):(J.sortIndex=pe,h(O,J),P||C||(P=!0,L||(L=!0,K()))),J},d.unstable_shouldYield=Y,d.unstable_wrapCallback=function(J){var ie=k;return function(){var ue=k;k=ie;try{return J.apply(this,arguments)}finally{k=ue}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var d=requireScheduler(),h=requireReact(),f=requireReactDom();function y(m){var _="https://react.dev/errors/"+m;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var $=2;$<arguments.length;$++)_+="&args[]="+encodeURIComponent(arguments[$])}return"Minified React error #"+m+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function b(m){var _=m,$=m;if(m.alternate)for(;_.return;)_=_.return;else{m=_;do _=m,(_.flags&4098)!==0&&($=_.return),m=_.return;while(m)}return _.tag===3?$:null}function v(m){if(m.tag===13){var _=m.memoizedState;if(_===null&&(m=m.alternate,m!==null&&(_=m.memoizedState)),_!==null)return _.dehydrated}return null}function S(m){if(b(m)!==m)throw Error(y(188))}function O(m){var _=m.alternate;if(!_){if(_=b(m),_===null)throw Error(y(188));return _!==m?null:m}for(var $=m,x=_;;){var R=$.return;if(R===null)break;var I=R.alternate;if(I===null){if(x=R.return,x!==null){$=x;continue}break}if(R.child===I.child){for(I=R.child;I;){if(I===$)return S(R),m;if(I===x)return S(R),_;I=I.sibling}throw Error(y(188))}if($.return!==x.return)$=R,x=I;else{for(var B=!1,G=R.child;G;){if(G===$){B=!0,$=R,x=I;break}if(G===x){B=!0,x=R,$=I;break}G=G.sibling}if(!B){for(G=I.child;G;){if(G===$){B=!0,$=I,x=R;break}if(G===x){B=!0,x=I,$=R;break}G=G.sibling}if(!B)throw Error(y(189))}}if($.alternate!==x)throw Error(y(190))}if($.tag!==3)throw Error(y(188));return $.stateNode.current===$?m:_}function w(m){var _=m.tag;if(_===5||_===26||_===27||_===6)return m;for(m=m.child;m!==null;){if(_=w(m),_!==null)return _;m=m.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),j=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function K(m){return m===null||typeof m!="object"?null:(m=W&&m[W]||m["@@iterator"],typeof m=="function"?m:null)}var re=Symbol.for("react.client.reference");function fe(m){if(m==null)return null;if(typeof m=="function")return m.$$typeof===re?null:m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case P:return"Fragment";case A:return"Profiler";case M:return"StrictMode";case F:return"Suspense";case L:return"SuspenseList";case V:return"Activity"}if(typeof m=="object")switch(m.$$typeof){case C:return"Portal";case j:return(m.displayName||"Context")+".Provider";case N:return(m._context.displayName||"Context")+".Consumer";case q:var _=m.render;return m=m.displayName,m||(m=_.displayName||_.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case U:return _=m.displayName||null,_!==null?_:fe(m.type)||"Memo";case z:_=m._payload,m=m._init;try{return fe(m(_))}catch($){}}return null}var se=Array.isArray,J=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ke=[],pe=-1;function ne(m){return{current:m}}function de(m){0>pe||(m.current=ke[pe],ke[pe]=null,pe--)}function ae(m,_){pe++,ke[pe]=m.current,m.current=_}var H=ne(null),Z=ne(null),ve=ne(null),Te=ne(null);function te(m,_){switch(ae(ve,_),ae(Z,m),ae(H,null),_.nodeType){case 9:case 11:m=(m=_.documentElement)&&(m=m.namespaceURI)?Uf(m):0;break;default:if(m=_.tagName,_=_.namespaceURI)_=Uf(_),m=qf(_,m);else switch(m){case"svg":m=1;break;case"math":m=2;break;default:m=0}}de(H),ae(H,m)}function ge(){de(H),de(Z),de(ve)}function $e(m){m.memoizedState!==null&&ae(Te,m);var _=H.current,$=qf(_,m.type);_!==$&&(ae(Z,m),ae(H,$))}function Q(m){Z.current===m&&(de(H),de(Z)),Te.current===m&&(de(Te),Gi._currentValue=ue)}var le=Object.prototype.hasOwnProperty,Se=d.unstable_scheduleCallback,Oe=d.unstable_cancelCallback,xe=d.unstable_shouldYield,Pe=d.unstable_requestPaint,Ce=d.unstable_now,Ye=d.unstable_getCurrentPriorityLevel,Ke=d.unstable_ImmediatePriority,Me=d.unstable_UserBlockingPriority,Ue=d.unstable_NormalPriority,Ne=d.unstable_LowPriority,Be=d.unstable_IdlePriority,ut=d.log,Ge=d.unstable_setDisableYieldValue,$t=null,dt=null;function vt(m){if(typeof ut=="function"&&Ge(m),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode($t,m)}catch(_){}}var yt=Math.clz32?Math.clz32:Yi,fr=Math.log,ca=Math.LN2;function Yi(m){return m>>>=0,m===0?32:31-(fr(m)/ca|0)|0}var Nt=256,Gt=4194304;function Vn(m){var _=m&42;if(_!==0)return _;switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return m&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return m}}function Xi(m,_,$){var x=m.pendingLanes;if(x===0)return 0;var R=0,I=m.suspendedLanes,B=m.pingedLanes;m=m.warmLanes;var G=x&134217727;return G!==0?(x=G&~I,x!==0?R=Vn(x):(B&=G,B!==0?R=Vn(B):$||($=G&~m,$!==0&&(R=Vn($))))):(G=x&~I,G!==0?R=Vn(G):B!==0?R=Vn(B):$||($=x&~m,$!==0&&(R=Vn($)))),R===0?0:_!==0&&_!==R&&(_&I)===0&&(I=R&-R,$=_&-_,I>=$||I===32&&($&4194048)!==0)?_:R}function Kr(m,_){return(m.pendingLanes&~(m.suspendedLanes&~m.pingedLanes)&_)===0}function bd(m,_){switch(m){case 1:case 2:case 4:case 8:case 64:return _+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $s(){var m=Nt;return Nt<<=1,(Nt&4194048)===0&&(Nt=256),m}function ws(){var m=Gt;return Gt<<=1,(Gt&62914560)===0&&(Gt=4194304),m}function fa(m){for(var _=[],$=0;31>$;$++)_.push(m);return _}function Zr(m,_){m.pendingLanes|=_,_!==268435456&&(m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0)}function vd(m,_,$,x,R,I){var B=m.pendingLanes;m.pendingLanes=$,m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0,m.expiredLanes&=$,m.entangledLanes&=$,m.errorRecoveryDisabledLanes&=$,m.shellSuspendCounter=0;var G=m.entanglements,ee=m.expirationTimes,ye=m.hiddenUpdates;for($=B&~$;0<$;){var _e=31-yt($),Ee=1<<_e;G[_e]=0,ee[_e]=-1;var be=ye[_e];if(be!==null)for(ye[_e]=null,_e=0;_e<be.length;_e++){var me=be[_e];me!==null&&(me.lane&=-536870913)}$&=~Ee}x!==0&&xs(m,x,0),I!==0&&R===0&&m.tag!==0&&(m.suspendedLanes|=I&~(B&~_))}function xs(m,_,$){m.pendingLanes|=_,m.suspendedLanes&=~_;var x=31-yt(_);m.entangledLanes|=_,m.entanglements[x]=m.entanglements[x]|1073741824|$&4194090}function Ts(m,_){var $=m.entangledLanes|=_;for(m=m.entanglements;$;){var x=31-yt($),R=1<<x;R&_|m[x]&_&&(m[x]|=_),$&=~R}}function da(m){switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=128;break;case 268435456:m=134217728;break;default:m=0}return m}function pa(m){return m&=-m,2<m?8<m?(m&134217727)!==0?32:268435456:8:2}function Es(){var m=ie.p;return m!==0?m:(m=window.event,m===void 0?32:ld(m.type))}function md(m,_){var $=ie.p;try{return ie.p=m,_()}finally{ie.p=$}}var wn=Math.random().toString(36).slice(2),Et="__reactFiber$"+wn,Ct="__reactProps$"+wn,dr="__reactContainer$"+wn,ha="__reactEvents$"+wn,Sd="__reactListeners$"+wn,_d="__reactHandles$"+wn,ks="__reactResources$"+wn,Qr="__reactMarker$"+wn;function ya(m){delete m[Et],delete m[Ct],delete m[ha],delete m[Sd],delete m[_d]}function pr(m){var _=m[Et];if(_)return _;for(var $=m.parentNode;$;){if(_=$[dr]||$[Et]){if($=_.alternate,_.child!==null||$!==null&&$.child!==null)for(m=Wf(m);m!==null;){if($=m[Et])return $;m=Wf(m)}return _}m=$,$=m.parentNode}return null}function hr(m){if(m=m[Et]||m[dr]){var _=m.tag;if(_===5||_===6||_===13||_===26||_===27||_===3)return m}return null}function ei(m){var _=m.tag;if(_===5||_===26||_===27||_===6)return m.stateNode;throw Error(y(33))}function yr(m){var _=m[ks];return _||(_=m[ks]={hoistableStyles:new Map,hoistableScripts:new Map}),_}function mt(m){m[Qr]=!0}var Rs=new Set,Cs={};function Jn(m,_){gr(m,_),gr(m+"Capture",_)}function gr(m,_){for(Cs[m]=_,m=0;m<_.length;m++)Rs.add(_[m])}var Od=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ps={},Is={};function $d(m){return le.call(Is,m)?!0:le.call(Ps,m)?!1:Od.test(m)?Is[m]=!0:(Ps[m]=!0,!1)}function Ki(m,_,$){if($d(_))if($===null)m.removeAttribute(_);else{switch(typeof $){case"undefined":case"function":case"symbol":m.removeAttribute(_);return;case"boolean":var x=_.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){m.removeAttribute(_);return}}m.setAttribute(_,""+$)}}function Zi(m,_,$){if($===null)m.removeAttribute(_);else{switch(typeof $){case"undefined":case"function":case"symbol":case"boolean":m.removeAttribute(_);return}m.setAttribute(_,""+$)}}function un(m,_,$,x){if(x===null)m.removeAttribute($);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":m.removeAttribute($);return}m.setAttributeNS(_,$,""+x)}}var ga,As;function br(m){if(ga===void 0)try{throw Error()}catch($){var _=$.stack.trim().match(/\n( *(at )?)/);ga=_&&_[1]||"",As=-1<$.stack.indexOf(`
    at`)?" (<anonymous>)":-1<$.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ga+m+As}var ba=!1;function va(m,_){if(!m||ba)return"";ba=!0;var $=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(_){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(me){var be=me}Reflect.construct(m,[],Ee)}else{try{Ee.call()}catch(me){be=me}m.call(Ee.prototype)}}else{try{throw Error()}catch(me){be=me}(Ee=m())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(me){if(me&&be&&typeof me.stack=="string")return[me.stack,be.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=x.DetermineComponentFrameRoot(),B=I[0],G=I[1];if(B&&G){var ee=B.split(`
`),ye=G.split(`
`);for(R=x=0;x<ee.length&&!ee[x].includes("DetermineComponentFrameRoot");)x++;for(;R<ye.length&&!ye[R].includes("DetermineComponentFrameRoot");)R++;if(x===ee.length||R===ye.length)for(x=ee.length-1,R=ye.length-1;1<=x&&0<=R&&ee[x]!==ye[R];)R--;for(;1<=x&&0<=R;x--,R--)if(ee[x]!==ye[R]){if(x!==1||R!==1)do if(x--,R--,0>R||ee[x]!==ye[R]){var _e=`
`+ee[x].replace(" at new "," at ");return m.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",m.displayName)),_e}while(1<=x&&0<=R);break}}}finally{ba=!1,Error.prepareStackTrace=$}return($=m?m.displayName||m.name:"")?br($):""}function wd(m){switch(m.tag){case 26:case 27:case 5:return br(m.type);case 16:return br("Lazy");case 13:return br("Suspense");case 19:return br("SuspenseList");case 0:case 15:return va(m.type,!1);case 11:return va(m.type.render,!1);case 1:return va(m.type,!0);case 31:return br("Activity");default:return""}}function Ms(m){try{var _="";do _+=wd(m),m=m.return;while(m);return _}catch($){return`
Error generating stack: `+$.message+`
`+$.stack}}function Ht(m){switch(typeof m){case"bigint":case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function Ns(m){var _=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(_==="checkbox"||_==="radio")}function xd(m){var _=Ns(m)?"checked":"value",$=Object.getOwnPropertyDescriptor(m.constructor.prototype,_),x=""+m[_];if(!m.hasOwnProperty(_)&&typeof $!="undefined"&&typeof $.get=="function"&&typeof $.set=="function"){var R=$.get,I=$.set;return Object.defineProperty(m,_,{configurable:!0,get:function(){return R.call(this)},set:function(B){x=""+B,I.call(this,B)}}),Object.defineProperty(m,_,{enumerable:$.enumerable}),{getValue:function(){return x},setValue:function(B){x=""+B},stopTracking:function(){m._valueTracker=null,delete m[_]}}}}function Qi(m){m._valueTracker||(m._valueTracker=xd(m))}function Ds(m){if(!m)return!1;var _=m._valueTracker;if(!_)return!0;var $=_.getValue(),x="";return m&&(x=Ns(m)?m.checked?"true":"false":m.value),m=x,m!==$?(_.setValue(m),!0):!1}function eo(m){if(m=m||(typeof document!="undefined"?document:void 0),typeof m=="undefined")return null;try{return m.activeElement||m.body}catch(_){return m.body}}var Td=/[\n"\\]/g;function zt(m){return m.replace(Td,function(_){return"\\"+_.charCodeAt(0).toString(16)+" "})}function ma(m,_,$,x,R,I,B,G){m.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?m.type=B:m.removeAttribute("type"),_!=null?B==="number"?(_===0&&m.value===""||m.value!=_)&&(m.value=""+Ht(_)):m.value!==""+Ht(_)&&(m.value=""+Ht(_)):B!=="submit"&&B!=="reset"||m.removeAttribute("value"),_!=null?Sa(m,B,Ht(_)):$!=null?Sa(m,B,Ht($)):x!=null&&m.removeAttribute("value"),R==null&&I!=null&&(m.defaultChecked=!!I),R!=null&&(m.checked=R&&typeof R!="function"&&typeof R!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?m.name=""+Ht(G):m.removeAttribute("name")}function js(m,_,$,x,R,I,B,G){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(m.type=I),_!=null||$!=null){if(!(I!=="submit"&&I!=="reset"||_!=null))return;$=$!=null?""+Ht($):"",_=_!=null?""+Ht(_):$,G||_===m.value||(m.value=_),m.defaultValue=_}x=x!=null?x:R,x=typeof x!="function"&&typeof x!="symbol"&&!!x,m.checked=G?m.checked:!!x,m.defaultChecked=!!x,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(m.name=B)}function Sa(m,_,$){_==="number"&&eo(m.ownerDocument)===m||m.defaultValue===""+$||(m.defaultValue=""+$)}function vr(m,_,$,x){if(m=m.options,_){_={};for(var R=0;R<$.length;R++)_["$"+$[R]]=!0;for($=0;$<m.length;$++)R=_.hasOwnProperty("$"+m[$].value),m[$].selected!==R&&(m[$].selected=R),R&&x&&(m[$].defaultSelected=!0)}else{for($=""+Ht($),_=null,R=0;R<m.length;R++){if(m[R].value===$){m[R].selected=!0,x&&(m[R].defaultSelected=!0);return}_!==null||m[R].disabled||(_=m[R])}_!==null&&(_.selected=!0)}}function Fs(m,_,$){if(_!=null&&(_=""+Ht(_),_!==m.value&&(m.value=_),$==null)){m.defaultValue!==_&&(m.defaultValue=_);return}m.defaultValue=$!=null?""+Ht($):""}function Ls(m,_,$,x){if(_==null){if(x!=null){if($!=null)throw Error(y(92));if(se(x)){if(1<x.length)throw Error(y(93));x=x[0]}$=x}$==null&&($=""),_=$}$=Ht(_),m.defaultValue=$,x=m.textContent,x===$&&x!==""&&x!==null&&(m.value=x)}function mr(m,_){if(_){var $=m.firstChild;if($&&$===m.lastChild&&$.nodeType===3){$.nodeValue=_;return}}m.textContent=_}var Ed=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bs(m,_,$){var x=_.indexOf("--")===0;$==null||typeof $=="boolean"||$===""?x?m.setProperty(_,""):_==="float"?m.cssFloat="":m[_]="":x?m.setProperty(_,$):typeof $!="number"||$===0||Ed.has(_)?_==="float"?m.cssFloat=$:m[_]=(""+$).trim():m[_]=$+"px"}function Us(m,_,$){if(_!=null&&typeof _!="object")throw Error(y(62));if(m=m.style,$!=null){for(var x in $)!$.hasOwnProperty(x)||_!=null&&_.hasOwnProperty(x)||(x.indexOf("--")===0?m.setProperty(x,""):x==="float"?m.cssFloat="":m[x]="");for(var R in _)x=_[R],_.hasOwnProperty(R)&&$[R]!==x&&Bs(m,R,x)}else for(var I in _)_.hasOwnProperty(I)&&Bs(m,I,_[I])}function _a(m){if(m.indexOf("-")===-1)return!1;switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(m){return Rd.test(""+m)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":m}var Oa=null;function $a(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var Sr=null,_r=null;function qs(m){var _=hr(m);if(_&&(m=_.stateNode)){var $=m[Ct]||null;e:switch(m=_.stateNode,_.type){case"input":if(ma(m,$.value,$.defaultValue,$.defaultValue,$.checked,$.defaultChecked,$.type,$.name),_=$.name,$.type==="radio"&&_!=null){for($=m;$.parentNode;)$=$.parentNode;for($=$.querySelectorAll('input[name="'+zt(""+_)+'"][type="radio"]'),_=0;_<$.length;_++){var x=$[_];if(x!==m&&x.form===m.form){var R=x[Ct]||null;if(!R)throw Error(y(90));ma(x,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(_=0;_<$.length;_++)x=$[_],x.form===m.form&&Ds(x)}break e;case"textarea":Fs(m,$.value,$.defaultValue);break e;case"select":_=$.value,_!=null&&vr(m,!!$.multiple,_,!1)}}}var wa=!1;function Gs(m,_,$){if(wa)return m(_,$);wa=!0;try{var x=m(_);return x}finally{if(wa=!1,(Sr!==null||_r!==null)&&(qo(),Sr&&(_=Sr,m=_r,_r=Sr=null,qs(_),m)))for(_=0;_<m.length;_++)qs(m[_])}}function ti(m,_){var $=m.stateNode;if($===null)return null;var x=$[Ct]||null;if(x===null)return null;$=x[_];e:switch(_){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(m=m.type,x=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!x;break e;default:m=!1}if(m)return null;if($&&typeof $!="function")throw Error(y(231,_,typeof $));return $}var cn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),xa=!1;if(cn)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){xa=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch(m){xa=!1}var xn=null,Ta=null,no=null;function Hs(){if(no)return no;var m,_=Ta,$=_.length,x,R="value"in xn?xn.value:xn.textContent,I=R.length;for(m=0;m<$&&_[m]===R[m];m++);var B=$-m;for(x=1;x<=B&&_[$-x]===R[I-x];x++);return no=R.slice(m,1<x?1-x:void 0)}function ro(m){var _=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&_===13&&(m=13)):m=_,m===10&&(m=13),32<=m||m===13?m:0}function io(){return!0}function zs(){return!1}function Pt(m){function _($,x,R,I,B){this._reactName=$,this._targetInst=R,this.type=x,this.nativeEvent=I,this.target=B,this.currentTarget=null;for(var G in m)m.hasOwnProperty(G)&&($=m[G],this[G]=$?$(I):I[G]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?io:zs,this.isPropagationStopped=zs,this}return T(_.prototype,{preventDefault:function(){this.defaultPrevented=!0;var $=this.nativeEvent;$&&($.preventDefault?$.preventDefault():typeof $.returnValue!="unknown"&&($.returnValue=!1),this.isDefaultPrevented=io)},stopPropagation:function(){var $=this.nativeEvent;$&&($.stopPropagation?$.stopPropagation():typeof $.cancelBubble!="unknown"&&($.cancelBubble=!0),this.isPropagationStopped=io)},persist:function(){},isPersistent:io}),_}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=Pt(Yn),ri=T({},Yn,{view:0,detail:0}),Cd=Pt(ri),Ea,ka,ii,ao=T({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==ii&&(ii&&m.type==="mousemove"?(Ea=m.screenX-ii.screenX,ka=m.screenY-ii.screenY):ka=Ea=0,ii=m),Ea)},movementY:function(m){return"movementY"in m?m.movementY:ka}}),Ws=Pt(ao),Pd=T({},ao,{dataTransfer:0}),Id=Pt(Pd),Ad=T({},ri,{relatedTarget:0}),Ra=Pt(Ad),Md=T({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),Nd=Pt(Md),Dd=T({},Yn,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),jd=Pt(Dd),Fd=T({},Yn,{data:0}),Vs=Pt(Fd),Ld={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ud={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qd(m){var _=this.nativeEvent;return _.getModifierState?_.getModifierState(m):(m=Ud[m])?!!_[m]:!1}function Ca(){return qd}var Gd=T({},ri,{key:function(m){if(m.key){var _=Ld[m.key]||m.key;if(_!=="Unidentified")return _}return m.type==="keypress"?(m=ro(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?Bd[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(m){return m.type==="keypress"?ro(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?ro(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),Hd=Pt(Gd),zd=T({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Js=Pt(zd),Wd=T({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca}),Vd=Pt(Wd),Jd=T({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yd=Pt(Jd),Xd=T({},ao,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),Kd=Pt(Xd),Zd=T({},Yn,{newState:0,oldState:0}),Qd=Pt(Zd),ep=[9,13,27,32],Pa=cn&&"CompositionEvent"in window,oi=null;cn&&"documentMode"in document&&(oi=document.documentMode);var tp=cn&&"TextEvent"in window&&!oi,Ys=cn&&(!Pa||oi&&8<oi&&11>=oi),Xs=" ",Ks=!1;function Zs(m,_){switch(m){case"keyup":return ep.indexOf(_.keyCode)!==-1;case"keydown":return _.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qs(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var Or=!1;function np(m,_){switch(m){case"compositionend":return Qs(_);case"keypress":return _.which!==32?null:(Ks=!0,Xs);case"textInput":return m=_.data,m===Xs&&Ks?null:m;default:return null}}function rp(m,_){if(Or)return m==="compositionend"||!Pa&&Zs(m,_)?(m=Hs(),no=Ta=xn=null,Or=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(_.ctrlKey||_.altKey||_.metaKey)||_.ctrlKey&&_.altKey){if(_.char&&1<_.char.length)return _.char;if(_.which)return String.fromCharCode(_.which)}return null;case"compositionend":return Ys&&_.locale!=="ko"?null:_.data;default:return null}}var ip={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eu(m){var _=m&&m.nodeName&&m.nodeName.toLowerCase();return _==="input"?!!ip[m.type]:_==="textarea"}function tu(m,_,$,x){Sr?_r?_r.push(x):_r=[x]:Sr=x,_=Jo(_,"onChange"),0<_.length&&($=new oo("onChange","change",null,$,x),m.push({event:$,listeners:_}))}var ai=null,li=null;function op(m){Df(m,0)}function lo(m){var _=ei(m);if(Ds(_))return m}function nu(m,_){if(m==="change")return _}var ru=!1;if(cn){var Ia;if(cn){var Aa="oninput"in document;if(!Aa){var iu=document.createElement("div");iu.setAttribute("oninput","return;"),Aa=typeof iu.oninput=="function"}Ia=Aa}else Ia=!1;ru=Ia&&(!document.documentMode||9<document.documentMode)}function ou(){ai&&(ai.detachEvent("onpropertychange",au),li=ai=null)}function au(m){if(m.propertyName==="value"&&lo(li)){var _=[];tu(_,li,m,$a(m)),Gs(op,_)}}function ap(m,_,$){m==="focusin"?(ou(),ai=_,li=$,ai.attachEvent("onpropertychange",au)):m==="focusout"&&ou()}function lp(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return lo(li)}function sp(m,_){if(m==="click")return lo(_)}function up(m,_){if(m==="input"||m==="change")return lo(_)}function cp(m,_){return m===_&&(m!==0||1/m===1/_)||m!==m&&_!==_}var Dt=typeof Object.is=="function"?Object.is:cp;function si(m,_){if(Dt(m,_))return!0;if(typeof m!="object"||m===null||typeof _!="object"||_===null)return!1;var $=Object.keys(m),x=Object.keys(_);if($.length!==x.length)return!1;for(x=0;x<$.length;x++){var R=$[x];if(!le.call(_,R)||!Dt(m[R],_[R]))return!1}return!0}function lu(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function su(m,_){var $=lu(m);m=0;for(var x;$;){if($.nodeType===3){if(x=m+$.textContent.length,m<=_&&x>=_)return{node:$,offset:_-m};m=x}e:{for(;$;){if($.nextSibling){$=$.nextSibling;break e}$=$.parentNode}$=void 0}$=lu($)}}function uu(m,_){return m&&_?m===_?!0:m&&m.nodeType===3?!1:_&&_.nodeType===3?uu(m,_.parentNode):"contains"in m?m.contains(_):m.compareDocumentPosition?!!(m.compareDocumentPosition(_)&16):!1:!1}function cu(m){m=m!=null&&m.ownerDocument!=null&&m.ownerDocument.defaultView!=null?m.ownerDocument.defaultView:window;for(var _=eo(m.document);_ instanceof m.HTMLIFrameElement;){try{var $=typeof _.contentWindow.location.href=="string"}catch(x){$=!1}if($)m=_.contentWindow;else break;_=eo(m.document)}return _}function Ma(m){var _=m&&m.nodeName&&m.nodeName.toLowerCase();return _&&(_==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||_==="textarea"||m.contentEditable==="true")}var fp=cn&&"documentMode"in document&&11>=document.documentMode,$r=null,Na=null,ui=null,Da=!1;function fu(m,_,$){var x=$.window===$?$.document:$.nodeType===9?$:$.ownerDocument;Da||$r==null||$r!==eo(x)||(x=$r,"selectionStart"in x&&Ma(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),ui&&si(ui,x)||(ui=x,x=Jo(Na,"onSelect"),0<x.length&&(_=new oo("onSelect","select",null,_,$),m.push({event:_,listeners:x}),_.target=$r)))}function Xn(m,_){var $={};return $[m.toLowerCase()]=_.toLowerCase(),$["Webkit"+m]="webkit"+_,$["Moz"+m]="moz"+_,$}var wr={animationend:Xn("Animation","AnimationEnd"),animationiteration:Xn("Animation","AnimationIteration"),animationstart:Xn("Animation","AnimationStart"),transitionrun:Xn("Transition","TransitionRun"),transitionstart:Xn("Transition","TransitionStart"),transitioncancel:Xn("Transition","TransitionCancel"),transitionend:Xn("Transition","TransitionEnd")},ja={},du={};cn&&(du=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function Kn(m){if(ja[m])return ja[m];if(!wr[m])return m;var _=wr[m],$;for($ in _)if(_.hasOwnProperty($)&&$ in du)return ja[m]=_[$];return m}var pu=Kn("animationend"),hu=Kn("animationiteration"),yu=Kn("animationstart"),dp=Kn("transitionrun"),pp=Kn("transitionstart"),hp=Kn("transitioncancel"),gu=Kn("transitionend"),bu=new Map,Fa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fa.push("scrollEnd");function Qt(m,_){bu.set(m,_),Jn(_,[m])}var vu=new WeakMap;function Wt(m,_){if(typeof m=="object"&&m!==null){var $=vu.get(m);return $!==void 0?$:(_={value:m,source:_,stack:Ms(_)},vu.set(m,_),_)}return{value:m,source:_,stack:Ms(_)}}var Vt=[],xr=0,La=0;function so(){for(var m=xr,_=La=xr=0;_<m;){var $=Vt[_];Vt[_++]=null;var x=Vt[_];Vt[_++]=null;var R=Vt[_];Vt[_++]=null;var I=Vt[_];if(Vt[_++]=null,x!==null&&R!==null){var B=x.pending;B===null?R.next=R:(R.next=B.next,B.next=R),x.pending=R}I!==0&&mu($,R,I)}}function uo(m,_,$,x){Vt[xr++]=m,Vt[xr++]=_,Vt[xr++]=$,Vt[xr++]=x,La|=x,m.lanes|=x,m=m.alternate,m!==null&&(m.lanes|=x)}function Ba(m,_,$,x){return uo(m,_,$,x),co(m)}function Tr(m,_){return uo(m,null,null,_),co(m)}function mu(m,_,$){m.lanes|=$;var x=m.alternate;x!==null&&(x.lanes|=$);for(var R=!1,I=m.return;I!==null;)I.childLanes|=$,x=I.alternate,x!==null&&(x.childLanes|=$),I.tag===22&&(m=I.stateNode,m===null||m._visibility&1||(R=!0)),m=I,I=I.return;return m.tag===3?(I=m.stateNode,R&&_!==null&&(R=31-yt($),m=I.hiddenUpdates,x=m[R],x===null?m[R]=[_]:x.push(_),_.lane=$|536870912),I):null}function co(m){if(50<Mi)throw Mi=0,Wl=null,Error(y(185));for(var _=m.return;_!==null;)m=_,_=m.return;return m.tag===3?m.stateNode:null}var Er={};function yp(m,_,$,x){this.tag=m,this.key=$,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(m,_,$,x){return new yp(m,_,$,x)}function Ua(m){return m=m.prototype,!(!m||!m.isReactComponent)}function fn(m,_){var $=m.alternate;return $===null?($=jt(m.tag,_,m.key,m.mode),$.elementType=m.elementType,$.type=m.type,$.stateNode=m.stateNode,$.alternate=m,m.alternate=$):($.pendingProps=_,$.type=m.type,$.flags=0,$.subtreeFlags=0,$.deletions=null),$.flags=m.flags&65011712,$.childLanes=m.childLanes,$.lanes=m.lanes,$.child=m.child,$.memoizedProps=m.memoizedProps,$.memoizedState=m.memoizedState,$.updateQueue=m.updateQueue,_=m.dependencies,$.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},$.sibling=m.sibling,$.index=m.index,$.ref=m.ref,$.refCleanup=m.refCleanup,$}function Su(m,_){m.flags&=65011714;var $=m.alternate;return $===null?(m.childLanes=0,m.lanes=_,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=$.childLanes,m.lanes=$.lanes,m.child=$.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=$.memoizedProps,m.memoizedState=$.memoizedState,m.updateQueue=$.updateQueue,m.type=$.type,_=$.dependencies,m.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),m}function fo(m,_,$,x,R,I){var B=0;if(x=m,typeof m=="function")Ua(m)&&(B=1);else if(typeof m=="string")B=bh(m,$,H.current)?26:m==="html"||m==="head"||m==="body"?27:5;else e:switch(m){case V:return m=jt(31,$,_,R),m.elementType=V,m.lanes=I,m;case P:return Zn($.children,R,I,_);case M:B=8,R|=24;break;case A:return m=jt(12,$,_,R|2),m.elementType=A,m.lanes=I,m;case F:return m=jt(13,$,_,R),m.elementType=F,m.lanes=I,m;case L:return m=jt(19,$,_,R),m.elementType=L,m.lanes=I,m;default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case D:case j:B=10;break e;case N:B=9;break e;case q:B=11;break e;case U:B=14;break e;case z:B=16,x=null;break e}B=29,$=Error(y(130,m===null?"null":typeof m,"")),x=null}return _=jt(B,$,_,R),_.elementType=m,_.type=x,_.lanes=I,_}function Zn(m,_,$,x){return m=jt(7,m,x,_),m.lanes=$,m}function qa(m,_,$){return m=jt(6,m,null,_),m.lanes=$,m}function Ga(m,_,$){return _=jt(4,m.children!==null?m.children:[],m.key,_),_.lanes=$,_.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},_}var kr=[],Rr=0,ho=null,yo=0,Jt=[],Yt=0,Qn=null,dn=1,pn="";function er(m,_){kr[Rr++]=yo,kr[Rr++]=ho,ho=m,yo=_}function _u(m,_,$){Jt[Yt++]=dn,Jt[Yt++]=pn,Jt[Yt++]=Qn,Qn=m;var x=dn;m=pn;var R=32-yt(x)-1;x&=~(1<<R),$+=1;var I=32-yt(_)+R;if(30<I){var B=R-R%5;I=(x&(1<<B)-1).toString(32),x>>=B,R-=B,dn=1<<32-yt(_)+R|$<<R|x,pn=I+m}else dn=1<<I|$<<R|x,pn=m}function Ha(m){m.return!==null&&(er(m,1),_u(m,1,0))}function za(m){for(;m===ho;)ho=kr[--Rr],kr[Rr]=null,yo=kr[--Rr],kr[Rr]=null;for(;m===Qn;)Qn=Jt[--Yt],Jt[Yt]=null,pn=Jt[--Yt],Jt[Yt]=null,dn=Jt[--Yt],Jt[Yt]=null}var Rt=null,lt=null,Xe=!1,tr=null,nn=!1,Wa=Error(y(519));function nr(m){var _=Error(y(418,""));throw di(Wt(_,m)),Wa}function Ou(m){var _=m.stateNode,$=m.type,x=m.memoizedProps;switch(_[Et]=m,_[Ct]=x,$){case"dialog":We("cancel",_),We("close",_);break;case"iframe":case"object":case"embed":We("load",_);break;case"video":case"audio":for($=0;$<Di.length;$++)We(Di[$],_);break;case"source":We("error",_);break;case"img":case"image":case"link":We("error",_),We("load",_);break;case"details":We("toggle",_);break;case"input":We("invalid",_),js(_,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),Qi(_);break;case"select":We("invalid",_);break;case"textarea":We("invalid",_),Ls(_,x.value,x.defaultValue,x.children),Qi(_)}$=x.children,typeof $!="string"&&typeof $!="number"&&typeof $!="bigint"||_.textContent===""+$||x.suppressHydrationWarning===!0||Bf(_.textContent,$)?(x.popover!=null&&(We("beforetoggle",_),We("toggle",_)),x.onScroll!=null&&We("scroll",_),x.onScrollEnd!=null&&We("scrollend",_),x.onClick!=null&&(_.onclick=Yo),_=!0):_=!1,_||nr(m)}function $u(m){for(Rt=m.return;Rt;)switch(Rt.tag){case 5:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:Rt=Rt.return}}function ci(m){if(m!==Rt)return!1;if(!Xe)return $u(m),Xe=!0,!1;var _=m.tag,$;if(($=_!==3&&_!==27)&&(($=_===5)&&($=m.type,$=!($!=="form"&&$!=="button")||us(m.type,m.memoizedProps)),$=!$),$&&lt&&nr(m),$u(m),_===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(y(317));e:{for(m=m.nextSibling,_=0;m;){if(m.nodeType===8)if($=m.data,$==="/$"){if(_===0){lt=tn(m.nextSibling);break e}_--}else $!=="$"&&$!=="$!"&&$!=="$?"||_++;m=m.nextSibling}lt=null}}else _===27?(_=lt,Un(m.type)?(m=ps,ps=null,lt=m):lt=_):lt=Rt?tn(m.stateNode.nextSibling):null;return!0}function fi(){lt=Rt=null,Xe=!1}function wu(){var m=tr;return m!==null&&(Mt===null?Mt=m:Mt.push.apply(Mt,m),tr=null),m}function di(m){tr===null?tr=[m]:tr.push(m)}var Va=ne(null),rr=null,hn=null;function Tn(m,_,$){ae(Va,_._currentValue),_._currentValue=$}function yn(m){m._currentValue=Va.current,de(Va)}function Ja(m,_,$){for(;m!==null;){var x=m.alternate;if((m.childLanes&_)!==_?(m.childLanes|=_,x!==null&&(x.childLanes|=_)):x!==null&&(x.childLanes&_)!==_&&(x.childLanes|=_),m===$)break;m=m.return}}function Ya(m,_,$,x){var R=m.child;for(R!==null&&(R.return=m);R!==null;){var I=R.dependencies;if(I!==null){var B=R.child;I=I.firstContext;e:for(;I!==null;){var G=I;I=R;for(var ee=0;ee<_.length;ee++)if(G.context===_[ee]){I.lanes|=$,G=I.alternate,G!==null&&(G.lanes|=$),Ja(I.return,$,m),x||(B=null);break e}I=G.next}}else if(R.tag===18){if(B=R.return,B===null)throw Error(y(341));B.lanes|=$,I=B.alternate,I!==null&&(I.lanes|=$),Ja(B,$,m),B=null}else B=R.child;if(B!==null)B.return=R;else for(B=R;B!==null;){if(B===m){B=null;break}if(R=B.sibling,R!==null){R.return=B.return,B=R;break}B=B.return}R=B}}function pi(m,_,$,x){m=null;for(var R=_,I=!1;R!==null;){if(!I){if((R.flags&524288)!==0)I=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var B=R.alternate;if(B===null)throw Error(y(387));if(B=B.memoizedProps,B!==null){var G=R.type;Dt(R.pendingProps.value,B.value)||(m!==null?m.push(G):m=[G])}}else if(R===Te.current){if(B=R.alternate,B===null)throw Error(y(387));B.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(m!==null?m.push(Gi):m=[Gi])}R=R.return}m!==null&&Ya(_,m,$,x),_.flags|=262144}function go(m){for(m=m.firstContext;m!==null;){if(!Dt(m.context._currentValue,m.memoizedValue))return!0;m=m.next}return!1}function ir(m){rr=m,hn=null,m=m.dependencies,m!==null&&(m.firstContext=null)}function kt(m){return xu(rr,m)}function bo(m,_){return rr===null&&ir(m),xu(m,_)}function xu(m,_){var $=_._currentValue;if(_={context:_,memoizedValue:$,next:null},hn===null){if(m===null)throw Error(y(308));hn=_,m.dependencies={lanes:0,firstContext:_},m.flags|=524288}else hn=hn.next=_;return $}var gp=typeof AbortController!="undefined"?AbortController:function(){var m=[],_=this.signal={aborted:!1,addEventListener:function($,x){m.push(x)}};this.abort=function(){_.aborted=!0,m.forEach(function($){return $()})}},bp=d.unstable_scheduleCallback,vp=d.unstable_NormalPriority,gt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xa(){return{controller:new gp,data:new Map,refCount:0}}function hi(m){m.refCount--,m.refCount===0&&bp(vp,function(){m.controller.abort()})}var yi=null,Ka=0,Cr=0,Pr=null;function mp(m,_){if(yi===null){var $=yi=[];Ka=0,Cr=Ql(),Pr={status:"pending",value:void 0,then:function(x){$.push(x)}}}return Ka++,_.then(Tu,Tu),_}function Tu(){if(--Ka===0&&yi!==null){Pr!==null&&(Pr.status="fulfilled");var m=yi;yi=null,Cr=0,Pr=null;for(var _=0;_<m.length;_++)(0,m[_])()}}function Sp(m,_){var $=[],x={status:"pending",value:null,reason:null,then:function(R){$.push(R)}};return m.then(function(){x.status="fulfilled",x.value=_;for(var R=0;R<$.length;R++)(0,$[R])(_)},function(R){for(x.status="rejected",x.reason=R,R=0;R<$.length;R++)(0,$[R])(void 0)}),x}var Eu=J.S;J.S=function(m,_){typeof _=="object"&&_!==null&&typeof _.then=="function"&&mp(m,_),Eu!==null&&Eu(m,_)};var or=ne(null);function Za(){var m=or.current;return m!==null?m:it.pooledCache}function vo(m,_){_===null?ae(or,or.current):ae(or,_.pool)}function ku(){var m=Za();return m===null?null:{parent:gt._currentValue,pool:m}}var gi=Error(y(460)),Ru=Error(y(474)),mo=Error(y(542)),Qa={then:function(){}};function Cu(m){return m=m.status,m==="fulfilled"||m==="rejected"}function So(){}function Pu(m,_,$){switch($=m[$],$===void 0?m.push(_):$!==_&&(_.then(So,So),_=$),_.status){case"fulfilled":return _.value;case"rejected":throw m=_.reason,Au(m),m;default:if(typeof _.status=="string")_.then(So,So);else{if(m=it,m!==null&&100<m.shellSuspendCounter)throw Error(y(482));m=_,m.status="pending",m.then(function(x){if(_.status==="pending"){var R=_;R.status="fulfilled",R.value=x}},function(x){if(_.status==="pending"){var R=_;R.status="rejected",R.reason=x}})}switch(_.status){case"fulfilled":return _.value;case"rejected":throw m=_.reason,Au(m),m}throw bi=_,gi}}var bi=null;function Iu(){if(bi===null)throw Error(y(459));var m=bi;return bi=null,m}function Au(m){if(m===gi||m===mo)throw Error(y(483))}var En=!1;function el(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tl(m,_){m=m.updateQueue,_.updateQueue===m&&(_.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,callbacks:null})}function kn(m){return{lane:m,tag:0,payload:null,callback:null,next:null}}function Rn(m,_,$){var x=m.updateQueue;if(x===null)return null;if(x=x.shared,(Ze&2)!==0){var R=x.pending;return R===null?_.next=_:(_.next=R.next,R.next=_),x.pending=_,_=co(m),mu(m,null,$),_}return uo(m,x,_,$),co(m)}function vi(m,_,$){if(_=_.updateQueue,_!==null&&(_=_.shared,($&4194048)!==0)){var x=_.lanes;x&=m.pendingLanes,$|=x,_.lanes=$,Ts(m,$)}}function nl(m,_){var $=m.updateQueue,x=m.alternate;if(x!==null&&(x=x.updateQueue,$===x)){var R=null,I=null;if($=$.firstBaseUpdate,$!==null){do{var B={lane:$.lane,tag:$.tag,payload:$.payload,callback:null,next:null};I===null?R=I=B:I=I.next=B,$=$.next}while($!==null);I===null?R=I=_:I=I.next=_}else R=I=_;$={baseState:x.baseState,firstBaseUpdate:R,lastBaseUpdate:I,shared:x.shared,callbacks:x.callbacks},m.updateQueue=$;return}m=$.lastBaseUpdate,m===null?$.firstBaseUpdate=_:m.next=_,$.lastBaseUpdate=_}var rl=!1;function mi(){if(rl){var m=Pr;if(m!==null)throw m}}function Si(m,_,$,x){rl=!1;var R=m.updateQueue;En=!1;var I=R.firstBaseUpdate,B=R.lastBaseUpdate,G=R.shared.pending;if(G!==null){R.shared.pending=null;var ee=G,ye=ee.next;ee.next=null,B===null?I=ye:B.next=ye,B=ee;var _e=m.alternate;_e!==null&&(_e=_e.updateQueue,G=_e.lastBaseUpdate,G!==B&&(G===null?_e.firstBaseUpdate=ye:G.next=ye,_e.lastBaseUpdate=ee))}if(I!==null){var Ee=R.baseState;B=0,_e=ye=ee=null,G=I;do{var be=G.lane&-536870913,me=be!==G.lane;if(me?(Ve&be)===be:(x&be)===be){be!==0&&be===Cr&&(rl=!0),_e!==null&&(_e=_e.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Le=m,je=G;be=_;var nt=$;switch(je.tag){case 1:if(Le=je.payload,typeof Le=="function"){Ee=Le.call(nt,Ee,be);break e}Ee=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=je.payload,be=typeof Le=="function"?Le.call(nt,Ee,be):Le,be==null)break e;Ee=T({},Ee,be);break e;case 2:En=!0}}be=G.callback,be!==null&&(m.flags|=64,me&&(m.flags|=8192),me=R.callbacks,me===null?R.callbacks=[be]:me.push(be))}else me={lane:be,tag:G.tag,payload:G.payload,callback:G.callback,next:null},_e===null?(ye=_e=me,ee=Ee):_e=_e.next=me,B|=be;if(G=G.next,G===null){if(G=R.shared.pending,G===null)break;me=G,G=me.next,me.next=null,R.lastBaseUpdate=me,R.shared.pending=null}}while(!0);_e===null&&(ee=Ee),R.baseState=ee,R.firstBaseUpdate=ye,R.lastBaseUpdate=_e,I===null&&(R.shared.lanes=0),jn|=B,m.lanes=B,m.memoizedState=Ee}}function Mu(m,_){if(typeof m!="function")throw Error(y(191,m));m.call(_)}function Nu(m,_){var $=m.callbacks;if($!==null)for(m.callbacks=null,m=0;m<$.length;m++)Mu($[m],_)}var Ir=ne(null),_o=ne(0);function Du(m,_){m=On,ae(_o,m),ae(Ir,_),On=m|_.baseLanes}function il(){ae(_o,On),ae(Ir,Ir.current)}function ol(){On=_o.current,de(Ir),de(_o)}var Cn=0,qe=null,et=null,pt=null,Oo=!1,Ar=!1,ar=!1,$o=0,_i=0,Mr=null,_p=0;function ct(){throw Error(y(321))}function al(m,_){if(_===null)return!1;for(var $=0;$<_.length&&$<m.length;$++)if(!Dt(m[$],_[$]))return!1;return!0}function ll(m,_,$,x,R,I){return Cn=I,qe=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,J.H=m===null||m.memoizedState===null?mc:Sc,ar=!1,I=$(x,R),ar=!1,Ar&&(I=Fu(_,$,x,R)),ju(m),I}function ju(m){J.H=Ro;var _=et!==null&&et.next!==null;if(Cn=0,pt=et=qe=null,Oo=!1,_i=0,Mr=null,_)throw Error(y(300));m===null||St||(m=m.dependencies,m!==null&&go(m)&&(St=!0))}function Fu(m,_,$,x){qe=m;var R=0;do{if(Ar&&(Mr=null),_i=0,Ar=!1,25<=R)throw Error(y(301));if(R+=1,pt=et=null,m.updateQueue!=null){var I=m.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}J.H=kp,I=_($,x)}while(Ar);return I}function Op(){var m=J.H,_=m.useState()[0];return _=typeof _.then=="function"?Oi(_):_,m=m.useState()[0],(et!==null?et.memoizedState:null)!==m&&(qe.flags|=1024),_}function sl(){var m=$o!==0;return $o=0,m}function ul(m,_,$){_.updateQueue=m.updateQueue,_.flags&=-2053,m.lanes&=~$}function cl(m){if(Oo){for(m=m.memoizedState;m!==null;){var _=m.queue;_!==null&&(_.pending=null),m=m.next}Oo=!1}Cn=0,pt=et=qe=null,Ar=!1,_i=$o=0,Mr=null}function It(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?qe.memoizedState=pt=m:pt=pt.next=m,pt}function ht(){if(et===null){var m=qe.alternate;m=m!==null?m.memoizedState:null}else m=et.next;var _=pt===null?qe.memoizedState:pt.next;if(_!==null)pt=_,et=m;else{if(m===null)throw qe.alternate===null?Error(y(467)):Error(y(310));et=m,m={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},pt===null?qe.memoizedState=pt=m:pt=pt.next=m}return pt}function fl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oi(m){var _=_i;return _i+=1,Mr===null&&(Mr=[]),m=Pu(Mr,m,_),_=qe,(pt===null?_.memoizedState:pt.next)===null&&(_=_.alternate,J.H=_===null||_.memoizedState===null?mc:Sc),m}function wo(m){if(m!==null&&typeof m=="object"){if(typeof m.then=="function")return Oi(m);if(m.$$typeof===j)return kt(m)}throw Error(y(438,String(m)))}function dl(m){var _=null,$=qe.updateQueue;if($!==null&&(_=$.memoCache),_==null){var x=qe.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(_={data:x.data.map(function(R){return R.slice()}),index:0})))}if(_==null&&(_={data:[],index:0}),$===null&&($=fl(),qe.updateQueue=$),$.memoCache=_,$=_.data[_.index],$===void 0)for($=_.data[_.index]=Array(m),x=0;x<m;x++)$[x]=Y;return _.index++,$}function gn(m,_){return typeof _=="function"?_(m):_}function xo(m){var _=ht();return pl(_,et,m)}function pl(m,_,$){var x=m.queue;if(x===null)throw Error(y(311));x.lastRenderedReducer=$;var R=m.baseQueue,I=x.pending;if(I!==null){if(R!==null){var B=R.next;R.next=I.next,I.next=B}_.baseQueue=R=I,x.pending=null}if(I=m.baseState,R===null)m.memoizedState=I;else{_=R.next;var G=B=null,ee=null,ye=_,_e=!1;do{var Ee=ye.lane&-536870913;if(Ee!==ye.lane?(Ve&Ee)===Ee:(Cn&Ee)===Ee){var be=ye.revertLane;if(be===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),Ee===Cr&&(_e=!0);else if((Cn&be)===be){ye=ye.next,be===Cr&&(_e=!0);continue}else Ee={lane:0,revertLane:ye.revertLane,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},ee===null?(G=ee=Ee,B=I):ee=ee.next=Ee,qe.lanes|=be,jn|=be;Ee=ye.action,ar&&$(I,Ee),I=ye.hasEagerState?ye.eagerState:$(I,Ee)}else be={lane:Ee,revertLane:ye.revertLane,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},ee===null?(G=ee=be,B=I):ee=ee.next=be,qe.lanes|=Ee,jn|=Ee;ye=ye.next}while(ye!==null&&ye!==_);if(ee===null?B=I:ee.next=G,!Dt(I,m.memoizedState)&&(St=!0,_e&&($=Pr,$!==null)))throw $;m.memoizedState=I,m.baseState=B,m.baseQueue=ee,x.lastRenderedState=I}return R===null&&(x.lanes=0),[m.memoizedState,x.dispatch]}function hl(m){var _=ht(),$=_.queue;if($===null)throw Error(y(311));$.lastRenderedReducer=m;var x=$.dispatch,R=$.pending,I=_.memoizedState;if(R!==null){$.pending=null;var B=R=R.next;do I=m(I,B.action),B=B.next;while(B!==R);Dt(I,_.memoizedState)||(St=!0),_.memoizedState=I,_.baseQueue===null&&(_.baseState=I),$.lastRenderedState=I}return[I,x]}function Lu(m,_,$){var x=qe,R=ht(),I=Xe;if(I){if($===void 0)throw Error(y(407));$=$()}else $=_();var B=!Dt((et||R).memoizedState,$);B&&(R.memoizedState=$,St=!0),R=R.queue;var G=qu.bind(null,x,R,m);if($i(2048,8,G,[m]),R.getSnapshot!==_||B||pt!==null&&pt.memoizedState.tag&1){if(x.flags|=2048,Nr(9,To(),Uu.bind(null,x,R,$,_),null),it===null)throw Error(y(349));I||(Cn&124)!==0||Bu(x,_,$)}return $}function Bu(m,_,$){m.flags|=16384,m={getSnapshot:_,value:$},_=qe.updateQueue,_===null?(_=fl(),qe.updateQueue=_,_.stores=[m]):($=_.stores,$===null?_.stores=[m]:$.push(m))}function Uu(m,_,$,x){_.value=$,_.getSnapshot=x,Gu(_)&&Hu(m)}function qu(m,_,$){return $(function(){Gu(_)&&Hu(m)})}function Gu(m){var _=m.getSnapshot;m=m.value;try{var $=_();return!Dt(m,$)}catch(x){return!0}}function Hu(m){var _=Tr(m,2);_!==null&&qt(_,m,2)}function yl(m){var _=It();if(typeof m=="function"){var $=m;if(m=$(),ar){vt(!0);try{$()}finally{vt(!1)}}}return _.memoizedState=_.baseState=m,_.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:m},_}function zu(m,_,$,x){return m.baseState=$,pl(m,et,typeof x=="function"?x:gn)}function $p(m,_,$,x,R){if(ko(m))throw Error(y(485));if(m=_.action,m!==null){var I={payload:R,action:m,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){I.listeners.push(B)}};J.T!==null?$(!0):I.isTransition=!1,x(I),$=_.pending,$===null?(I.next=_.pending=I,Wu(_,I)):(I.next=$.next,_.pending=$.next=I)}}function Wu(m,_){var $=_.action,x=_.payload,R=m.state;if(_.isTransition){var I=J.T,B={};J.T=B;try{var G=$(R,x),ee=J.S;ee!==null&&ee(B,G),Vu(m,_,G)}catch(ye){gl(m,_,ye)}finally{J.T=I}}else try{I=$(R,x),Vu(m,_,I)}catch(ye){gl(m,_,ye)}}function Vu(m,_,$){$!==null&&typeof $=="object"&&typeof $.then=="function"?$.then(function(x){Ju(m,_,x)},function(x){return gl(m,_,x)}):Ju(m,_,$)}function Ju(m,_,$){_.status="fulfilled",_.value=$,Yu(_),m.state=$,_=m.pending,_!==null&&($=_.next,$===_?m.pending=null:($=$.next,_.next=$,Wu(m,$)))}function gl(m,_,$){var x=m.pending;if(m.pending=null,x!==null){x=x.next;do _.status="rejected",_.reason=$,Yu(_),_=_.next;while(_!==x)}m.action=null}function Yu(m){m=m.listeners;for(var _=0;_<m.length;_++)(0,m[_])()}function Xu(m,_){return _}function Ku(m,_){if(Xe){var $=it.formState;if($!==null){e:{var x=qe;if(Xe){if(lt){t:{for(var R=lt,I=nn;R.nodeType!==8;){if(!I){R=null;break t}if(R=tn(R.nextSibling),R===null){R=null;break t}}I=R.data,R=I==="F!"||I==="F"?R:null}if(R){lt=tn(R.nextSibling),x=R.data==="F!";break e}}nr(x)}x=!1}x&&(_=$[0])}}return $=It(),$.memoizedState=$.baseState=_,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xu,lastRenderedState:_},$.queue=x,$=gc.bind(null,qe,x),x.dispatch=$,x=yl(!1),I=_l.bind(null,qe,!1,x.queue),x=It(),R={state:_,dispatch:null,action:m,pending:null},x.queue=R,$=$p.bind(null,qe,R,I,$),R.dispatch=$,x.memoizedState=m,[_,$,!1]}function Zu(m){var _=ht();return Qu(_,et,m)}function Qu(m,_,$){if(_=pl(m,_,Xu)[0],m=xo(gn)[0],typeof _=="object"&&_!==null&&typeof _.then=="function")try{var x=Oi(_)}catch(B){throw B===gi?mo:B}else x=_;_=ht();var R=_.queue,I=R.dispatch;return $!==_.memoizedState&&(qe.flags|=2048,Nr(9,To(),wp.bind(null,R,$),null)),[x,I,m]}function wp(m,_){m.action=_}function ec(m){var _=ht(),$=et;if($!==null)return Qu(_,$,m);ht(),_=_.memoizedState,$=ht();var x=$.queue.dispatch;return $.memoizedState=m,[_,x,!1]}function Nr(m,_,$,x){return m={tag:m,create:$,deps:x,inst:_,next:null},_=qe.updateQueue,_===null&&(_=fl(),qe.updateQueue=_),$=_.lastEffect,$===null?_.lastEffect=m.next=m:(x=$.next,$.next=m,m.next=x,_.lastEffect=m),m}function To(){return{destroy:void 0,resource:void 0}}function tc(){return ht().memoizedState}function Eo(m,_,$,x){var R=It();x=x===void 0?null:x,qe.flags|=m,R.memoizedState=Nr(1|_,To(),$,x)}function $i(m,_,$,x){var R=ht();x=x===void 0?null:x;var I=R.memoizedState.inst;et!==null&&x!==null&&al(x,et.memoizedState.deps)?R.memoizedState=Nr(_,I,$,x):(qe.flags|=m,R.memoizedState=Nr(1|_,I,$,x))}function nc(m,_){Eo(8390656,8,m,_)}function rc(m,_){$i(2048,8,m,_)}function ic(m,_){return $i(4,2,m,_)}function oc(m,_){return $i(4,4,m,_)}function ac(m,_){if(typeof _=="function"){m=m();var $=_(m);return function(){typeof $=="function"?$():_(null)}}if(_!=null)return m=m(),_.current=m,function(){_.current=null}}function lc(m,_,$){$=$!=null?$.concat([m]):null,$i(4,4,ac.bind(null,_,m),$)}function bl(){}function sc(m,_){var $=ht();_=_===void 0?null:_;var x=$.memoizedState;return _!==null&&al(_,x[1])?x[0]:($.memoizedState=[m,_],m)}function uc(m,_){var $=ht();_=_===void 0?null:_;var x=$.memoizedState;if(_!==null&&al(_,x[1]))return x[0];if(x=m(),ar){vt(!0);try{m()}finally{vt(!1)}}return $.memoizedState=[x,_],x}function vl(m,_,$){return $===void 0||(Cn&1073741824)!==0?m.memoizedState=_:(m.memoizedState=$,m=pf(),qe.lanes|=m,jn|=m,$)}function cc(m,_,$,x){return Dt($,_)?$:Ir.current!==null?(m=vl(m,$,x),Dt(m,_)||(St=!0),m):(Cn&42)===0?(St=!0,m.memoizedState=$):(m=pf(),qe.lanes|=m,jn|=m,_)}function fc(m,_,$,x,R){var I=ie.p;ie.p=I!==0&&8>I?I:8;var B=J.T,G={};J.T=G,_l(m,!1,_,$);try{var ee=R(),ye=J.S;if(ye!==null&&ye(G,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var _e=Sp(ee,x);wi(m,_,_e,Ut(m))}else wi(m,_,x,Ut(m))}catch(Ee){wi(m,_,{then:function(){},status:"rejected",reason:Ee},Ut())}finally{ie.p=I,J.T=B}}function xp(){}function ml(m,_,$,x){if(m.tag!==5)throw Error(y(476));var R=dc(m).queue;fc(m,R,_,ue,$===null?xp:function(){return pc(m),$(x)})}function dc(m){var _=m.memoizedState;if(_!==null)return _;_={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:ue},next:null};var $={};return _.next={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:$},next:null},m.memoizedState=_,m=m.alternate,m!==null&&(m.memoizedState=_),_}function pc(m){var _=dc(m).next.queue;wi(m,_,{},Ut())}function Sl(){return kt(Gi)}function hc(){return ht().memoizedState}function yc(){return ht().memoizedState}function Tp(m){for(var _=m.return;_!==null;){switch(_.tag){case 24:case 3:var $=Ut();m=kn($);var x=Rn(_,m,$);x!==null&&(qt(x,_,$),vi(x,_,$)),_={cache:Xa()},m.payload=_;return}_=_.return}}function Ep(m,_,$){var x=Ut();$={lane:x,revertLane:0,action:$,hasEagerState:!1,eagerState:null,next:null},ko(m)?bc(_,$):($=Ba(m,_,$,x),$!==null&&(qt($,m,x),vc($,_,x)))}function gc(m,_,$){var x=Ut();wi(m,_,$,x)}function wi(m,_,$,x){var R={lane:x,revertLane:0,action:$,hasEagerState:!1,eagerState:null,next:null};if(ko(m))bc(_,R);else{var I=m.alternate;if(m.lanes===0&&(I===null||I.lanes===0)&&(I=_.lastRenderedReducer,I!==null))try{var B=_.lastRenderedState,G=I(B,$);if(R.hasEagerState=!0,R.eagerState=G,Dt(G,B))return uo(m,_,R,0),it===null&&so(),!1}catch(ee){}finally{}if($=Ba(m,_,R,x),$!==null)return qt($,m,x),vc($,_,x),!0}return!1}function _l(m,_,$,x){if(x={lane:2,revertLane:Ql(),action:x,hasEagerState:!1,eagerState:null,next:null},ko(m)){if(_)throw Error(y(479))}else _=Ba(m,$,x,2),_!==null&&qt(_,m,2)}function ko(m){var _=m.alternate;return m===qe||_!==null&&_===qe}function bc(m,_){Ar=Oo=!0;var $=m.pending;$===null?_.next=_:(_.next=$.next,$.next=_),m.pending=_}function vc(m,_,$){if(($&4194048)!==0){var x=_.lanes;x&=m.pendingLanes,$|=x,_.lanes=$,Ts(m,$)}}var Ro={readContext:kt,use:wo,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct},mc={readContext:kt,use:wo,useCallback:function(m,_){return It().memoizedState=[m,_===void 0?null:_],m},useContext:kt,useEffect:nc,useImperativeHandle:function(m,_,$){$=$!=null?$.concat([m]):null,Eo(4194308,4,ac.bind(null,_,m),$)},useLayoutEffect:function(m,_){return Eo(4194308,4,m,_)},useInsertionEffect:function(m,_){Eo(4,2,m,_)},useMemo:function(m,_){var $=It();_=_===void 0?null:_;var x=m();if(ar){vt(!0);try{m()}finally{vt(!1)}}return $.memoizedState=[x,_],x},useReducer:function(m,_,$){var x=It();if($!==void 0){var R=$(_);if(ar){vt(!0);try{$(_)}finally{vt(!1)}}}else R=_;return x.memoizedState=x.baseState=R,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:R},x.queue=m,m=m.dispatch=Ep.bind(null,qe,m),[x.memoizedState,m]},useRef:function(m){var _=It();return m={current:m},_.memoizedState=m},useState:function(m){m=yl(m);var _=m.queue,$=gc.bind(null,qe,_);return _.dispatch=$,[m.memoizedState,$]},useDebugValue:bl,useDeferredValue:function(m,_){var $=It();return vl($,m,_)},useTransition:function(){var m=yl(!1);return m=fc.bind(null,qe,m.queue,!0,!1),It().memoizedState=m,[!1,m]},useSyncExternalStore:function(m,_,$){var x=qe,R=It();if(Xe){if($===void 0)throw Error(y(407));$=$()}else{if($=_(),it===null)throw Error(y(349));(Ve&124)!==0||Bu(x,_,$)}R.memoizedState=$;var I={value:$,getSnapshot:_};return R.queue=I,nc(qu.bind(null,x,I,m),[m]),x.flags|=2048,Nr(9,To(),Uu.bind(null,x,I,$,_),null),$},useId:function(){var m=It(),_=it.identifierPrefix;if(Xe){var $=pn,x=dn;$=(x&~(1<<32-yt(x)-1)).toString(32)+$,_=""+_+"R"+$,$=$o++,0<$&&(_+="H"+$.toString(32)),_+=""}else $=_p++,_=""+_+"r"+$.toString(32)+"";return m.memoizedState=_},useHostTransitionStatus:Sl,useFormState:Ku,useActionState:Ku,useOptimistic:function(m){var _=It();_.memoizedState=_.baseState=m;var $={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return _.queue=$,_=_l.bind(null,qe,!0,$),$.dispatch=_,[m,_]},useMemoCache:dl,useCacheRefresh:function(){return It().memoizedState=Tp.bind(null,qe)}},Sc={readContext:kt,use:wo,useCallback:sc,useContext:kt,useEffect:rc,useImperativeHandle:lc,useInsertionEffect:ic,useLayoutEffect:oc,useMemo:uc,useReducer:xo,useRef:tc,useState:function(){return xo(gn)},useDebugValue:bl,useDeferredValue:function(m,_){var $=ht();return cc($,et.memoizedState,m,_)},useTransition:function(){var m=xo(gn)[0],_=ht().memoizedState;return[typeof m=="boolean"?m:Oi(m),_]},useSyncExternalStore:Lu,useId:hc,useHostTransitionStatus:Sl,useFormState:Zu,useActionState:Zu,useOptimistic:function(m,_){var $=ht();return zu($,et,m,_)},useMemoCache:dl,useCacheRefresh:yc},kp={readContext:kt,use:wo,useCallback:sc,useContext:kt,useEffect:rc,useImperativeHandle:lc,useInsertionEffect:ic,useLayoutEffect:oc,useMemo:uc,useReducer:hl,useRef:tc,useState:function(){return hl(gn)},useDebugValue:bl,useDeferredValue:function(m,_){var $=ht();return et===null?vl($,m,_):cc($,et.memoizedState,m,_)},useTransition:function(){var m=hl(gn)[0],_=ht().memoizedState;return[typeof m=="boolean"?m:Oi(m),_]},useSyncExternalStore:Lu,useId:hc,useHostTransitionStatus:Sl,useFormState:ec,useActionState:ec,useOptimistic:function(m,_){var $=ht();return et!==null?zu($,et,m,_):($.baseState=m,[m,$.queue.dispatch])},useMemoCache:dl,useCacheRefresh:yc},Dr=null,xi=0;function Co(m){var _=xi;return xi+=1,Dr===null&&(Dr=[]),Pu(Dr,m,_)}function Ti(m,_){_=_.props.ref,m.ref=_!==void 0?_:null}function Po(m,_){throw _.$$typeof===E?Error(y(525)):(m=Object.prototype.toString.call(_),Error(y(31,m==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":m)))}function _c(m){var _=m._init;return _(m._payload)}function Oc(m){function _(ce,oe){if(m){var he=ce.deletions;he===null?(ce.deletions=[oe],ce.flags|=16):he.push(oe)}}function $(ce,oe){if(!m)return null;for(;oe!==null;)_(ce,oe),oe=oe.sibling;return null}function x(ce){for(var oe=new Map;ce!==null;)ce.key!==null?oe.set(ce.key,ce):oe.set(ce.index,ce),ce=ce.sibling;return oe}function R(ce,oe){return ce=fn(ce,oe),ce.index=0,ce.sibling=null,ce}function I(ce,oe,he){return ce.index=he,m?(he=ce.alternate,he!==null?(he=he.index,he<oe?(ce.flags|=67108866,oe):he):(ce.flags|=67108866,oe)):(ce.flags|=1048576,oe)}function B(ce){return m&&ce.alternate===null&&(ce.flags|=67108866),ce}function G(ce,oe,he,we){return oe===null||oe.tag!==6?(oe=qa(he,ce.mode,we),oe.return=ce,oe):(oe=R(oe,he),oe.return=ce,oe)}function ee(ce,oe,he,we){var Ie=he.type;return Ie===P?_e(ce,oe,he.props.children,we,he.key):oe!==null&&(oe.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===z&&_c(Ie)===oe.type)?(oe=R(oe,he.props),Ti(oe,he),oe.return=ce,oe):(oe=fo(he.type,he.key,he.props,null,ce.mode,we),Ti(oe,he),oe.return=ce,oe)}function ye(ce,oe,he,we){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==he.containerInfo||oe.stateNode.implementation!==he.implementation?(oe=Ga(he,ce.mode,we),oe.return=ce,oe):(oe=R(oe,he.children||[]),oe.return=ce,oe)}function _e(ce,oe,he,we,Ie){return oe===null||oe.tag!==7?(oe=Zn(he,ce.mode,we,Ie),oe.return=ce,oe):(oe=R(oe,he),oe.return=ce,oe)}function Ee(ce,oe,he){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=qa(""+oe,ce.mode,he),oe.return=ce,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case k:return he=fo(oe.type,oe.key,oe.props,null,ce.mode,he),Ti(he,oe),he.return=ce,he;case C:return oe=Ga(oe,ce.mode,he),oe.return=ce,oe;case z:var we=oe._init;return oe=we(oe._payload),Ee(ce,oe,he)}if(se(oe)||K(oe))return oe=Zn(oe,ce.mode,he,null),oe.return=ce,oe;if(typeof oe.then=="function")return Ee(ce,Co(oe),he);if(oe.$$typeof===j)return Ee(ce,bo(ce,oe),he);Po(ce,oe)}return null}function be(ce,oe,he,we){var Ie=oe!==null?oe.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Ie!==null?null:G(ce,oe,""+he,we);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case k:return he.key===Ie?ee(ce,oe,he,we):null;case C:return he.key===Ie?ye(ce,oe,he,we):null;case z:return Ie=he._init,he=Ie(he._payload),be(ce,oe,he,we)}if(se(he)||K(he))return Ie!==null?null:_e(ce,oe,he,we,null);if(typeof he.then=="function")return be(ce,oe,Co(he),we);if(he.$$typeof===j)return be(ce,oe,bo(ce,he),we);Po(ce,he)}return null}function me(ce,oe,he,we,Ie){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ce=ce.get(he)||null,G(oe,ce,""+we,Ie);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case k:return ce=ce.get(we.key===null?he:we.key)||null,ee(oe,ce,we,Ie);case C:return ce=ce.get(we.key===null?he:we.key)||null,ye(oe,ce,we,Ie);case z:var He=we._init;return we=He(we._payload),me(ce,oe,he,we,Ie)}if(se(we)||K(we))return ce=ce.get(he)||null,_e(oe,ce,we,Ie,null);if(typeof we.then=="function")return me(ce,oe,he,Co(we),Ie);if(we.$$typeof===j)return me(ce,oe,he,bo(oe,we),Ie);Po(oe,we)}return null}function Le(ce,oe,he,we){for(var Ie=null,He=null,Ae=oe,Fe=oe=0,Ot=null;Ae!==null&&Fe<he.length;Fe++){Ae.index>Fe?(Ot=Ae,Ae=null):Ot=Ae.sibling;var Je=be(ce,Ae,he[Fe],we);if(Je===null){Ae===null&&(Ae=Ot);break}m&&Ae&&Je.alternate===null&&_(ce,Ae),oe=I(Je,oe,Fe),He===null?Ie=Je:He.sibling=Je,He=Je,Ae=Ot}if(Fe===he.length)return $(ce,Ae),Xe&&er(ce,Fe),Ie;if(Ae===null){for(;Fe<he.length;Fe++)Ae=Ee(ce,he[Fe],we),Ae!==null&&(oe=I(Ae,oe,Fe),He===null?Ie=Ae:He.sibling=Ae,He=Ae);return Xe&&er(ce,Fe),Ie}for(Ae=x(Ae);Fe<he.length;Fe++)Ot=me(Ae,ce,Fe,he[Fe],we),Ot!==null&&(m&&Ot.alternate!==null&&Ae.delete(Ot.key===null?Fe:Ot.key),oe=I(Ot,oe,Fe),He===null?Ie=Ot:He.sibling=Ot,He=Ot);return m&&Ae.forEach(function(Wn){return _(ce,Wn)}),Xe&&er(ce,Fe),Ie}function je(ce,oe,he,we){if(he==null)throw Error(y(151));for(var Ie=null,He=null,Ae=oe,Fe=oe=0,Ot=null,Je=he.next();Ae!==null&&!Je.done;Fe++,Je=he.next()){Ae.index>Fe?(Ot=Ae,Ae=null):Ot=Ae.sibling;var Wn=be(ce,Ae,Je.value,we);if(Wn===null){Ae===null&&(Ae=Ot);break}m&&Ae&&Wn.alternate===null&&_(ce,Ae),oe=I(Wn,oe,Fe),He===null?Ie=Wn:He.sibling=Wn,He=Wn,Ae=Ot}if(Je.done)return $(ce,Ae),Xe&&er(ce,Fe),Ie;if(Ae===null){for(;!Je.done;Fe++,Je=he.next())Je=Ee(ce,Je.value,we),Je!==null&&(oe=I(Je,oe,Fe),He===null?Ie=Je:He.sibling=Je,He=Je);return Xe&&er(ce,Fe),Ie}for(Ae=x(Ae);!Je.done;Fe++,Je=he.next())Je=me(Ae,ce,Fe,Je.value,we),Je!==null&&(m&&Je.alternate!==null&&Ae.delete(Je.key===null?Fe:Je.key),oe=I(Je,oe,Fe),He===null?Ie=Je:He.sibling=Je,He=Je);return m&&Ae.forEach(function(Rh){return _(ce,Rh)}),Xe&&er(ce,Fe),Ie}function nt(ce,oe,he,we){if(typeof he=="object"&&he!==null&&he.type===P&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case k:e:{for(var Ie=he.key;oe!==null;){if(oe.key===Ie){if(Ie=he.type,Ie===P){if(oe.tag===7){$(ce,oe.sibling),we=R(oe,he.props.children),we.return=ce,ce=we;break e}}else if(oe.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===z&&_c(Ie)===oe.type){$(ce,oe.sibling),we=R(oe,he.props),Ti(we,he),we.return=ce,ce=we;break e}$(ce,oe);break}else _(ce,oe);oe=oe.sibling}he.type===P?(we=Zn(he.props.children,ce.mode,we,he.key),we.return=ce,ce=we):(we=fo(he.type,he.key,he.props,null,ce.mode,we),Ti(we,he),we.return=ce,ce=we)}return B(ce);case C:e:{for(Ie=he.key;oe!==null;){if(oe.key===Ie)if(oe.tag===4&&oe.stateNode.containerInfo===he.containerInfo&&oe.stateNode.implementation===he.implementation){$(ce,oe.sibling),we=R(oe,he.children||[]),we.return=ce,ce=we;break e}else{$(ce,oe);break}else _(ce,oe);oe=oe.sibling}we=Ga(he,ce.mode,we),we.return=ce,ce=we}return B(ce);case z:return Ie=he._init,he=Ie(he._payload),nt(ce,oe,he,we)}if(se(he))return Le(ce,oe,he,we);if(K(he)){if(Ie=K(he),typeof Ie!="function")throw Error(y(150));return he=Ie.call(he),je(ce,oe,he,we)}if(typeof he.then=="function")return nt(ce,oe,Co(he),we);if(he.$$typeof===j)return nt(ce,oe,bo(ce,he),we);Po(ce,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,oe!==null&&oe.tag===6?($(ce,oe.sibling),we=R(oe,he),we.return=ce,ce=we):($(ce,oe),we=qa(he,ce.mode,we),we.return=ce,ce=we),B(ce)):$(ce,oe)}return function(ce,oe,he,we){try{xi=0;var Ie=nt(ce,oe,he,we);return Dr=null,Ie}catch(Ae){if(Ae===gi||Ae===mo)throw Ae;var He=jt(29,Ae,null,ce.mode);return He.lanes=we,He.return=ce,He}finally{}}}var jr=Oc(!0),$c=Oc(!1),Xt=ne(null),rn=null;function Pn(m){var _=m.alternate;ae(bt,bt.current&1),ae(Xt,m),rn===null&&(_===null||Ir.current!==null||_.memoizedState!==null)&&(rn=m)}function wc(m){if(m.tag===22){if(ae(bt,bt.current),ae(Xt,m),rn===null){var _=m.alternate;_!==null&&_.memoizedState!==null&&(rn=m)}}else In()}function In(){ae(bt,bt.current),ae(Xt,Xt.current)}function bn(m){de(Xt),rn===m&&(rn=null),de(bt)}var bt=ne(0);function Io(m){for(var _=m;_!==null;){if(_.tag===13){var $=_.memoizedState;if($!==null&&($=$.dehydrated,$===null||$.data==="$?"||ds($)))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if((_.flags&128)!==0)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===m)break;for(;_.sibling===null;){if(_.return===null||_.return===m)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}function Ol(m,_,$,x){_=m.memoizedState,$=$(x,_),$=$==null?_:T({},_,$),m.memoizedState=$,m.lanes===0&&(m.updateQueue.baseState=$)}var $l={enqueueSetState:function(m,_,$){m=m._reactInternals;var x=Ut(),R=kn(x);R.payload=_,$!=null&&(R.callback=$),_=Rn(m,R,x),_!==null&&(qt(_,m,x),vi(_,m,x))},enqueueReplaceState:function(m,_,$){m=m._reactInternals;var x=Ut(),R=kn(x);R.tag=1,R.payload=_,$!=null&&(R.callback=$),_=Rn(m,R,x),_!==null&&(qt(_,m,x),vi(_,m,x))},enqueueForceUpdate:function(m,_){m=m._reactInternals;var $=Ut(),x=kn($);x.tag=2,_!=null&&(x.callback=_),_=Rn(m,x,$),_!==null&&(qt(_,m,$),vi(_,m,$))}};function xc(m,_,$,x,R,I,B){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(x,I,B):_.prototype&&_.prototype.isPureReactComponent?!si($,x)||!si(R,I):!0}function Tc(m,_,$,x){m=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps($,x),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps($,x),_.state!==m&&$l.enqueueReplaceState(_,_.state,null)}function lr(m,_){var $=_;if("ref"in _){$={};for(var x in _)x!=="ref"&&($[x]=_[x])}if(m=m.defaultProps){$===_&&($=T({},$));for(var R in m)$[R]===void 0&&($[R]=m[R])}return $}var Ao=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(_))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)};function Ec(m){Ao(m)}function kc(m){console.error(m)}function Rc(m){Ao(m)}function Mo(m,_){try{var $=m.onUncaughtError;$(_.value,{componentStack:_.stack})}catch(x){setTimeout(function(){throw x})}}function Cc(m,_,$){try{var x=m.onCaughtError;x($.value,{componentStack:$.stack,errorBoundary:_.tag===1?_.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function wl(m,_,$){return $=kn($),$.tag=3,$.payload={element:null},$.callback=function(){Mo(m,_)},$}function Pc(m){return m=kn(m),m.tag=3,m}function Ic(m,_,$,x){var R=$.type.getDerivedStateFromError;if(typeof R=="function"){var I=x.value;m.payload=function(){return R(I)},m.callback=function(){Cc(_,$,x)}}var B=$.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(m.callback=function(){Cc(_,$,x),typeof R!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var G=x.stack;this.componentDidCatch(x.value,{componentStack:G!==null?G:""})})}function Rp(m,_,$,x,R){if($.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(_=$.alternate,_!==null&&pi(_,$,R,!0),$=Xt.current,$!==null){switch($.tag){case 13:return rn===null?Jl():$.alternate===null&&st===0&&(st=3),$.flags&=-257,$.flags|=65536,$.lanes=R,x===Qa?$.flags|=16384:(_=$.updateQueue,_===null?$.updateQueue=new Set([x]):_.add(x),Xl(m,x,R)),!1;case 22:return $.flags|=65536,x===Qa?$.flags|=16384:(_=$.updateQueue,_===null?(_={transitions:null,markerInstances:null,retryQueue:new Set([x])},$.updateQueue=_):($=_.retryQueue,$===null?_.retryQueue=new Set([x]):$.add(x)),Xl(m,x,R)),!1}throw Error(y(435,$.tag))}return Xl(m,x,R),Jl(),!1}if(Xe)return _=Xt.current,_!==null?((_.flags&65536)===0&&(_.flags|=256),_.flags|=65536,_.lanes=R,x!==Wa&&(m=Error(y(422),{cause:x}),di(Wt(m,$)))):(x!==Wa&&(_=Error(y(423),{cause:x}),di(Wt(_,$))),m=m.current.alternate,m.flags|=65536,R&=-R,m.lanes|=R,x=Wt(x,$),R=wl(m.stateNode,x,R),nl(m,R),st!==4&&(st=2)),!1;var I=Error(y(520),{cause:x});if(I=Wt(I,$),Ai===null?Ai=[I]:Ai.push(I),st!==4&&(st=2),_===null)return!0;x=Wt(x,$),$=_;do{switch($.tag){case 3:return $.flags|=65536,m=R&-R,$.lanes|=m,m=wl($.stateNode,x,m),nl($,m),!1;case 1:if(_=$.type,I=$.stateNode,($.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Fn===null||!Fn.has(I))))return $.flags|=65536,R&=-R,$.lanes|=R,R=Pc(R),Ic(R,m,$,x),nl($,R),!1}$=$.return}while($!==null);return!1}var Ac=Error(y(461)),St=!1;function wt(m,_,$,x){_.child=m===null?$c(_,null,$,x):jr(_,m.child,$,x)}function Mc(m,_,$,x,R){$=$.render;var I=_.ref;if("ref"in x){var B={};for(var G in x)G!=="ref"&&(B[G]=x[G])}else B=x;return ir(_),x=ll(m,_,$,B,I,R),G=sl(),m!==null&&!St?(ul(m,_,R),vn(m,_,R)):(Xe&&G&&Ha(_),_.flags|=1,wt(m,_,x,R),_.child)}function Nc(m,_,$,x,R){if(m===null){var I=$.type;return typeof I=="function"&&!Ua(I)&&I.defaultProps===void 0&&$.compare===null?(_.tag=15,_.type=I,Dc(m,_,I,x,R)):(m=fo($.type,null,x,_,_.mode,R),m.ref=_.ref,m.return=_,_.child=m)}if(I=m.child,!Il(m,R)){var B=I.memoizedProps;if($=$.compare,$=$!==null?$:si,$(B,x)&&m.ref===_.ref)return vn(m,_,R)}return _.flags|=1,m=fn(I,x),m.ref=_.ref,m.return=_,_.child=m}function Dc(m,_,$,x,R){if(m!==null){var I=m.memoizedProps;if(si(I,x)&&m.ref===_.ref)if(St=!1,_.pendingProps=x=I,Il(m,R))(m.flags&131072)!==0&&(St=!0);else return _.lanes=m.lanes,vn(m,_,R)}return xl(m,_,$,x,R)}function jc(m,_,$){var x=_.pendingProps,R=x.children,I=m!==null?m.memoizedState:null;if(x.mode==="hidden"){if((_.flags&128)!==0){if(x=I!==null?I.baseLanes|$:$,m!==null){for(R=_.child=m.child,I=0;R!==null;)I=I|R.lanes|R.childLanes,R=R.sibling;_.childLanes=I&~x}else _.childLanes=0,_.child=null;return Fc(m,_,x,$)}if(($&536870912)!==0)_.memoizedState={baseLanes:0,cachePool:null},m!==null&&vo(_,I!==null?I.cachePool:null),I!==null?Du(_,I):il(),wc(_);else return _.lanes=_.childLanes=536870912,Fc(m,_,I!==null?I.baseLanes|$:$,$)}else I!==null?(vo(_,I.cachePool),Du(_,I),In(),_.memoizedState=null):(m!==null&&vo(_,null),il(),In());return wt(m,_,R,$),_.child}function Fc(m,_,$,x){var R=Za();return R=R===null?null:{parent:gt._currentValue,pool:R},_.memoizedState={baseLanes:$,cachePool:R},m!==null&&vo(_,null),il(),wc(_),m!==null&&pi(m,_,x,!0),null}function No(m,_){var $=_.ref;if($===null)m!==null&&m.ref!==null&&(_.flags|=4194816);else{if(typeof $!="function"&&typeof $!="object")throw Error(y(284));(m===null||m.ref!==$)&&(_.flags|=4194816)}}function xl(m,_,$,x,R){return ir(_),$=ll(m,_,$,x,void 0,R),x=sl(),m!==null&&!St?(ul(m,_,R),vn(m,_,R)):(Xe&&x&&Ha(_),_.flags|=1,wt(m,_,$,R),_.child)}function Lc(m,_,$,x,R,I){return ir(_),_.updateQueue=null,$=Fu(_,x,$,R),ju(m),x=sl(),m!==null&&!St?(ul(m,_,I),vn(m,_,I)):(Xe&&x&&Ha(_),_.flags|=1,wt(m,_,$,I),_.child)}function Bc(m,_,$,x,R){if(ir(_),_.stateNode===null){var I=Er,B=$.contextType;typeof B=="object"&&B!==null&&(I=kt(B)),I=new $(x,I),_.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=$l,_.stateNode=I,I._reactInternals=_,I=_.stateNode,I.props=x,I.state=_.memoizedState,I.refs={},el(_),B=$.contextType,I.context=typeof B=="object"&&B!==null?kt(B):Er,I.state=_.memoizedState,B=$.getDerivedStateFromProps,typeof B=="function"&&(Ol(_,$,B,x),I.state=_.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(B=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),B!==I.state&&$l.enqueueReplaceState(I,I.state,null),Si(_,x,I,R),mi(),I.state=_.memoizedState),typeof I.componentDidMount=="function"&&(_.flags|=4194308),x=!0}else if(m===null){I=_.stateNode;var G=_.memoizedProps,ee=lr($,G);I.props=ee;var ye=I.context,_e=$.contextType;B=Er,typeof _e=="object"&&_e!==null&&(B=kt(_e));var Ee=$.getDerivedStateFromProps;_e=typeof Ee=="function"||typeof I.getSnapshotBeforeUpdate=="function",G=_.pendingProps!==G,_e||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(G||ye!==B)&&Tc(_,I,x,B),En=!1;var be=_.memoizedState;I.state=be,Si(_,x,I,R),mi(),ye=_.memoizedState,G||be!==ye||En?(typeof Ee=="function"&&(Ol(_,$,Ee,x),ye=_.memoizedState),(ee=En||xc(_,$,ee,x,be,ye,B))?(_e||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(_.flags|=4194308)):(typeof I.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=x,_.memoizedState=ye),I.props=x,I.state=ye,I.context=B,x=ee):(typeof I.componentDidMount=="function"&&(_.flags|=4194308),x=!1)}else{I=_.stateNode,tl(m,_),B=_.memoizedProps,_e=lr($,B),I.props=_e,Ee=_.pendingProps,be=I.context,ye=$.contextType,ee=Er,typeof ye=="object"&&ye!==null&&(ee=kt(ye)),G=$.getDerivedStateFromProps,(ye=typeof G=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(B!==Ee||be!==ee)&&Tc(_,I,x,ee),En=!1,be=_.memoizedState,I.state=be,Si(_,x,I,R),mi();var me=_.memoizedState;B!==Ee||be!==me||En||m!==null&&m.dependencies!==null&&go(m.dependencies)?(typeof G=="function"&&(Ol(_,$,G,x),me=_.memoizedState),(_e=En||xc(_,$,_e,x,be,me,ee)||m!==null&&m.dependencies!==null&&go(m.dependencies))?(ye||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(x,me,ee),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(x,me,ee)),typeof I.componentDidUpdate=="function"&&(_.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof I.componentDidUpdate!="function"||B===m.memoizedProps&&be===m.memoizedState||(_.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||B===m.memoizedProps&&be===m.memoizedState||(_.flags|=1024),_.memoizedProps=x,_.memoizedState=me),I.props=x,I.state=me,I.context=ee,x=_e):(typeof I.componentDidUpdate!="function"||B===m.memoizedProps&&be===m.memoizedState||(_.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||B===m.memoizedProps&&be===m.memoizedState||(_.flags|=1024),x=!1)}return I=x,No(m,_),x=(_.flags&128)!==0,I||x?(I=_.stateNode,$=x&&typeof $.getDerivedStateFromError!="function"?null:I.render(),_.flags|=1,m!==null&&x?(_.child=jr(_,m.child,null,R),_.child=jr(_,null,$,R)):wt(m,_,$,R),_.memoizedState=I.state,m=_.child):m=vn(m,_,R),m}function Uc(m,_,$,x){return fi(),_.flags|=256,wt(m,_,$,x),_.child}var Tl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function El(m){return{baseLanes:m,cachePool:ku()}}function kl(m,_,$){return m=m!==null?m.childLanes&~$:0,_&&(m|=Kt),m}function qc(m,_,$){var x=_.pendingProps,R=!1,I=(_.flags&128)!==0,B;if((B=I)||(B=m!==null&&m.memoizedState===null?!1:(bt.current&2)!==0),B&&(R=!0,_.flags&=-129),B=(_.flags&32)!==0,_.flags&=-33,m===null){if(Xe){if(R?Pn(_):In(),Xe){var G=lt,ee;if(ee=G){e:{for(ee=G,G=nn;ee.nodeType!==8;){if(!G){G=null;break e}if(ee=tn(ee.nextSibling),ee===null){G=null;break e}}G=ee}G!==null?(_.memoizedState={dehydrated:G,treeContext:Qn!==null?{id:dn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},ee=jt(18,null,null,0),ee.stateNode=G,ee.return=_,_.child=ee,Rt=_,lt=null,ee=!0):ee=!1}ee||nr(_)}if(G=_.memoizedState,G!==null&&(G=G.dehydrated,G!==null))return ds(G)?_.lanes=32:_.lanes=536870912,null;bn(_)}return G=x.children,x=x.fallback,R?(In(),R=_.mode,G=Do({mode:"hidden",children:G},R),x=Zn(x,R,$,null),G.return=_,x.return=_,G.sibling=x,_.child=G,R=_.child,R.memoizedState=El($),R.childLanes=kl(m,B,$),_.memoizedState=Tl,x):(Pn(_),Rl(_,G))}if(ee=m.memoizedState,ee!==null&&(G=ee.dehydrated,G!==null)){if(I)_.flags&256?(Pn(_),_.flags&=-257,_=Cl(m,_,$)):_.memoizedState!==null?(In(),_.child=m.child,_.flags|=128,_=null):(In(),R=x.fallback,G=_.mode,x=Do({mode:"visible",children:x.children},G),R=Zn(R,G,$,null),R.flags|=2,x.return=_,R.return=_,x.sibling=R,_.child=x,jr(_,m.child,null,$),x=_.child,x.memoizedState=El($),x.childLanes=kl(m,B,$),_.memoizedState=Tl,_=R);else if(Pn(_),ds(G)){if(B=G.nextSibling&&G.nextSibling.dataset,B)var ye=B.dgst;B=ye,x=Error(y(419)),x.stack="",x.digest=B,di({value:x,source:null,stack:null}),_=Cl(m,_,$)}else if(St||pi(m,_,$,!1),B=($&m.childLanes)!==0,St||B){if(B=it,B!==null&&(x=$&-$,x=(x&42)!==0?1:da(x),x=(x&(B.suspendedLanes|$))!==0?0:x,x!==0&&x!==ee.retryLane))throw ee.retryLane=x,Tr(m,x),qt(B,m,x),Ac;G.data==="$?"||Jl(),_=Cl(m,_,$)}else G.data==="$?"?(_.flags|=192,_.child=m.child,_=null):(m=ee.treeContext,lt=tn(G.nextSibling),Rt=_,Xe=!0,tr=null,nn=!1,m!==null&&(Jt[Yt++]=dn,Jt[Yt++]=pn,Jt[Yt++]=Qn,dn=m.id,pn=m.overflow,Qn=_),_=Rl(_,x.children),_.flags|=4096);return _}return R?(In(),R=x.fallback,G=_.mode,ee=m.child,ye=ee.sibling,x=fn(ee,{mode:"hidden",children:x.children}),x.subtreeFlags=ee.subtreeFlags&65011712,ye!==null?R=fn(ye,R):(R=Zn(R,G,$,null),R.flags|=2),R.return=_,x.return=_,x.sibling=R,_.child=x,x=R,R=_.child,G=m.child.memoizedState,G===null?G=El($):(ee=G.cachePool,ee!==null?(ye=gt._currentValue,ee=ee.parent!==ye?{parent:ye,pool:ye}:ee):ee=ku(),G={baseLanes:G.baseLanes|$,cachePool:ee}),R.memoizedState=G,R.childLanes=kl(m,B,$),_.memoizedState=Tl,x):(Pn(_),$=m.child,m=$.sibling,$=fn($,{mode:"visible",children:x.children}),$.return=_,$.sibling=null,m!==null&&(B=_.deletions,B===null?(_.deletions=[m],_.flags|=16):B.push(m)),_.child=$,_.memoizedState=null,$)}function Rl(m,_){return _=Do({mode:"visible",children:_},m.mode),_.return=m,m.child=_}function Do(m,_){return m=jt(22,m,null,_),m.lanes=0,m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},m}function Cl(m,_,$){return jr(_,m.child,null,$),m=Rl(_,_.pendingProps.children),m.flags|=2,_.memoizedState=null,m}function Gc(m,_,$){m.lanes|=_;var x=m.alternate;x!==null&&(x.lanes|=_),Ja(m.return,_,$)}function Pl(m,_,$,x,R){var I=m.memoizedState;I===null?m.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:x,tail:$,tailMode:R}:(I.isBackwards=_,I.rendering=null,I.renderingStartTime=0,I.last=x,I.tail=$,I.tailMode=R)}function Hc(m,_,$){var x=_.pendingProps,R=x.revealOrder,I=x.tail;if(wt(m,_,x.children,$),x=bt.current,(x&2)!==0)x=x&1|2,_.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=_.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&Gc(m,$,_);else if(m.tag===19)Gc(m,$,_);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===_)break e;for(;m.sibling===null;){if(m.return===null||m.return===_)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}x&=1}switch(ae(bt,x),R){case"forwards":for($=_.child,R=null;$!==null;)m=$.alternate,m!==null&&Io(m)===null&&(R=$),$=$.sibling;$=R,$===null?(R=_.child,_.child=null):(R=$.sibling,$.sibling=null),Pl(_,!1,R,$,I);break;case"backwards":for($=null,R=_.child,_.child=null;R!==null;){if(m=R.alternate,m!==null&&Io(m)===null){_.child=R;break}m=R.sibling,R.sibling=$,$=R,R=m}Pl(_,!0,$,null,I);break;case"together":Pl(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function vn(m,_,$){if(m!==null&&(_.dependencies=m.dependencies),jn|=_.lanes,($&_.childLanes)===0)if(m!==null){if(pi(m,_,$,!1),($&_.childLanes)===0)return null}else return null;if(m!==null&&_.child!==m.child)throw Error(y(153));if(_.child!==null){for(m=_.child,$=fn(m,m.pendingProps),_.child=$,$.return=_;m.sibling!==null;)m=m.sibling,$=$.sibling=fn(m,m.pendingProps),$.return=_;$.sibling=null}return _.child}function Il(m,_){return(m.lanes&_)!==0?!0:(m=m.dependencies,!!(m!==null&&go(m)))}function Cp(m,_,$){switch(_.tag){case 3:te(_,_.stateNode.containerInfo),Tn(_,gt,m.memoizedState.cache),fi();break;case 27:case 5:$e(_);break;case 4:te(_,_.stateNode.containerInfo);break;case 10:Tn(_,_.type,_.memoizedProps.value);break;case 13:var x=_.memoizedState;if(x!==null)return x.dehydrated!==null?(Pn(_),_.flags|=128,null):($&_.child.childLanes)!==0?qc(m,_,$):(Pn(_),m=vn(m,_,$),m!==null?m.sibling:null);Pn(_);break;case 19:var R=(m.flags&128)!==0;if(x=($&_.childLanes)!==0,x||(pi(m,_,$,!1),x=($&_.childLanes)!==0),R){if(x)return Hc(m,_,$);_.flags|=128}if(R=_.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),ae(bt,bt.current),x)break;return null;case 22:case 23:return _.lanes=0,jc(m,_,$);case 24:Tn(_,gt,m.memoizedState.cache)}return vn(m,_,$)}function zc(m,_,$){if(m!==null)if(m.memoizedProps!==_.pendingProps)St=!0;else{if(!Il(m,$)&&(_.flags&128)===0)return St=!1,Cp(m,_,$);St=(m.flags&131072)!==0}else St=!1,Xe&&(_.flags&1048576)!==0&&_u(_,yo,_.index);switch(_.lanes=0,_.tag){case 16:e:{m=_.pendingProps;var x=_.elementType,R=x._init;if(x=R(x._payload),_.type=x,typeof x=="function")Ua(x)?(m=lr(x,m),_.tag=1,_=Bc(null,_,x,m,$)):(_.tag=0,_=xl(null,_,x,m,$));else{if(x!=null){if(R=x.$$typeof,R===q){_.tag=11,_=Mc(null,_,x,m,$);break e}else if(R===U){_.tag=14,_=Nc(null,_,x,m,$);break e}}throw _=fe(x)||x,Error(y(306,_,""))}}return _;case 0:return xl(m,_,_.type,_.pendingProps,$);case 1:return x=_.type,R=lr(x,_.pendingProps),Bc(m,_,x,R,$);case 3:e:{if(te(_,_.stateNode.containerInfo),m===null)throw Error(y(387));x=_.pendingProps;var I=_.memoizedState;R=I.element,tl(m,_),Si(_,x,null,$);var B=_.memoizedState;if(x=B.cache,Tn(_,gt,x),x!==I.cache&&Ya(_,[gt],$,!0),mi(),x=B.element,I.isDehydrated)if(I={element:x,isDehydrated:!1,cache:B.cache},_.updateQueue.baseState=I,_.memoizedState=I,_.flags&256){_=Uc(m,_,x,$);break e}else if(x!==R){R=Wt(Error(y(424)),_),di(R),_=Uc(m,_,x,$);break e}else{switch(m=_.stateNode.containerInfo,m.nodeType){case 9:m=m.body;break;default:m=m.nodeName==="HTML"?m.ownerDocument.body:m}for(lt=tn(m.firstChild),Rt=_,Xe=!0,tr=null,nn=!0,$=$c(_,null,x,$),_.child=$;$;)$.flags=$.flags&-3|4096,$=$.sibling}else{if(fi(),x===R){_=vn(m,_,$);break e}wt(m,_,x,$)}_=_.child}return _;case 26:return No(m,_),m===null?($=Xf(_.type,null,_.pendingProps,null))?_.memoizedState=$:Xe||($=_.type,m=_.pendingProps,x=Xo(ve.current).createElement($),x[Et]=_,x[Ct]=m,Tt(x,$,m),mt(x),_.stateNode=x):_.memoizedState=Xf(_.type,m.memoizedProps,_.pendingProps,m.memoizedState),null;case 27:return $e(_),m===null&&Xe&&(x=_.stateNode=Vf(_.type,_.pendingProps,ve.current),Rt=_,nn=!0,R=lt,Un(_.type)?(ps=R,lt=tn(x.firstChild)):lt=R),wt(m,_,_.pendingProps.children,$),No(m,_),m===null&&(_.flags|=4194304),_.child;case 5:return m===null&&Xe&&((R=x=lt)&&(x=ih(x,_.type,_.pendingProps,nn),x!==null?(_.stateNode=x,Rt=_,lt=tn(x.firstChild),nn=!1,R=!0):R=!1),R||nr(_)),$e(_),R=_.type,I=_.pendingProps,B=m!==null?m.memoizedProps:null,x=I.children,us(R,I)?x=null:B!==null&&us(R,B)&&(_.flags|=32),_.memoizedState!==null&&(R=ll(m,_,Op,null,null,$),Gi._currentValue=R),No(m,_),wt(m,_,x,$),_.child;case 6:return m===null&&Xe&&((m=$=lt)&&($=oh($,_.pendingProps,nn),$!==null?(_.stateNode=$,Rt=_,lt=null,m=!0):m=!1),m||nr(_)),null;case 13:return qc(m,_,$);case 4:return te(_,_.stateNode.containerInfo),x=_.pendingProps,m===null?_.child=jr(_,null,x,$):wt(m,_,x,$),_.child;case 11:return Mc(m,_,_.type,_.pendingProps,$);case 7:return wt(m,_,_.pendingProps,$),_.child;case 8:return wt(m,_,_.pendingProps.children,$),_.child;case 12:return wt(m,_,_.pendingProps.children,$),_.child;case 10:return x=_.pendingProps,Tn(_,_.type,x.value),wt(m,_,x.children,$),_.child;case 9:return R=_.type._context,x=_.pendingProps.children,ir(_),R=kt(R),x=x(R),_.flags|=1,wt(m,_,x,$),_.child;case 14:return Nc(m,_,_.type,_.pendingProps,$);case 15:return Dc(m,_,_.type,_.pendingProps,$);case 19:return Hc(m,_,$);case 31:return x=_.pendingProps,$=_.mode,x={mode:x.mode,children:x.children},m===null?($=Do(x,$),$.ref=_.ref,_.child=$,$.return=_,_=$):($=fn(m.child,x),$.ref=_.ref,_.child=$,$.return=_,_=$),_;case 22:return jc(m,_,$);case 24:return ir(_),x=kt(gt),m===null?(R=Za(),R===null&&(R=it,I=Xa(),R.pooledCache=I,I.refCount++,I!==null&&(R.pooledCacheLanes|=$),R=I),_.memoizedState={parent:x,cache:R},el(_),Tn(_,gt,R)):((m.lanes&$)!==0&&(tl(m,_),Si(_,null,null,$),mi()),R=m.memoizedState,I=_.memoizedState,R.parent!==x?(R={parent:x,cache:x},_.memoizedState=R,_.lanes===0&&(_.memoizedState=_.updateQueue.baseState=R),Tn(_,gt,x)):(x=I.cache,Tn(_,gt,x),x!==R.cache&&Ya(_,[gt],$,!0))),wt(m,_,_.pendingProps.children,$),_.child;case 29:throw _.pendingProps}throw Error(y(156,_.tag))}function mn(m){m.flags|=4}function Wc(m,_){if(_.type!=="stylesheet"||(_.state.loading&4)!==0)m.flags&=-16777217;else if(m.flags|=16777216,!td(_)){if(_=Xt.current,_!==null&&((Ve&4194048)===Ve?rn!==null:(Ve&62914560)!==Ve&&(Ve&536870912)===0||_!==rn))throw bi=Qa,Ru;m.flags|=8192}}function jo(m,_){_!==null&&(m.flags|=4),m.flags&16384&&(_=m.tag!==22?ws():536870912,m.lanes|=_,Ur|=_)}function Ei(m,_){if(!Xe)switch(m.tailMode){case"hidden":_=m.tail;for(var $=null;_!==null;)_.alternate!==null&&($=_),_=_.sibling;$===null?m.tail=null:$.sibling=null;break;case"collapsed":$=m.tail;for(var x=null;$!==null;)$.alternate!==null&&(x=$),$=$.sibling;x===null?_||m.tail===null?m.tail=null:m.tail.sibling=null:x.sibling=null}}function at(m){var _=m.alternate!==null&&m.alternate.child===m.child,$=0,x=0;if(_)for(var R=m.child;R!==null;)$|=R.lanes|R.childLanes,x|=R.subtreeFlags&65011712,x|=R.flags&65011712,R.return=m,R=R.sibling;else for(R=m.child;R!==null;)$|=R.lanes|R.childLanes,x|=R.subtreeFlags,x|=R.flags,R.return=m,R=R.sibling;return m.subtreeFlags|=x,m.childLanes=$,_}function Pp(m,_,$){var x=_.pendingProps;switch(za(_),_.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(_),null;case 1:return at(_),null;case 3:return $=_.stateNode,x=null,m!==null&&(x=m.memoizedState.cache),_.memoizedState.cache!==x&&(_.flags|=2048),yn(gt),ge(),$.pendingContext&&($.context=$.pendingContext,$.pendingContext=null),(m===null||m.child===null)&&(ci(_)?mn(_):m===null||m.memoizedState.isDehydrated&&(_.flags&256)===0||(_.flags|=1024,wu())),at(_),null;case 26:return $=_.memoizedState,m===null?(mn(_),$!==null?(at(_),Wc(_,$)):(at(_),_.flags&=-16777217)):$?$!==m.memoizedState?(mn(_),at(_),Wc(_,$)):(at(_),_.flags&=-16777217):(m.memoizedProps!==x&&mn(_),at(_),_.flags&=-16777217),null;case 27:Q(_),$=ve.current;var R=_.type;if(m!==null&&_.stateNode!=null)m.memoizedProps!==x&&mn(_);else{if(!x){if(_.stateNode===null)throw Error(y(166));return at(_),null}m=H.current,ci(_)?Ou(_):(m=Vf(R,x,$),_.stateNode=m,mn(_))}return at(_),null;case 5:if(Q(_),$=_.type,m!==null&&_.stateNode!=null)m.memoizedProps!==x&&mn(_);else{if(!x){if(_.stateNode===null)throw Error(y(166));return at(_),null}if(m=H.current,ci(_))Ou(_);else{switch(R=Xo(ve.current),m){case 1:m=R.createElementNS("http://www.w3.org/2000/svg",$);break;case 2:m=R.createElementNS("http://www.w3.org/1998/Math/MathML",$);break;default:switch($){case"svg":m=R.createElementNS("http://www.w3.org/2000/svg",$);break;case"math":m=R.createElementNS("http://www.w3.org/1998/Math/MathML",$);break;case"script":m=R.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof x.is=="string"?R.createElement("select",{is:x.is}):R.createElement("select"),x.multiple?m.multiple=!0:x.size&&(m.size=x.size);break;default:m=typeof x.is=="string"?R.createElement($,{is:x.is}):R.createElement($)}}m[Et]=_,m[Ct]=x;e:for(R=_.child;R!==null;){if(R.tag===5||R.tag===6)m.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===_)break e;for(;R.sibling===null;){if(R.return===null||R.return===_)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}_.stateNode=m;e:switch(Tt(m,$,x),$){case"button":case"input":case"select":case"textarea":m=!!x.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&mn(_)}}return at(_),_.flags&=-16777217,null;case 6:if(m&&_.stateNode!=null)m.memoizedProps!==x&&mn(_);else{if(typeof x!="string"&&_.stateNode===null)throw Error(y(166));if(m=ve.current,ci(_)){if(m=_.stateNode,$=_.memoizedProps,x=null,R=Rt,R!==null)switch(R.tag){case 27:case 5:x=R.memoizedProps}m[Et]=_,m=!!(m.nodeValue===$||x!==null&&x.suppressHydrationWarning===!0||Bf(m.nodeValue,$)),m||nr(_)}else m=Xo(m).createTextNode(x),m[Et]=_,_.stateNode=m}return at(_),null;case 13:if(x=_.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(R=ci(_),x!==null&&x.dehydrated!==null){if(m===null){if(!R)throw Error(y(318));if(R=_.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(y(317));R[Et]=_}else fi(),(_.flags&128)===0&&(_.memoizedState=null),_.flags|=4;at(_),R=!1}else R=wu(),m!==null&&m.memoizedState!==null&&(m.memoizedState.hydrationErrors=R),R=!0;if(!R)return _.flags&256?(bn(_),_):(bn(_),null)}if(bn(_),(_.flags&128)!==0)return _.lanes=$,_;if($=x!==null,m=m!==null&&m.memoizedState!==null,$){x=_.child,R=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(R=x.alternate.memoizedState.cachePool.pool);var I=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(I=x.memoizedState.cachePool.pool),I!==R&&(x.flags|=2048)}return $!==m&&$&&(_.child.flags|=8192),jo(_,_.updateQueue),at(_),null;case 4:return ge(),m===null&&rs(_.stateNode.containerInfo),at(_),null;case 10:return yn(_.type),at(_),null;case 19:if(de(bt),R=_.memoizedState,R===null)return at(_),null;if(x=(_.flags&128)!==0,I=R.rendering,I===null)if(x)Ei(R,!1);else{if(st!==0||m!==null&&(m.flags&128)!==0)for(m=_.child;m!==null;){if(I=Io(m),I!==null){for(_.flags|=128,Ei(R,!1),m=I.updateQueue,_.updateQueue=m,jo(_,m),_.subtreeFlags=0,m=$,$=_.child;$!==null;)Su($,m),$=$.sibling;return ae(bt,bt.current&1|2),_.child}m=m.sibling}R.tail!==null&&Ce()>Bo&&(_.flags|=128,x=!0,Ei(R,!1),_.lanes=4194304)}else{if(!x)if(m=Io(I),m!==null){if(_.flags|=128,x=!0,m=m.updateQueue,_.updateQueue=m,jo(_,m),Ei(R,!0),R.tail===null&&R.tailMode==="hidden"&&!I.alternate&&!Xe)return at(_),null}else 2*Ce()-R.renderingStartTime>Bo&&$!==536870912&&(_.flags|=128,x=!0,Ei(R,!1),_.lanes=4194304);R.isBackwards?(I.sibling=_.child,_.child=I):(m=R.last,m!==null?m.sibling=I:_.child=I,R.last=I)}return R.tail!==null?(_=R.tail,R.rendering=_,R.tail=_.sibling,R.renderingStartTime=Ce(),_.sibling=null,m=bt.current,ae(bt,x?m&1|2:m&1),_):(at(_),null);case 22:case 23:return bn(_),ol(),x=_.memoizedState!==null,m!==null?m.memoizedState!==null!==x&&(_.flags|=8192):x&&(_.flags|=8192),x?($&536870912)!==0&&(_.flags&128)===0&&(at(_),_.subtreeFlags&6&&(_.flags|=8192)):at(_),$=_.updateQueue,$!==null&&jo(_,$.retryQueue),$=null,m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&($=m.memoizedState.cachePool.pool),x=null,_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(x=_.memoizedState.cachePool.pool),x!==$&&(_.flags|=2048),m!==null&&de(or),null;case 24:return $=null,m!==null&&($=m.memoizedState.cache),_.memoizedState.cache!==$&&(_.flags|=2048),yn(gt),at(_),null;case 25:return null;case 30:return null}throw Error(y(156,_.tag))}function Ip(m,_){switch(za(_),_.tag){case 1:return m=_.flags,m&65536?(_.flags=m&-65537|128,_):null;case 3:return yn(gt),ge(),m=_.flags,(m&65536)!==0&&(m&128)===0?(_.flags=m&-65537|128,_):null;case 26:case 27:case 5:return Q(_),null;case 13:if(bn(_),m=_.memoizedState,m!==null&&m.dehydrated!==null){if(_.alternate===null)throw Error(y(340));fi()}return m=_.flags,m&65536?(_.flags=m&-65537|128,_):null;case 19:return de(bt),null;case 4:return ge(),null;case 10:return yn(_.type),null;case 22:case 23:return bn(_),ol(),m!==null&&de(or),m=_.flags,m&65536?(_.flags=m&-65537|128,_):null;case 24:return yn(gt),null;case 25:return null;default:return null}}function Vc(m,_){switch(za(_),_.tag){case 3:yn(gt),ge();break;case 26:case 27:case 5:Q(_);break;case 4:ge();break;case 13:bn(_);break;case 19:de(bt);break;case 10:yn(_.type);break;case 22:case 23:bn(_),ol(),m!==null&&de(or);break;case 24:yn(gt)}}function ki(m,_){try{var $=_.updateQueue,x=$!==null?$.lastEffect:null;if(x!==null){var R=x.next;$=R;do{if(($.tag&m)===m){x=void 0;var I=$.create,B=$.inst;x=I(),B.destroy=x}$=$.next}while($!==R)}}catch(G){rt(_,_.return,G)}}function An(m,_,$){try{var x=_.updateQueue,R=x!==null?x.lastEffect:null;if(R!==null){var I=R.next;x=I;do{if((x.tag&m)===m){var B=x.inst,G=B.destroy;if(G!==void 0){B.destroy=void 0,R=_;var ee=$,ye=G;try{ye()}catch(_e){rt(R,ee,_e)}}}x=x.next}while(x!==I)}}catch(_e){rt(_,_.return,_e)}}function Jc(m){var _=m.updateQueue;if(_!==null){var $=m.stateNode;try{Nu(_,$)}catch(x){rt(m,m.return,x)}}}function Yc(m,_,$){$.props=lr(m.type,m.memoizedProps),$.state=m.memoizedState;try{$.componentWillUnmount()}catch(x){rt(m,_,x)}}function Ri(m,_){try{var $=m.ref;if($!==null){switch(m.tag){case 26:case 27:case 5:var x=m.stateNode;break;case 30:x=m.stateNode;break;default:x=m.stateNode}typeof $=="function"?m.refCleanup=$(x):$.current=x}}catch(R){rt(m,_,R)}}function an(m,_){var $=m.ref,x=m.refCleanup;if($!==null)if(typeof x=="function")try{x()}catch(R){rt(m,_,R)}finally{m.refCleanup=null,m=m.alternate,m!=null&&(m.refCleanup=null)}else if(typeof $=="function")try{$(null)}catch(R){rt(m,_,R)}else $.current=null}function Xc(m){var _=m.type,$=m.memoizedProps,x=m.stateNode;try{e:switch(_){case"button":case"input":case"select":case"textarea":$.autoFocus&&x.focus();break e;case"img":$.src?x.src=$.src:$.srcSet&&(x.srcset=$.srcSet)}}catch(R){rt(m,m.return,R)}}function Al(m,_,$){try{var x=m.stateNode;Qp(x,m.type,$,_),x[Ct]=_}catch(R){rt(m,m.return,R)}}function Kc(m){return m.tag===5||m.tag===3||m.tag===26||m.tag===27&&Un(m.type)||m.tag===4}function Ml(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||Kc(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.tag===27&&Un(m.type)||m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function Nl(m,_,$){var x=m.tag;if(x===5||x===6)m=m.stateNode,_?($.nodeType===9?$.body:$.nodeName==="HTML"?$.ownerDocument.body:$).insertBefore(m,_):(_=$.nodeType===9?$.body:$.nodeName==="HTML"?$.ownerDocument.body:$,_.appendChild(m),$=$._reactRootContainer,$!=null||_.onclick!==null||(_.onclick=Yo));else if(x!==4&&(x===27&&Un(m.type)&&($=m.stateNode,_=null),m=m.child,m!==null))for(Nl(m,_,$),m=m.sibling;m!==null;)Nl(m,_,$),m=m.sibling}function Fo(m,_,$){var x=m.tag;if(x===5||x===6)m=m.stateNode,_?$.insertBefore(m,_):$.appendChild(m);else if(x!==4&&(x===27&&Un(m.type)&&($=m.stateNode),m=m.child,m!==null))for(Fo(m,_,$),m=m.sibling;m!==null;)Fo(m,_,$),m=m.sibling}function Zc(m){var _=m.stateNode,$=m.memoizedProps;try{for(var x=m.type,R=_.attributes;R.length;)_.removeAttributeNode(R[0]);Tt(_,x,$),_[Et]=m,_[Ct]=$}catch(I){rt(m,m.return,I)}}var Sn=!1,ft=!1,Dl=!1,Qc=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Ap(m,_){if(m=m.containerInfo,ls=na,m=cu(m),Ma(m)){if("selectionStart"in m)var $={start:m.selectionStart,end:m.selectionEnd};else e:{$=($=m.ownerDocument)&&$.defaultView||window;var x=$.getSelection&&$.getSelection();if(x&&x.rangeCount!==0){$=x.anchorNode;var R=x.anchorOffset,I=x.focusNode;x=x.focusOffset;try{$.nodeType,I.nodeType}catch(je){$=null;break e}var B=0,G=-1,ee=-1,ye=0,_e=0,Ee=m,be=null;t:for(;;){for(var me;Ee!==$||R!==0&&Ee.nodeType!==3||(G=B+R),Ee!==I||x!==0&&Ee.nodeType!==3||(ee=B+x),Ee.nodeType===3&&(B+=Ee.nodeValue.length),(me=Ee.firstChild)!==null;)be=Ee,Ee=me;for(;;){if(Ee===m)break t;if(be===$&&++ye===R&&(G=B),be===I&&++_e===x&&(ee=B),(me=Ee.nextSibling)!==null)break;Ee=be,be=Ee.parentNode}Ee=me}$=G===-1||ee===-1?null:{start:G,end:ee}}else $=null}$=$||{start:0,end:0}}else $=null;for(ss={focusedElem:m,selectionRange:$},na=!1,_t=_;_t!==null;)if(_=_t,m=_.child,(_.subtreeFlags&1024)!==0&&m!==null)m.return=_,_t=m;else for(;_t!==null;){switch(_=_t,I=_.alternate,m=_.flags,_.tag){case 0:break;case 11:case 15:break;case 1:if((m&1024)!==0&&I!==null){m=void 0,$=_,R=I.memoizedProps,I=I.memoizedState,x=$.stateNode;try{var Le=lr($.type,R,$.elementType===$.type);m=x.getSnapshotBeforeUpdate(Le,I),x.__reactInternalSnapshotBeforeUpdate=m}catch(je){rt($,$.return,je)}}break;case 3:if((m&1024)!==0){if(m=_.stateNode.containerInfo,$=m.nodeType,$===9)fs(m);else if($===1)switch(m.nodeName){case"HEAD":case"HTML":case"BODY":fs(m);break;default:m.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((m&1024)!==0)throw Error(y(163))}if(m=_.sibling,m!==null){m.return=_.return,_t=m;break}_t=_.return}}function ef(m,_,$){var x=$.flags;switch($.tag){case 0:case 11:case 15:Mn(m,$),x&4&&ki(5,$);break;case 1:if(Mn(m,$),x&4)if(m=$.stateNode,_===null)try{m.componentDidMount()}catch(B){rt($,$.return,B)}else{var R=lr($.type,_.memoizedProps);_=_.memoizedState;try{m.componentDidUpdate(R,_,m.__reactInternalSnapshotBeforeUpdate)}catch(B){rt($,$.return,B)}}x&64&&Jc($),x&512&&Ri($,$.return);break;case 3:if(Mn(m,$),x&64&&(m=$.updateQueue,m!==null)){if(_=null,$.child!==null)switch($.child.tag){case 27:case 5:_=$.child.stateNode;break;case 1:_=$.child.stateNode}try{Nu(m,_)}catch(B){rt($,$.return,B)}}break;case 27:_===null&&x&4&&Zc($);case 26:case 5:Mn(m,$),_===null&&x&4&&Xc($),x&512&&Ri($,$.return);break;case 12:Mn(m,$);break;case 13:Mn(m,$),x&4&&rf(m,$),x&64&&(m=$.memoizedState,m!==null&&(m=m.dehydrated,m!==null&&($=qp.bind(null,$),ah(m,$))));break;case 22:if(x=$.memoizedState!==null||Sn,!x){_=_!==null&&_.memoizedState!==null||ft,R=Sn;var I=ft;Sn=x,(ft=_)&&!I?Nn(m,$,($.subtreeFlags&8772)!==0):Mn(m,$),Sn=R,ft=I}break;case 30:break;default:Mn(m,$)}}function tf(m){var _=m.alternate;_!==null&&(m.alternate=null,tf(_)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(_=m.stateNode,_!==null&&ya(_)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}var ot=null,At=!1;function _n(m,_,$){for($=$.child;$!==null;)nf(m,_,$),$=$.sibling}function nf(m,_,$){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount($t,$)}catch(I){}switch($.tag){case 26:ft||an($,_),_n(m,_,$),$.memoizedState?$.memoizedState.count--:$.stateNode&&($=$.stateNode,$.parentNode.removeChild($));break;case 27:ft||an($,_);var x=ot,R=At;Un($.type)&&(ot=$.stateNode,At=!1),_n(m,_,$),Fi($.stateNode),ot=x,At=R;break;case 5:ft||an($,_);case 6:if(x=ot,R=At,ot=null,_n(m,_,$),ot=x,At=R,ot!==null)if(At)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild($.stateNode)}catch(I){rt($,_,I)}else try{ot.removeChild($.stateNode)}catch(I){rt($,_,I)}break;case 18:ot!==null&&(At?(m=ot,zf(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,$.stateNode),Vi(m)):zf(ot,$.stateNode));break;case 4:x=ot,R=At,ot=$.stateNode.containerInfo,At=!0,_n(m,_,$),ot=x,At=R;break;case 0:case 11:case 14:case 15:ft||An(2,$,_),ft||An(4,$,_),_n(m,_,$);break;case 1:ft||(an($,_),x=$.stateNode,typeof x.componentWillUnmount=="function"&&Yc($,_,x)),_n(m,_,$);break;case 21:_n(m,_,$);break;case 22:ft=(x=ft)||$.memoizedState!==null,_n(m,_,$),ft=x;break;default:_n(m,_,$)}}function rf(m,_){if(_.memoizedState===null&&(m=_.alternate,m!==null&&(m=m.memoizedState,m!==null&&(m=m.dehydrated,m!==null))))try{Vi(m)}catch($){rt(_,_.return,$)}}function Mp(m){switch(m.tag){case 13:case 19:var _=m.stateNode;return _===null&&(_=m.stateNode=new Qc),_;case 22:return m=m.stateNode,_=m._retryCache,_===null&&(_=m._retryCache=new Qc),_;default:throw Error(y(435,m.tag))}}function jl(m,_){var $=Mp(m);_.forEach(function(x){var R=Gp.bind(null,m,x);$.has(x)||($.add(x),x.then(R,R))})}function Ft(m,_){var $=_.deletions;if($!==null)for(var x=0;x<$.length;x++){var R=$[x],I=m,B=_,G=B;e:for(;G!==null;){switch(G.tag){case 27:if(Un(G.type)){ot=G.stateNode,At=!1;break e}break;case 5:ot=G.stateNode,At=!1;break e;case 3:case 4:ot=G.stateNode.containerInfo,At=!0;break e}G=G.return}if(ot===null)throw Error(y(160));nf(I,B,R),ot=null,At=!1,I=R.alternate,I!==null&&(I.return=null),R.return=null}if(_.subtreeFlags&13878)for(_=_.child;_!==null;)of(_,m),_=_.sibling}var en=null;function of(m,_){var $=m.alternate,x=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:Ft(_,m),Lt(m),x&4&&(An(3,m,m.return),ki(3,m),An(5,m,m.return));break;case 1:Ft(_,m),Lt(m),x&512&&(ft||$===null||an($,$.return)),x&64&&Sn&&(m=m.updateQueue,m!==null&&(x=m.callbacks,x!==null&&($=m.shared.hiddenCallbacks,m.shared.hiddenCallbacks=$===null?x:$.concat(x))));break;case 26:var R=en;if(Ft(_,m),Lt(m),x&512&&(ft||$===null||an($,$.return)),x&4){var I=$!==null?$.memoizedState:null;if(x=m.memoizedState,$===null)if(x===null)if(m.stateNode===null){e:{x=m.type,$=m.memoizedProps,R=R.ownerDocument||R;t:switch(x){case"title":I=R.getElementsByTagName("title")[0],(!I||I[Qr]||I[Et]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=R.createElement(x),R.head.insertBefore(I,R.querySelector("head > title"))),Tt(I,x,$),I[Et]=m,mt(I),x=I;break e;case"link":var B=Qf("link","href",R).get(x+($.href||""));if(B){for(var G=0;G<B.length;G++)if(I=B[G],I.getAttribute("href")===($.href==null||$.href===""?null:$.href)&&I.getAttribute("rel")===($.rel==null?null:$.rel)&&I.getAttribute("title")===($.title==null?null:$.title)&&I.getAttribute("crossorigin")===($.crossOrigin==null?null:$.crossOrigin)){B.splice(G,1);break t}}I=R.createElement(x),Tt(I,x,$),R.head.appendChild(I);break;case"meta":if(B=Qf("meta","content",R).get(x+($.content||""))){for(G=0;G<B.length;G++)if(I=B[G],I.getAttribute("content")===($.content==null?null:""+$.content)&&I.getAttribute("name")===($.name==null?null:$.name)&&I.getAttribute("property")===($.property==null?null:$.property)&&I.getAttribute("http-equiv")===($.httpEquiv==null?null:$.httpEquiv)&&I.getAttribute("charset")===($.charSet==null?null:$.charSet)){B.splice(G,1);break t}}I=R.createElement(x),Tt(I,x,$),R.head.appendChild(I);break;default:throw Error(y(468,x))}I[Et]=m,mt(I),x=I}m.stateNode=x}else ed(R,m.type,m.stateNode);else m.stateNode=Zf(R,x,m.memoizedProps);else I!==x?(I===null?$.stateNode!==null&&($=$.stateNode,$.parentNode.removeChild($)):I.count--,x===null?ed(R,m.type,m.stateNode):Zf(R,x,m.memoizedProps)):x===null&&m.stateNode!==null&&Al(m,m.memoizedProps,$.memoizedProps)}break;case 27:Ft(_,m),Lt(m),x&512&&(ft||$===null||an($,$.return)),$!==null&&x&4&&Al(m,m.memoizedProps,$.memoizedProps);break;case 5:if(Ft(_,m),Lt(m),x&512&&(ft||$===null||an($,$.return)),m.flags&32){R=m.stateNode;try{mr(R,"")}catch(me){rt(m,m.return,me)}}x&4&&m.stateNode!=null&&(R=m.memoizedProps,Al(m,R,$!==null?$.memoizedProps:R)),x&1024&&(Dl=!0);break;case 6:if(Ft(_,m),Lt(m),x&4){if(m.stateNode===null)throw Error(y(162));x=m.memoizedProps,$=m.stateNode;try{$.nodeValue=x}catch(me){rt(m,m.return,me)}}break;case 3:if(Qo=null,R=en,en=Ko(_.containerInfo),Ft(_,m),en=R,Lt(m),x&4&&$!==null&&$.memoizedState.isDehydrated)try{Vi(_.containerInfo)}catch(me){rt(m,m.return,me)}Dl&&(Dl=!1,af(m));break;case 4:x=en,en=Ko(m.stateNode.containerInfo),Ft(_,m),Lt(m),en=x;break;case 12:Ft(_,m),Lt(m);break;case 13:Ft(_,m),Lt(m),m.child.flags&8192&&m.memoizedState!==null!=($!==null&&$.memoizedState!==null)&&(Gl=Ce()),x&4&&(x=m.updateQueue,x!==null&&(m.updateQueue=null,jl(m,x)));break;case 22:R=m.memoizedState!==null;var ee=$!==null&&$.memoizedState!==null,ye=Sn,_e=ft;if(Sn=ye||R,ft=_e||ee,Ft(_,m),ft=_e,Sn=ye,Lt(m),x&8192)e:for(_=m.stateNode,_._visibility=R?_._visibility&-2:_._visibility|1,R&&($===null||ee||Sn||ft||sr(m)),$=null,_=m;;){if(_.tag===5||_.tag===26){if($===null){ee=$=_;try{if(I=ee.stateNode,R)B=I.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{G=ee.stateNode;var Ee=ee.memoizedProps.style,be=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;G.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(me){rt(ee,ee.return,me)}}}else if(_.tag===6){if($===null){ee=_;try{ee.stateNode.nodeValue=R?"":ee.memoizedProps}catch(me){rt(ee,ee.return,me)}}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===m)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===m)break e;for(;_.sibling===null;){if(_.return===null||_.return===m)break e;$===_&&($=null),_=_.return}$===_&&($=null),_.sibling.return=_.return,_=_.sibling}x&4&&(x=m.updateQueue,x!==null&&($=x.retryQueue,$!==null&&(x.retryQueue=null,jl(m,$))));break;case 19:Ft(_,m),Lt(m),x&4&&(x=m.updateQueue,x!==null&&(m.updateQueue=null,jl(m,x)));break;case 30:break;case 21:break;default:Ft(_,m),Lt(m)}}function Lt(m){var _=m.flags;if(_&2){try{for(var $,x=m.return;x!==null;){if(Kc(x)){$=x;break}x=x.return}if($==null)throw Error(y(160));switch($.tag){case 27:var R=$.stateNode,I=Ml(m);Fo(m,I,R);break;case 5:var B=$.stateNode;$.flags&32&&(mr(B,""),$.flags&=-33);var G=Ml(m);Fo(m,G,B);break;case 3:case 4:var ee=$.stateNode.containerInfo,ye=Ml(m);Nl(m,ye,ee);break;default:throw Error(y(161))}}catch(_e){rt(m,m.return,_e)}m.flags&=-3}_&4096&&(m.flags&=-4097)}function af(m){if(m.subtreeFlags&1024)for(m=m.child;m!==null;){var _=m;af(_),_.tag===5&&_.flags&1024&&_.stateNode.reset(),m=m.sibling}}function Mn(m,_){if(_.subtreeFlags&8772)for(_=_.child;_!==null;)ef(m,_.alternate,_),_=_.sibling}function sr(m){for(m=m.child;m!==null;){var _=m;switch(_.tag){case 0:case 11:case 14:case 15:An(4,_,_.return),sr(_);break;case 1:an(_,_.return);var $=_.stateNode;typeof $.componentWillUnmount=="function"&&Yc(_,_.return,$),sr(_);break;case 27:Fi(_.stateNode);case 26:case 5:an(_,_.return),sr(_);break;case 22:_.memoizedState===null&&sr(_);break;case 30:sr(_);break;default:sr(_)}m=m.sibling}}function Nn(m,_,$){for($=$&&(_.subtreeFlags&8772)!==0,_=_.child;_!==null;){var x=_.alternate,R=m,I=_,B=I.flags;switch(I.tag){case 0:case 11:case 15:Nn(R,I,$),ki(4,I);break;case 1:if(Nn(R,I,$),x=I,R=x.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(ye){rt(x,x.return,ye)}if(x=I,R=x.updateQueue,R!==null){var G=x.stateNode;try{var ee=R.shared.hiddenCallbacks;if(ee!==null)for(R.shared.hiddenCallbacks=null,R=0;R<ee.length;R++)Mu(ee[R],G)}catch(ye){rt(x,x.return,ye)}}$&&B&64&&Jc(I),Ri(I,I.return);break;case 27:Zc(I);case 26:case 5:Nn(R,I,$),$&&x===null&&B&4&&Xc(I),Ri(I,I.return);break;case 12:Nn(R,I,$);break;case 13:Nn(R,I,$),$&&B&4&&rf(R,I);break;case 22:I.memoizedState===null&&Nn(R,I,$),Ri(I,I.return);break;case 30:break;default:Nn(R,I,$)}_=_.sibling}}function Fl(m,_){var $=null;m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&($=m.memoizedState.cachePool.pool),m=null,_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(m=_.memoizedState.cachePool.pool),m!==$&&(m!=null&&m.refCount++,$!=null&&hi($))}function Ll(m,_){m=null,_.alternate!==null&&(m=_.alternate.memoizedState.cache),_=_.memoizedState.cache,_!==m&&(_.refCount++,m!=null&&hi(m))}function ln(m,_,$,x){if(_.subtreeFlags&10256)for(_=_.child;_!==null;)lf(m,_,$,x),_=_.sibling}function lf(m,_,$,x){var R=_.flags;switch(_.tag){case 0:case 11:case 15:ln(m,_,$,x),R&2048&&ki(9,_);break;case 1:ln(m,_,$,x);break;case 3:ln(m,_,$,x),R&2048&&(m=null,_.alternate!==null&&(m=_.alternate.memoizedState.cache),_=_.memoizedState.cache,_!==m&&(_.refCount++,m!=null&&hi(m)));break;case 12:if(R&2048){ln(m,_,$,x),m=_.stateNode;try{var I=_.memoizedProps,B=I.id,G=I.onPostCommit;typeof G=="function"&&G(B,_.alternate===null?"mount":"update",m.passiveEffectDuration,-0)}catch(ee){rt(_,_.return,ee)}}else ln(m,_,$,x);break;case 13:ln(m,_,$,x);break;case 23:break;case 22:I=_.stateNode,B=_.alternate,_.memoizedState!==null?I._visibility&2?ln(m,_,$,x):Ci(m,_):I._visibility&2?ln(m,_,$,x):(I._visibility|=2,Fr(m,_,$,x,(_.subtreeFlags&10256)!==0)),R&2048&&Fl(B,_);break;case 24:ln(m,_,$,x),R&2048&&Ll(_.alternate,_);break;default:ln(m,_,$,x)}}function Fr(m,_,$,x,R){for(R=R&&(_.subtreeFlags&10256)!==0,_=_.child;_!==null;){var I=m,B=_,G=$,ee=x,ye=B.flags;switch(B.tag){case 0:case 11:case 15:Fr(I,B,G,ee,R),ki(8,B);break;case 23:break;case 22:var _e=B.stateNode;B.memoizedState!==null?_e._visibility&2?Fr(I,B,G,ee,R):Ci(I,B):(_e._visibility|=2,Fr(I,B,G,ee,R)),R&&ye&2048&&Fl(B.alternate,B);break;case 24:Fr(I,B,G,ee,R),R&&ye&2048&&Ll(B.alternate,B);break;default:Fr(I,B,G,ee,R)}_=_.sibling}}function Ci(m,_){if(_.subtreeFlags&10256)for(_=_.child;_!==null;){var $=m,x=_,R=x.flags;switch(x.tag){case 22:Ci($,x),R&2048&&Fl(x.alternate,x);break;case 24:Ci($,x),R&2048&&Ll(x.alternate,x);break;default:Ci($,x)}_=_.sibling}}var Pi=8192;function Lr(m){if(m.subtreeFlags&Pi)for(m=m.child;m!==null;)sf(m),m=m.sibling}function sf(m){switch(m.tag){case 26:Lr(m),m.flags&Pi&&m.memoizedState!==null&&mh(en,m.memoizedState,m.memoizedProps);break;case 5:Lr(m);break;case 3:case 4:var _=en;en=Ko(m.stateNode.containerInfo),Lr(m),en=_;break;case 22:m.memoizedState===null&&(_=m.alternate,_!==null&&_.memoizedState!==null?(_=Pi,Pi=16777216,Lr(m),Pi=_):Lr(m));break;default:Lr(m)}}function uf(m){var _=m.alternate;if(_!==null&&(m=_.child,m!==null)){_.child=null;do _=m.sibling,m.sibling=null,m=_;while(m!==null)}}function Ii(m){var _=m.deletions;if((m.flags&16)!==0){if(_!==null)for(var $=0;$<_.length;$++){var x=_[$];_t=x,ff(x,m)}uf(m)}if(m.subtreeFlags&10256)for(m=m.child;m!==null;)cf(m),m=m.sibling}function cf(m){switch(m.tag){case 0:case 11:case 15:Ii(m),m.flags&2048&&An(9,m,m.return);break;case 3:Ii(m);break;case 12:Ii(m);break;case 22:var _=m.stateNode;m.memoizedState!==null&&_._visibility&2&&(m.return===null||m.return.tag!==13)?(_._visibility&=-3,Lo(m)):Ii(m);break;default:Ii(m)}}function Lo(m){var _=m.deletions;if((m.flags&16)!==0){if(_!==null)for(var $=0;$<_.length;$++){var x=_[$];_t=x,ff(x,m)}uf(m)}for(m=m.child;m!==null;){switch(_=m,_.tag){case 0:case 11:case 15:An(8,_,_.return),Lo(_);break;case 22:$=_.stateNode,$._visibility&2&&($._visibility&=-3,Lo(_));break;default:Lo(_)}m=m.sibling}}function ff(m,_){for(;_t!==null;){var $=_t;switch($.tag){case 0:case 11:case 15:An(8,$,_);break;case 23:case 22:if($.memoizedState!==null&&$.memoizedState.cachePool!==null){var x=$.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:hi($.memoizedState.cache)}if(x=$.child,x!==null)x.return=$,_t=x;else e:for($=m;_t!==null;){x=_t;var R=x.sibling,I=x.return;if(tf(x),x===$){_t=null;break e}if(R!==null){R.return=I,_t=R;break e}_t=I}}}var Np={getCacheForType:function(m){var _=kt(gt),$=_.data.get(m);return $===void 0&&($=m(),_.data.set(m,$)),$}},Dp=typeof WeakMap=="function"?WeakMap:Map,Ze=0,it=null,ze=null,Ve=0,Qe=0,Bt=null,Dn=!1,Br=!1,Bl=!1,On=0,st=0,jn=0,ur=0,Ul=0,Kt=0,Ur=0,Ai=null,Mt=null,ql=!1,Gl=0,Bo=1/0,Uo=null,Fn=null,xt=0,Ln=null,qr=null,Gr=0,Hl=0,zl=null,df=null,Mi=0,Wl=null;function Ut(){if((Ze&2)!==0&&Ve!==0)return Ve&-Ve;if(J.T!==null){var m=Cr;return m!==0?m:Ql()}return Es()}function pf(){Kt===0&&(Kt=(Ve&536870912)===0||Xe?$s():536870912);var m=Xt.current;return m!==null&&(m.flags|=32),Kt}function qt(m,_,$){(m===it&&(Qe===2||Qe===9)||m.cancelPendingCommit!==null)&&(Hr(m,0),Bn(m,Ve,Kt,!1)),Zr(m,$),((Ze&2)===0||m!==it)&&(m===it&&((Ze&2)===0&&(ur|=$),st===4&&Bn(m,Ve,Kt,!1)),sn(m))}function hf(m,_,$){if((Ze&6)!==0)throw Error(y(327));var x=!$&&(_&124)===0&&(_&m.expiredLanes)===0||Kr(m,_),R=x?Lp(m,_):Yl(m,_,!0),I=x;do{if(R===0){Br&&!x&&Bn(m,_,0,!1);break}else{if($=m.current.alternate,I&&!jp($)){R=Yl(m,_,!1),I=!1;continue}if(R===2){if(I=_,m.errorRecoveryDisabledLanes&I)var B=0;else B=m.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){_=B;e:{var G=m;R=Ai;var ee=G.current.memoizedState.isDehydrated;if(ee&&(Hr(G,B).flags|=256),B=Yl(G,B,!1),B!==2){if(Bl&&!ee){G.errorRecoveryDisabledLanes|=I,ur|=I,R=4;break e}I=Mt,Mt=R,I!==null&&(Mt===null?Mt=I:Mt.push.apply(Mt,I))}R=B}if(I=!1,R!==2)continue}}if(R===1){Hr(m,0),Bn(m,_,0,!0);break}e:{switch(x=m,I=R,I){case 0:case 1:throw Error(y(345));case 4:if((_&4194048)!==_)break;case 6:Bn(x,_,Kt,!Dn);break e;case 2:Mt=null;break;case 3:case 5:break;default:throw Error(y(329))}if((_&62914560)===_&&(R=Gl+300-Ce(),10<R)){if(Bn(x,_,Kt,!Dn),Xi(x,0,!0)!==0)break e;x.timeoutHandle=Gf(yf.bind(null,x,$,Mt,Uo,ql,_,Kt,ur,Ur,Dn,I,2,-0,0),R);break e}yf(x,$,Mt,Uo,ql,_,Kt,ur,Ur,Dn,I,0,-0,0)}}break}while(!0);sn(m)}function yf(m,_,$,x,R,I,B,G,ee,ye,_e,Ee,be,me){if(m.timeoutHandle=-1,Ee=_.subtreeFlags,(Ee&8192||(Ee&16785408)===16785408)&&(qi={stylesheets:null,count:0,unsuspend:vh},sf(_),Ee=Sh(),Ee!==null)){m.cancelPendingCommit=Ee(Of.bind(null,m,_,I,$,x,R,B,G,ee,_e,1,be,me)),Bn(m,I,B,!ye);return}Of(m,_,I,$,x,R,B,G,ee)}function jp(m){for(var _=m;;){var $=_.tag;if(($===0||$===11||$===15)&&_.flags&16384&&($=_.updateQueue,$!==null&&($=$.stores,$!==null)))for(var x=0;x<$.length;x++){var R=$[x],I=R.getSnapshot;R=R.value;try{if(!Dt(I(),R))return!1}catch(B){return!1}}if($=_.child,_.subtreeFlags&16384&&$!==null)$.return=_,_=$;else{if(_===m)break;for(;_.sibling===null;){if(_.return===null||_.return===m)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function Bn(m,_,$,x){_&=~Ul,_&=~ur,m.suspendedLanes|=_,m.pingedLanes&=~_,x&&(m.warmLanes|=_),x=m.expirationTimes;for(var R=_;0<R;){var I=31-yt(R),B=1<<I;x[I]=-1,R&=~B}$!==0&&xs(m,$,_)}function qo(){return(Ze&6)===0?(Ni(0),!1):!0}function Vl(){if(ze!==null){if(Qe===0)var m=ze.return;else m=ze,hn=rr=null,cl(m),Dr=null,xi=0,m=ze;for(;m!==null;)Vc(m.alternate,m),m=m.return;ze=null}}function Hr(m,_){var $=m.timeoutHandle;$!==-1&&(m.timeoutHandle=-1,th($)),$=m.cancelPendingCommit,$!==null&&(m.cancelPendingCommit=null,$()),Vl(),it=m,ze=$=fn(m.current,null),Ve=_,Qe=0,Bt=null,Dn=!1,Br=Kr(m,_),Bl=!1,Ur=Kt=Ul=ur=jn=st=0,Mt=Ai=null,ql=!1,(_&8)!==0&&(_|=_&32);var x=m.entangledLanes;if(x!==0)for(m=m.entanglements,x&=_;0<x;){var R=31-yt(x),I=1<<R;_|=m[R],x&=~I}return On=_,so(),$}function gf(m,_){qe=null,J.H=Ro,_===gi||_===mo?(_=Iu(),Qe=3):_===Ru?(_=Iu(),Qe=4):Qe=_===Ac?8:_!==null&&typeof _=="object"&&typeof _.then=="function"?6:1,Bt=_,ze===null&&(st=1,Mo(m,Wt(_,m.current)))}function bf(){var m=J.H;return J.H=Ro,m===null?Ro:m}function vf(){var m=J.A;return J.A=Np,m}function Jl(){st=4,Dn||(Ve&4194048)!==Ve&&Xt.current!==null||(Br=!0),(jn&134217727)===0&&(ur&134217727)===0||it===null||Bn(it,Ve,Kt,!1)}function Yl(m,_,$){var x=Ze;Ze|=2;var R=bf(),I=vf();(it!==m||Ve!==_)&&(Uo=null,Hr(m,_)),_=!1;var B=st;e:do try{if(Qe!==0&&ze!==null){var G=ze,ee=Bt;switch(Qe){case 8:Vl(),B=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(_=!0);var ye=Qe;if(Qe=0,Bt=null,zr(m,G,ee,ye),$&&Br){B=0;break e}break;default:ye=Qe,Qe=0,Bt=null,zr(m,G,ee,ye)}}Fp(),B=st;break}catch(_e){gf(m,_e)}while(!0);return _&&m.shellSuspendCounter++,hn=rr=null,Ze=x,J.H=R,J.A=I,ze===null&&(it=null,Ve=0,so()),B}function Fp(){for(;ze!==null;)mf(ze)}function Lp(m,_){var $=Ze;Ze|=2;var x=bf(),R=vf();it!==m||Ve!==_?(Uo=null,Bo=Ce()+500,Hr(m,_)):Br=Kr(m,_);e:do try{if(Qe!==0&&ze!==null){_=ze;var I=Bt;t:switch(Qe){case 1:Qe=0,Bt=null,zr(m,_,I,1);break;case 2:case 9:if(Cu(I)){Qe=0,Bt=null,Sf(_);break}_=function(){Qe!==2&&Qe!==9||it!==m||(Qe=7),sn(m)},I.then(_,_);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Cu(I)?(Qe=0,Bt=null,Sf(_)):(Qe=0,Bt=null,zr(m,_,I,7));break;case 5:var B=null;switch(ze.tag){case 26:B=ze.memoizedState;case 5:case 27:var G=ze;if(!B||td(B)){Qe=0,Bt=null;var ee=G.sibling;if(ee!==null)ze=ee;else{var ye=G.return;ye!==null?(ze=ye,Go(ye)):ze=null}break t}}Qe=0,Bt=null,zr(m,_,I,5);break;case 6:Qe=0,Bt=null,zr(m,_,I,6);break;case 8:Vl(),st=6;break e;default:throw Error(y(462))}}Bp();break}catch(_e){gf(m,_e)}while(!0);return hn=rr=null,J.H=x,J.A=R,Ze=$,ze!==null?0:(it=null,Ve=0,so(),st)}function Bp(){for(;ze!==null&&!xe();)mf(ze)}function mf(m){var _=zc(m.alternate,m,On);m.memoizedProps=m.pendingProps,_===null?Go(m):ze=_}function Sf(m){var _=m,$=_.alternate;switch(_.tag){case 15:case 0:_=Lc($,_,_.pendingProps,_.type,void 0,Ve);break;case 11:_=Lc($,_,_.pendingProps,_.type.render,_.ref,Ve);break;case 5:cl(_);default:Vc($,_),_=ze=Su(_,On),_=zc($,_,On)}m.memoizedProps=m.pendingProps,_===null?Go(m):ze=_}function zr(m,_,$,x){hn=rr=null,cl(_),Dr=null,xi=0;var R=_.return;try{if(Rp(m,R,_,$,Ve)){st=1,Mo(m,Wt($,m.current)),ze=null;return}}catch(I){if(R!==null)throw ze=R,I;st=1,Mo(m,Wt($,m.current)),ze=null;return}_.flags&32768?(Xe||x===1?m=!0:Br||(Ve&536870912)!==0?m=!1:(Dn=m=!0,(x===2||x===9||x===3||x===6)&&(x=Xt.current,x!==null&&x.tag===13&&(x.flags|=16384))),_f(_,m)):Go(_)}function Go(m){var _=m;do{if((_.flags&32768)!==0){_f(_,Dn);return}m=_.return;var $=Pp(_.alternate,_,On);if($!==null){ze=$;return}if(_=_.sibling,_!==null){ze=_;return}ze=_=m}while(_!==null);st===0&&(st=5)}function _f(m,_){do{var $=Ip(m.alternate,m);if($!==null){$.flags&=32767,ze=$;return}if($=m.return,$!==null&&($.flags|=32768,$.subtreeFlags=0,$.deletions=null),!_&&(m=m.sibling,m!==null)){ze=m;return}ze=m=$}while(m!==null);st=6,ze=null}function Of(m,_,$,x,R,I,B,G,ee){m.cancelPendingCommit=null;do Ho();while(xt!==0);if((Ze&6)!==0)throw Error(y(327));if(_!==null){if(_===m.current)throw Error(y(177));if(I=_.lanes|_.childLanes,I|=La,vd(m,$,I,B,G,ee),m===it&&(ze=it=null,Ve=0),qr=_,Ln=m,Gr=$,Hl=I,zl=R,df=x,(_.subtreeFlags&10256)!==0||(_.flags&10256)!==0?(m.callbackNode=null,m.callbackPriority=0,Hp(Ue,function(){return Ef(),null})):(m.callbackNode=null,m.callbackPriority=0),x=(_.flags&13878)!==0,(_.subtreeFlags&13878)!==0||x){x=J.T,J.T=null,R=ie.p,ie.p=2,B=Ze,Ze|=4;try{Ap(m,_,$)}finally{Ze=B,ie.p=R,J.T=x}}xt=1,$f(),wf(),xf()}}function $f(){if(xt===1){xt=0;var m=Ln,_=qr,$=(_.flags&13878)!==0;if((_.subtreeFlags&13878)!==0||$){$=J.T,J.T=null;var x=ie.p;ie.p=2;var R=Ze;Ze|=4;try{of(_,m);var I=ss,B=cu(m.containerInfo),G=I.focusedElem,ee=I.selectionRange;if(B!==G&&G&&G.ownerDocument&&uu(G.ownerDocument.documentElement,G)){if(ee!==null&&Ma(G)){var ye=ee.start,_e=ee.end;if(_e===void 0&&(_e=ye),"selectionStart"in G)G.selectionStart=ye,G.selectionEnd=Math.min(_e,G.value.length);else{var Ee=G.ownerDocument||document,be=Ee&&Ee.defaultView||window;if(be.getSelection){var me=be.getSelection(),Le=G.textContent.length,je=Math.min(ee.start,Le),nt=ee.end===void 0?je:Math.min(ee.end,Le);!me.extend&&je>nt&&(B=nt,nt=je,je=B);var ce=su(G,je),oe=su(G,nt);if(ce&&oe&&(me.rangeCount!==1||me.anchorNode!==ce.node||me.anchorOffset!==ce.offset||me.focusNode!==oe.node||me.focusOffset!==oe.offset)){var he=Ee.createRange();he.setStart(ce.node,ce.offset),me.removeAllRanges(),je>nt?(me.addRange(he),me.extend(oe.node,oe.offset)):(he.setEnd(oe.node,oe.offset),me.addRange(he))}}}}for(Ee=[],me=G;me=me.parentNode;)me.nodeType===1&&Ee.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Ee.length;G++){var we=Ee[G];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}na=!!ls,ss=ls=null}finally{Ze=R,ie.p=x,J.T=$}}m.current=_,xt=2}}function wf(){if(xt===2){xt=0;var m=Ln,_=qr,$=(_.flags&8772)!==0;if((_.subtreeFlags&8772)!==0||$){$=J.T,J.T=null;var x=ie.p;ie.p=2;var R=Ze;Ze|=4;try{ef(m,_.alternate,_)}finally{Ze=R,ie.p=x,J.T=$}}xt=3}}function xf(){if(xt===4||xt===3){xt=0,Pe();var m=Ln,_=qr,$=Gr,x=df;(_.subtreeFlags&10256)!==0||(_.flags&10256)!==0?xt=5:(xt=0,qr=Ln=null,Tf(m,m.pendingLanes));var R=m.pendingLanes;if(R===0&&(Fn=null),pa($),_=_.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot($t,_,void 0,(_.current.flags&128)===128)}catch(ee){}if(x!==null){_=J.T,R=ie.p,ie.p=2,J.T=null;try{for(var I=m.onRecoverableError,B=0;B<x.length;B++){var G=x[B];I(G.value,{componentStack:G.stack})}}finally{J.T=_,ie.p=R}}(Gr&3)!==0&&Ho(),sn(m),R=m.pendingLanes,($&4194090)!==0&&(R&42)!==0?m===Wl?Mi++:(Mi=0,Wl=m):Mi=0,Ni(0)}}function Tf(m,_){(m.pooledCacheLanes&=_)===0&&(_=m.pooledCache,_!=null&&(m.pooledCache=null,hi(_)))}function Ho(m){return $f(),wf(),xf(),Ef()}function Ef(){if(xt!==5)return!1;var m=Ln,_=Hl;Hl=0;var $=pa(Gr),x=J.T,R=ie.p;try{ie.p=32>$?32:$,J.T=null,$=zl,zl=null;var I=Ln,B=Gr;if(xt=0,qr=Ln=null,Gr=0,(Ze&6)!==0)throw Error(y(331));var G=Ze;if(Ze|=4,cf(I.current),lf(I,I.current,B,$),Ze=G,Ni(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot($t,I)}catch(ee){}return!0}finally{ie.p=R,J.T=x,Tf(m,_)}}function kf(m,_,$){_=Wt($,_),_=wl(m.stateNode,_,2),m=Rn(m,_,2),m!==null&&(Zr(m,2),sn(m))}function rt(m,_,$){if(m.tag===3)kf(m,m,$);else for(;_!==null;){if(_.tag===3){kf(_,m,$);break}else if(_.tag===1){var x=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Fn===null||!Fn.has(x))){m=Wt($,m),$=Pc(2),x=Rn(_,$,2),x!==null&&(Ic($,x,_,m),Zr(x,2),sn(x));break}}_=_.return}}function Xl(m,_,$){var x=m.pingCache;if(x===null){x=m.pingCache=new Dp;var R=new Set;x.set(_,R)}else R=x.get(_),R===void 0&&(R=new Set,x.set(_,R));R.has($)||(Bl=!0,R.add($),m=Up.bind(null,m,_,$),_.then(m,m))}function Up(m,_,$){var x=m.pingCache;x!==null&&x.delete(_),m.pingedLanes|=m.suspendedLanes&$,m.warmLanes&=~$,it===m&&(Ve&$)===$&&(st===4||st===3&&(Ve&62914560)===Ve&&300>Ce()-Gl?(Ze&2)===0&&Hr(m,0):Ul|=$,Ur===Ve&&(Ur=0)),sn(m)}function Rf(m,_){_===0&&(_=ws()),m=Tr(m,_),m!==null&&(Zr(m,_),sn(m))}function qp(m){var _=m.memoizedState,$=0;_!==null&&($=_.retryLane),Rf(m,$)}function Gp(m,_){var $=0;switch(m.tag){case 13:var x=m.stateNode,R=m.memoizedState;R!==null&&($=R.retryLane);break;case 19:x=m.stateNode;break;case 22:x=m.stateNode._retryCache;break;default:throw Error(y(314))}x!==null&&x.delete(_),Rf(m,$)}function Hp(m,_){return Se(m,_)}var zo=null,Wr=null,Kl=!1,Wo=!1,Zl=!1,cr=0;function sn(m){m!==Wr&&m.next===null&&(Wr===null?zo=Wr=m:Wr=Wr.next=m),Wo=!0,Kl||(Kl=!0,Wp())}function Ni(m,_){if(!Zl&&Wo){Zl=!0;do for(var $=!1,x=zo;x!==null;){if(m!==0){var R=x.pendingLanes;if(R===0)var I=0;else{var B=x.suspendedLanes,G=x.pingedLanes;I=(1<<31-yt(42|m)+1)-1,I&=R&~(B&~G),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&($=!0,Af(x,I))}else I=Ve,I=Xi(x,x===it?I:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(I&3)===0||Kr(x,I)||($=!0,Af(x,I));x=x.next}while($);Zl=!1}}function zp(){Cf()}function Cf(){Wo=Kl=!1;var m=0;cr!==0&&(eh()&&(m=cr),cr=0);for(var _=Ce(),$=null,x=zo;x!==null;){var R=x.next,I=Pf(x,_);I===0?(x.next=null,$===null?zo=R:$.next=R,R===null&&(Wr=$)):($=x,(m!==0||(I&3)!==0)&&(Wo=!0)),x=R}Ni(m)}function Pf(m,_){for(var $=m.suspendedLanes,x=m.pingedLanes,R=m.expirationTimes,I=m.pendingLanes&-62914561;0<I;){var B=31-yt(I),G=1<<B,ee=R[B];ee===-1?((G&$)===0||(G&x)!==0)&&(R[B]=bd(G,_)):ee<=_&&(m.expiredLanes|=G),I&=~G}if(_=it,$=Ve,$=Xi(m,m===_?$:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),x=m.callbackNode,$===0||m===_&&(Qe===2||Qe===9)||m.cancelPendingCommit!==null)return x!==null&&x!==null&&Oe(x),m.callbackNode=null,m.callbackPriority=0;if(($&3)===0||Kr(m,$)){if(_=$&-$,_===m.callbackPriority)return _;switch(x!==null&&Oe(x),pa($)){case 2:case 8:$=Me;break;case 32:$=Ue;break;case 268435456:$=Be;break;default:$=Ue}return x=If.bind(null,m),$=Se($,x),m.callbackPriority=_,m.callbackNode=$,_}return x!==null&&x!==null&&Oe(x),m.callbackPriority=2,m.callbackNode=null,2}function If(m,_){if(xt!==0&&xt!==5)return m.callbackNode=null,m.callbackPriority=0,null;var $=m.callbackNode;if(Ho()&&m.callbackNode!==$)return null;var x=Ve;return x=Xi(m,m===it?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),x===0?null:(hf(m,x,_),Pf(m,Ce()),m.callbackNode!=null&&m.callbackNode===$?If.bind(null,m):null)}function Af(m,_){if(Ho())return null;hf(m,_,!0)}function Wp(){nh(function(){(Ze&6)!==0?Se(Ke,zp):Cf()})}function Ql(){return cr===0&&(cr=$s()),cr}function Mf(m){return m==null||typeof m=="symbol"||typeof m=="boolean"?null:typeof m=="function"?m:to(""+m)}function Nf(m,_){var $=_.ownerDocument.createElement("input");return $.name=_.name,$.value=_.value,m.id&&$.setAttribute("form",m.id),_.parentNode.insertBefore($,_),m=new FormData(m),$.parentNode.removeChild($),m}function Vp(m,_,$,x,R){if(_==="submit"&&$&&$.stateNode===R){var I=Mf((R[Ct]||null).action),B=x.submitter;B&&(_=(_=B[Ct]||null)?Mf(_.formAction):B.getAttribute("formAction"),_!==null&&(I=_,B=null));var G=new oo("action","action",null,x,R);m.push({event:G,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(cr!==0){var ee=B?Nf(R,B):new FormData(R);ml($,{pending:!0,data:ee,method:R.method,action:I},null,ee)}}else typeof I=="function"&&(G.preventDefault(),ee=B?Nf(R,B):new FormData(R),ml($,{pending:!0,data:ee,method:R.method,action:I},I,ee))},currentTarget:R}]})}}for(var es=0;es<Fa.length;es++){var ts=Fa[es],Jp=ts.toLowerCase(),Yp=ts[0].toUpperCase()+ts.slice(1);Qt(Jp,"on"+Yp)}Qt(pu,"onAnimationEnd"),Qt(hu,"onAnimationIteration"),Qt(yu,"onAnimationStart"),Qt("dblclick","onDoubleClick"),Qt("focusin","onFocus"),Qt("focusout","onBlur"),Qt(dp,"onTransitionRun"),Qt(pp,"onTransitionStart"),Qt(hp,"onTransitionCancel"),Qt(gu,"onTransitionEnd"),gr("onMouseEnter",["mouseout","mouseover"]),gr("onMouseLeave",["mouseout","mouseover"]),gr("onPointerEnter",["pointerout","pointerover"]),gr("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Di));function Df(m,_){_=(_&4)!==0;for(var $=0;$<m.length;$++){var x=m[$],R=x.event;x=x.listeners;e:{var I=void 0;if(_)for(var B=x.length-1;0<=B;B--){var G=x[B],ee=G.instance,ye=G.currentTarget;if(G=G.listener,ee!==I&&R.isPropagationStopped())break e;I=G,R.currentTarget=ye;try{I(R)}catch(_e){Ao(_e)}R.currentTarget=null,I=ee}else for(B=0;B<x.length;B++){if(G=x[B],ee=G.instance,ye=G.currentTarget,G=G.listener,ee!==I&&R.isPropagationStopped())break e;I=G,R.currentTarget=ye;try{I(R)}catch(_e){Ao(_e)}R.currentTarget=null,I=ee}}}}function We(m,_){var $=_[ha];$===void 0&&($=_[ha]=new Set);var x=m+"__bubble";$.has(x)||(jf(_,m,2,!1),$.add(x))}function ns(m,_,$){var x=0;_&&(x|=4),jf($,m,x,_)}var Vo="_reactListening"+Math.random().toString(36).slice(2);function rs(m){if(!m[Vo]){m[Vo]=!0,Rs.forEach(function($){$!=="selectionchange"&&(Xp.has($)||ns($,!1,m),ns($,!0,m))});var _=m.nodeType===9?m:m.ownerDocument;_===null||_[Vo]||(_[Vo]=!0,ns("selectionchange",!1,_))}}function jf(m,_,$,x){switch(ld(_)){case 2:var R=$h;break;case 8:R=wh;break;default:R=vs}$=R.bind(null,_,$,m),R=void 0,!xa||_!=="touchstart"&&_!=="touchmove"&&_!=="wheel"||(R=!0),x?R!==void 0?m.addEventListener(_,$,{capture:!0,passive:R}):m.addEventListener(_,$,!0):R!==void 0?m.addEventListener(_,$,{passive:R}):m.addEventListener(_,$,!1)}function os(m,_,$,x,R){var I=x;if((_&1)===0&&(_&2)===0&&x!==null)e:for(;;){if(x===null)return;var B=x.tag;if(B===3||B===4){var G=x.stateNode.containerInfo;if(G===R)break;if(B===4)for(B=x.return;B!==null;){var ee=B.tag;if((ee===3||ee===4)&&B.stateNode.containerInfo===R)return;B=B.return}for(;G!==null;){if(B=pr(G),B===null)return;if(ee=B.tag,ee===5||ee===6||ee===26||ee===27){x=I=B;continue e}G=G.parentNode}}x=x.return}Gs(function(){var ye=I,_e=$a($),Ee=[];e:{var be=bu.get(m);if(be!==void 0){var me=oo,Le=m;switch(m){case"keypress":if(ro($)===0)break e;case"keydown":case"keyup":me=Hd;break;case"focusin":Le="focus",me=Ra;break;case"focusout":Le="blur",me=Ra;break;case"beforeblur":case"afterblur":me=Ra;break;case"click":if($.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Id;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Vd;break;case pu:case hu:case yu:me=Nd;break;case gu:me=Yd;break;case"scroll":case"scrollend":me=Cd;break;case"wheel":me=Kd;break;case"copy":case"cut":case"paste":me=jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Js;break;case"toggle":case"beforetoggle":me=Qd}var je=(_&4)!==0,nt=!je&&(m==="scroll"||m==="scrollend"),ce=je?be!==null?be+"Capture":null:be;je=[];for(var oe=ye,he;oe!==null;){var we=oe;if(he=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||he===null||ce===null||(we=ti(oe,ce),we!=null&&je.push(ji(oe,we,he))),nt)break;oe=oe.return}0<je.length&&(be=new me(be,Le,null,$,_e),Ee.push({event:be,listeners:je}))}}if((_&7)===0){e:{if(be=m==="mouseover"||m==="pointerover",me=m==="mouseout"||m==="pointerout",be&&$!==Oa&&(Le=$.relatedTarget||$.fromElement)&&(pr(Le)||Le[dr]))break e;if((me||be)&&(be=_e.window===_e?_e:(be=_e.ownerDocument)?be.defaultView||be.parentWindow:window,me?(Le=$.relatedTarget||$.toElement,me=ye,Le=Le?pr(Le):null,Le!==null&&(nt=b(Le),je=Le.tag,Le!==nt||je!==5&&je!==27&&je!==6)&&(Le=null)):(me=null,Le=ye),me!==Le)){if(je=Ws,we="onMouseLeave",ce="onMouseEnter",oe="mouse",(m==="pointerout"||m==="pointerover")&&(je=Js,we="onPointerLeave",ce="onPointerEnter",oe="pointer"),nt=me==null?be:ei(me),he=Le==null?be:ei(Le),be=new je(we,oe+"leave",me,$,_e),be.target=nt,be.relatedTarget=he,we=null,pr(_e)===ye&&(je=new je(ce,oe+"enter",Le,$,_e),je.target=he,je.relatedTarget=nt,we=je),nt=we,me&&Le)t:{for(je=me,ce=Le,oe=0,he=je;he;he=Vr(he))oe++;for(he=0,we=ce;we;we=Vr(we))he++;for(;0<oe-he;)je=Vr(je),oe--;for(;0<he-oe;)ce=Vr(ce),he--;for(;oe--;){if(je===ce||ce!==null&&je===ce.alternate)break t;je=Vr(je),ce=Vr(ce)}je=null}else je=null;me!==null&&Ff(Ee,be,me,je,!1),Le!==null&&nt!==null&&Ff(Ee,nt,Le,je,!0)}}e:{if(be=ye?ei(ye):window,me=be.nodeName&&be.nodeName.toLowerCase(),me==="select"||me==="input"&&be.type==="file")var Ie=nu;else if(eu(be))if(ru)Ie=up;else{Ie=lp;var He=ap}else me=be.nodeName,!me||me.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?ye&&_a(ye.elementType)&&(Ie=nu):Ie=sp;if(Ie&&(Ie=Ie(m,ye))){tu(Ee,Ie,$,_e);break e}He&&He(m,be,ye),m==="focusout"&&ye&&be.type==="number"&&ye.memoizedProps.value!=null&&Sa(be,"number",be.value)}switch(He=ye?ei(ye):window,m){case"focusin":(eu(He)||He.contentEditable==="true")&&($r=He,Na=ye,ui=null);break;case"focusout":ui=Na=$r=null;break;case"mousedown":Da=!0;break;case"contextmenu":case"mouseup":case"dragend":Da=!1,fu(Ee,$,_e);break;case"selectionchange":if(fp)break;case"keydown":case"keyup":fu(Ee,$,_e)}var Ae;if(Pa)e:{switch(m){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Or?Zs(m,$)&&(Fe="onCompositionEnd"):m==="keydown"&&$.keyCode===229&&(Fe="onCompositionStart");Fe&&(Ys&&$.locale!=="ko"&&(Or||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Or&&(Ae=Hs()):(xn=_e,Ta="value"in xn?xn.value:xn.textContent,Or=!0)),He=Jo(ye,Fe),0<He.length&&(Fe=new Vs(Fe,m,null,$,_e),Ee.push({event:Fe,listeners:He}),Ae?Fe.data=Ae:(Ae=Qs($),Ae!==null&&(Fe.data=Ae)))),(Ae=tp?np(m,$):rp(m,$))&&(Fe=Jo(ye,"onBeforeInput"),0<Fe.length&&(He=new Vs("onBeforeInput","beforeinput",null,$,_e),Ee.push({event:He,listeners:Fe}),He.data=Ae)),Vp(Ee,m,ye,$,_e)}Df(Ee,_)})}function ji(m,_,$){return{instance:m,listener:_,currentTarget:$}}function Jo(m,_){for(var $=_+"Capture",x=[];m!==null;){var R=m,I=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||I===null||(R=ti(m,$),R!=null&&x.unshift(ji(m,R,I)),R=ti(m,_),R!=null&&x.push(ji(m,R,I))),m.tag===3)return x;m=m.return}return[]}function Vr(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5&&m.tag!==27);return m||null}function Ff(m,_,$,x,R){for(var I=_._reactName,B=[];$!==null&&$!==x;){var G=$,ee=G.alternate,ye=G.stateNode;if(G=G.tag,ee!==null&&ee===x)break;G!==5&&G!==26&&G!==27||ye===null||(ee=ye,R?(ye=ti($,I),ye!=null&&B.unshift(ji($,ye,ee))):R||(ye=ti($,I),ye!=null&&B.push(ji($,ye,ee)))),$=$.return}B.length!==0&&m.push({event:_,listeners:B})}var Kp=/\r\n?/g,Zp=/\u0000|\uFFFD/g;function Lf(m){return(typeof m=="string"?m:""+m).replace(Kp,`
`).replace(Zp,"")}function Bf(m,_){return _=Lf(_),Lf(m)===_}function Yo(){}function tt(m,_,$,x,R,I){switch($){case"children":typeof x=="string"?_==="body"||_==="textarea"&&x===""||mr(m,x):(typeof x=="number"||typeof x=="bigint")&&_!=="body"&&mr(m,""+x);break;case"className":Zi(m,"class",x);break;case"tabIndex":Zi(m,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Zi(m,$,x);break;case"style":Us(m,x,I);break;case"data":if(_!=="object"){Zi(m,"data",x);break}case"src":case"href":if(x===""&&(_!=="a"||$!=="href")){m.removeAttribute($);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){m.removeAttribute($);break}x=to(""+x),m.setAttribute($,x);break;case"action":case"formAction":if(typeof x=="function"){m.setAttribute($,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&($==="formAction"?(_!=="input"&&tt(m,_,"name",R.name,R,null),tt(m,_,"formEncType",R.formEncType,R,null),tt(m,_,"formMethod",R.formMethod,R,null),tt(m,_,"formTarget",R.formTarget,R,null)):(tt(m,_,"encType",R.encType,R,null),tt(m,_,"method",R.method,R,null),tt(m,_,"target",R.target,R,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){m.removeAttribute($);break}x=to(""+x),m.setAttribute($,x);break;case"onClick":x!=null&&(m.onclick=Yo);break;case"onScroll":x!=null&&We("scroll",m);break;case"onScrollEnd":x!=null&&We("scrollend",m);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(y(61));if($=x.__html,$!=null){if(R.children!=null)throw Error(y(60));m.innerHTML=$}}break;case"multiple":m.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":m.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){m.removeAttribute("xlink:href");break}$=to(""+x),m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",$);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?m.setAttribute($,""+x):m.removeAttribute($);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?m.setAttribute($,""):m.removeAttribute($);break;case"capture":case"download":x===!0?m.setAttribute($,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?m.setAttribute($,x):m.removeAttribute($);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?m.setAttribute($,x):m.removeAttribute($);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?m.removeAttribute($):m.setAttribute($,x);break;case"popover":We("beforetoggle",m),We("toggle",m),Ki(m,"popover",x);break;case"xlinkActuate":un(m,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":un(m,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":un(m,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":un(m,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":un(m,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":un(m,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":un(m,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":un(m,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":un(m,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Ki(m,"is",x);break;case"innerText":case"textContent":break;default:(!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&($=kd.get($)||$,Ki(m,$,x))}}function as(m,_,$,x,R,I){switch($){case"style":Us(m,x,I);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(y(61));if($=x.__html,$!=null){if(R.children!=null)throw Error(y(60));m.innerHTML=$}}break;case"children":typeof x=="string"?mr(m,x):(typeof x=="number"||typeof x=="bigint")&&mr(m,""+x);break;case"onScroll":x!=null&&We("scroll",m);break;case"onScrollEnd":x!=null&&We("scrollend",m);break;case"onClick":x!=null&&(m.onclick=Yo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cs.hasOwnProperty($))e:{if($[0]==="o"&&$[1]==="n"&&(R=$.endsWith("Capture"),_=$.slice(2,R?$.length-7:void 0),I=m[Ct]||null,I=I!=null?I[$]:null,typeof I=="function"&&m.removeEventListener(_,I,R),typeof x=="function")){typeof I!="function"&&I!==null&&($ in m?m[$]=null:m.hasAttribute($)&&m.removeAttribute($)),m.addEventListener(_,x,R);break e}$ in m?m[$]=x:x===!0?m.setAttribute($,""):Ki(m,$,x)}}}function Tt(m,_,$){switch(_){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",m),We("load",m);var x=!1,R=!1,I;for(I in $)if($.hasOwnProperty(I)){var B=$[I];if(B!=null)switch(I){case"src":x=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(y(137,_));default:tt(m,_,I,B,$,null)}}R&&tt(m,_,"srcSet",$.srcSet,$,null),x&&tt(m,_,"src",$.src,$,null);return;case"input":We("invalid",m);var G=I=B=R=null,ee=null,ye=null;for(x in $)if($.hasOwnProperty(x)){var _e=$[x];if(_e!=null)switch(x){case"name":R=_e;break;case"type":B=_e;break;case"checked":ee=_e;break;case"defaultChecked":ye=_e;break;case"value":I=_e;break;case"defaultValue":G=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(y(137,_));break;default:tt(m,_,x,_e,$,null)}}js(m,I,G,ee,ye,B,R,!1),Qi(m);return;case"select":We("invalid",m),x=B=I=null;for(R in $)if($.hasOwnProperty(R)&&(G=$[R],G!=null))switch(R){case"value":I=G;break;case"defaultValue":B=G;break;case"multiple":x=G;default:tt(m,_,R,G,$,null)}_=I,$=B,m.multiple=!!x,_!=null?vr(m,!!x,_,!1):$!=null&&vr(m,!!x,$,!0);return;case"textarea":We("invalid",m),I=R=x=null;for(B in $)if($.hasOwnProperty(B)&&(G=$[B],G!=null))switch(B){case"value":x=G;break;case"defaultValue":R=G;break;case"children":I=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(y(91));break;default:tt(m,_,B,G,$,null)}Ls(m,x,R,I),Qi(m);return;case"option":for(ee in $)if($.hasOwnProperty(ee)&&(x=$[ee],x!=null))switch(ee){case"selected":m.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:tt(m,_,ee,x,$,null)}return;case"dialog":We("beforetoggle",m),We("toggle",m),We("cancel",m),We("close",m);break;case"iframe":case"object":We("load",m);break;case"video":case"audio":for(x=0;x<Di.length;x++)We(Di[x],m);break;case"image":We("error",m),We("load",m);break;case"details":We("toggle",m);break;case"embed":case"source":case"link":We("error",m),We("load",m);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ye in $)if($.hasOwnProperty(ye)&&(x=$[ye],x!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":throw Error(y(137,_));default:tt(m,_,ye,x,$,null)}return;default:if(_a(_)){for(_e in $)$.hasOwnProperty(_e)&&(x=$[_e],x!==void 0&&as(m,_,_e,x,$,void 0));return}}for(G in $)$.hasOwnProperty(G)&&(x=$[G],x!=null&&tt(m,_,G,x,$,null))}function Qp(m,_,$,x){switch(_){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,I=null,B=null,G=null,ee=null,ye=null,_e=null;for(me in $){var Ee=$[me];if($.hasOwnProperty(me)&&Ee!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":ee=Ee;default:x.hasOwnProperty(me)||tt(m,_,me,null,x,Ee)}}for(var be in x){var me=x[be];if(Ee=$[be],x.hasOwnProperty(be)&&(me!=null||Ee!=null))switch(be){case"type":I=me;break;case"name":R=me;break;case"checked":ye=me;break;case"defaultChecked":_e=me;break;case"value":B=me;break;case"defaultValue":G=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(y(137,_));break;default:me!==Ee&&tt(m,_,be,me,x,Ee)}}ma(m,B,G,ee,ye,_e,I,R);return;case"select":me=B=G=be=null;for(I in $)if(ee=$[I],$.hasOwnProperty(I)&&ee!=null)switch(I){case"value":break;case"multiple":me=ee;default:x.hasOwnProperty(I)||tt(m,_,I,null,x,ee)}for(R in x)if(I=x[R],ee=$[R],x.hasOwnProperty(R)&&(I!=null||ee!=null))switch(R){case"value":be=I;break;case"defaultValue":G=I;break;case"multiple":B=I;default:I!==ee&&tt(m,_,R,I,x,ee)}_=G,$=B,x=me,be!=null?vr(m,!!$,be,!1):!!x!=!!$&&(_!=null?vr(m,!!$,_,!0):vr(m,!!$,$?[]:"",!1));return;case"textarea":me=be=null;for(G in $)if(R=$[G],$.hasOwnProperty(G)&&R!=null&&!x.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:tt(m,_,G,null,x,R)}for(B in x)if(R=x[B],I=$[B],x.hasOwnProperty(B)&&(R!=null||I!=null))switch(B){case"value":be=R;break;case"defaultValue":me=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(y(91));break;default:R!==I&&tt(m,_,B,R,x,I)}Fs(m,be,me);return;case"option":for(var Le in $)if(be=$[Le],$.hasOwnProperty(Le)&&be!=null&&!x.hasOwnProperty(Le))switch(Le){case"selected":m.selected=!1;break;default:tt(m,_,Le,null,x,be)}for(ee in x)if(be=x[ee],me=$[ee],x.hasOwnProperty(ee)&&be!==me&&(be!=null||me!=null))switch(ee){case"selected":m.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:tt(m,_,ee,be,x,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in $)be=$[je],$.hasOwnProperty(je)&&be!=null&&!x.hasOwnProperty(je)&&tt(m,_,je,null,x,be);for(ye in x)if(be=x[ye],me=$[ye],x.hasOwnProperty(ye)&&be!==me&&(be!=null||me!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(y(137,_));break;default:tt(m,_,ye,be,x,me)}return;default:if(_a(_)){for(var nt in $)be=$[nt],$.hasOwnProperty(nt)&&be!==void 0&&!x.hasOwnProperty(nt)&&as(m,_,nt,void 0,x,be);for(_e in x)be=x[_e],me=$[_e],!x.hasOwnProperty(_e)||be===me||be===void 0&&me===void 0||as(m,_,_e,be,x,me);return}}for(var ce in $)be=$[ce],$.hasOwnProperty(ce)&&be!=null&&!x.hasOwnProperty(ce)&&tt(m,_,ce,null,x,be);for(Ee in x)be=x[Ee],me=$[Ee],!x.hasOwnProperty(Ee)||be===me||be==null&&me==null||tt(m,_,Ee,be,x,me)}var ls=null,ss=null;function Xo(m){return m.nodeType===9?m:m.ownerDocument}function Uf(m){switch(m){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qf(m,_){if(m===0)switch(_){case"svg":return 1;case"math":return 2;default:return 0}return m===1&&_==="foreignObject"?0:m}function us(m,_){return m==="textarea"||m==="noscript"||typeof _.children=="string"||typeof _.children=="number"||typeof _.children=="bigint"||typeof _.dangerouslySetInnerHTML=="object"&&_.dangerouslySetInnerHTML!==null&&_.dangerouslySetInnerHTML.__html!=null}var cs=null;function eh(){var m=window.event;return m&&m.type==="popstate"?m===cs?!1:(cs=m,!0):(cs=null,!1)}var Gf=typeof setTimeout=="function"?setTimeout:void 0,th=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,nh=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf!="undefined"?function(m){return Hf.resolve(null).then(m).catch(rh)}:Gf;function rh(m){setTimeout(function(){throw m})}function Un(m){return m==="head"}function zf(m,_){var $=_,x=0,R=0;do{var I=$.nextSibling;if(m.removeChild($),I&&I.nodeType===8)if($=I.data,$==="/$"){if(0<x&&8>x){$=x;var B=m.ownerDocument;if($&1&&Fi(B.documentElement),$&2&&Fi(B.body),$&4)for($=B.head,Fi($),B=$.firstChild;B;){var G=B.nextSibling,ee=B.nodeName;B[Qr]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&B.rel.toLowerCase()==="stylesheet"||$.removeChild(B),B=G}}if(R===0){m.removeChild(I),Vi(_);return}R--}else $==="$"||$==="$?"||$==="$!"?R++:x=$.charCodeAt(0)-48;else x=0;$=I}while($);Vi(_)}function fs(m){var _=m.firstChild;for(_&&_.nodeType===10&&(_=_.nextSibling);_;){var $=_;switch(_=_.nextSibling,$.nodeName){case"HTML":case"HEAD":case"BODY":fs($),ya($);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if($.rel.toLowerCase()==="stylesheet")continue}m.removeChild($)}}function ih(m,_,$,x){for(;m.nodeType===1;){var R=$;if(m.nodeName.toLowerCase()!==_.toLowerCase()){if(!x&&(m.nodeName!=="INPUT"||m.type!=="hidden"))break}else if(x){if(!m[Qr])switch(_){case"meta":if(!m.hasAttribute("itemprop"))break;return m;case"link":if(I=m.getAttribute("rel"),I==="stylesheet"&&m.hasAttribute("data-precedence"))break;if(I!==R.rel||m.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||m.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||m.getAttribute("title")!==(R.title==null?null:R.title))break;return m;case"style":if(m.hasAttribute("data-precedence"))break;return m;case"script":if(I=m.getAttribute("src"),(I!==(R.src==null?null:R.src)||m.getAttribute("type")!==(R.type==null?null:R.type)||m.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&I&&m.hasAttribute("async")&&!m.hasAttribute("itemprop"))break;return m;default:return m}}else if(_==="input"&&m.type==="hidden"){var I=R.name==null?null:""+R.name;if(R.type==="hidden"&&m.getAttribute("name")===I)return m}else return m;if(m=tn(m.nextSibling),m===null)break}return null}function oh(m,_,$){if(_==="")return null;for(;m.nodeType!==3;)if((m.nodeType!==1||m.nodeName!=="INPUT"||m.type!=="hidden")&&!$||(m=tn(m.nextSibling),m===null))return null;return m}function ds(m){return m.data==="$!"||m.data==="$?"&&m.ownerDocument.readyState==="complete"}function ah(m,_){var $=m.ownerDocument;if(m.data!=="$?"||$.readyState==="complete")_();else{var x=function(){_(),$.removeEventListener("DOMContentLoaded",x)};$.addEventListener("DOMContentLoaded",x),m._reactRetry=x}}function tn(m){for(;m!=null;m=m.nextSibling){var _=m.nodeType;if(_===1||_===3)break;if(_===8){if(_=m.data,_==="$"||_==="$!"||_==="$?"||_==="F!"||_==="F")break;if(_==="/$")return null}}return m}var ps=null;function Wf(m){m=m.previousSibling;for(var _=0;m;){if(m.nodeType===8){var $=m.data;if($==="$"||$==="$!"||$==="$?"){if(_===0)return m;_--}else $==="/$"&&_++}m=m.previousSibling}return null}function Vf(m,_,$){switch(_=Xo($),m){case"html":if(m=_.documentElement,!m)throw Error(y(452));return m;case"head":if(m=_.head,!m)throw Error(y(453));return m;case"body":if(m=_.body,!m)throw Error(y(454));return m;default:throw Error(y(451))}}function Fi(m){for(var _=m.attributes;_.length;)m.removeAttributeNode(_[0]);ya(m)}var Zt=new Map,Jf=new Set;function Ko(m){return typeof m.getRootNode=="function"?m.getRootNode():m.nodeType===9?m:m.ownerDocument}var $n=ie.d;ie.d={f:lh,r:sh,D:uh,C:ch,L:fh,m:dh,X:hh,S:ph,M:yh};function lh(){var m=$n.f(),_=qo();return m||_}function sh(m){var _=hr(m);_!==null&&_.tag===5&&_.type==="form"?pc(_):$n.r(m)}var Jr=typeof document=="undefined"?null:document;function Yf(m,_,$){var x=Jr;if(x&&typeof _=="string"&&_){var R=zt(_);R='link[rel="'+m+'"][href="'+R+'"]',typeof $=="string"&&(R+='[crossorigin="'+$+'"]'),Jf.has(R)||(Jf.add(R),m={rel:m,crossOrigin:$,href:_},x.querySelector(R)===null&&(_=x.createElement("link"),Tt(_,"link",m),mt(_),x.head.appendChild(_)))}}function uh(m){$n.D(m),Yf("dns-prefetch",m,null)}function ch(m,_){$n.C(m,_),Yf("preconnect",m,_)}function fh(m,_,$){$n.L(m,_,$);var x=Jr;if(x&&m&&_){var R='link[rel="preload"][as="'+zt(_)+'"]';_==="image"&&$&&$.imageSrcSet?(R+='[imagesrcset="'+zt($.imageSrcSet)+'"]',typeof $.imageSizes=="string"&&(R+='[imagesizes="'+zt($.imageSizes)+'"]')):R+='[href="'+zt(m)+'"]';var I=R;switch(_){case"style":I=Yr(m);break;case"script":I=Xr(m)}Zt.has(I)||(m=T({rel:"preload",href:_==="image"&&$&&$.imageSrcSet?void 0:m,as:_},$),Zt.set(I,m),x.querySelector(R)!==null||_==="style"&&x.querySelector(Li(I))||_==="script"&&x.querySelector(Bi(I))||(_=x.createElement("link"),Tt(_,"link",m),mt(_),x.head.appendChild(_)))}}function dh(m,_){$n.m(m,_);var $=Jr;if($&&m){var x=_&&typeof _.as=="string"?_.as:"script",R='link[rel="modulepreload"][as="'+zt(x)+'"][href="'+zt(m)+'"]',I=R;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=Xr(m)}if(!Zt.has(I)&&(m=T({rel:"modulepreload",href:m},_),Zt.set(I,m),$.querySelector(R)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if($.querySelector(Bi(I)))return}x=$.createElement("link"),Tt(x,"link",m),mt(x),$.head.appendChild(x)}}}function ph(m,_,$){$n.S(m,_,$);var x=Jr;if(x&&m){var R=yr(x).hoistableStyles,I=Yr(m);_=_||"default";var B=R.get(I);if(!B){var G={loading:0,preload:null};if(B=x.querySelector(Li(I)))G.loading=5;else{m=T({rel:"stylesheet",href:m,"data-precedence":_},$),($=Zt.get(I))&&hs(m,$);var ee=B=x.createElement("link");mt(ee),Tt(ee,"link",m),ee._p=new Promise(function(ye,_e){ee.onload=ye,ee.onerror=_e}),ee.addEventListener("load",function(){G.loading|=1}),ee.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Zo(B,_,x)}B={type:"stylesheet",instance:B,count:1,state:G},R.set(I,B)}}}function hh(m,_){$n.X(m,_);var $=Jr;if($&&m){var x=yr($).hoistableScripts,R=Xr(m),I=x.get(R);I||(I=$.querySelector(Bi(R)),I||(m=T({src:m,async:!0},_),(_=Zt.get(R))&&ys(m,_),I=$.createElement("script"),mt(I),Tt(I,"link",m),$.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},x.set(R,I))}}function yh(m,_){$n.M(m,_);var $=Jr;if($&&m){var x=yr($).hoistableScripts,R=Xr(m),I=x.get(R);I||(I=$.querySelector(Bi(R)),I||(m=T({src:m,async:!0,type:"module"},_),(_=Zt.get(R))&&ys(m,_),I=$.createElement("script"),mt(I),Tt(I,"link",m),$.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},x.set(R,I))}}function Xf(m,_,$,x){var R=(R=ve.current)?Ko(R):null;if(!R)throw Error(y(446));switch(m){case"meta":case"title":return null;case"style":return typeof $.precedence=="string"&&typeof $.href=="string"?(_=Yr($.href),$=yr(R).hoistableStyles,x=$.get(_),x||(x={type:"style",instance:null,count:0,state:null},$.set(_,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if($.rel==="stylesheet"&&typeof $.href=="string"&&typeof $.precedence=="string"){m=Yr($.href);var I=yr(R).hoistableStyles,B=I.get(m);if(B||(R=R.ownerDocument||R,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(m,B),(I=R.querySelector(Li(m)))&&!I._p&&(B.instance=I,B.state.loading=5),Zt.has(m)||($={rel:"preload",as:"style",href:$.href,crossOrigin:$.crossOrigin,integrity:$.integrity,media:$.media,hrefLang:$.hrefLang,referrerPolicy:$.referrerPolicy},Zt.set(m,$),I||gh(R,m,$,B.state))),_&&x===null)throw Error(y(528,""));return B}if(_&&x!==null)throw Error(y(529,""));return null;case"script":return _=$.async,$=$.src,typeof $=="string"&&_&&typeof _!="function"&&typeof _!="symbol"?(_=Xr($),$=yr(R).hoistableScripts,x=$.get(_),x||(x={type:"script",instance:null,count:0,state:null},$.set(_,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(y(444,m))}}function Yr(m){return'href="'+zt(m)+'"'}function Li(m){return'link[rel="stylesheet"]['+m+"]"}function Kf(m){return T({},m,{"data-precedence":m.precedence,precedence:null})}function gh(m,_,$,x){m.querySelector('link[rel="preload"][as="style"]['+_+"]")?x.loading=1:(_=m.createElement("link"),x.preload=_,_.addEventListener("load",function(){return x.loading|=1}),_.addEventListener("error",function(){return x.loading|=2}),Tt(_,"link",$),mt(_),m.head.appendChild(_))}function Xr(m){return'[src="'+zt(m)+'"]'}function Bi(m){return"script[async]"+m}function Zf(m,_,$){if(_.count++,_.instance===null)switch(_.type){case"style":var x=m.querySelector('style[data-href~="'+zt($.href)+'"]');if(x)return _.instance=x,mt(x),x;var R=T({},$,{"data-href":$.href,"data-precedence":$.precedence,href:null,precedence:null});return x=(m.ownerDocument||m).createElement("style"),mt(x),Tt(x,"style",R),Zo(x,$.precedence,m),_.instance=x;case"stylesheet":R=Yr($.href);var I=m.querySelector(Li(R));if(I)return _.state.loading|=4,_.instance=I,mt(I),I;x=Kf($),(R=Zt.get(R))&&hs(x,R),I=(m.ownerDocument||m).createElement("link"),mt(I);var B=I;return B._p=new Promise(function(G,ee){B.onload=G,B.onerror=ee}),Tt(I,"link",x),_.state.loading|=4,Zo(I,$.precedence,m),_.instance=I;case"script":return I=Xr($.src),(R=m.querySelector(Bi(I)))?(_.instance=R,mt(R),R):(x=$,(R=Zt.get(I))&&(x=T({},$),ys(x,R)),m=m.ownerDocument||m,R=m.createElement("script"),mt(R),Tt(R,"link",x),m.head.appendChild(R),_.instance=R);case"void":return null;default:throw Error(y(443,_.type))}else _.type==="stylesheet"&&(_.state.loading&4)===0&&(x=_.instance,_.state.loading|=4,Zo(x,$.precedence,m));return _.instance}function Zo(m,_,$){for(var x=$.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=x.length?x[x.length-1]:null,I=R,B=0;B<x.length;B++){var G=x[B];if(G.dataset.precedence===_)I=G;else if(I!==R)break}I?I.parentNode.insertBefore(m,I.nextSibling):(_=$.nodeType===9?$.head:$,_.insertBefore(m,_.firstChild))}function hs(m,_){m.crossOrigin==null&&(m.crossOrigin=_.crossOrigin),m.referrerPolicy==null&&(m.referrerPolicy=_.referrerPolicy),m.title==null&&(m.title=_.title)}function ys(m,_){m.crossOrigin==null&&(m.crossOrigin=_.crossOrigin),m.referrerPolicy==null&&(m.referrerPolicy=_.referrerPolicy),m.integrity==null&&(m.integrity=_.integrity)}var Qo=null;function Qf(m,_,$){if(Qo===null){var x=new Map,R=Qo=new Map;R.set($,x)}else R=Qo,x=R.get($),x||(x=new Map,R.set($,x));if(x.has(m))return x;for(x.set(m,null),$=$.getElementsByTagName(m),R=0;R<$.length;R++){var I=$[R];if(!(I[Qr]||I[Et]||m==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var B=I.getAttribute(_)||"";B=m+B;var G=x.get(B);G?G.push(I):x.set(B,[I])}}return x}function ed(m,_,$){m=m.ownerDocument||m,m.head.insertBefore($,_==="title"?m.querySelector("head > title"):null)}function bh(m,_,$){if($===1||_.itemProp!=null)return!1;switch(m){case"meta":case"title":return!0;case"style":if(typeof _.precedence!="string"||typeof _.href!="string"||_.href==="")break;return!0;case"link":if(typeof _.rel!="string"||typeof _.href!="string"||_.href===""||_.onLoad||_.onError)break;switch(_.rel){case"stylesheet":return m=_.disabled,typeof _.precedence=="string"&&m==null;default:return!0}case"script":if(_.async&&typeof _.async!="function"&&typeof _.async!="symbol"&&!_.onLoad&&!_.onError&&_.src&&typeof _.src=="string")return!0}return!1}function td(m){return!(m.type==="stylesheet"&&(m.state.loading&3)===0)}var qi=null;function vh(){}function mh(m,_,$){if(qi===null)throw Error(y(475));var x=qi;if(_.type==="stylesheet"&&(typeof $.media!="string"||matchMedia($.media).matches!==!1)&&(_.state.loading&4)===0){if(_.instance===null){var R=Yr($.href),I=m.querySelector(Li(R));if(I){m=I._p,m!==null&&typeof m=="object"&&typeof m.then=="function"&&(x.count++,x=ea.bind(x),m.then(x,x)),_.state.loading|=4,_.instance=I,mt(I);return}I=m.ownerDocument||m,$=Kf($),(R=Zt.get(R))&&hs($,R),I=I.createElement("link"),mt(I);var B=I;B._p=new Promise(function(G,ee){B.onload=G,B.onerror=ee}),Tt(I,"link",$),_.instance=I}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(_,m),(m=_.state.preload)&&(_.state.loading&3)===0&&(x.count++,_=ea.bind(x),m.addEventListener("load",_),m.addEventListener("error",_))}}function Sh(){if(qi===null)throw Error(y(475));var m=qi;return m.stylesheets&&m.count===0&&gs(m,m.stylesheets),0<m.count?function(_){var $=setTimeout(function(){if(m.stylesheets&&gs(m,m.stylesheets),m.unsuspend){var x=m.unsuspend;m.unsuspend=null,x()}},6e4);return m.unsuspend=_,function(){m.unsuspend=null,clearTimeout($)}}:null}function ea(){if(this.count--,this.count===0){if(this.stylesheets)gs(this,this.stylesheets);else if(this.unsuspend){var m=this.unsuspend;this.unsuspend=null,m()}}}var ta=null;function gs(m,_){m.stylesheets=null,m.unsuspend!==null&&(m.count++,ta=new Map,_.forEach(_h,m),ta=null,ea.call(m))}function _h(m,_){if(!(_.state.loading&4)){var $=ta.get(m);if($)var x=$.get(null);else{$=new Map,ta.set(m,$);for(var R=m.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<R.length;I++){var B=R[I];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&($.set(B.dataset.precedence,B),x=B)}x&&$.set(null,x)}R=_.instance,B=R.getAttribute("data-precedence"),I=$.get(B)||x,I===x&&$.set(null,R),$.set(B,R),this.count++,x=ea.bind(this),R.addEventListener("load",x),R.addEventListener("error",x),I?I.parentNode.insertBefore(R,I.nextSibling):(m=m.nodeType===9?m.head:m,m.insertBefore(R,m.firstChild)),_.state.loading|=4}}var Gi={$$typeof:j,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function Oh(m,_,$,x,R,I,B,G){this.tag=1,this.containerInfo=m,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.hiddenUpdates=fa(null),this.identifierPrefix=x,this.onUncaughtError=R,this.onCaughtError=I,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function nd(m,_,$,x,R,I,B,G,ee,ye,_e,Ee){return m=new Oh(m,_,$,B,G,ee,ye,Ee),_=1,I===!0&&(_|=24),I=jt(3,null,null,_),m.current=I,I.stateNode=m,_=Xa(),_.refCount++,m.pooledCache=_,_.refCount++,I.memoizedState={element:x,isDehydrated:$,cache:_},el(I),m}function rd(m){return m?(m=Er,m):Er}function id(m,_,$,x,R,I){R=rd(R),x.context===null?x.context=R:x.pendingContext=R,x=kn(_),x.payload={element:$},I=I===void 0?null:I,I!==null&&(x.callback=I),$=Rn(m,x,_),$!==null&&(qt($,m,_),vi($,m,_))}function od(m,_){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var $=m.retryLane;m.retryLane=$!==0&&$<_?$:_}}function bs(m,_){od(m,_),(m=m.alternate)&&od(m,_)}function ad(m){if(m.tag===13){var _=Tr(m,67108864);_!==null&&qt(_,m,67108864),bs(m,67108864)}}var na=!0;function $h(m,_,$,x){var R=J.T;J.T=null;var I=ie.p;try{ie.p=2,vs(m,_,$,x)}finally{ie.p=I,J.T=R}}function wh(m,_,$,x){var R=J.T;J.T=null;var I=ie.p;try{ie.p=8,vs(m,_,$,x)}finally{ie.p=I,J.T=R}}function vs(m,_,$,x){if(na){var R=ms(x);if(R===null)os(m,_,x,ra,$),sd(m,x);else if(Th(R,m,_,$,x))x.stopPropagation();else if(sd(m,x),_&4&&-1<xh.indexOf(m)){for(;R!==null;){var I=hr(R);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var B=Vn(I.pendingLanes);if(B!==0){var G=I;for(G.pendingLanes|=2,G.entangledLanes|=2;B;){var ee=1<<31-yt(B);G.entanglements[1]|=ee,B&=~ee}sn(I),(Ze&6)===0&&(Bo=Ce()+500,Ni(0))}}break;case 13:G=Tr(I,2),G!==null&&qt(G,I,2),qo(),bs(I,2)}if(I=ms(x),I===null&&os(m,_,x,ra,$),I===R)break;R=I}R!==null&&x.stopPropagation()}else os(m,_,x,null,$)}}function ms(m){return m=$a(m),Ss(m)}var ra=null;function Ss(m){if(ra=null,m=pr(m),m!==null){var _=b(m);if(_===null)m=null;else{var $=_.tag;if($===13){if(m=v(_),m!==null)return m;m=null}else if($===3){if(_.stateNode.current.memoizedState.isDehydrated)return _.tag===3?_.stateNode.containerInfo:null;m=null}else _!==m&&(m=null)}}return ra=m,null}function ld(m){switch(m){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case Ke:return 2;case Me:return 8;case Ue:case Ne:return 32;case Be:return 268435456;default:return 32}default:return 32}}var _s=!1,qn=null,Gn=null,Hn=null,Hi=new Map,zi=new Map,zn=[],xh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sd(m,_){switch(m){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":Hi.delete(_.pointerId);break;case"gotpointercapture":case"lostpointercapture":zi.delete(_.pointerId)}}function Wi(m,_,$,x,R,I){return m===null||m.nativeEvent!==I?(m={blockedOn:_,domEventName:$,eventSystemFlags:x,nativeEvent:I,targetContainers:[R]},_!==null&&(_=hr(_),_!==null&&ad(_)),m):(m.eventSystemFlags|=x,_=m.targetContainers,R!==null&&_.indexOf(R)===-1&&_.push(R),m)}function Th(m,_,$,x,R){switch(_){case"focusin":return qn=Wi(qn,m,_,$,x,R),!0;case"dragenter":return Gn=Wi(Gn,m,_,$,x,R),!0;case"mouseover":return Hn=Wi(Hn,m,_,$,x,R),!0;case"pointerover":var I=R.pointerId;return Hi.set(I,Wi(Hi.get(I)||null,m,_,$,x,R)),!0;case"gotpointercapture":return I=R.pointerId,zi.set(I,Wi(zi.get(I)||null,m,_,$,x,R)),!0}return!1}function ud(m){var _=pr(m.target);if(_!==null){var $=b(_);if($!==null){if(_=$.tag,_===13){if(_=v($),_!==null){m.blockedOn=_,md(m.priority,function(){if($.tag===13){var x=Ut();x=da(x);var R=Tr($,x);R!==null&&qt(R,$,x),bs($,x)}});return}}else if(_===3&&$.stateNode.current.memoizedState.isDehydrated){m.blockedOn=$.tag===3?$.stateNode.containerInfo:null;return}}}m.blockedOn=null}function ia(m){if(m.blockedOn!==null)return!1;for(var _=m.targetContainers;0<_.length;){var $=ms(m.nativeEvent);if($===null){$=m.nativeEvent;var x=new $.constructor($.type,$);Oa=x,$.target.dispatchEvent(x),Oa=null}else return _=hr($),_!==null&&ad(_),m.blockedOn=$,!1;_.shift()}return!0}function cd(m,_,$){ia(m)&&$.delete(_)}function Eh(){_s=!1,qn!==null&&ia(qn)&&(qn=null),Gn!==null&&ia(Gn)&&(Gn=null),Hn!==null&&ia(Hn)&&(Hn=null),Hi.forEach(cd),zi.forEach(cd)}function oa(m,_){m.blockedOn===_&&(m.blockedOn=null,_s||(_s=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,Eh)))}var aa=null;function fd(m){aa!==m&&(aa=m,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){aa===m&&(aa=null);for(var _=0;_<m.length;_+=3){var $=m[_],x=m[_+1],R=m[_+2];if(typeof x!="function"){if(Ss(x||$)===null)continue;break}var I=hr($);I!==null&&(m.splice(_,3),_-=3,ml(I,{pending:!0,data:R,method:$.method,action:x},x,R))}}))}function Vi(m){function _(ee){return oa(ee,m)}qn!==null&&oa(qn,m),Gn!==null&&oa(Gn,m),Hn!==null&&oa(Hn,m),Hi.forEach(_),zi.forEach(_);for(var $=0;$<zn.length;$++){var x=zn[$];x.blockedOn===m&&(x.blockedOn=null)}for(;0<zn.length&&($=zn[0],$.blockedOn===null);)ud($),$.blockedOn===null&&zn.shift();if($=(m.ownerDocument||m).$$reactFormReplay,$!=null)for(x=0;x<$.length;x+=3){var R=$[x],I=$[x+1],B=R[Ct]||null;if(typeof I=="function")B||fd($);else if(B){var G=null;if(I&&I.hasAttribute("formAction")){if(R=I,B=I[Ct]||null)G=B.formAction;else if(Ss(R)!==null)continue}else G=B.action;typeof G=="function"?$[x+1]=G:($.splice(x,3),x-=3),fd($)}}}function Os(m){this._internalRoot=m}la.prototype.render=Os.prototype.render=function(m){var _=this._internalRoot;if(_===null)throw Error(y(409));var $=_.current,x=Ut();id($,x,m,_,null,null)},la.prototype.unmount=Os.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var _=m.containerInfo;id(m.current,2,null,m,null,null),qo(),_[dr]=null}};function la(m){this._internalRoot=m}la.prototype.unstable_scheduleHydration=function(m){if(m){var _=Es();m={blockedOn:null,target:m,priority:_};for(var $=0;$<zn.length&&_!==0&&_<zn[$].priority;$++);zn.splice($,0,m),$===0&&ud(m)}};var dd=h.version;if(dd!=="19.1.1")throw Error(y(527,dd,"19.1.1"));ie.findDOMNode=function(m){var _=m._reactInternals;if(_===void 0)throw typeof m.render=="function"?Error(y(188)):(m=Object.keys(m).join(","),Error(y(268,m)));return m=O(_),m=m!==null?w(m):null,m=m===null?null:m.stateNode,m};var kh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sa.isDisabled&&sa.supportsFiber)try{$t=sa.inject(kh),dt=sa}catch(m){}}return reactDomClient_production.createRoot=function(m,_){if(!g(m))throw Error(y(299));var $=!1,x="",R=Ec,I=kc,B=Rc,G=null;return _!=null&&(_.unstable_strictMode===!0&&($=!0),_.identifierPrefix!==void 0&&(x=_.identifierPrefix),_.onUncaughtError!==void 0&&(R=_.onUncaughtError),_.onCaughtError!==void 0&&(I=_.onCaughtError),_.onRecoverableError!==void 0&&(B=_.onRecoverableError),_.unstable_transitionCallbacks!==void 0&&(G=_.unstable_transitionCallbacks)),_=nd(m,1,!1,null,null,$,x,R,I,B,G,null),m[dr]=_.current,rs(m),new Os(_)},reactDomClient_production.hydrateRoot=function(m,_,$){if(!g(m))throw Error(y(299));var x=!1,R="",I=Ec,B=kc,G=Rc,ee=null,ye=null;return $!=null&&($.unstable_strictMode===!0&&(x=!0),$.identifierPrefix!==void 0&&(R=$.identifierPrefix),$.onUncaughtError!==void 0&&(I=$.onUncaughtError),$.onCaughtError!==void 0&&(B=$.onCaughtError),$.onRecoverableError!==void 0&&(G=$.onRecoverableError),$.unstable_transitionCallbacks!==void 0&&(ee=$.unstable_transitionCallbacks),$.formState!==void 0&&(ye=$.formState)),_=nd(m,1,!0,_,$!=null?$:null,x,R,I,B,G,ee,ye),_.context=rd(null),$=_.current,x=Ut(),x=da(x),R=kn(x),R.callback=null,Rn($,R,x),$=x,_.current.lanes=$,Zr(_,$),sn(_),m[dr]=_.current,rs(m),new la(_)},reactDomClient_production.version="19.1.1",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(h){console.error(h)}}return d(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();function r(d){var h,f,y="";if(typeof d=="string"||typeof d=="number")y+=d;else if(typeof d=="object")if(Array.isArray(d))for(h=0;h<d.length;h++)d[h]&&(f=r(d[h]))&&(y&&(y+=" "),y+=f);else for(h in d)d[h]&&(y&&(y+=" "),y+=h);return y}function clsx(){for(var d,h,f=0,y="";f<arguments.length;)(d=arguments[f++])&&(h=r(d))&&(y&&(y+=" "),y+=h);return y}let e={data:""},t=d=>typeof window=="object"?((d?d.querySelector("#_goober"):window._goober)||Object.assign((d||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:d||e,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n=/\n+/g,o=(d,h)=>{let f="",y="",g="";for(let b in d){let v=d[b];b[0]=="@"?b[1]=="i"?f=b+" "+v+";":y+=b[1]=="f"?o(v,b):b+"{"+o(v,b[1]=="k"?"":h)+"}":typeof v=="object"?y+=o(v,h?h.replace(/([^,])+/g,S=>b.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,O=>/&/.test(O)?O.replace(/&/g,S):S?S+" "+O:O)):b):v!=null&&(b=/^--/.test(b)?b:b.replace(/[A-Z]/g,"-$&").toLowerCase(),g+=o.p?o.p(b,v):b+":"+v+";")}return f+(h&&g?h+"{"+g+"}":g)+y},c={},s=d=>{if(typeof d=="object"){let h="";for(let f in d)h+=f+s(d[f]);return h}return d},i=(d,h,f,y,g)=>{let b=s(d),v=c[b]||(c[b]=(O=>{let w=0,T=11;for(;w<O.length;)T=101*T+O.charCodeAt(w++)>>>0;return"go"+T})(b));if(!c[v]){let O=b!==d?d:(w=>{let T,E,k=[{}];for(;T=l.exec(w.replace(a,""));)T[4]?k.shift():T[3]?(E=T[3].replace(n," ").trim(),k.unshift(k[0][E]=k[0][E]||{})):k[0][T[1]]=T[2].replace(n," ").trim();return k[0]})(d);c[v]=o(g?{["@keyframes "+v]:O}:O,f?"":"."+v)}let S=f&&c.g?c.g:null;return f&&(c.g=c[v]),((O,w,T,E)=>{E?w.data=w.data.replace(E,O):w.data.indexOf(O)===-1&&(w.data=T?O+w.data:w.data+O)})(c[v],h,y,S),v},p=(d,h,f)=>d.reduce((y,g,b)=>{let v=h[b];if(v&&v.call){let S=v(f),O=S&&S.props&&S.props.className||/^go/.test(S)&&S;v=O?"."+O:S&&typeof S=="object"?S.props?"":o(S,""):S===!1?"":S}return y+g+(v==null?"":v)},"");function u(d){let h=this||{},f=d.call?d(h.p):d;return i(f.unshift?f.raw?p(f,[].slice.call(arguments,1),h.p):f.reduce((y,g)=>Object.assign(y,g&&g.call?g(h.p):g),{}):f,t(h.target),h.g,h.o,h.k)}u.bind({g:1});u.bind({k:1});function _defineProperties(d,h){for(var f=0;f<h.length;f++){var y=h[f];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}function _createClass$8(d,h,f){return h&&_defineProperties(d.prototype,h),d}function _extends$9(){return _extends$9=Object.assign||function(d){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(d[y]=f[y])}return d},_extends$9.apply(this,arguments)}function _inheritsLoose(d,h){d.prototype=Object.create(h.prototype),d.prototype.constructor=d,d.__proto__=h}function _objectWithoutPropertiesLoose(d,h){if(d==null)return{};var f={},y=Object.keys(d),g,b;for(b=0;b<y.length;b++)g=y[b],!(h.indexOf(g)>=0)&&(f[g]=d[g]);return f}function _assertThisInitialized(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}var noOp=function(){return""},SnackbarContext=React.createContext({enqueueSnackbar:noOp,closeSnackbar:noOp}),breakpoints={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},capitalise=function(h){return h.charAt(0).toUpperCase()+h.slice(1)},originKeyExtractor=function(h){return""+capitalise(h.vertical)+capitalise(h.horizontal)},isDefined=function(h){return!!h||h===0},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=(function(d){_inheritsLoose(h,d);function h(y){var g;g=d.call(this,y)||this;var b=y.appear,v;return g.appearStatus=null,y.in?b?(v=EXITED,g.appearStatus=ENTERING):v=ENTERED:y.unmountOnExit||y.mountOnEnter?v=UNMOUNTED:v=EXITED,g.state={status:v},g.nextCallback=null,g}h.getDerivedStateFromProps=function(g,b){var v=g.in;return v&&b.status===UNMOUNTED?{status:EXITED}:null};var f=h.prototype;return f.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},f.componentDidUpdate=function(g){var b=null;if(g!==this.props){var v=this.state.status;this.props.in?v!==ENTERING&&v!==ENTERED&&(b=ENTERING):(v===ENTERING||v===ENTERED)&&(b=EXITING)}this.updateStatus(!1,b)},f.componentWillUnmount=function(){this.cancelNextCallback()},f.getTimeouts=function(){var g=this.props.timeout,b=g,v=g;return g!=null&&typeof g!="number"&&typeof g!="string"&&(v=g.exit,b=g.enter),{exit:v,enter:b}},f.updateStatus=function(g,b){g===void 0&&(g=!1),b!==null?(this.cancelNextCallback(),b===ENTERING?this.performEnter(g):this.performExit()):this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},f.performEnter=function(g){var b=this,v=this.props.enter,S=g,O=this.getTimeouts();if(!g&&!v){this.safeSetState({status:ENTERED},function(){b.props.onEntered&&b.props.onEntered(b.node,S)});return}this.props.onEnter&&this.props.onEnter(this.node,S),this.safeSetState({status:ENTERING},function(){b.props.onEntering&&b.props.onEntering(b.node,S),b.onTransitionEnd(O.enter,function(){b.safeSetState({status:ENTERED},function(){b.props.onEntered&&b.props.onEntered(b.node,S)})})})},f.performExit=function(){var g=this,b=this.props.exit,v=this.getTimeouts();if(!b){this.safeSetState({status:EXITED},function(){g.props.onExited&&g.props.onExited(g.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:EXITING},function(){g.props.onExiting&&g.props.onExiting(g.node),g.onTransitionEnd(v.exit,function(){g.safeSetState({status:EXITED},function(){g.props.onExited&&g.props.onExited(g.node)})})})},f.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},f.safeSetState=function(g,b){b=this.setNextCallback(b),this.setState(g,b)},f.setNextCallback=function(g){var b=this,v=!0;return this.nextCallback=function(){v&&(v=!1,b.nextCallback=null,g())},this.nextCallback.cancel=function(){v=!1},this.nextCallback},f.onTransitionEnd=function(g,b){this.setNextCallback(b);var v=g==null&&!this.props.addEndListener;if(!this.node||v){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),g!=null&&setTimeout(this.nextCallback,g)},f.render=function(){var g=this.state.status;if(g===UNMOUNTED)return null;var b=this.props,v=b.children,S=_objectWithoutPropertiesLoose(b,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return v(g,S)},_createClass$8(h,[{key:"node",get:function(){var g,b=(g=this.props.nodeRef)===null||g===void 0?void 0:g.current;if(!b)throw new Error("notistack - Custom snackbar is not refForwarding");return b}}]),h})(React.Component);function noop(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop};function setRef(d,h){typeof d=="function"?d(h):d&&(d.current=h)}function useForkRef(d,h){return reactExports.useMemo(function(){return d==null&&h==null?null:function(f){setRef(d,f),setRef(h,f)}},[d,h])}function getTransitionProps(d){var h=d.timeout,f=d.style,y=f===void 0?{}:f,g=d.mode;return{duration:typeof h=="object"?h[g]||0:h,easing:y.transitionTimingFunction,delay:y.transitionDelay}}var defaultEasing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},reflow=function(h){h.scrollTop=h.scrollTop},formatMs=function(h){return Math.round(h)+"ms"};function createTransition(d,h){d===void 0&&(d=["all"]);var f=h||{},y=f.duration,g=y===void 0?300:y,b=f.easing,v=b===void 0?defaultEasing.easeInOut:b,S=f.delay,O=S===void 0?0:S,w=Array.isArray(d)?d:[d];return w.map(function(T){var E=typeof g=="string"?g:formatMs(g),k=typeof O=="string"?O:formatMs(O);return T+" "+E+" "+v+" "+k}).join(",")}function ownerDocument(d){return d&&d.ownerDocument||document}function ownerWindow(d){var h=ownerDocument(d);return h.defaultView||window}function debounce$1(d,h){h===void 0&&(h=166);var f;function y(){for(var g=this,b=arguments.length,v=new Array(b),S=0;S<b;S++)v[S]=arguments[S];var O=function(){d.apply(g,v)};clearTimeout(f),f=setTimeout(O,h)}return y.clear=function(){clearTimeout(f)},y}function getTranslateValue(d,h){var f=h.getBoundingClientRect(),y=ownerWindow(h),g;if(h.fakeTransform)g=h.fakeTransform;else{var b=y.getComputedStyle(h);g=b.getPropertyValue("-webkit-transform")||b.getPropertyValue("transform")}var v=0,S=0;if(g&&g!=="none"&&typeof g=="string"){var O=g.split("(")[1].split(")")[0].split(",");v=parseInt(O[4],10),S=parseInt(O[5],10)}switch(d){case"left":return"translateX("+(y.innerWidth+v-f.left)+"px)";case"right":return"translateX(-"+(f.left+f.width-v)+"px)";case"up":return"translateY("+(y.innerHeight+S-f.top)+"px)";default:return"translateY(-"+(f.top+f.height-S)+"px)"}}function setTranslateValue(d,h){if(h){var f=getTranslateValue(d,h);f&&(h.style.webkitTransform=f,h.style.transform=f)}}var Slide=reactExports.forwardRef(function(d,h){var f=d.children,y=d.direction,g=y===void 0?"down":y,b=d.in,v=d.style,S=d.timeout,O=S===void 0?0:S,w=d.onEnter,T=d.onEntered,E=d.onExit,k=d.onExited,C=_objectWithoutPropertiesLoose(d,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),P=reactExports.useRef(null),M=useForkRef(f.ref,P),A=useForkRef(M,h),D=function(U,z){setTranslateValue(g,U),reflow(U),w&&w(U,z)},N=function(U){var z=(v==null?void 0:v.transitionTimingFunction)||defaultEasing.easeOut,V=getTransitionProps({timeout:O,mode:"enter",style:_extends$9({},v,{transitionTimingFunction:z})});U.style.webkitTransition=createTransition("-webkit-transform",V),U.style.transition=createTransition("transform",V),U.style.webkitTransform="none",U.style.transform="none"},j=function(U){var z=(v==null?void 0:v.transitionTimingFunction)||defaultEasing.sharp,V=getTransitionProps({timeout:O,mode:"exit",style:_extends$9({},v,{transitionTimingFunction:z})});U.style.webkitTransition=createTransition("-webkit-transform",V),U.style.transition=createTransition("transform",V),setTranslateValue(g,U),E&&E(U)},q=function(U){U.style.webkitTransition="",U.style.transition="",k&&k(U)},F=reactExports.useCallback(function(){P.current&&setTranslateValue(g,P.current)},[g]);return reactExports.useEffect(function(){if(!(b||g==="down"||g==="right")){var L=debounce$1(function(){P.current&&setTranslateValue(g,P.current)}),U=ownerWindow(P.current);return U.addEventListener("resize",L),function(){L.clear(),U.removeEventListener("resize",L)}}},[g,b]),reactExports.useEffect(function(){b||F()},[b,F]),reactExports.createElement(Transition,Object.assign({appear:!0,nodeRef:P,onEnter:D,onEntered:T,onEntering:N,onExit:j,onExited:q,in:b,timeout:O},C),function(L,U){return reactExports.cloneElement(f,_extends$9({ref:A,style:_extends$9({visibility:L==="exited"&&!b?"hidden":void 0},v,{},f.props.style)},U))})});Slide.displayName="Slide";var SvgIcon=function(h){return React.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},h))},CheckIcon$2=function(){return React.createElement(SvgIcon,null,React.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},WarningIcon=function(){return React.createElement(SvgIcon,null,React.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},ErrorIcon=function(){return React.createElement(SvgIcon,null,React.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},InfoIcon=function(){return React.createElement(SvgIcon,null,React.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},defaultIconVariants={default:void 0,success:React.createElement(CheckIcon$2,null),warning:React.createElement(WarningIcon,null),error:React.createElement(ErrorIcon,null),info:React.createElement(InfoIcon,null)},defaults$1={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:defaultIconVariants,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:Slide,transitionDuration:{enter:225,exit:195}},getAutoHideDuration=function(h,f){var y=function(b){return typeof b=="number"||b===null};return y(h)?h:y(f)?f:defaults$1.autoHideDuration},getTransitionDuration=function(h,f){var y=function(b,v){return v.some(function(S){return typeof b===S})};return y(h,["string","number"])?h:y(h,["object"])?_extends$9({},defaults$1.transitionDuration,{},y(f,["object"])&&f,{},h):y(f,["string","number"])?f:y(f,["object"])?_extends$9({},defaults$1.transitionDuration,{},f):defaults$1.transitionDuration},merge$1=function(h,f){return function(y,g){return g===void 0&&(g=!1),g?_extends$9({},defaults$1[y],{},f[y],{},h[y]):y==="autoHideDuration"?getAutoHideDuration(h.autoHideDuration,f.autoHideDuration):y==="transitionDuration"?getTransitionDuration(h.transitionDuration,f.transitionDuration):h[y]||f[y]||defaults$1[y]}};function makeStyles(d){return Object.entries(d).reduce(function(h,f){var y,g=f[0],b=f[1];return _extends$9({},h,(y={},y[g]=u(b),y))},{})}var ComponentClasses={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(h){return"notistack-MuiContent-"+h}},classes=makeStyles({root:{height:0},entered:{height:"auto"}}),collapsedSize="0px",timeout=175,Collapse=reactExports.forwardRef(function(d,h){var f=d.children,y=d.in,g=d.onExited,b=reactExports.useRef(null),v=reactExports.useRef(null),S=useForkRef(h,v),O=function(){return b.current?b.current.clientHeight:0},w=function(M){M.style.height=collapsedSize},T=function(M){var A=O(),D=getTransitionProps({timeout,mode:"enter"}),N=D.duration,j=D.easing;M.style.transitionDuration=typeof N=="string"?N:N+"ms",M.style.height=A+"px",M.style.transitionTimingFunction=j||""},E=function(M){M.style.height="auto"},k=function(M){M.style.height=O()+"px"},C=function(M){reflow(M);var A=getTransitionProps({timeout,mode:"exit"}),D=A.duration,N=A.easing;M.style.transitionDuration=typeof D=="string"?D:D+"ms",M.style.height=collapsedSize,M.style.transitionTimingFunction=N||""};return reactExports.createElement(Transition,{in:y,unmountOnExit:!0,onEnter:w,onEntered:E,onEntering:T,onExit:k,onExited:g,onExiting:C,nodeRef:v,timeout},function(P,M){return reactExports.createElement("div",Object.assign({ref:S,className:clsx(classes.root,P==="entered"&&classes.entered),style:_extends$9({pointerEvents:"all",overflow:"hidden",minHeight:collapsedSize,transition:createTransition("height")},P==="entered"&&{overflow:"visible"},{},P==="exited"&&!y&&{visibility:"hidden"})},M),reactExports.createElement("div",{ref:b,className:ComponentClasses.CollapseWrapper,style:{display:"flex",width:"100%"}},f))})});Collapse.displayName="Collapse";var direction={right:"left",left:"right",bottom:"up",top:"down"},getSlideDirection=function(h){return h.horizontal!=="center"?direction[h.horizontal]:direction[h.vertical]},toSnackbarAnchorOrigin=function(h){return"anchorOrigin"+originKeyExtractor(h)},keepSnackbarClassKeys=function(h){h===void 0&&(h={});var f={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(h).filter(function(y){return!f[y]}).reduce(function(y,g){var b;return _extends$9({},y,(b={},b[g]=h[g],b))},{})},noOp$1=function(){};function createChainedFunction(d,h){return d.reduce(function(f,y){return y==null?f:function(){for(var b=arguments.length,v=new Array(b),S=0;S<b;S++)v[S]=arguments[S];var O=[].concat(v);h&&O.indexOf(h)===-1&&O.push(h),f.apply(this,O),y.apply(this,O)}},noOp$1)}var useEnhancedEffect=typeof window!="undefined"?reactExports.useLayoutEffect:reactExports.useEffect;function useEventCallback(d){var h=reactExports.useRef(d);return useEnhancedEffect(function(){h.current=d}),reactExports.useCallback(function(){return h.current.apply(void 0,arguments)},[])}var Snackbar=reactExports.forwardRef(function(d,h){var f=d.children,y=d.className,g=d.autoHideDuration,b=d.disableWindowBlurListener,v=b===void 0?!1:b,S=d.onClose,O=d.id,w=d.open,T=d.SnackbarProps,E=T===void 0?{}:T,k=reactExports.useRef(),C=useEventCallback(function(){S&&S.apply(void 0,arguments)}),P=useEventCallback(function(j){!S||j==null||(k.current&&clearTimeout(k.current),k.current=setTimeout(function(){C(null,"timeout",O)},j))});reactExports.useEffect(function(){return w&&P(g),function(){k.current&&clearTimeout(k.current)}},[w,g,P]);var M=function(){k.current&&clearTimeout(k.current)},A=reactExports.useCallback(function(){g!=null&&P(g*.5)},[g,P]),D=function(q){E.onMouseEnter&&E.onMouseEnter(q),M()},N=function(q){E.onMouseLeave&&E.onMouseLeave(q),A()};return reactExports.useEffect(function(){if(!v&&w)return window.addEventListener("focus",A),window.addEventListener("blur",M),function(){window.removeEventListener("focus",A),window.removeEventListener("blur",M)}},[v,A,w]),reactExports.createElement("div",Object.assign({ref:h},E,{className:clsx(ComponentClasses.Snackbar,y),onMouseEnter:D,onMouseLeave:N}),f)});Snackbar.displayName="Snackbar";var _root$1,classes$1=makeStyles({root:(_root$1={display:"flex",flexWrap:"wrap",flexGrow:1},_root$1[breakpoints.upSm]={flexGrow:"initial",minWidth:"288px"},_root$1)}),SnackbarContent=reactExports.forwardRef(function(d,h){var f=d.className,y=_objectWithoutPropertiesLoose(d,["className"]);return React.createElement("div",Object.assign({ref:h,className:clsx(classes$1.root,f)},y))});SnackbarContent.displayName="SnackbarContent";var classes$2=makeStyles({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),ariaDescribedby="notistack-snackbar",MaterialDesignContent=reactExports.forwardRef(function(d,h){var f=d.id,y=d.message,g=d.action,b=d.iconVariant,v=d.variant,S=d.hideIconVariant,O=d.style,w=d.className,T=b[v],E=g;return typeof E=="function"&&(E=E(f)),React.createElement(SnackbarContent,{ref:h,role:"alert","aria-describedby":ariaDescribedby,style:O,className:clsx(ComponentClasses.MuiContent,ComponentClasses.MuiContentVariant(v),classes$2.root,classes$2[v],w,!S&&T&&classes$2.lessPadding)},React.createElement("div",{id:ariaDescribedby,className:classes$2.message},S?null:T,y),E&&React.createElement("div",{className:classes$2.action},E))});MaterialDesignContent.displayName="MaterialDesignContent";var MaterialDesignContent$1=reactExports.memo(MaterialDesignContent),styles=makeStyles({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),SnackbarItem=function(h){var f=reactExports.useRef(),y=reactExports.useState(!0),g=y[0],b=y[1],v=createChainedFunction([h.snack.onClose,h.onClose]),S=function(){h.snack.requestClose&&v(null,"instructed",h.snack.id)},O=reactExports.useCallback(function(){f.current=setTimeout(function(){b(function(V){return!V})},125)},[]);reactExports.useEffect(function(){return function(){f.current&&clearTimeout(f.current)}},[]);var w=h.snack,T=h.classes,E=h.Component,k=E===void 0?MaterialDesignContent$1:E,C=reactExports.useMemo(function(){return keepSnackbarClassKeys(T)},[T]),P=w.open,M=w.SnackbarProps,A=w.TransitionComponent,D=w.TransitionProps,N=w.transitionDuration,j=w.disableWindowBlurListener,q=w.content,F=_objectWithoutPropertiesLoose(w,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),L=_extends$9({direction:getSlideDirection(F.anchorOrigin),timeout:N},D),U=q;typeof U=="function"&&(U=U(F.id,F.message));var z=["onEnter","onEntered","onExit","onExited"].reduce(function(V,Y){var W;return _extends$9({},V,(W={},W[Y]=createChainedFunction([h.snack[Y],h[Y]],F.id),W))},{});return React.createElement(Collapse,{in:g,onExited:z.onExited},React.createElement(Snackbar,{open:P,id:F.id,disableWindowBlurListener:j,autoHideDuration:F.autoHideDuration,className:clsx(styles.wrappedRoot,C.root,C[toSnackbarAnchorOrigin(F.anchorOrigin)]),SnackbarProps:M,onClose:v},React.createElement(A,Object.assign({},L,{appear:!0,in:P,onExit:z.onExit,onExited:O,onEnter:z.onEnter,onEntered:createChainedFunction([z.onEntered,S],F.id)}),U||React.createElement(k,Object.assign({},F)))))},_root$1$1,_rootDense,_left,_right,_center,indents={view:{default:20},snackbar:{default:6,dense:2}},collapseWrapper="."+ComponentClasses.CollapseWrapper,xsWidthMargin=16,styles$1=makeStyles({root:(_root$1$1={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:createTransition(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},_root$1$1[collapseWrapper]={padding:indents.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},_root$1$1.maxWidth="calc(100% - "+indents.view.default*2+"px)",_root$1$1[breakpoints.downXs]={width:"100%",maxWidth:"calc(100% - "+xsWidthMargin*2+"px)"},_root$1$1),rootDense:(_rootDense={},_rootDense[collapseWrapper]={padding:indents.snackbar.dense+"px 0px"},_rootDense),top:{top:indents.view.default-indents.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:indents.view.default-indents.snackbar.default+"px",flexDirection:"column-reverse"},left:(_left={left:indents.view.default+"px"},_left[breakpoints.upSm]={alignItems:"flex-start"},_left[breakpoints.downXs]={left:xsWidthMargin+"px"},_left),right:(_right={right:indents.view.default+"px"},_right[breakpoints.upSm]={alignItems:"flex-end"},_right[breakpoints.downXs]={right:xsWidthMargin+"px"},_right),center:(_center={left:"50%",transform:"translateX(-50%)"},_center[breakpoints.upSm]={alignItems:"center"},_center)}),SnackbarContainer=function(h){var f=h.classes,y=f===void 0?{}:f,g=h.anchorOrigin,b=h.dense,v=h.children,S=clsx(ComponentClasses.SnackbarContainer,styles$1[g.vertical],styles$1[g.horizontal],styles$1.root,y.containerRoot,y["containerAnchorOrigin"+originKeyExtractor(g)],b&&styles$1.rootDense);return React.createElement("div",{className:S},v)},SnackbarContainer$1=reactExports.memo(SnackbarContainer),isOptions=function(h){var f=typeof h=="string"||reactExports.isValidElement(h);return!f},SnackbarProvider=(function(d){_inheritsLoose(h,d);function h(y){var g;return g=d.call(this,y)||this,g.enqueueSnackbar=function(b,v){if(v===void 0&&(v={}),b==null)throw new Error("enqueueSnackbar called with invalid argument");var S=isOptions(b)?b:v,O=isOptions(b)?b.message:b,w=S.key,T=S.preventDuplicate,E=_objectWithoutPropertiesLoose(S,["key","preventDuplicate"]),k=isDefined(w),C=k?w:new Date().getTime()+Math.random(),P=merge$1(E,g.props),M=_extends$9({id:C},E,{message:O,open:!0,entered:!1,requestClose:!1,persist:P("persist"),action:P("action"),content:P("content"),variant:P("variant"),anchorOrigin:P("anchorOrigin"),disableWindowBlurListener:P("disableWindowBlurListener"),autoHideDuration:P("autoHideDuration"),hideIconVariant:P("hideIconVariant"),TransitionComponent:P("TransitionComponent"),transitionDuration:P("transitionDuration"),TransitionProps:P("TransitionProps",!0),iconVariant:P("iconVariant",!0),style:P("style",!0),SnackbarProps:P("SnackbarProps",!0),className:clsx(g.props.className,E.className)});return M.persist&&(M.autoHideDuration=void 0),g.setState(function(A){if(T===void 0&&g.props.preventDuplicate||T){var D=function(F){return k?F.id===C:F.message===O},N=A.queue.findIndex(D)>-1,j=A.snacks.findIndex(D)>-1;if(N||j)return A}return g.handleDisplaySnack(_extends$9({},A,{queue:[].concat(A.queue,[M])}))}),C},g.handleDisplaySnack=function(b){var v=b.snacks;return v.length>=g.maxSnack?g.handleDismissOldest(b):g.processQueue(b)},g.processQueue=function(b){var v=b.queue,S=b.snacks;return v.length>0?_extends$9({},b,{snacks:[].concat(S,[v[0]]),queue:v.slice(1,v.length)}):b},g.handleDismissOldest=function(b){if(b.snacks.some(function(T){return!T.open||T.requestClose}))return b;var v=!1,S=!1,O=b.snacks.reduce(function(T,E){return T+(E.open&&E.persist?1:0)},0);O===g.maxSnack&&(S=!0);var w=b.snacks.map(function(T){return!v&&(!T.persist||S)?(v=!0,T.entered?(T.onClose&&T.onClose(null,"maxsnack",T.id),g.props.onClose&&g.props.onClose(null,"maxsnack",T.id),_extends$9({},T,{open:!1})):_extends$9({},T,{requestClose:!0})):_extends$9({},T)});return _extends$9({},b,{snacks:w})},g.handleEnteredSnack=function(b,v,S){if(!isDefined(S))throw new Error("handleEnteredSnack Cannot be called with undefined key");g.setState(function(O){var w=O.snacks;return{snacks:w.map(function(T){return T.id===S?_extends$9({},T,{entered:!0}):_extends$9({},T)})}})},g.handleCloseSnack=function(b,v,S){g.props.onClose&&g.props.onClose(b,v,S);var O=S===void 0;g.setState(function(w){var T=w.snacks,E=w.queue;return{snacks:T.map(function(k){return!O&&k.id!==S?_extends$9({},k):k.entered?_extends$9({},k,{open:!1}):_extends$9({},k,{requestClose:!0})}),queue:E.filter(function(k){return k.id!==S})}})},g.closeSnackbar=function(b){var v=g.state.snacks.find(function(S){return S.id===b});isDefined(b)&&v&&v.onClose&&v.onClose(null,"instructed",b),g.handleCloseSnack(null,"instructed",b)},g.handleExitedSnack=function(b,v){if(!isDefined(v))throw new Error("handleExitedSnack Cannot be called with undefined key");g.setState(function(S){var O=g.processQueue(_extends$9({},S,{snacks:S.snacks.filter(function(w){return w.id!==v})}));return O.queue.length===0?O:g.handleDismissOldest(O)})},g.enqueueSnackbar,g.closeSnackbar,g.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:g.enqueueSnackbar.bind(_assertThisInitialized(g)),closeSnackbar:g.closeSnackbar.bind(_assertThisInitialized(g))}},g}var f=h.prototype;return f.render=function(){var g=this,b=this.state.contextValue,v=this.props,S=v.domRoot,O=v.children,w=v.dense,T=w===void 0?!1:w,E=v.Components,k=E===void 0?{}:E,C=v.classes,P=this.state.snacks.reduce(function(A,D){var N,j=originKeyExtractor(D.anchorOrigin),q=A[j]||[];return _extends$9({},A,(N={},N[j]=[].concat(q,[D]),N))},{}),M=Object.keys(P).map(function(A){var D=P[A],N=D[0];return React.createElement(SnackbarContainer$1,{key:A,dense:T,anchorOrigin:N.anchorOrigin,classes:C},D.map(function(j){return React.createElement(SnackbarItem,{key:j.id,snack:j,classes:C,Component:k[j.variant],onClose:g.handleCloseSnack,onEnter:g.props.onEnter,onExit:g.props.onExit,onExited:createChainedFunction([g.handleExitedSnack,g.props.onExited],j.id),onEntered:createChainedFunction([g.handleEnteredSnack,g.props.onEntered],j.id)})}))});return React.createElement(SnackbarContext.Provider,{value:b},O,S?reactDomExports.createPortal(M,S):M)},_createClass$8(h,[{key:"maxSnack",get:function(){return this.props.maxSnack||defaults$1.maxSnack}}]),h})(reactExports.Component),useSnackbar=(function(){return reactExports.useContext(SnackbarContext)});const num$1=d=>typeof d=="number"&&!Number.isNaN(d),is={num:num$1},DEFAULT_CONFIG={fontSize:16,fontFamily:"Arial, sans-serif"},CSS_UNITS=["px","em","rem","pt","pc","in","cm","mm","ex","ch","vw","vh","vmin","vmax","%"];function normalizeFontSize(d){if(is.num(d))return d<=0?`${DEFAULT_CONFIG.fontSize}px`:`${d}px`;if(typeof d=="string"){const h=d.trim();if(!h)return`${DEFAULT_CONFIG.fontSize}px`;if(CSS_UNITS.some(y=>h.endsWith(y))){const y=parseFloat(h);if(!isNaN(y)&&y>0)return h}}return`${DEFAULT_CONFIG.fontSize}px`}function normalizeFontFamily(d){return!d||typeof d!="string"?DEFAULT_CONFIG.fontFamily:d.trim()||DEFAULT_CONFIG.fontFamily}function normalizeLineHeight(d){if(d==null)return null;if(is.num(d))return d>0?String(d):null;if(typeof d=="string"){const h=d.trim();if(!h)return null;if(/^(\d*\.?\d+)(px|em|rem|%)?$/.test(h))return h}return null}function createCanvasFontString(d={}){const h=[];d.fontStyle&&d.fontStyle!=="normal"&&h.push(d.fontStyle),d.fontVariant&&d.fontVariant!=="normal"&&h.push(d.fontVariant),d.fontWeight&&d.fontWeight!=="normal"&&h.push(String(d.fontWeight));const f=normalizeFontSize(d.fontSize),y=normalizeLineHeight(d.lineHeight);y?h.push(`${f}/${y}`):h.push(f);const g=normalizeFontFamily(d.fontFamily);return h.push(g),h.join(" ")}function ctxDoPath(d,h){d.beginPath();for(let f=0;f<h.length;f+=1){const y=h[f];y.type==="M"?d.moveTo(y.x,y.y):y.type==="L"?d.lineTo(y.x,y.y):y.type==="C"?d.bezierCurveTo(y.x1,y.y1,y.x2,y.y2,y.x,y.y):y.type==="Q"?d.quadraticCurveTo(y.x1,y.y1,y.x,y.y):y.type==="Z"&&d.closePath()}}function getPointOnCircle(d,h,f,y){return{x:d+f*Math.cos(Math.PI/180*y),y:h+f*Math.sin(Math.PI/180*y)}}const svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),matrix=svg.createSVGMatrix();function getCanvasStyle(d,h,f,y,g,b){if(b.type===0)return b.color;if(b.type===1){const{type:T,palette:E,angle:k}=b.gradient;let C;const P=h+y/2,M=f+g/2,A=Math.max(y,g)/2;if(T===0){const D=getPointOnCircle(P,M,A,k+180),N=getPointOnCircle(P,M,A,k);C=d.createLinearGradient(D.x,D.y,N.x,N.y)}else C=d.createRadialGradient(P,M,0,P,M,A);return E.forEach(D=>{C.addColorStop(D.offset,D.color)}),C}const{image:v,repetition:S,scale:O}=b.patternTexture;if(!v)return"rgba(0,0,0,0)";const w=d.createPattern(v,S);return w?(w.setTransform(matrix.scale(O).translate(h,f)),w):"rgba(0,0,0,0)"}let canvas$1;const CANVAS_SIZE$1=256;function measureTextSize(d,h){canvas$1||(canvas$1=document.createElement("canvas"),canvas$1.width=CANVAS_SIZE$1,canvas$1.height=CANVAS_SIZE$1);const f=canvas$1.getContext("2d");if(!f)throw new Error("Get context 2d failed.");const y=createCanvasFontString(h);f.font=y,f.textAlign="left",f.textBaseline="alphabetic";const g=f.measureText(d);if(typeof g.actualBoundingBoxLeft=="undefined"){const A=typeof h.fontSize=="number"?h.fontSize:parseInt(String(h.fontSize||14),10);return{letter:d,width:Math.ceil(g.width),height:A,fontWidth:Math.ceil(g.width),fontHeight:A,trimOffsetTop:0,trimOffsetLeft:0}}const{actualBoundingBoxLeft:b,actualBoundingBoxRight:v,actualBoundingBoxAscent:S,actualBoundingBoxDescent:O,width:w}=g,T=Math.ceil(b),E=Math.ceil(S),k=T+Math.ceil(v),C=Math.ceil(O)+Math.ceil(S),P=Math.ceil(w);return{letter:d,width:k,height:C,fontWidth:P,fontHeight:C,trimOffsetTop:E,trimOffsetLeft:T}}function sharp(d,h=1,f=80){return d*(1-f)+f*Math.round(d/h)*h}function pathDoSharp(d,h=80,f=1,y=0,g=0){const b=h/100;for(let v=0;v<d.commands.length;v++){const S=d.commands[v];S.type!=="Z"&&(S.x=sharp(S.x+y,f,b)-y,S.y=sharp(S.y+g,f,b)-g),(S.type==="Q"||S.type==="C")&&(S.x1=sharp(S.x1+y,f,b)-y,S.y1=sharp(S.y1+g,f,b)-g),S.type==="C"&&(S.x2=sharp(S.x2+y,f,b)-y,S.y2=sharp(S.y2+g,f,b)-g)}}function isPixelVisible(d,h,f){return d[h*4+3]>f}function trimTransparentPixels(d,h=0){const{data:f,width:y,height:g}=d;let b=0,v=0,S=0,O=0,w=!0,T=!0,E=!0,k=!0;e:for(let P=0;P<g;P++){for(let M=0;M<y;M++)if(w&&isPixelVisible(f,P*y+M,h)&&(w=!1),T&&isPixelVisible(f,(g-P-1)*y+M,h)&&(T=!1),!w&&!T)break e;w&&b++,T&&v++}if(b+v>=g)return{trimOffsetLeft:-y,trimOffsetTop:-g,width:0,height:0};const C=g-v;e:for(let P=0;P<y;P++){for(let M=b;M<C;M++)if(E&&isPixelVisible(f,M*y+P,h)&&(E=!1),k&&isPixelVisible(f,M*y+(y-P-1),h)&&(k=!1),!E&&!k)break e;E&&S++,k&&O++}return{trimOffsetLeft:-S,trimOffsetTop:-b,width:y-S-O,height:g-b-v}}function getFontGlyphs(d,h){var q;const f={font:toJS(h.font),stroke:h.stroke?toJS(h.stroke):void 0,shadow:h.shadow?toJS(h.shadow):void 0,fill:toJS(h.fill)},{font:y,stroke:g,shadow:b,fill:v}=f,S=Math.ceil(Math.sqrt(d.length)),O=Math.ceil(d.length/S),w=g?g.width*2:0;let T=w,E=w;if(b){const F=Math.ceil(b.blur*1.5);T+=Math.abs(b.offsetX)+F,E+=Math.abs(b.offsetY)+F}const k=y.size+T*2,C=y.size+E*2,P=y.size;let M=document.createElement("canvas"),A=M.getContext("2d",{willReadFrequently:!0,desynchronized:!0,alpha:!0,colorSpace:"srgb"});const D=document.createElement("canvas"),N=D.getContext("2d",{willReadFrequently:!0,desynchronized:!0,alpha:!0,colorSpace:"srgb"});M.width=(k+P*2)*S,M.height=(C+P*2)*O,D.width=M.width,D.height=M.height;const j=new Map;g&&w&&(N.textAlign="left",N.textBaseline="top",N.lineCap=g.lineCap,N.lineJoin=g.lineJoin,N.lineWidth=g.width,A.lineCap=g.lineCap,A.lineJoin=g.lineJoin,A.lineWidth=g.width,N.fillStyle="#000000");for(let F=0;F<d.length;F++){const L=F%S*(k+P*2)+P,U=Math.floor(F/S)*(C+P*2)+P,z=d[F];let V;const Y=(q=y.fonts)==null?void 0:q.find(({opentype:W})=>W?!!W.charToGlyph(z).unicode:!1);if(Y){const W=Y.opentype,K=W.charToGlyph(z),re=y.size/W.unitsPerEm,fe=Math.ceil(W.ascender*re),se=K.getPath(0,fe,y.size);pathDoSharp(se,y.sharp);const J=se.getBoundingBox(),ie=W.getAdvanceWidth(z,y.size),ue=(W.ascender-W.descender)*re;if(V={letter:z,width:Math.ceil(J.x2)-Math.floor(J.x1),height:Math.ceil(J.y2)-Math.floor(J.y1),fontWidth:ie,fontHeight:ue,trimOffsetTop:Math.round(J.y1)*-1,trimOffsetLeft:Math.round(J.x1)*-1,canvasX:0,canvasY:0},V.width===0||V.height===0){j.set(z,V);continue}const ke=L+T+V.trimOffsetLeft,pe=U+E+V.trimOffsetTop;A.translate(ke,pe),ctxDoPath(A,se.commands),A.fillStyle=getCanvasStyle(A,0,0,ie,ue,v),g&&w&&(A.strokeStyle=getCanvasStyle(A,0,0,ie,ue,g),g.strokeType===1?A.lineWidth=se.strokeWidth=g.width:A.lineWidth=se.strokeWidth=w),g&&w&&g.strokeType===0&&(A.stroke(),A.save(),A.clip(),A.clearRect(L-P,U-P,k+P*2,C+P*2),A.restore()),A.fill(),g&&w&&g.strokeType===1?A.stroke():g&&w&&g.strokeType===2&&(A.save(),A.clip(),A.stroke(),A.restore()),A.setTransform(1,0,0,1,0,0)}else{V=Re(X({},measureTextSize(z,{fontSize:y.size,fontFamily:y.family})),{canvasX:0,canvasY:0});const{width:W,height:K,trimOffsetLeft:re,trimOffsetTop:fe}=V;if(W===0||K===0){j.set(z,V);continue}const se=L+T+(W-y.size)/2,J=L+T+re,ie=U+E+fe;A.textAlign="left",A.textBaseline="top",A.font=createCanvasFontString({fontSize:y.size,fontFamily:y.family}),g&&w&&g.strokeType===0&&(A.fillStyle="#000000",A.strokeStyle=getCanvasStyle(A,se,ie,y.size,y.size,g),A.lineWidth=w,A.strokeText(z,J,ie),A.globalCompositeOperation="destination-out",A.fillText(z,J,ie),A.globalCompositeOperation="source-over"),A.fillStyle=getCanvasStyle(A,se,ie,y.size,y.size,v),A.fillText(z,J,ie),g&&w&&g.strokeType===1?(A.strokeStyle=getCanvasStyle(A,se,ie,y.size,y.size,g),A.lineWidth=g.width,A.strokeText(z,J,ie)):g&&w&&g.strokeType===2&&(N.save(),N.beginPath(),N.rect(L-P,U-P,k+P*2,C+P*2),N.clip(),N.font=A.font,N.fillStyle="#000000",N.strokeStyle=getCanvasStyle(N,se,ie,y.size,y.size,g),N.lineWidth=w,N.fillText(z,J,ie),N.globalCompositeOperation="source-in",N.strokeText(z,J,ie),N.globalCompositeOperation="source-over",N.restore())}j.set(z,V)}if(g&&w&&g.strokeType===2&&A.drawImage(D,0,0),b){const F=D,L=N;F.width=M.width,F.height=M.height,L.shadowBlur=b.blur,L.shadowColor=b.color,L.shadowOffsetX=b.offsetX,L.shadowOffsetY=b.offsetY,L.drawImage(M,0,0),M=F,A=L}for(let F=0;F<d.length;F++){const L=F%S*(k+P*2),U=Math.floor(F/S)*(C+P*2),z=d[F],V=j.get(z);if(!V)continue;const{width:Y,height:W}=V;if(Y===0||W===0)continue;const K=A.getImageData(L,U,k+P*2,C+P*2),re=trimTransparentPixels(K);V.width=re.width,V.height=re.height,V.trimOffsetLeft+=T+re.trimOffsetLeft+P,V.trimOffsetTop+=E+re.trimOffsetTop+P,V.canvasX=L-re.trimOffsetLeft,V.canvasY=U-re.trimOffsetTop}return{canvas:M,glyphs:j}}function getFontGlyphsProgressive(y,g){return De(this,arguments,function*(d,h,f={}){const b={font:toJS(h.font),stroke:h.stroke?toJS(h.stroke):void 0,shadow:h.shadow?toJS(h.shadow):void 0,fill:toJS(h.fill)},{font:v,stroke:S,shadow:O,fill:w}=b,{batchSize:T=50,onProgress:E,signal:k}=f;if(k!=null&&k.aborted)throw new Error("Rendering cancelled");const C=Math.ceil(Math.sqrt(d.length)),P=Math.ceil(d.length/C),M=S?S.width*2:0;let A=M,D=M;if(O){const W=Math.ceil(O.blur*1.5);A+=Math.abs(O.offsetX)+W,D+=Math.abs(O.offsetY)+W}const N=v.size+A*2,j=v.size+D*2,q=v.size,F=document.createElement("canvas"),L=F.getContext("2d",{willReadFrequently:!0,desynchronized:!0,alpha:!0,colorSpace:"srgb"}),U=document.createElement("canvas"),z=U.getContext("2d",{willReadFrequently:!0,desynchronized:!0,alpha:!0,colorSpace:"srgb"});F.width=(N+q*2)*C,F.height=(j+q*2)*P,U.width=F.width,U.height=F.height;const V=new Map;S&&M&&(z.textAlign="left",z.textBaseline="top",z.lineCap=S.lineCap,z.lineJoin=S.lineJoin,z.lineWidth=S.width,L.lineCap=S.lineCap,L.lineJoin=S.lineJoin,L.lineWidth=S.width,z.fillStyle="#000000");let Y=0;for(let W=0;W<d.length;W+=T){if(k!=null&&k.aborted)throw new Error("Rendering cancelled");const K=Math.min(W+T,d.length);yield new Promise(re=>{requestAnimationFrame(()=>{for(let fe=W;fe<K;fe++)renderGlyph(fe,d[fe],L,z,V,{font:v,stroke:S,fill:w,lineWidth:M,columnNum:C,itemWidth:N,itemHeight:j,padding:q,addX:A,addY:D});Y=K,E==null||E(Y,d.length),re()})}),K<d.length&&(yield new Promise(re=>setTimeout(re,0)))}if(S&&M&&S.strokeType===2&&L.drawImage(U,0,0),O){const W=U,K=z;return W.width=F.width,W.height=F.height,K.shadowBlur=O.blur,K.shadowColor=O.color,K.shadowOffsetX=O.offsetX,K.shadowOffsetY=O.offsetY,K.drawImage(F,0,0),yield processTrimming(d,V,K,{columnNum:C,itemWidth:N,itemHeight:j,padding:q,addX:A,addY:D},{batchSize:T,signal:k}),{canvas:W,glyphs:V}}return yield processTrimming(d,V,L,{columnNum:C,itemWidth:N,itemHeight:j,padding:q,addX:A,addY:D},{batchSize:T,signal:k}),{canvas:F,glyphs:V}})}function renderGlyph(d,h,f,y,g,b){var q;const{font:v,stroke:S,fill:O,lineWidth:w,columnNum:T,itemWidth:E,itemHeight:k,padding:C,addX:P,addY:M}=b,A=d%T*(E+C*2)+C,D=Math.floor(d/T)*(k+C*2)+C;let N;const j=(q=v.fonts)==null?void 0:q.find(({opentype:F})=>F?!!F.charToGlyph(h).unicode:!1);if(j){const F=j.opentype,L=F.charToGlyph(h),U=v.size/F.unitsPerEm,z=Math.ceil(F.ascender*U),V=L.getPath(0,z,v.size);pathDoSharp(V,v.sharp);const Y=V.getBoundingBox(),W=F.getAdvanceWidth(h,v.size),K=(F.ascender-F.descender)*U;if(N={letter:h,width:Math.ceil(Y.x2)-Math.floor(Y.x1),height:Math.ceil(Y.y2)-Math.floor(Y.y1),fontWidth:W,fontHeight:K,trimOffsetTop:Math.round(Y.y1)*-1,trimOffsetLeft:Math.round(Y.x1)*-1,canvasX:0,canvasY:0},N.width===0||N.height===0){g.set(h,N);return}const re=A+P+N.trimOffsetLeft,fe=D+M+N.trimOffsetTop;f.translate(re,fe),ctxDoPath(f,V.commands),f.fillStyle=getCanvasStyle(f,0,0,W,K,O),S&&w&&(f.strokeStyle=getCanvasStyle(f,0,0,W,K,S),f.lineWidth=S.strokeType===1?S.width:w),S&&w&&S.strokeType===0&&(f.stroke(),f.save(),f.clip(),f.clearRect(A-C,D-C,E+C*2,k+C*2),f.restore()),f.fill(),S&&w&&S.strokeType===1?f.stroke():S&&w&&S.strokeType===2&&(f.save(),f.clip(),f.stroke(),f.restore()),f.setTransform(1,0,0,1,0,0)}else{N=Re(X({},measureTextSize(h,{fontSize:v.size,fontFamily:v.family})),{canvasX:0,canvasY:0});const{width:F,height:L,trimOffsetLeft:U,trimOffsetTop:z}=N;if(F===0||L===0){g.set(h,N);return}const V=A+P+(F-v.size)/2,Y=A+P+U,W=D+M+z;f.textAlign="left",f.textBaseline="top",f.font=createCanvasFontString({fontSize:v.size,fontFamily:v.family}),S&&w&&S.strokeType===0&&(f.fillStyle="#000000",f.strokeStyle=getCanvasStyle(f,V,W,v.size,v.size,S),f.lineWidth=w,f.strokeText(h,Y,W),f.globalCompositeOperation="destination-out",f.fillText(h,Y,W),f.globalCompositeOperation="source-over"),f.fillStyle=getCanvasStyle(f,V,W,v.size,v.size,O),f.fillText(h,Y,W),S&&w&&S.strokeType===1?(f.strokeStyle=getCanvasStyle(f,V,W,v.size,v.size,S),f.lineWidth=S.width,f.strokeText(h,Y,W)):S&&w&&S.strokeType===2&&(y.save(),y.beginPath(),y.rect(A-C,D-C,E+C*2,k+C*2),y.clip(),y.font=f.font,y.fillStyle="#000000",y.strokeStyle=getCanvasStyle(y,V,W,v.size,v.size,S),y.lineWidth=w,y.fillText(h,Y,W),y.globalCompositeOperation="source-in",y.strokeText(h,Y,W),y.globalCompositeOperation="source-over",y.restore())}g.set(h,N)}function processTrimming(d,h,f,y,g){return De(this,null,function*(){const{columnNum:b,itemWidth:v,itemHeight:S,padding:O,addX:w,addY:T}=y,{batchSize:E=50,signal:k}=g;for(let C=0;C<d.length;C+=E){if(k!=null&&k.aborted)throw new Error("Trimming cancelled");const P=Math.min(C+E,d.length);yield new Promise(M=>{requestAnimationFrame(()=>{for(let A=C;A<P;A++){const D=A%b*(v+O*2),N=Math.floor(A/b)*(S+O*2),j=d[A],q=h.get(j);if(!q||q.width===0||q.height===0)continue;const F=f.getImageData(D,N,v+O*2,S+O*2),L=trimTransparentPixels(F);q.width=L.width,q.height=L.height,q.trimOffsetLeft+=w+L.trimOffsetLeft+O,q.trimOffsetTop+=T+L.trimOffsetTop+O,q.canvasX=D-L.trimOffsetLeft,q.canvasY=N-L.trimOffsetTop}M()})}),P<d.length&&(yield new Promise(M=>setTimeout(M,0)))}})}var __defProp$j=Object.defineProperty,__defNormalProp$j=(d,h,f)=>h in d?__defProp$j(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$j=(d,h,f)=>__defNormalProp$j(d,typeof h!="symbol"?h+"":h,f);class PerformanceMonitor{constructor(){__publicField$j(this,"marks",new Map),__publicField$j(this,"measures",new Map)}start(h){this.marks.set(h,performance.now())}end(h){const f=this.marks.get(h);if(!f)return console.warn(`No start mark found for "${h}"`),0;const y=performance.now()-f;this.marks.delete(h);const g=this.measures.get(h)||[];return g.push(y),this.measures.set(h,g),y}logTiming(h,f){const y=this.end(h);if(y>0){const g=y<100?"":y<1e3?"":"";console.log(`${g} ${h}: ${y.toFixed(2)}ms${f?` (${f})`:""}`)}}getAverage(h){const f=this.measures.get(h);return!f||f.length===0?0:f.reduce((g,b)=>g+b,0)/f.length}getStats(h){const f=this.measures.get(h);return!f||f.length===0?null:{count:f.length,min:Math.min(...f),max:Math.max(...f),avg:this.getAverage(h),total:f.reduce((y,g)=>y+g,0)}}clear(){this.marks.clear(),this.measures.clear()}logAllStats(){console.log(" Performance Statistics:"),this.measures.forEach((h,f)=>{const y=this.getStats(f);y&&console.log(`  ${f}: ${y.count} calls, avg: ${y.avg.toFixed(2)}ms, min: ${y.min.toFixed(2)}ms, max: ${y.max.toFixed(2)}ms, total: ${y.total.toFixed(2)}ms`)})}}const globalPerformanceMonitor=new PerformanceMonitor;typeof window!="undefined"&&(window.performanceMonitor=globalPerformanceMonitor,window.logPerformanceStats=()=>globalPerformanceMonitor.logAllStats());var __defProp$i=Object.defineProperty,__defNormalProp$i=(d,h,f)=>h in d?__defProp$i(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$i=(d,h,f)=>__defNormalProp$i(d,typeof h!="symbol"?h+"":h,f);class Metric{constructor(h={}){__publicField$i(this,"xAdvance",0),__publicField$i(this,"xOffset",0),__publicField$i(this,"yOffset",0),makeObservable(this,{xAdvance:observable,xOffset:observable,yOffset:observable,setXAdvance:action.bound,setXOffset:action.bound,setYOffset:action.bound}),this.xAdvance=h.xAdvance||0,this.xOffset=h.xOffset||0,this.yOffset=h.yOffset||0}setXAdvance(h){this.xAdvance=h}setXOffset(h){this.xOffset=h}setYOffset(h){this.yOffset=h}}var __defProp$h=Object.defineProperty,__defNormalProp$h=(d,h,f)=>h in d?__defProp$h(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$h=(d,h,f)=>__defNormalProp$h(d,typeof h!="symbol"?h+"":h,f);class GlyphBase{constructor(h={}){__publicField$h(this,"type","text"),__publicField$h(this,"letter",""),__publicField$h(this,"width",0),__publicField$h(this,"height",0),__publicField$h(this,"x",0),__publicField$h(this,"y",0),__publicField$h(this,"page",0),__publicField$h(this,"fontWidth",0),__publicField$h(this,"fontHeight",0),__publicField$h(this,"trimOffsetTop",0),__publicField$h(this,"trimOffsetLeft",0),__publicField$h(this,"adjustMetric"),__publicField$h(this,"kerning",new Map),makeObservable(this,{letter:observable,width:observable,height:observable,x:observable,y:observable,page:observable,fontWidth:observable.struct,fontHeight:observable.struct,trimOffsetTop:observable.struct,trimOffsetLeft:observable.struct,kerning:observable.shallow,adjustMetric:observable.ref,steKerning:action.bound}),this.letter=h.letter||"",this.adjustMetric=new Metric(h.adjustMetric),h.kerning&&(this.kerning=h.kerning)}steKerning(h,f){this.kerning.set(h,f)}}var __defProp$g=Object.defineProperty,__defNormalProp$g=(d,h,f)=>h in d?__defProp$g(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$g=(d,h,f)=>__defNormalProp$g(d,typeof h!="symbol"?h+"":h,f);class GlyphFont extends GlyphBase{constructor(h={},f){super(h),__publicField$g(this,"canvasX",0),__publicField$g(this,"canvasY",0),makeObservable(this,{setGlyphInfo:action}),f&&this.setGlyphInfo(f)}setGlyphInfo(h){this.width=h.width,this.height=h.height,this.fontWidth=h.fontWidth,this.fontHeight=h.fontHeight,this.trimOffsetTop=h.trimOffsetTop,this.trimOffsetLeft=h.trimOffsetLeft,this.canvasX=h.canvasX,this.canvasY=h.canvasY}}function getTrimImageInfo(d,h=0){const f=d.naturalWidth,y=d.naturalHeight,g=document.createElement("canvas");g.width=f,g.height=y;const b=g.getContext("2d");b.drawImage(d,0,0);const v=b.getImageData(0,0,f,y),S=trimTransparentPixels(v,h);return g.width=S.width,g.height=S.height,b.drawImage(d,S.trimOffsetLeft,S.trimOffsetTop),X({canvas:g},S)}var __defProp$f=Object.defineProperty,__defNormalProp$f=(d,h,f)=>h in d?__defProp$f(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$f=(d,h,f)=>__defNormalProp$f(d,typeof h!="symbol"?h+"":h,f);class GlyphImage extends GlyphBase{constructor(h){super(h),__publicField$f(this,"type","image"),__publicField$f(this,"src",""),__publicField$f(this,"source",null),__publicField$f(this,"buffer",null),__publicField$f(this,"fileName",""),__publicField$f(this,"fileType",""),__publicField$f(this,"selected",!0),makeObservable(this,{src:observable,fileName:observable,fileType:observable,selected:observable,buffer:observable.ref,initImage:action.bound,setGlyph:action.bound,changeSelect:action.bound}),this.letter=h.letter||"",this.fileName=h.fileName||"",this.fileType=h.fileType||"",this.buffer=h.buffer||null,h.buffer&&(this.src=URL.createObjectURL(new Blob([h.buffer])),this.initImage())}initImage(){return new Promise(h=>{const f=new Image;f.onload=()=>{runInAction(()=>{const{naturalWidth:y,naturalHeight:g}=f;this.fontWidth=y,this.fontHeight=g;const b=getTrimImageInfo(f);this.width=b.width,this.height=b.height,this.trimOffsetLeft=b.trimOffsetLeft,this.trimOffsetTop=b.trimOffsetTop,this.source=b.canvas,h()})},f.onerror=()=>{console.error(`Failed to load image: ${this.fileName}`),h()},f.src=this.src})}setGlyph(h){this.letter=h[0]||""}changeSelect(h){this.selected=h}}const num=(d,h)=>is.num(d)?d:h,use={num};var __defProp$e=Object.defineProperty,__defNormalProp$e=(d,h,f)=>h in d?__defProp$e(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$e=(d,h,f)=>__defNormalProp$e(d,typeof h!="symbol"?h+"":h,f);let Layout$1=class{constructor(h={}){__publicField$e(this,"padding",1),__publicField$e(this,"spacing",1),__publicField$e(this,"width",512),__publicField$e(this,"height",512),__publicField$e(this,"auto",!0),__publicField$e(this,"fixedSize",!1),__publicField$e(this,"page",1),__publicField$e(this,"packWidth",512),__publicField$e(this,"packHeight",512),makeObservable(this,{padding:observable,spacing:observable,width:observable,height:observable,auto:observable,fixedSize:observable,page:observable,packWidth:observable,packHeight:observable,setPadding:action.bound,setSpacing:action.bound,setWidth:action.bound,setHeight:action.bound,setAuto:action.bound,setFixedSize:action.bound,setPage:action.bound,setPackSize:action.bound}),this.padding=use.num(h.padding,1),this.spacing=use.num(h.spacing,1),this.width=use.num(h.width,512),this.height=use.num(h.height,512),this.auto=h.auto!==!1,this.fixedSize=!!h.fixedSize,this.page=use.num(h.page,1),this.packWidth=use.num(h.packWidth,512),this.packHeight=use.num(h.packHeight,512)}setPadding(h){this.padding=h}setSpacing(h){this.spacing=h}setWidth(h){this.width=h}setHeight(h){this.height=h}setAuto(h){this.auto=h}setFixedSize(h){this.fixedSize=h}setPage(h){this.page=Math.max(1,Math.floor(h))}setPackSize(h,f){this.packWidth===h&&this.packHeight===f||(this.packWidth=h,this.packHeight=f)}};var __defProp$d=Object.defineProperty,__defNormalProp$d=(d,h,f)=>h in d?__defProp$d(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$d=(d,h,f)=>__defNormalProp$d(d,typeof h!="symbol"?h+"":h,f),GradientType=(d=>(d[d.LINEAR=0]="LINEAR",d[d.RADIAL=1]="RADIAL",d))(GradientType||{});class Gradient{constructor(h={}){__publicField$d(this,"type",0),__publicField$d(this,"angle"),__publicField$d(this,"palette",[]),makeObservable(this,{type:observable,angle:observable,palette:observable.shallow,ids:computed,nextId:computed,setType:action.bound,setAngle:action.bound,addColor:action.bound,updatePalette:action.bound}),this.type=h.type&&GradientType[h.type]?h.type:0,this.angle=h.angle||0,h.palette?h.palette.forEach(f=>{this.palette.push(Re(X({},f),{id:f.id||this.nextId}))}):(this.addColor(0,"rgba(255,255,255,1)"),this.addColor(1))}get ids(){return this.palette.map(h=>h.id)}get nextId(){return this.ids.length===0?1:Math.max(...this.ids)+1}setType(h){this.type=h}setAngle(h){this.angle=h}addColor(h=0,f="rgba(0,0,0,1)"){this.palette.push({offset:h,color:f,id:this.nextId})}updatePalette(h){this.palette=h}}function base64ToArrayBuffer(d){const h=atob(d),f=h.length,y=new Uint8Array(f);for(let g=0;g<f;g+=1)y[g]=h.charCodeAt(g);return y.buffer}var __defProp$c=Object.defineProperty,__defNormalProp$c=(d,h,f)=>h in d?__defProp$c(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$c=(d,h,f)=>__defNormalProp$c(d,typeof h!="symbol"?h+"":h,f);const DEFAULT_IMAGE="iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABlBMVEX////MzMw46qqDAAAADklEQVQI12Pgh8IPEAgAEeAD/Xk4HBcAAAAASUVORK5CYII=";class PatternTexture{constructor(h={}){__publicField$c(this,"buffer",base64ToArrayBuffer(DEFAULT_IMAGE)),__publicField$c(this,"image",null),__publicField$c(this,"src",""),__publicField$c(this,"repetition","repeat"),__publicField$c(this,"scale"),makeObservable(this,{buffer:observable.ref,image:observable.ref,src:observable,repetition:observable,scale:observable,setImage:action.bound,setRepetition:action.bound,setScale:action.bound}),this.scale=use.num(h.scale,1),this.repetition=h.repetition||"repeat",this.setImage(h.buffer||this.buffer)}setImage(h){const f=URL.createObjectURL(new Blob([h])),y=new Image;y.onload=()=>{runInAction(()=>{this.buffer=h,this.image=y,this.src=f,y.onload=null})},y.src=f}setRepetition(h){this.repetition=h}setScale(h){this.scale=h}}var __defProp$b=Object.defineProperty,__defNormalProp$b=(d,h,f)=>h in d?__defProp$b(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$b=(d,h,f)=>__defNormalProp$b(d,typeof h!="symbol"?h+"":h,f),FillType=(d=>(d[d.SOLID=0]="SOLID",d[d.GRADIENT=1]="GRADIENT",d[d.IMAGE=2]="IMAGE",d))(FillType||{});class Fill{constructor(h={}){__publicField$b(this,"type"),__publicField$b(this,"color"),__publicField$b(this,"gradient"),__publicField$b(this,"patternTexture"),makeObservable(this,{type:observable,color:observable,gradient:observable,patternTexture:observable,setType:action.bound,setColor:action.bound}),this.color=h.color||"#000000",this.type=h.type&&FillType[h.type]?h.type:0,this.gradient=new Gradient(h.gradient),this.patternTexture=new PatternTexture(h.patternTexture)}setType(h=0){this.type=h}setColor(h="#000000"){this.color=h}}/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||(function(){var d=(function(){try{var f={},y=Object.defineProperty,g=y(f,f,f)&&y}catch(b){}return g})(),h=function(f){if(this==null)throw TypeError();var y=String(this),g=y.length,b=f?Number(f):0;if(b!=b&&(b=0),!(b<0||b>=g)){var v=y.charCodeAt(b),S;return v>=55296&&v<=56319&&g>b+1&&(S=y.charCodeAt(b+1),S>=56320&&S<=57343)?(v-55296)*1024+S-56320+65536:v}};d?d(String.prototype,"codePointAt",{value:h,configurable:!0,writable:!0}):String.prototype.codePointAt=h})();var TINF_OK=0,TINF_DATA_ERROR=-3;function Tree(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function Data(d,h){this.source=d,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=h,this.destLen=0,this.ltree=new Tree,this.dtree=new Tree}var sltree=new Tree,sdtree=new Tree,length_bits=new Uint8Array(30),length_base=new Uint16Array(30),dist_bits=new Uint8Array(30),dist_base=new Uint16Array(30),clcidx=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),code_tree=new Tree,lengths=new Uint8Array(320);function tinf_build_bits_base(d,h,f,y){var g,b;for(g=0;g<f;++g)d[g]=0;for(g=0;g<30-f;++g)d[g+f]=g/f|0;for(b=y,g=0;g<30;++g)h[g]=b,b+=1<<d[g]}function tinf_build_fixed_trees(d,h){var f;for(f=0;f<7;++f)d.table[f]=0;for(d.table[7]=24,d.table[8]=152,d.table[9]=112,f=0;f<24;++f)d.trans[f]=256+f;for(f=0;f<144;++f)d.trans[24+f]=f;for(f=0;f<8;++f)d.trans[168+f]=280+f;for(f=0;f<112;++f)d.trans[176+f]=144+f;for(f=0;f<5;++f)h.table[f]=0;for(h.table[5]=32,f=0;f<32;++f)h.trans[f]=f}var offs=new Uint16Array(16);function tinf_build_tree(d,h,f,y){var g,b;for(g=0;g<16;++g)d.table[g]=0;for(g=0;g<y;++g)d.table[h[f+g]]++;for(d.table[0]=0,b=0,g=0;g<16;++g)offs[g]=b,b+=d.table[g];for(g=0;g<y;++g)h[f+g]&&(d.trans[offs[h[f+g]]++]=g)}function tinf_getbit(d){d.bitcount--||(d.tag=d.source[d.sourceIndex++],d.bitcount=7);var h=d.tag&1;return d.tag>>>=1,h}function tinf_read_bits(d,h,f){if(!h)return f;for(;d.bitcount<24;)d.tag|=d.source[d.sourceIndex++]<<d.bitcount,d.bitcount+=8;var y=d.tag&65535>>>16-h;return d.tag>>>=h,d.bitcount-=h,y+f}function tinf_decode_symbol(d,h){for(;d.bitcount<24;)d.tag|=d.source[d.sourceIndex++]<<d.bitcount,d.bitcount+=8;var f=0,y=0,g=0,b=d.tag;do y=2*y+(b&1),b>>>=1,++g,f+=h.table[g],y-=h.table[g];while(y>=0);return d.tag=b,d.bitcount-=g,h.trans[f+y]}function tinf_decode_trees(d,h,f){var y,g,b,v,S,O;for(y=tinf_read_bits(d,5,257),g=tinf_read_bits(d,5,1),b=tinf_read_bits(d,4,4),v=0;v<19;++v)lengths[v]=0;for(v=0;v<b;++v){var w=tinf_read_bits(d,3,0);lengths[clcidx[v]]=w}for(tinf_build_tree(code_tree,lengths,0,19),S=0;S<y+g;){var T=tinf_decode_symbol(d,code_tree);switch(T){case 16:var E=lengths[S-1];for(O=tinf_read_bits(d,2,3);O;--O)lengths[S++]=E;break;case 17:for(O=tinf_read_bits(d,3,3);O;--O)lengths[S++]=0;break;case 18:for(O=tinf_read_bits(d,7,11);O;--O)lengths[S++]=0;break;default:lengths[S++]=T;break}}tinf_build_tree(h,lengths,0,y),tinf_build_tree(f,lengths,y,g)}function tinf_inflate_block_data(d,h,f){for(;;){var y=tinf_decode_symbol(d,h);if(y===256)return TINF_OK;if(y<256)d.dest[d.destLen++]=y;else{var g,b,v,S;for(y-=257,g=tinf_read_bits(d,length_bits[y],length_base[y]),b=tinf_decode_symbol(d,f),v=d.destLen-tinf_read_bits(d,dist_bits[b],dist_base[b]),S=v;S<v+g;++S)d.dest[d.destLen++]=d.dest[S]}}}function tinf_inflate_uncompressed_block(d){for(var h,f,y;d.bitcount>8;)d.sourceIndex--,d.bitcount-=8;if(h=d.source[d.sourceIndex+1],h=256*h+d.source[d.sourceIndex],f=d.source[d.sourceIndex+3],f=256*f+d.source[d.sourceIndex+2],h!==(~f&65535))return TINF_DATA_ERROR;for(d.sourceIndex+=4,y=h;y;--y)d.dest[d.destLen++]=d.source[d.sourceIndex++];return d.bitcount=0,TINF_OK}function tinf_uncompress(d,h){var f=new Data(d,h),y,g,b;do{switch(y=tinf_getbit(f),g=tinf_read_bits(f,2,0),g){case 0:b=tinf_inflate_uncompressed_block(f);break;case 1:b=tinf_inflate_block_data(f,sltree,sdtree);break;case 2:tinf_decode_trees(f,f.ltree,f.dtree),b=tinf_inflate_block_data(f,f.ltree,f.dtree);break;default:b=TINF_DATA_ERROR}if(b!==TINF_OK)throw new Error("Data error")}while(!y);return f.destLen<f.dest.length?typeof f.dest.slice=="function"?f.dest.slice(0,f.destLen):f.dest.subarray(0,f.destLen):f.dest}tinf_build_fixed_trees(sltree,sdtree);tinf_build_bits_base(length_bits,length_base,4,3);tinf_build_bits_base(dist_bits,dist_base,2,1);length_bits[28]=0;length_base[28]=258;var tinyInflate=tinf_uncompress;function derive(d,h,f,y,g){return Math.pow(1-g,3)*d+3*Math.pow(1-g,2)*g*h+3*(1-g)*Math.pow(g,2)*f+Math.pow(g,3)*y}function BoundingBox(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}BoundingBox.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};BoundingBox.prototype.addPoint=function(d,h){typeof d=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=d,this.x2=d),d<this.x1&&(this.x1=d),d>this.x2&&(this.x2=d)),typeof h=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=h,this.y2=h),h<this.y1&&(this.y1=h),h>this.y2&&(this.y2=h))};BoundingBox.prototype.addX=function(d){this.addPoint(d,null)};BoundingBox.prototype.addY=function(d){this.addPoint(null,d)};BoundingBox.prototype.addBezier=function(d,h,f,y,g,b,v,S){var O=[d,h],w=[f,y],T=[g,b],E=[v,S];this.addPoint(d,h),this.addPoint(v,S);for(var k=0;k<=1;k++){var C=6*O[k]-12*w[k]+6*T[k],P=-3*O[k]+9*w[k]-9*T[k]+3*E[k],M=3*w[k]-3*O[k];if(P===0){if(C===0)continue;var A=-M/C;0<A&&A<1&&(k===0&&this.addX(derive(O[k],w[k],T[k],E[k],A)),k===1&&this.addY(derive(O[k],w[k],T[k],E[k],A)));continue}var D=Math.pow(C,2)-4*M*P;if(!(D<0)){var N=(-C+Math.sqrt(D))/(2*P);0<N&&N<1&&(k===0&&this.addX(derive(O[k],w[k],T[k],E[k],N)),k===1&&this.addY(derive(O[k],w[k],T[k],E[k],N)));var j=(-C-Math.sqrt(D))/(2*P);0<j&&j<1&&(k===0&&this.addX(derive(O[k],w[k],T[k],E[k],j)),k===1&&this.addY(derive(O[k],w[k],T[k],E[k],j)))}}};BoundingBox.prototype.addQuad=function(d,h,f,y,g,b){var v=d+.6666666666666666*(f-d),S=h+2/3*(y-h),O=v+1/3*(g-d),w=S+1/3*(b-h);this.addBezier(d,h,v,S,O,w,g,b)};function Path(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}Path.prototype.moveTo=function(d,h){this.commands.push({type:"M",x:d,y:h})};Path.prototype.lineTo=function(d,h){this.commands.push({type:"L",x:d,y:h})};Path.prototype.curveTo=Path.prototype.bezierCurveTo=function(d,h,f,y,g,b){this.commands.push({type:"C",x1:d,y1:h,x2:f,y2:y,x:g,y:b})};Path.prototype.quadTo=Path.prototype.quadraticCurveTo=function(d,h,f,y){this.commands.push({type:"Q",x1:d,y1:h,x:f,y})};Path.prototype.close=Path.prototype.closePath=function(){this.commands.push({type:"Z"})};Path.prototype.extend=function(d){if(d.commands)d=d.commands;else if(d instanceof BoundingBox){var h=d;this.moveTo(h.x1,h.y1),this.lineTo(h.x2,h.y1),this.lineTo(h.x2,h.y2),this.lineTo(h.x1,h.y2),this.close();return}Array.prototype.push.apply(this.commands,d)};Path.prototype.getBoundingBox=function(){for(var d=new BoundingBox,h=0,f=0,y=0,g=0,b=0;b<this.commands.length;b++){var v=this.commands[b];switch(v.type){case"M":d.addPoint(v.x,v.y),h=y=v.x,f=g=v.y;break;case"L":d.addPoint(v.x,v.y),y=v.x,g=v.y;break;case"Q":d.addQuad(y,g,v.x1,v.y1,v.x,v.y),y=v.x,g=v.y;break;case"C":d.addBezier(y,g,v.x1,v.y1,v.x2,v.y2,v.x,v.y),y=v.x,g=v.y;break;case"Z":y=h,g=f;break;default:throw new Error("Unexpected path command "+v.type)}}return d.isEmpty()&&d.addPoint(0,0),d};Path.prototype.draw=function(d){d.beginPath();for(var h=0;h<this.commands.length;h+=1){var f=this.commands[h];f.type==="M"?d.moveTo(f.x,f.y):f.type==="L"?d.lineTo(f.x,f.y):f.type==="C"?d.bezierCurveTo(f.x1,f.y1,f.x2,f.y2,f.x,f.y):f.type==="Q"?d.quadraticCurveTo(f.x1,f.y1,f.x,f.y):f.type==="Z"&&d.closePath()}this.fill&&(d.fillStyle=this.fill,d.fill()),this.stroke&&(d.strokeStyle=this.stroke,d.lineWidth=this.strokeWidth,d.stroke())};Path.prototype.toPathData=function(d){d=d!==void 0?d:2;function h(v){return Math.round(v)===v?""+Math.round(v):v.toFixed(d)}function f(){for(var v=arguments,S="",O=0;O<arguments.length;O+=1){var w=v[O];w>=0&&O>0&&(S+=" "),S+=h(w)}return S}for(var y="",g=0;g<this.commands.length;g+=1){var b=this.commands[g];b.type==="M"?y+="M"+f(b.x,b.y):b.type==="L"?y+="L"+f(b.x,b.y):b.type==="C"?y+="C"+f(b.x1,b.y1,b.x2,b.y2,b.x,b.y):b.type==="Q"?y+="Q"+f(b.x1,b.y1,b.x,b.y):b.type==="Z"&&(y+="Z")}return y};Path.prototype.toSVG=function(d){var h='<path d="';return h+=this.toPathData(d),h+='"',this.fill&&this.fill!=="black"&&(this.fill===null?h+=' fill="none"':h+=' fill="'+this.fill+'"'),this.stroke&&(h+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),h+="/>",h};Path.prototype.toDOMElement=function(d){var h=this.toPathData(d),f=document.createElementNS("http://www.w3.org/2000/svg","path");return f.setAttribute("d",h),f};function fail(d){throw new Error(d)}function argument(d,h){d||fail(h)}var check$2={fail,argument,assert:argument},LIMIT16=32768,LIMIT32=2147483648,decode$2={},encode$1={},sizeOf={};function constant$1(d){return function(){return d}}encode$1.BYTE=function(d){return check$2.argument(d>=0&&d<=255,"Byte value should be between 0 and 255."),[d]};sizeOf.BYTE=constant$1(1);encode$1.CHAR=function(d){return[d.charCodeAt(0)]};sizeOf.CHAR=constant$1(1);encode$1.CHARARRAY=function(d){typeof d=="undefined"&&(d="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var h=[],f=0;f<d.length;f+=1)h[f]=d.charCodeAt(f);return h};sizeOf.CHARARRAY=function(d){return typeof d=="undefined"?0:d.length};encode$1.USHORT=function(d){return[d>>8&255,d&255]};sizeOf.USHORT=constant$1(2);encode$1.SHORT=function(d){return d>=LIMIT16&&(d=-(2*LIMIT16-d)),[d>>8&255,d&255]};sizeOf.SHORT=constant$1(2);encode$1.UINT24=function(d){return[d>>16&255,d>>8&255,d&255]};sizeOf.UINT24=constant$1(3);encode$1.ULONG=function(d){return[d>>24&255,d>>16&255,d>>8&255,d&255]};sizeOf.ULONG=constant$1(4);encode$1.LONG=function(d){return d>=LIMIT32&&(d=-(2*LIMIT32-d)),[d>>24&255,d>>16&255,d>>8&255,d&255]};sizeOf.LONG=constant$1(4);encode$1.FIXED=encode$1.ULONG;sizeOf.FIXED=sizeOf.ULONG;encode$1.FWORD=encode$1.SHORT;sizeOf.FWORD=sizeOf.SHORT;encode$1.UFWORD=encode$1.USHORT;sizeOf.UFWORD=sizeOf.USHORT;encode$1.LONGDATETIME=function(d){return[0,0,0,0,d>>24&255,d>>16&255,d>>8&255,d&255]};sizeOf.LONGDATETIME=constant$1(8);encode$1.TAG=function(d){return check$2.argument(d.length===4,"Tag should be exactly 4 ASCII characters."),[d.charCodeAt(0),d.charCodeAt(1),d.charCodeAt(2),d.charCodeAt(3)]};sizeOf.TAG=constant$1(4);encode$1.Card8=encode$1.BYTE;sizeOf.Card8=sizeOf.BYTE;encode$1.Card16=encode$1.USHORT;sizeOf.Card16=sizeOf.USHORT;encode$1.OffSize=encode$1.BYTE;sizeOf.OffSize=sizeOf.BYTE;encode$1.SID=encode$1.USHORT;sizeOf.SID=sizeOf.USHORT;encode$1.NUMBER=function(d){return d>=-107&&d<=107?[d+139]:d>=108&&d<=1131?(d=d-108,[(d>>8)+247,d&255]):d>=-1131&&d<=-108?(d=-d-108,[(d>>8)+251,d&255]):d>=-32768&&d<=32767?encode$1.NUMBER16(d):encode$1.NUMBER32(d)};sizeOf.NUMBER=function(d){return encode$1.NUMBER(d).length};encode$1.NUMBER16=function(d){return[28,d>>8&255,d&255]};sizeOf.NUMBER16=constant$1(3);encode$1.NUMBER32=function(d){return[29,d>>24&255,d>>16&255,d>>8&255,d&255]};sizeOf.NUMBER32=constant$1(5);encode$1.REAL=function(d){var h=d.toString(),f=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(h);if(f){var y=parseFloat("1e"+((f[2]?+f[2]:0)+f[1].length));h=(Math.round(d*y)/y).toString()}for(var g="",b=0,v=h.length;b<v;b+=1){var S=h[b];S==="e"?g+=h[++b]==="-"?"c":"b":S==="."?g+="a":S==="-"?g+="e":g+=S}g+=g.length&1?"f":"ff";for(var O=[30],w=0,T=g.length;w<T;w+=2)O.push(parseInt(g.substr(w,2),16));return O};sizeOf.REAL=function(d){return encode$1.REAL(d).length};encode$1.NAME=encode$1.CHARARRAY;sizeOf.NAME=sizeOf.CHARARRAY;encode$1.STRING=encode$1.CHARARRAY;sizeOf.STRING=sizeOf.CHARARRAY;decode$2.UTF8=function(d,h,f){for(var y=[],g=f,b=0;b<g;b++,h+=1)y[b]=d.getUint8(h);return String.fromCharCode.apply(null,y)};decode$2.UTF16=function(d,h,f){for(var y=[],g=f/2,b=0;b<g;b++,h+=2)y[b]=d.getUint16(h);return String.fromCharCode.apply(null,y)};encode$1.UTF16=function(d){for(var h=[],f=0;f<d.length;f+=1){var y=d.charCodeAt(f);h[h.length]=y>>8&255,h[h.length]=y&255}return h};sizeOf.UTF16=function(d){return d.length*2};var eightBitMacEncodings={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};decode$2.MACSTRING=function(d,h,f,y){var g=eightBitMacEncodings[y];if(g!==void 0){for(var b="",v=0;v<f;v++){var S=d.getUint8(h+v);S<=127?b+=String.fromCharCode(S):b+=g[S&127]}return b}};var macEncodingTableCache=typeof WeakMap=="function"&&new WeakMap,macEncodingCacheKeys,getMacEncodingTable=function(d){if(!macEncodingCacheKeys){macEncodingCacheKeys={};for(var h in eightBitMacEncodings)macEncodingCacheKeys[h]=new String(h)}var f=macEncodingCacheKeys[d];if(f!==void 0){if(macEncodingTableCache){var y=macEncodingTableCache.get(f);if(y!==void 0)return y}var g=eightBitMacEncodings[d];if(g!==void 0){for(var b={},v=0;v<g.length;v++)b[g.charCodeAt(v)]=v+128;return macEncodingTableCache&&macEncodingTableCache.set(f,b),b}}};encode$1.MACSTRING=function(d,h){var f=getMacEncodingTable(h);if(f!==void 0){for(var y=[],g=0;g<d.length;g++){var b=d.charCodeAt(g);if(b>=128&&(b=f[b],b===void 0))return;y[g]=b}return y}};sizeOf.MACSTRING=function(d,h){var f=encode$1.MACSTRING(d,h);return f!==void 0?f.length:0};function isByteEncodable(d){return d>=-128&&d<=127}function encodeVarDeltaRunAsZeroes(d,h,f){for(var y=0,g=d.length;h<g&&y<64&&d[h]===0;)++h,++y;return f.push(128|y-1),h}function encodeVarDeltaRunAsBytes(d,h,f){for(var y=0,g=d.length,b=h;b<g&&y<64;){var v=d[b];if(!isByteEncodable(v)||v===0&&b+1<g&&d[b+1]===0)break;++b,++y}f.push(y-1);for(var S=h;S<b;++S)f.push(d[S]+256&255);return b}function encodeVarDeltaRunAsWords(d,h,f){for(var y=0,g=d.length,b=h;b<g&&y<64;){var v=d[b];if(v===0||isByteEncodable(v)&&b+1<g&&isByteEncodable(d[b+1]))break;++b,++y}f.push(64|y-1);for(var S=h;S<b;++S){var O=d[S];f.push(O+65536>>8&255,O+256&255)}return b}encode$1.VARDELTAS=function(d){for(var h=0,f=[];h<d.length;){var y=d[h];y===0?h=encodeVarDeltaRunAsZeroes(d,h,f):y>=-128&&y<=127?h=encodeVarDeltaRunAsBytes(d,h,f):h=encodeVarDeltaRunAsWords(d,h,f)}return f};encode$1.INDEX=function(d){for(var h=1,f=[h],y=[],g=0;g<d.length;g+=1){var b=encode$1.OBJECT(d[g]);Array.prototype.push.apply(y,b),h+=b.length,f.push(h)}if(y.length===0)return[0,0];for(var v=[],S=1+Math.floor(Math.log(h)/Math.log(2))/8|0,O=[void 0,encode$1.BYTE,encode$1.USHORT,encode$1.UINT24,encode$1.ULONG][S],w=0;w<f.length;w+=1){var T=O(f[w]);Array.prototype.push.apply(v,T)}return Array.prototype.concat(encode$1.Card16(d.length),encode$1.OffSize(S),v,y)};sizeOf.INDEX=function(d){return encode$1.INDEX(d).length};encode$1.DICT=function(d){for(var h=[],f=Object.keys(d),y=f.length,g=0;g<y;g+=1){var b=parseInt(f[g],0),v=d[b];h=h.concat(encode$1.OPERAND(v.value,v.type)),h=h.concat(encode$1.OPERATOR(b))}return h};sizeOf.DICT=function(d){return encode$1.DICT(d).length};encode$1.OPERATOR=function(d){return d<1200?[d]:[12,d-1200]};encode$1.OPERAND=function(d,h){var f=[];if(Array.isArray(h))for(var y=0;y<h.length;y+=1)check$2.argument(d.length===h.length,"Not enough arguments given for type"+h),f=f.concat(encode$1.OPERAND(d[y],h[y]));else if(h==="SID")f=f.concat(encode$1.NUMBER(d));else if(h==="offset")f=f.concat(encode$1.NUMBER32(d));else if(h==="number")f=f.concat(encode$1.NUMBER(d));else if(h==="real")f=f.concat(encode$1.REAL(d));else throw new Error("Unknown operand type "+h);return f};encode$1.OP=encode$1.BYTE;sizeOf.OP=sizeOf.BYTE;var wmm=typeof WeakMap=="function"&&new WeakMap;encode$1.CHARSTRING=function(d){if(wmm){var h=wmm.get(d);if(h!==void 0)return h}for(var f=[],y=d.length,g=0;g<y;g+=1){var b=d[g];f=f.concat(encode$1[b.type](b.value))}return wmm&&wmm.set(d,f),f};sizeOf.CHARSTRING=function(d){return encode$1.CHARSTRING(d).length};encode$1.OBJECT=function(d){var h=encode$1[d.type];return check$2.argument(h!==void 0,"No encoding function for type "+d.type),h(d.value)};sizeOf.OBJECT=function(d){var h=sizeOf[d.type];return check$2.argument(h!==void 0,"No sizeOf function for type "+d.type),h(d.value)};encode$1.TABLE=function(d){for(var h=[],f=d.fields.length,y=[],g=[],b=0;b<f;b+=1){var v=d.fields[b],S=encode$1[v.type];check$2.argument(S!==void 0,"No encoding function for field type "+v.type+" ("+v.name+")");var O=d[v.name];O===void 0&&(O=v.value);var w=S(O);v.type==="TABLE"?(g.push(h.length),h=h.concat([0,0]),y.push(w)):h=h.concat(w)}for(var T=0;T<y.length;T+=1){var E=g[T],k=h.length;check$2.argument(k<65536,"Table "+d.tableName+" too big."),h[E]=k>>8,h[E+1]=k&255,h=h.concat(y[T])}return h};sizeOf.TABLE=function(d){for(var h=0,f=d.fields.length,y=0;y<f;y+=1){var g=d.fields[y],b=sizeOf[g.type];check$2.argument(b!==void 0,"No sizeOf function for field type "+g.type+" ("+g.name+")");var v=d[g.name];v===void 0&&(v=g.value),h+=b(v),g.type==="TABLE"&&(h+=2)}return h};encode$1.RECORD=encode$1.TABLE;sizeOf.RECORD=sizeOf.TABLE;encode$1.LITERAL=function(d){return d};sizeOf.LITERAL=function(d){return d.length};function Table(d,h,f){if(h.length&&(h[0].name!=="coverageFormat"||h[0].value===1))for(var y=0;y<h.length;y+=1){var g=h[y];this[g.name]=g.value}if(this.tableName=d,this.fields=h,f)for(var b=Object.keys(f),v=0;v<b.length;v+=1){var S=b[v],O=f[S];this[S]!==void 0&&(this[S]=O)}}Table.prototype.encode=function(){return encode$1.TABLE(this)};Table.prototype.sizeOf=function(){return sizeOf.TABLE(this)};function ushortList(d,h,f){f===void 0&&(f=h.length);var y=new Array(h.length+1);y[0]={name:d+"Count",type:"USHORT",value:f};for(var g=0;g<h.length;g++)y[g+1]={name:d+g,type:"USHORT",value:h[g]};return y}function tableList(d,h,f){var y=h.length,g=new Array(y+1);g[0]={name:d+"Count",type:"USHORT",value:y};for(var b=0;b<y;b++)g[b+1]={name:d+b,type:"TABLE",value:f(h[b],b)};return g}function recordList(d,h,f){var y=h.length,g=[];g[0]={name:d+"Count",type:"USHORT",value:y};for(var b=0;b<y;b++)g=g.concat(f(h[b],b));return g}function Coverage(d){d.format===1?Table.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ushortList("glyph",d.glyphs))):d.format===2?Table.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(recordList("rangeRecord",d.ranges,function(h){return[{name:"startGlyphID",type:"USHORT",value:h.start},{name:"endGlyphID",type:"USHORT",value:h.end},{name:"startCoverageIndex",type:"USHORT",value:h.index}]}))):check$2.assert(!1,"Coverage format must be 1 or 2.")}Coverage.prototype=Object.create(Table.prototype);Coverage.prototype.constructor=Coverage;function ScriptList(d){Table.call(this,"scriptListTable",recordList("scriptRecord",d,function(h,f){var y=h.script,g=y.defaultLangSys;return check$2.assert(!!g,"Unable to write GSUB: script "+h.tag+" has no default language system."),[{name:"scriptTag"+f,type:"TAG",value:h.tag},{name:"script"+f,type:"TABLE",value:new Table("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Table("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:g.reqFeatureIndex}].concat(ushortList("featureIndex",g.featureIndexes)))}].concat(recordList("langSys",y.langSysRecords,function(b,v){var S=b.langSys;return[{name:"langSysTag"+v,type:"TAG",value:b.tag},{name:"langSys"+v,type:"TABLE",value:new Table("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:S.reqFeatureIndex}].concat(ushortList("featureIndex",S.featureIndexes)))}]})))}]}))}ScriptList.prototype=Object.create(Table.prototype);ScriptList.prototype.constructor=ScriptList;function FeatureList(d){Table.call(this,"featureListTable",recordList("featureRecord",d,function(h,f){var y=h.feature;return[{name:"featureTag"+f,type:"TAG",value:h.tag},{name:"feature"+f,type:"TABLE",value:new Table("featureTable",[{name:"featureParams",type:"USHORT",value:y.featureParams}].concat(ushortList("lookupListIndex",y.lookupListIndexes)))}]}))}FeatureList.prototype=Object.create(Table.prototype);FeatureList.prototype.constructor=FeatureList;function LookupList(d,h){Table.call(this,"lookupListTable",tableList("lookup",d,function(f){var y=h[f.lookupType];return check$2.assert(!!y,"Unable to write GSUB lookup type "+f.lookupType+" tables."),new Table("lookupTable",[{name:"lookupType",type:"USHORT",value:f.lookupType},{name:"lookupFlag",type:"USHORT",value:f.lookupFlag}].concat(tableList("subtable",f.subtables,y)))}))}LookupList.prototype=Object.create(Table.prototype);LookupList.prototype.constructor=LookupList;var table={Table,Record:Table,Coverage,ScriptList,FeatureList,LookupList,ushortList,tableList,recordList};function getByte(d,h){return d.getUint8(h)}function getUShort(d,h){return d.getUint16(h,!1)}function getShort(d,h){return d.getInt16(h,!1)}function getULong(d,h){return d.getUint32(h,!1)}function getFixed(d,h){var f=d.getInt16(h,!1),y=d.getUint16(h+2,!1);return f+y/65535}function getTag$1(d,h){for(var f="",y=h;y<h+4;y+=1)f+=String.fromCharCode(d.getInt8(y));return f}function getOffset(d,h,f){for(var y=0,g=0;g<f;g+=1)y<<=8,y+=d.getUint8(h+g);return y}function getBytes(d,h,f){for(var y=[],g=h;g<f;g+=1)y.push(d.getUint8(g));return y}function bytesToString(d){for(var h="",f=0;f<d.length;f+=1)h+=String.fromCharCode(d[f]);return h}var typeOffsets={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Parser(d,h){this.data=d,this.offset=h,this.relativeOffset=0}Parser.prototype.parseByte=function(){var d=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,d};Parser.prototype.parseChar=function(){var d=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,d};Parser.prototype.parseCard8=Parser.prototype.parseByte;Parser.prototype.parseUShort=function(){var d=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,d};Parser.prototype.parseCard16=Parser.prototype.parseUShort;Parser.prototype.parseSID=Parser.prototype.parseUShort;Parser.prototype.parseOffset16=Parser.prototype.parseUShort;Parser.prototype.parseShort=function(){var d=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,d};Parser.prototype.parseF2Dot14=function(){var d=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,d};Parser.prototype.parseULong=function(){var d=getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,d};Parser.prototype.parseOffset32=Parser.prototype.parseULong;Parser.prototype.parseFixed=function(){var d=getFixed(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,d};Parser.prototype.parseString=function(d){var h=this.data,f=this.offset+this.relativeOffset,y="";this.relativeOffset+=d;for(var g=0;g<d;g++)y+=String.fromCharCode(h.getUint8(f+g));return y};Parser.prototype.parseTag=function(){return this.parseString(4)};Parser.prototype.parseLongDateTime=function(){var d=getULong(this.data,this.offset+this.relativeOffset+4);return d-=2082844800,this.relativeOffset+=8,d};Parser.prototype.parseVersion=function(d){var h=getUShort(this.data,this.offset+this.relativeOffset),f=getUShort(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,d===void 0&&(d=4096),h+f/d/10};Parser.prototype.skip=function(d,h){h===void 0&&(h=1),this.relativeOffset+=typeOffsets[d]*h};Parser.prototype.parseULongList=function(d){d===void 0&&(d=this.parseULong());for(var h=new Array(d),f=this.data,y=this.offset+this.relativeOffset,g=0;g<d;g++)h[g]=f.getUint32(y),y+=4;return this.relativeOffset+=d*4,h};Parser.prototype.parseOffset16List=Parser.prototype.parseUShortList=function(d){d===void 0&&(d=this.parseUShort());for(var h=new Array(d),f=this.data,y=this.offset+this.relativeOffset,g=0;g<d;g++)h[g]=f.getUint16(y),y+=2;return this.relativeOffset+=d*2,h};Parser.prototype.parseShortList=function(d){for(var h=new Array(d),f=this.data,y=this.offset+this.relativeOffset,g=0;g<d;g++)h[g]=f.getInt16(y),y+=2;return this.relativeOffset+=d*2,h};Parser.prototype.parseByteList=function(d){for(var h=new Array(d),f=this.data,y=this.offset+this.relativeOffset,g=0;g<d;g++)h[g]=f.getUint8(y++);return this.relativeOffset+=d,h};Parser.prototype.parseList=function(d,h){h||(h=d,d=this.parseUShort());for(var f=new Array(d),y=0;y<d;y++)f[y]=h.call(this);return f};Parser.prototype.parseList32=function(d,h){h||(h=d,d=this.parseULong());for(var f=new Array(d),y=0;y<d;y++)f[y]=h.call(this);return f};Parser.prototype.parseRecordList=function(d,h){h||(h=d,d=this.parseUShort());for(var f=new Array(d),y=Object.keys(h),g=0;g<d;g++){for(var b={},v=0;v<y.length;v++){var S=y[v],O=h[S];b[S]=O.call(this)}f[g]=b}return f};Parser.prototype.parseRecordList32=function(d,h){h||(h=d,d=this.parseULong());for(var f=new Array(d),y=Object.keys(h),g=0;g<d;g++){for(var b={},v=0;v<y.length;v++){var S=y[v],O=h[S];b[S]=O.call(this)}f[g]=b}return f};Parser.prototype.parseStruct=function(d){if(typeof d=="function")return d.call(this);for(var h=Object.keys(d),f={},y=0;y<h.length;y++){var g=h[y],b=d[g];f[g]=b.call(this)}return f};Parser.prototype.parseValueRecord=function(d){if(d===void 0&&(d=this.parseUShort()),d!==0){var h={};return d&1&&(h.xPlacement=this.parseShort()),d&2&&(h.yPlacement=this.parseShort()),d&4&&(h.xAdvance=this.parseShort()),d&8&&(h.yAdvance=this.parseShort()),d&16&&(h.xPlaDevice=void 0,this.parseShort()),d&32&&(h.yPlaDevice=void 0,this.parseShort()),d&64&&(h.xAdvDevice=void 0,this.parseShort()),d&128&&(h.yAdvDevice=void 0,this.parseShort()),h}};Parser.prototype.parseValueRecordList=function(){for(var d=this.parseUShort(),h=this.parseUShort(),f=new Array(h),y=0;y<h;y++)f[y]=this.parseValueRecord(d);return f};Parser.prototype.parsePointer=function(d){var h=this.parseOffset16();if(h>0)return new Parser(this.data,this.offset+h).parseStruct(d)};Parser.prototype.parsePointer32=function(d){var h=this.parseOffset32();if(h>0)return new Parser(this.data,this.offset+h).parseStruct(d)};Parser.prototype.parseListOfLists=function(d){for(var h=this.parseOffset16List(),f=h.length,y=this.relativeOffset,g=new Array(f),b=0;b<f;b++){var v=h[b];if(v===0){g[b]=void 0;continue}if(this.relativeOffset=v,d){for(var S=this.parseOffset16List(),O=new Array(S.length),w=0;w<S.length;w++)this.relativeOffset=v+S[w],O[w]=d.call(this);g[b]=O}else g[b]=this.parseUShortList()}return this.relativeOffset=y,g};Parser.prototype.parseCoverage=function(){var d=this.offset+this.relativeOffset,h=this.parseUShort(),f=this.parseUShort();if(h===1)return{format:1,glyphs:this.parseUShortList(f)};if(h===2){for(var y=new Array(f),g=0;g<f;g++)y[g]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:y}}throw new Error("0x"+d.toString(16)+": Coverage format must be 1 or 2.")};Parser.prototype.parseClassDef=function(){var d=this.offset+this.relativeOffset,h=this.parseUShort();if(h===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(h===2)return{format:2,ranges:this.parseRecordList({start:Parser.uShort,end:Parser.uShort,classId:Parser.uShort})};throw new Error("0x"+d.toString(16)+": ClassDef format must be 1 or 2.")};Parser.list=function(d,h){return function(){return this.parseList(d,h)}};Parser.list32=function(d,h){return function(){return this.parseList32(d,h)}};Parser.recordList=function(d,h){return function(){return this.parseRecordList(d,h)}};Parser.recordList32=function(d,h){return function(){return this.parseRecordList32(d,h)}};Parser.pointer=function(d){return function(){return this.parsePointer(d)}};Parser.pointer32=function(d){return function(){return this.parsePointer32(d)}};Parser.tag=Parser.prototype.parseTag;Parser.byte=Parser.prototype.parseByte;Parser.uShort=Parser.offset16=Parser.prototype.parseUShort;Parser.uShortList=Parser.prototype.parseUShortList;Parser.uLong=Parser.offset32=Parser.prototype.parseULong;Parser.uLongList=Parser.prototype.parseULongList;Parser.struct=Parser.prototype.parseStruct;Parser.coverage=Parser.prototype.parseCoverage;Parser.classDef=Parser.prototype.parseClassDef;var langSysTable={reserved:Parser.uShort,reqFeatureIndex:Parser.uShort,featureIndexes:Parser.uShortList};Parser.prototype.parseScriptList=function(){return this.parsePointer(Parser.recordList({tag:Parser.tag,script:Parser.pointer({defaultLangSys:Parser.pointer(langSysTable),langSysRecords:Parser.recordList({tag:Parser.tag,langSys:Parser.pointer(langSysTable)})})}))||[]};Parser.prototype.parseFeatureList=function(){return this.parsePointer(Parser.recordList({tag:Parser.tag,feature:Parser.pointer({featureParams:Parser.offset16,lookupListIndexes:Parser.uShortList})}))||[]};Parser.prototype.parseLookupList=function(d){return this.parsePointer(Parser.list(Parser.pointer(function(){var h=this.parseUShort();check$2.argument(1<=h&&h<=9,"GPOS/GSUB lookup type "+h+" unknown.");var f=this.parseUShort(),y=f&16;return{lookupType:h,lookupFlag:f,subtables:this.parseList(Parser.pointer(d[h])),markFilteringSet:y?this.parseUShort():void 0}})))||[]};Parser.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var d=this.parseUShort(),h=this.parseUShort();check$2.argument(d===1&&h<1,"GPOS/GSUB feature variations table unknown.");var f=this.parseRecordList32({conditionSetOffset:Parser.offset32,featureTableSubstitutionOffset:Parser.offset32});return f})||[]};var parse$1={getByte,getCard8:getByte,getUShort,getCard16:getUShort,getShort,getULong,getFixed,getTag:getTag$1,getOffset,getBytes,bytesToString,Parser};function parseCmapTableFormat12(d,h){h.parseUShort(),d.length=h.parseULong(),d.language=h.parseULong();var f;d.groupCount=f=h.parseULong(),d.glyphIndexMap={};for(var y=0;y<f;y+=1)for(var g=h.parseULong(),b=h.parseULong(),v=h.parseULong(),S=g;S<=b;S+=1)d.glyphIndexMap[S]=v,v++}function parseCmapTableFormat4(d,h,f,y,g){d.length=h.parseUShort(),d.language=h.parseUShort();var b;d.segCount=b=h.parseUShort()>>1,h.skip("uShort",3),d.glyphIndexMap={};for(var v=new parse$1.Parser(f,y+g+14),S=new parse$1.Parser(f,y+g+16+b*2),O=new parse$1.Parser(f,y+g+16+b*4),w=new parse$1.Parser(f,y+g+16+b*6),T=y+g+16+b*8,E=0;E<b-1;E+=1)for(var k=void 0,C=v.parseUShort(),P=S.parseUShort(),M=O.parseShort(),A=w.parseUShort(),D=P;D<=C;D+=1)A!==0?(T=w.offset+w.relativeOffset-2,T+=A,T+=(D-P)*2,k=parse$1.getUShort(f,T),k!==0&&(k=k+M&65535)):k=D+M&65535,d.glyphIndexMap[D]=k}function parseCmapTable(d,h){var f={};f.version=parse$1.getUShort(d,h),check$2.argument(f.version===0,"cmap table version should be 0."),f.numTables=parse$1.getUShort(d,h+2);for(var y=-1,g=f.numTables-1;g>=0;g-=1){var b=parse$1.getUShort(d,h+4+g*8),v=parse$1.getUShort(d,h+4+g*8+2);if(b===3&&(v===0||v===1||v===10)||b===0&&(v===0||v===1||v===2||v===3||v===4)){y=parse$1.getULong(d,h+4+g*8+4);break}}if(y===-1)throw new Error("No valid cmap sub-tables found.");var S=new parse$1.Parser(d,h+y);if(f.format=S.parseUShort(),f.format===12)parseCmapTableFormat12(f,S);else if(f.format===4)parseCmapTableFormat4(f,S,d,h,y);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+f.format+").");return f}function addSegment(d,h,f){d.segments.push({end:h,start:h,delta:-(h-f),offset:0,glyphIndex:f})}function addTerminatorSegment(d){d.segments.push({end:65535,start:65535,delta:1,offset:0})}function makeCmapTable(d){var h=!0,f;for(f=d.length-1;f>0;f-=1){var y=d.get(f);if(y.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),h=!1;break}}var g=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:h?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:h?12:20}];h||(g=g.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),g=g.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var b=new table.Table("cmap",g);for(b.segments=[],f=0;f<d.length;f+=1){for(var v=d.get(f),S=0;S<v.unicodes.length;S+=1)addSegment(b,v.unicodes[S],f);b.segments=b.segments.sort(function(N,j){return N.start-j.start})}addTerminatorSegment(b);var O=b.segments.length,w=0,T=[],E=[],k=[],C=[],P=[],M=[];for(f=0;f<O;f+=1){var A=b.segments[f];A.end<=65535&&A.start<=65535?(T=T.concat({name:"end_"+f,type:"USHORT",value:A.end}),E=E.concat({name:"start_"+f,type:"USHORT",value:A.start}),k=k.concat({name:"idDelta_"+f,type:"SHORT",value:A.delta}),C=C.concat({name:"idRangeOffset_"+f,type:"USHORT",value:A.offset}),A.glyphId!==void 0&&(P=P.concat({name:"glyph_"+f,type:"USHORT",value:A.glyphId}))):w+=1,!h&&A.glyphIndex!==void 0&&(M=M.concat({name:"cmap12Start_"+f,type:"ULONG",value:A.start}),M=M.concat({name:"cmap12End_"+f,type:"ULONG",value:A.end}),M=M.concat({name:"cmap12Glyph_"+f,type:"ULONG",value:A.glyphIndex}))}if(b.segCountX2=(O-w)*2,b.searchRange=Math.pow(2,Math.floor(Math.log(O-w)/Math.log(2)))*2,b.entrySelector=Math.log(b.searchRange/2)/Math.log(2),b.rangeShift=b.segCountX2-b.searchRange,b.fields=b.fields.concat(T),b.fields.push({name:"reservedPad",type:"USHORT",value:0}),b.fields=b.fields.concat(E),b.fields=b.fields.concat(k),b.fields=b.fields.concat(C),b.fields=b.fields.concat(P),b.cmap4Length=14+T.length*2+2+E.length*2+k.length*2+C.length*2+P.length*2,!h){var D=16+M.length*4;b.cmap12Offset=20+b.cmap4Length,b.fields=b.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:D},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:M.length/3}]),b.fields=b.fields.concat(M)}return b}var cmap={parse:parseCmapTable,make:makeCmapTable},cffStandardStrings=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],cffStandardEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],cffExpertEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],standardNames=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function DefaultEncoding(d){this.font=d}DefaultEncoding.prototype.charToGlyphIndex=function(d){var h=d.codePointAt(0),f=this.font.glyphs;if(f){for(var y=0;y<f.length;y+=1)for(var g=f.get(y),b=0;b<g.unicodes.length;b+=1)if(g.unicodes[b]===h)return y}return null};function CmapEncoding(d){this.cmap=d}CmapEncoding.prototype.charToGlyphIndex=function(d){return this.cmap.glyphIndexMap[d.codePointAt(0)]||0};function CffEncoding(d,h){this.encoding=d,this.charset=h}CffEncoding.prototype.charToGlyphIndex=function(d){var h=d.codePointAt(0),f=this.encoding[h];return this.charset.indexOf(f)};function GlyphNames(d){switch(d.version){case 1:this.names=standardNames.slice();break;case 2:this.names=new Array(d.numberOfGlyphs);for(var h=0;h<d.numberOfGlyphs;h++)d.glyphNameIndex[h]<standardNames.length?this.names[h]=standardNames[d.glyphNameIndex[h]]:this.names[h]=d.names[d.glyphNameIndex[h]-standardNames.length];break;case 2.5:this.names=new Array(d.numberOfGlyphs);for(var f=0;f<d.numberOfGlyphs;f++)this.names[f]=standardNames[f+d.glyphNameIndex[f]];break;case 3:this.names=[];break;default:this.names=[];break}}GlyphNames.prototype.nameToGlyphIndex=function(d){return this.names.indexOf(d)};GlyphNames.prototype.glyphIndexToName=function(d){return this.names[d]};function addGlyphNamesAll(d){for(var h,f=d.tables.cmap.glyphIndexMap,y=Object.keys(f),g=0;g<y.length;g+=1){var b=y[g],v=f[b];h=d.glyphs.get(v),h.addUnicode(parseInt(b))}for(var S=0;S<d.glyphs.length;S+=1)h=d.glyphs.get(S),d.cffEncoding?d.isCIDFont?h.name="gid"+S:h.name=d.cffEncoding.charset[S]:d.glyphNames.names&&(h.name=d.glyphNames.glyphIndexToName(S))}function addGlyphNamesToUnicodeMap(d){d._IndexToUnicodeMap={};for(var h=d.tables.cmap.glyphIndexMap,f=Object.keys(h),y=0;y<f.length;y+=1){var g=f[y],b=h[g];d._IndexToUnicodeMap[b]===void 0?d._IndexToUnicodeMap[b]={unicodes:[parseInt(g)]}:d._IndexToUnicodeMap[b].unicodes.push(parseInt(g))}}function addGlyphNames(d,h){h.lowMemory?addGlyphNamesToUnicodeMap(d):addGlyphNamesAll(d)}function line(d,h,f,y,g){d.beginPath(),d.moveTo(h,f),d.lineTo(y,g),d.stroke()}var draw={line};function getPathDefinition(d,h){var f=h||new Path;return{configurable:!0,get:function(){return typeof f=="function"&&(f=f()),f},set:function(y){f=y}}}function Glyph(d){this.bindConstructorValues(d)}Glyph.prototype.bindConstructorValues=function(d){this.index=d.index||0,this.name=d.name||null,this.unicode=d.unicode||void 0,this.unicodes=d.unicodes||d.unicode!==void 0?[d.unicode]:[],"xMin"in d&&(this.xMin=d.xMin),"yMin"in d&&(this.yMin=d.yMin),"xMax"in d&&(this.xMax=d.xMax),"yMax"in d&&(this.yMax=d.yMax),"advanceWidth"in d&&(this.advanceWidth=d.advanceWidth),Object.defineProperty(this,"path",getPathDefinition(this,d.path))};Glyph.prototype.addUnicode=function(d){this.unicodes.length===0&&(this.unicode=d),this.unicodes.push(d)};Glyph.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Glyph.prototype.getPath=function(d,h,f,y,g){d=d!==void 0?d:0,h=h!==void 0?h:0,f=f!==void 0?f:72;var b,v;y||(y={});var S=y.xScale,O=y.yScale;if(y.hinting&&g&&g.hinting&&(v=this.path&&g.hinting.exec(this,f)),v)b=g.hinting.getCommands(v),d=Math.round(d),h=Math.round(h),S=O=1;else{b=this.path.commands;var w=1/(this.path.unitsPerEm||1e3)*f;S===void 0&&(S=w),O===void 0&&(O=w)}for(var T=new Path,E=0;E<b.length;E+=1){var k=b[E];k.type==="M"?T.moveTo(d+k.x*S,h+-k.y*O):k.type==="L"?T.lineTo(d+k.x*S,h+-k.y*O):k.type==="Q"?T.quadraticCurveTo(d+k.x1*S,h+-k.y1*O,d+k.x*S,h+-k.y*O):k.type==="C"?T.curveTo(d+k.x1*S,h+-k.y1*O,d+k.x2*S,h+-k.y2*O,d+k.x*S,h+-k.y*O):k.type==="Z"&&T.closePath()}return T};Glyph.prototype.getContours=function(){if(this.points===void 0)return[];for(var d=[],h=[],f=0;f<this.points.length;f+=1){var y=this.points[f];h.push(y),y.lastPointOfContour&&(d.push(h),h=[])}return check$2.argument(h.length===0,"There are still points left in the current contour."),d};Glyph.prototype.getMetrics=function(){for(var d=this.path.commands,h=[],f=[],y=0;y<d.length;y+=1){var g=d[y];g.type!=="Z"&&(h.push(g.x),f.push(g.y)),(g.type==="Q"||g.type==="C")&&(h.push(g.x1),f.push(g.y1)),g.type==="C"&&(h.push(g.x2),f.push(g.y2))}var b={xMin:Math.min.apply(null,h),yMin:Math.min.apply(null,f),xMax:Math.max.apply(null,h),yMax:Math.max.apply(null,f),leftSideBearing:this.leftSideBearing};return isFinite(b.xMin)||(b.xMin=0),isFinite(b.xMax)||(b.xMax=this.advanceWidth),isFinite(b.yMin)||(b.yMin=0),isFinite(b.yMax)||(b.yMax=0),b.rightSideBearing=this.advanceWidth-b.leftSideBearing-(b.xMax-b.xMin),b};Glyph.prototype.draw=function(d,h,f,y,g){this.getPath(h,f,y,g).draw(d)};Glyph.prototype.drawPoints=function(d,h,f,y){function g(E,k,C,P){d.beginPath();for(var M=0;M<E.length;M+=1)d.moveTo(k+E[M].x*P,C+E[M].y*P),d.arc(k+E[M].x*P,C+E[M].y*P,2,0,Math.PI*2,!1);d.closePath(),d.fill()}h=h!==void 0?h:0,f=f!==void 0?f:0,y=y!==void 0?y:24;for(var b=1/this.path.unitsPerEm*y,v=[],S=[],O=this.path,w=0;w<O.commands.length;w+=1){var T=O.commands[w];T.x!==void 0&&v.push({x:T.x,y:-T.y}),T.x1!==void 0&&S.push({x:T.x1,y:-T.y1}),T.x2!==void 0&&S.push({x:T.x2,y:-T.y2})}d.fillStyle="blue",g(v,h,f,b),d.fillStyle="red",g(S,h,f,b)};Glyph.prototype.drawMetrics=function(d,h,f,y){var g;h=h!==void 0?h:0,f=f!==void 0?f:0,y=y!==void 0?y:24,g=1/this.path.unitsPerEm*y,d.lineWidth=1,d.strokeStyle="black",draw.line(d,h,-1e4,h,1e4),draw.line(d,-1e4,f,1e4,f);var b=this.xMin||0,v=this.yMin||0,S=this.xMax||0,O=this.yMax||0,w=this.advanceWidth||0;d.strokeStyle="blue",draw.line(d,h+b*g,-1e4,h+b*g,1e4),draw.line(d,h+S*g,-1e4,h+S*g,1e4),draw.line(d,-1e4,f+-v*g,1e4,f+-v*g),draw.line(d,-1e4,f+-O*g,1e4,f+-O*g),d.strokeStyle="green",draw.line(d,h+w*g,-1e4,h+w*g,1e4)};function defineDependentProperty(d,h,f){Object.defineProperty(d,h,{get:function(){return d.path,d[f]},set:function(y){d[f]=y},enumerable:!0,configurable:!0})}function GlyphSet(d,h){if(this.font=d,this.glyphs={},Array.isArray(h))for(var f=0;f<h.length;f++){var y=h[f];y.path.unitsPerEm=d.unitsPerEm,this.glyphs[f]=y}this.length=h&&h.length||0}GlyphSet.prototype.get=function(d){if(this.glyphs[d]===void 0){this.font._push(d),typeof this.glyphs[d]=="function"&&(this.glyphs[d]=this.glyphs[d]());var h=this.glyphs[d],f=this.font._IndexToUnicodeMap[d];if(f)for(var y=0;y<f.unicodes.length;y++)h.addUnicode(f.unicodes[y]);this.font.cffEncoding?this.font.isCIDFont?h.name="gid"+d:h.name=this.font.cffEncoding.charset[d]:this.font.glyphNames.names&&(h.name=this.font.glyphNames.glyphIndexToName(d)),this.glyphs[d].advanceWidth=this.font._hmtxTableData[d].advanceWidth,this.glyphs[d].leftSideBearing=this.font._hmtxTableData[d].leftSideBearing}else typeof this.glyphs[d]=="function"&&(this.glyphs[d]=this.glyphs[d]());return this.glyphs[d]};GlyphSet.prototype.push=function(d,h){this.glyphs[d]=h,this.length++};function glyphLoader(d,h){return new Glyph({index:h,font:d})}function ttfGlyphLoader(d,h,f,y,g,b){return function(){var v=new Glyph({index:h,font:d});return v.path=function(){f(v,y,g);var S=b(d.glyphs,v);return S.unitsPerEm=d.unitsPerEm,S},defineDependentProperty(v,"xMin","_xMin"),defineDependentProperty(v,"xMax","_xMax"),defineDependentProperty(v,"yMin","_yMin"),defineDependentProperty(v,"yMax","_yMax"),v}}function cffGlyphLoader(d,h,f,y){return function(){var g=new Glyph({index:h,font:d});return g.path=function(){var b=f(d,g,y);return b.unitsPerEm=d.unitsPerEm,b},g}}var glyphset={GlyphSet,glyphLoader,ttfGlyphLoader,cffGlyphLoader};function equals(d,h){if(d===h)return!0;if(Array.isArray(d)&&Array.isArray(h)){if(d.length!==h.length)return!1;for(var f=0;f<d.length;f+=1)if(!equals(d[f],h[f]))return!1;return!0}else return!1}function calcCFFSubroutineBias(d){var h;return d.length<1240?h=107:d.length<33900?h=1131:h=32768,h}function parseCFFIndex(d,h,f){var y=[],g=[],b=parse$1.getCard16(d,h),v,S;if(b!==0){var O=parse$1.getByte(d,h+2);v=h+(b+1)*O+2;for(var w=h+3,T=0;T<b+1;T+=1)y.push(parse$1.getOffset(d,w,O)),w+=O;S=v+y[b]}else S=h+2;for(var E=0;E<y.length-1;E+=1){var k=parse$1.getBytes(d,v+y[E],v+y[E+1]);f&&(k=f(k)),g.push(k)}return{objects:g,startOffset:h,endOffset:S}}function parseCFFIndexLowMemory(d,h){var f=[],y=parse$1.getCard16(d,h),g,b;if(y!==0){var v=parse$1.getByte(d,h+2);g=h+(y+1)*v+2;for(var S=h+3,O=0;O<y+1;O+=1)f.push(parse$1.getOffset(d,S,v)),S+=v;b=g+f[y]}else b=h+2;return{offsets:f,startOffset:h,endOffset:b}}function getCffIndexObject(d,h,f,y,g){var b=parse$1.getCard16(f,y),v=0;if(b!==0){var S=parse$1.getByte(f,y+2);v=y+(b+1)*S+2}var O=parse$1.getBytes(f,v+h[d],v+h[d+1]);return O}function parseFloatOperand(d){for(var h="",f=15,y=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var g=d.parseByte(),b=g>>4,v=g&15;if(b===f||(h+=y[b],v===f))break;h+=y[v]}return parseFloat(h)}function parseOperand(d,h){var f,y,g,b;if(h===28)return f=d.parseByte(),y=d.parseByte(),f<<8|y;if(h===29)return f=d.parseByte(),y=d.parseByte(),g=d.parseByte(),b=d.parseByte(),f<<24|y<<16|g<<8|b;if(h===30)return parseFloatOperand(d);if(h>=32&&h<=246)return h-139;if(h>=247&&h<=250)return f=d.parseByte(),(h-247)*256+f+108;if(h>=251&&h<=254)return f=d.parseByte(),-(h-251)*256-f-108;throw new Error("Invalid b0 "+h)}function entriesToObject(d){for(var h={},f=0;f<d.length;f+=1){var y=d[f][0],g=d[f][1],b=void 0;if(g.length===1?b=g[0]:b=g,h.hasOwnProperty(y)&&!isNaN(h[y]))throw new Error("Object "+h+" already has key "+y);h[y]=b}return h}function parseCFFDict(d,h,f){h=h!==void 0?h:0;var y=new parse$1.Parser(d,h),g=[],b=[];for(f=f!==void 0?f:d.length;y.relativeOffset<f;){var v=y.parseByte();v<=21?(v===12&&(v=1200+y.parseByte()),g.push([v,b]),b=[]):b.push(parseOperand(y,v))}return entriesToObject(g)}function getCFFString(d,h){return h<=390?h=cffStandardStrings[h]:h=d[h-391],h}function interpretDict(d,h,f){for(var y={},g,b=0;b<h.length;b+=1){var v=h[b];if(Array.isArray(v.type)){var S=[];S.length=v.type.length;for(var O=0;O<v.type.length;O++)g=d[v.op]!==void 0?d[v.op][O]:void 0,g===void 0&&(g=v.value!==void 0&&v.value[O]!==void 0?v.value[O]:null),v.type[O]==="SID"&&(g=getCFFString(f,g)),S[O]=g;y[v.name]=S}else g=d[v.op],g===void 0&&(g=v.value!==void 0?v.value:null),v.type==="SID"&&(g=getCFFString(f,g)),y[v.name]=g}return y}function parseCFFHeader(d,h){var f={};return f.formatMajor=parse$1.getCard8(d,h),f.formatMinor=parse$1.getCard8(d,h+1),f.size=parse$1.getCard8(d,h+2),f.offsetSize=parse$1.getCard8(d,h+3),f.startOffset=h,f.endOffset=h+4,f}var TOP_DICT_META=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],PRIVATE_DICT_META=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function parseCFFTopDict(d,h){var f=parseCFFDict(d,0,d.byteLength);return interpretDict(f,TOP_DICT_META,h)}function parseCFFPrivateDict(d,h,f,y){var g=parseCFFDict(d,h,f);return interpretDict(g,PRIVATE_DICT_META,y)}function gatherCFFTopDicts(d,h,f,y){for(var g=[],b=0;b<f.length;b+=1){var v=new DataView(new Uint8Array(f[b]).buffer),S=parseCFFTopDict(v,y);S._subrs=[],S._subrsBias=0,S._defaultWidthX=0,S._nominalWidthX=0;var O=S.private[0],w=S.private[1];if(O!==0&&w!==0){var T=parseCFFPrivateDict(d,w+h,O,y);if(S._defaultWidthX=T.defaultWidthX,S._nominalWidthX=T.nominalWidthX,T.subrs!==0){var E=w+T.subrs,k=parseCFFIndex(d,E+h);S._subrs=k.objects,S._subrsBias=calcCFFSubroutineBias(S._subrs)}S._privateDict=T}g.push(S)}return g}function parseCFFCharset(d,h,f,y){var g,b,v=new parse$1.Parser(d,h);f-=1;var S=[".notdef"],O=v.parseCard8();if(O===0)for(var w=0;w<f;w+=1)g=v.parseSID(),S.push(getCFFString(y,g));else if(O===1)for(;S.length<=f;){g=v.parseSID(),b=v.parseCard8();for(var T=0;T<=b;T+=1)S.push(getCFFString(y,g)),g+=1}else if(O===2)for(;S.length<=f;){g=v.parseSID(),b=v.parseCard16();for(var E=0;E<=b;E+=1)S.push(getCFFString(y,g)),g+=1}else throw new Error("Unknown charset format "+O);return S}function parseCFFEncoding(d,h,f){var y,g={},b=new parse$1.Parser(d,h),v=b.parseCard8();if(v===0)for(var S=b.parseCard8(),O=0;O<S;O+=1)y=b.parseCard8(),g[y]=O;else if(v===1){var w=b.parseCard8();y=1;for(var T=0;T<w;T+=1)for(var E=b.parseCard8(),k=b.parseCard8(),C=E;C<=E+k;C+=1)g[C]=y,y+=1}else throw new Error("Unknown encoding format "+v);return new CffEncoding(g,f)}function parseCFFCharstring(d,h,f){var y,g,b,v,S=new Path,O=[],w=0,T=!1,E=!1,k=0,C=0,P,M,A,D;if(d.isCIDFont){var N=d.tables.cff.topDict._fdSelect[h.index],j=d.tables.cff.topDict._fdArray[N];P=j._subrs,M=j._subrsBias,A=j._defaultWidthX,D=j._nominalWidthX}else P=d.tables.cff.topDict._subrs,M=d.tables.cff.topDict._subrsBias,A=d.tables.cff.topDict._defaultWidthX,D=d.tables.cff.topDict._nominalWidthX;var q=A;function F(z,V){E&&S.closePath(),S.moveTo(z,V),E=!0}function L(){var z;z=O.length%2!==0,z&&!T&&(q=O.shift()+D),w+=O.length>>1,O.length=0,T=!0}function U(z){for(var V,Y,W,K,re,fe,se,J,ie,ue,ke,pe,ne=0;ne<z.length;){var de=z[ne];switch(ne+=1,de){case 1:L();break;case 3:L();break;case 4:O.length>1&&!T&&(q=O.shift()+D,T=!0),C+=O.pop(),F(k,C);break;case 5:for(;O.length>0;)k+=O.shift(),C+=O.shift(),S.lineTo(k,C);break;case 6:for(;O.length>0&&(k+=O.shift(),S.lineTo(k,C),O.length!==0);)C+=O.shift(),S.lineTo(k,C);break;case 7:for(;O.length>0&&(C+=O.shift(),S.lineTo(k,C),O.length!==0);)k+=O.shift(),S.lineTo(k,C);break;case 8:for(;O.length>0;)y=k+O.shift(),g=C+O.shift(),b=y+O.shift(),v=g+O.shift(),k=b+O.shift(),C=v+O.shift(),S.curveTo(y,g,b,v,k,C);break;case 10:re=O.pop()+M,fe=P[re],fe&&U(fe);break;case 11:return;case 12:switch(de=z[ne],ne+=1,de){case 35:y=k+O.shift(),g=C+O.shift(),b=y+O.shift(),v=g+O.shift(),se=b+O.shift(),J=v+O.shift(),ie=se+O.shift(),ue=J+O.shift(),ke=ie+O.shift(),pe=ue+O.shift(),k=ke+O.shift(),C=pe+O.shift(),O.shift(),S.curveTo(y,g,b,v,se,J),S.curveTo(ie,ue,ke,pe,k,C);break;case 34:y=k+O.shift(),g=C,b=y+O.shift(),v=g+O.shift(),se=b+O.shift(),J=v,ie=se+O.shift(),ue=v,ke=ie+O.shift(),pe=C,k=ke+O.shift(),S.curveTo(y,g,b,v,se,J),S.curveTo(ie,ue,ke,pe,k,C);break;case 36:y=k+O.shift(),g=C+O.shift(),b=y+O.shift(),v=g+O.shift(),se=b+O.shift(),J=v,ie=se+O.shift(),ue=v,ke=ie+O.shift(),pe=ue+O.shift(),k=ke+O.shift(),S.curveTo(y,g,b,v,se,J),S.curveTo(ie,ue,ke,pe,k,C);break;case 37:y=k+O.shift(),g=C+O.shift(),b=y+O.shift(),v=g+O.shift(),se=b+O.shift(),J=v+O.shift(),ie=se+O.shift(),ue=J+O.shift(),ke=ie+O.shift(),pe=ue+O.shift(),Math.abs(ke-k)>Math.abs(pe-C)?k=ke+O.shift():C=pe+O.shift(),S.curveTo(y,g,b,v,se,J),S.curveTo(ie,ue,ke,pe,k,C);break;default:console.log("Glyph "+h.index+": unknown operator 1200"+de),O.length=0}break;case 14:O.length>0&&!T&&(q=O.shift()+D,T=!0),E&&(S.closePath(),E=!1);break;case 18:L();break;case 19:case 20:L(),ne+=w+7>>3;break;case 21:O.length>2&&!T&&(q=O.shift()+D,T=!0),C+=O.pop(),k+=O.pop(),F(k,C);break;case 22:O.length>1&&!T&&(q=O.shift()+D,T=!0),k+=O.pop(),F(k,C);break;case 23:L();break;case 24:for(;O.length>2;)y=k+O.shift(),g=C+O.shift(),b=y+O.shift(),v=g+O.shift(),k=b+O.shift(),C=v+O.shift(),S.curveTo(y,g,b,v,k,C);k+=O.shift(),C+=O.shift(),S.lineTo(k,C);break;case 25:for(;O.length>6;)k+=O.shift(),C+=O.shift(),S.lineTo(k,C);y=k+O.shift(),g=C+O.shift(),b=y+O.shift(),v=g+O.shift(),k=b+O.shift(),C=v+O.shift(),S.curveTo(y,g,b,v,k,C);break;case 26:for(O.length%2&&(k+=O.shift());O.length>0;)y=k,g=C+O.shift(),b=y+O.shift(),v=g+O.shift(),k=b,C=v+O.shift(),S.curveTo(y,g,b,v,k,C);break;case 27:for(O.length%2&&(C+=O.shift());O.length>0;)y=k+O.shift(),g=C,b=y+O.shift(),v=g+O.shift(),k=b+O.shift(),C=v,S.curveTo(y,g,b,v,k,C);break;case 28:V=z[ne],Y=z[ne+1],O.push((V<<24|Y<<16)>>16),ne+=2;break;case 29:re=O.pop()+d.gsubrsBias,fe=d.gsubrs[re],fe&&U(fe);break;case 30:for(;O.length>0&&(y=k,g=C+O.shift(),b=y+O.shift(),v=g+O.shift(),k=b+O.shift(),C=v+(O.length===1?O.shift():0),S.curveTo(y,g,b,v,k,C),O.length!==0);)y=k+O.shift(),g=C,b=y+O.shift(),v=g+O.shift(),C=v+O.shift(),k=b+(O.length===1?O.shift():0),S.curveTo(y,g,b,v,k,C);break;case 31:for(;O.length>0&&(y=k+O.shift(),g=C,b=y+O.shift(),v=g+O.shift(),C=v+O.shift(),k=b+(O.length===1?O.shift():0),S.curveTo(y,g,b,v,k,C),O.length!==0);)y=k,g=C+O.shift(),b=y+O.shift(),v=g+O.shift(),k=b+O.shift(),C=v+(O.length===1?O.shift():0),S.curveTo(y,g,b,v,k,C);break;default:de<32?console.log("Glyph "+h.index+": unknown operator "+de):de<247?O.push(de-139):de<251?(V=z[ne],ne+=1,O.push((de-247)*256+V+108)):de<255?(V=z[ne],ne+=1,O.push(-(de-251)*256-V-108)):(V=z[ne],Y=z[ne+1],W=z[ne+2],K=z[ne+3],ne+=4,O.push((V<<24|Y<<16|W<<8|K)/65536))}}}return U(f),h.advanceWidth=q,S}function parseCFFFDSelect(d,h,f,y){var g=[],b,v=new parse$1.Parser(d,h),S=v.parseCard8();if(S===0)for(var O=0;O<f;O++){if(b=v.parseCard8(),b>=y)throw new Error("CFF table CID Font FDSelect has bad FD index value "+b+" (FD count "+y+")");g.push(b)}else if(S===3){var w=v.parseCard16(),T=v.parseCard16();if(T!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+T);for(var E,k=0;k<w;k++){if(b=v.parseCard8(),E=v.parseCard16(),b>=y)throw new Error("CFF table CID Font FDSelect has bad FD index value "+b+" (FD count "+y+")");if(E>f)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+E);for(;T<E;T++)g.push(b);T=E}if(E!==f)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+E)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+S);return g}function parseCFFTable(d,h,f,y){f.tables.cff={};var g=parseCFFHeader(d,h),b=parseCFFIndex(d,g.endOffset,parse$1.bytesToString),v=parseCFFIndex(d,b.endOffset),S=parseCFFIndex(d,v.endOffset,parse$1.bytesToString),O=parseCFFIndex(d,S.endOffset);f.gsubrs=O.objects,f.gsubrsBias=calcCFFSubroutineBias(f.gsubrs);var w=gatherCFFTopDicts(d,h,v.objects,S.objects);if(w.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+w.length);var T=w[0];if(f.tables.cff.topDict=T,T._privateDict&&(f.defaultWidthX=T._privateDict.defaultWidthX,f.nominalWidthX=T._privateDict.nominalWidthX),T.ros[0]!==void 0&&T.ros[1]!==void 0&&(f.isCIDFont=!0),f.isCIDFont){var E=T.fdArray,k=T.fdSelect;if(E===0||k===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");E+=h;var C=parseCFFIndex(d,E),P=gatherCFFTopDicts(d,h,C.objects,S.objects);T._fdArray=P,k+=h,T._fdSelect=parseCFFFDSelect(d,k,f.numGlyphs,P.length)}var M=h+T.private[1],A=parseCFFPrivateDict(d,M,T.private[0],S.objects);if(f.defaultWidthX=A.defaultWidthX,f.nominalWidthX=A.nominalWidthX,A.subrs!==0){var D=M+A.subrs,N=parseCFFIndex(d,D);f.subrs=N.objects,f.subrsBias=calcCFFSubroutineBias(f.subrs)}else f.subrs=[],f.subrsBias=0;var j;y.lowMemory?(j=parseCFFIndexLowMemory(d,h+T.charStrings),f.nGlyphs=j.offsets.length):(j=parseCFFIndex(d,h+T.charStrings),f.nGlyphs=j.objects.length);var q=parseCFFCharset(d,h+T.charset,f.nGlyphs,S.objects);if(T.encoding===0?f.cffEncoding=new CffEncoding(cffStandardEncoding,q):T.encoding===1?f.cffEncoding=new CffEncoding(cffExpertEncoding,q):f.cffEncoding=parseCFFEncoding(d,h+T.encoding,q),f.encoding=f.encoding||f.cffEncoding,f.glyphs=new glyphset.GlyphSet(f),y.lowMemory)f._push=function(U){var z=getCffIndexObject(U,j.offsets,d,h+T.charStrings);f.glyphs.push(U,glyphset.cffGlyphLoader(f,U,parseCFFCharstring,z))};else for(var F=0;F<f.nGlyphs;F+=1){var L=j.objects[F];f.glyphs.push(F,glyphset.cffGlyphLoader(f,F,parseCFFCharstring,L))}}function encodeString(d,h){var f,y=cffStandardStrings.indexOf(d);return y>=0&&(f=y),y=h.indexOf(d),y>=0?f=y+cffStandardStrings.length:(f=cffStandardStrings.length+h.length,h.push(d)),f}function makeHeader(){return new table.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function makeNameIndex(d){var h=new table.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);h.names=[];for(var f=0;f<d.length;f+=1)h.names.push({name:"name_"+f,type:"NAME",value:d[f]});return h}function makeDict(d,h,f){for(var y={},g=0;g<d.length;g+=1){var b=d[g],v=h[b.name];v!==void 0&&!equals(v,b.value)&&(b.type==="SID"&&(v=encodeString(v,f)),y[b.op]={name:b.name,type:b.type,value:v})}return y}function makeTopDict(d,h){var f=new table.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return f.dict=makeDict(TOP_DICT_META,d,h),f}function makeTopDictIndex(d){var h=new table.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return h.topDicts=[{name:"topDict_0",type:"TABLE",value:d}],h}function makeStringIndex(d){var h=new table.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);h.strings=[];for(var f=0;f<d.length;f+=1)h.strings.push({name:"string_"+f,type:"STRING",value:d[f]});return h}function makeGlobalSubrIndex(){return new table.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function makeCharsets(d,h){for(var f=new table.Record("Charsets",[{name:"format",type:"Card8",value:0}]),y=0;y<d.length;y+=1){var g=d[y],b=encodeString(g,h);f.fields.push({name:"glyph_"+y,type:"SID",value:b})}return f}function glyphToOps(d){var h=[],f=d.path;h.push({name:"width",type:"NUMBER",value:d.advanceWidth});for(var y=0,g=0,b=0;b<f.commands.length;b+=1){var v=void 0,S=void 0,O=f.commands[b];if(O.type==="Q"){var w=.3333333333333333,T=2/3;O={type:"C",x:O.x,y:O.y,x1:Math.round(w*y+T*O.x1),y1:Math.round(w*g+T*O.y1),x2:Math.round(w*O.x+T*O.x1),y2:Math.round(w*O.y+T*O.y1)}}if(O.type==="M")v=Math.round(O.x-y),S=Math.round(O.y-g),h.push({name:"dx",type:"NUMBER",value:v}),h.push({name:"dy",type:"NUMBER",value:S}),h.push({name:"rmoveto",type:"OP",value:21}),y=Math.round(O.x),g=Math.round(O.y);else if(O.type==="L")v=Math.round(O.x-y),S=Math.round(O.y-g),h.push({name:"dx",type:"NUMBER",value:v}),h.push({name:"dy",type:"NUMBER",value:S}),h.push({name:"rlineto",type:"OP",value:5}),y=Math.round(O.x),g=Math.round(O.y);else if(O.type==="C"){var E=Math.round(O.x1-y),k=Math.round(O.y1-g),C=Math.round(O.x2-O.x1),P=Math.round(O.y2-O.y1);v=Math.round(O.x-O.x2),S=Math.round(O.y-O.y2),h.push({name:"dx1",type:"NUMBER",value:E}),h.push({name:"dy1",type:"NUMBER",value:k}),h.push({name:"dx2",type:"NUMBER",value:C}),h.push({name:"dy2",type:"NUMBER",value:P}),h.push({name:"dx",type:"NUMBER",value:v}),h.push({name:"dy",type:"NUMBER",value:S}),h.push({name:"rrcurveto",type:"OP",value:8}),y=Math.round(O.x),g=Math.round(O.y)}}return h.push({name:"endchar",type:"OP",value:14}),h}function makeCharStringsIndex(d){for(var h=new table.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),f=0;f<d.length;f+=1){var y=d.get(f),g=glyphToOps(y);h.charStrings.push({name:y.name,type:"CHARSTRING",value:g})}return h}function makePrivateDict(d,h){var f=new table.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return f.dict=makeDict(PRIVATE_DICT_META,d,h),f}function makeCFFTable(d,h){for(var f=new table.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),y=1/h.unitsPerEm,g={version:h.version,fullName:h.fullName,familyName:h.familyName,weight:h.weightName,fontBBox:h.fontBBox||[0,0,0,0],fontMatrix:[y,0,0,y,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},b={},v=[],S,O=1;O<d.length;O+=1)S=d.get(O),v.push(S.name);var w=[];f.header=makeHeader(),f.nameIndex=makeNameIndex([h.postScriptName]);var T=makeTopDict(g,w);f.topDictIndex=makeTopDictIndex(T),f.globalSubrIndex=makeGlobalSubrIndex(),f.charsets=makeCharsets(v,w),f.charStringsIndex=makeCharStringsIndex(d),f.privateDict=makePrivateDict(b,w),f.stringIndex=makeStringIndex(w);var E=f.header.sizeOf()+f.nameIndex.sizeOf()+f.topDictIndex.sizeOf()+f.stringIndex.sizeOf()+f.globalSubrIndex.sizeOf();return g.charset=E,g.encoding=0,g.charStrings=g.charset+f.charsets.sizeOf(),g.private[1]=g.charStrings+f.charStringsIndex.sizeOf(),T=makeTopDict(g,w),f.topDictIndex=makeTopDictIndex(T),f}var cff={parse:parseCFFTable,make:makeCFFTable};function parseHeadTable(d,h){var f={},y=new parse$1.Parser(d,h);return f.version=y.parseVersion(),f.fontRevision=Math.round(y.parseFixed()*1e3)/1e3,f.checkSumAdjustment=y.parseULong(),f.magicNumber=y.parseULong(),check$2.argument(f.magicNumber===1594834165,"Font header has wrong magic number."),f.flags=y.parseUShort(),f.unitsPerEm=y.parseUShort(),f.created=y.parseLongDateTime(),f.modified=y.parseLongDateTime(),f.xMin=y.parseShort(),f.yMin=y.parseShort(),f.xMax=y.parseShort(),f.yMax=y.parseShort(),f.macStyle=y.parseUShort(),f.lowestRecPPEM=y.parseUShort(),f.fontDirectionHint=y.parseShort(),f.indexToLocFormat=y.parseShort(),f.glyphDataFormat=y.parseShort(),f}function makeHeadTable(d){var h=Math.round(new Date().getTime()/1e3)+2082844800,f=h;return d.createdTimestamp&&(f=d.createdTimestamp+2082844800),new table.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:f},{name:"modified",type:"LONGDATETIME",value:h},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],d)}var head={parse:parseHeadTable,make:makeHeadTable};function parseHheaTable(d,h){var f={},y=new parse$1.Parser(d,h);return f.version=y.parseVersion(),f.ascender=y.parseShort(),f.descender=y.parseShort(),f.lineGap=y.parseShort(),f.advanceWidthMax=y.parseUShort(),f.minLeftSideBearing=y.parseShort(),f.minRightSideBearing=y.parseShort(),f.xMaxExtent=y.parseShort(),f.caretSlopeRise=y.parseShort(),f.caretSlopeRun=y.parseShort(),f.caretOffset=y.parseShort(),y.relativeOffset+=8,f.metricDataFormat=y.parseShort(),f.numberOfHMetrics=y.parseUShort(),f}function makeHheaTable(d){return new table.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],d)}var hhea={parse:parseHheaTable,make:makeHheaTable};function parseHmtxTableAll(d,h,f,y,g){for(var b,v,S=new parse$1.Parser(d,h),O=0;O<y;O+=1){O<f&&(b=S.parseUShort(),v=S.parseShort());var w=g.get(O);w.advanceWidth=b,w.leftSideBearing=v}}function parseHmtxTableOnLowMemory(d,h,f,y,g){d._hmtxTableData={};for(var b,v,S=new parse$1.Parser(h,f),O=0;O<g;O+=1)O<y&&(b=S.parseUShort(),v=S.parseShort()),d._hmtxTableData[O]={advanceWidth:b,leftSideBearing:v}}function parseHmtxTable(d,h,f,y,g,b,v){v.lowMemory?parseHmtxTableOnLowMemory(d,h,f,y,g):parseHmtxTableAll(h,f,y,g,b)}function makeHmtxTable(d){for(var h=new table.Table("hmtx",[]),f=0;f<d.length;f+=1){var y=d.get(f),g=y.advanceWidth||0,b=y.leftSideBearing||0;h.fields.push({name:"advanceWidth_"+f,type:"USHORT",value:g}),h.fields.push({name:"leftSideBearing_"+f,type:"SHORT",value:b})}return h}var hmtx={parse:parseHmtxTable,make:makeHmtxTable};function makeLtagTable(d){for(var h=new table.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:d.length}]),f="",y=12+d.length*4,g=0;g<d.length;++g){var b=f.indexOf(d[g]);b<0&&(b=f.length,f+=d[g]),h.fields.push({name:"offset "+g,type:"USHORT",value:y+b}),h.fields.push({name:"length "+g,type:"USHORT",value:d[g].length})}return h.fields.push({name:"stringPool",type:"CHARARRAY",value:f}),h}function parseLtagTable(d,h){var f=new parse$1.Parser(d,h),y=f.parseULong();check$2.argument(y===1,"Unsupported ltag table version."),f.skip("uLong",1);for(var g=f.parseULong(),b=[],v=0;v<g;v++){for(var S="",O=h+f.parseUShort(),w=f.parseUShort(),T=O;T<O+w;++T)S+=String.fromCharCode(d.getInt8(T));b.push(S)}return b}var ltag={make:makeLtagTable,parse:parseLtagTable};function parseMaxpTable(d,h){var f={},y=new parse$1.Parser(d,h);return f.version=y.parseVersion(),f.numGlyphs=y.parseUShort(),f.version===1&&(f.maxPoints=y.parseUShort(),f.maxContours=y.parseUShort(),f.maxCompositePoints=y.parseUShort(),f.maxCompositeContours=y.parseUShort(),f.maxZones=y.parseUShort(),f.maxTwilightPoints=y.parseUShort(),f.maxStorage=y.parseUShort(),f.maxFunctionDefs=y.parseUShort(),f.maxInstructionDefs=y.parseUShort(),f.maxStackElements=y.parseUShort(),f.maxSizeOfInstructions=y.parseUShort(),f.maxComponentElements=y.parseUShort(),f.maxComponentDepth=y.parseUShort()),f}function makeMaxpTable(d){return new table.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:d}])}var maxp={parse:parseMaxpTable,make:makeMaxpTable},nameTableNames=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],macLanguages={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},macLanguageToScript={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},windowsLanguages={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function getLanguageCode(d,h,f){switch(d){case 0:if(h===65535)return"und";if(f)return f[h];break;case 1:return macLanguages[h];case 3:return windowsLanguages[h]}}var utf16="utf-16",macScriptEncodings={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},macLanguageEncodings={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function getEncoding(d,h,f){switch(d){case 0:return utf16;case 1:return macLanguageEncodings[f]||macScriptEncodings[h];case 3:if(h===1||h===10)return utf16;break}}function parseNameTable(d,h,f){for(var y={},g=new parse$1.Parser(d,h),b=g.parseUShort(),v=g.parseUShort(),S=g.offset+g.parseUShort(),O=0;O<v;O++){var w=g.parseUShort(),T=g.parseUShort(),E=g.parseUShort(),k=g.parseUShort(),C=nameTableNames[k]||k,P=g.parseUShort(),M=g.parseUShort(),A=getLanguageCode(w,E,f),D=getEncoding(w,T,E);if(D!==void 0&&A!==void 0){var N=void 0;if(D===utf16?N=decode$2.UTF16(d,S+M,P):N=decode$2.MACSTRING(d,S+M,P,D),N){var j=y[C];j===void 0&&(j=y[C]={}),j[A]=N}}}return b===1&&g.parseUShort(),y}function reverseDict(d){var h={};for(var f in d)h[d[f]]=parseInt(f);return h}function makeNameRecord(d,h,f,y,g,b){return new table.Record("NameRecord",[{name:"platformID",type:"USHORT",value:d},{name:"encodingID",type:"USHORT",value:h},{name:"languageID",type:"USHORT",value:f},{name:"nameID",type:"USHORT",value:y},{name:"length",type:"USHORT",value:g},{name:"offset",type:"USHORT",value:b}])}function findSubArray(d,h){var f=d.length,y=h.length-f+1;e:for(var g=0;g<y;g++)for(;g<y;g++){for(var b=0;b<f;b++)if(h[g+b]!==d[b])continue e;return g}return-1}function addStringToPool(d,h){var f=findSubArray(d,h);if(f<0){f=h.length;for(var y=0,g=d.length;y<g;++y)h.push(d[y])}return f}function makeNameTable(d,h){var f,y=[],g={},b=reverseDict(nameTableNames);for(var v in d){var S=b[v];if(S===void 0&&(S=v),f=parseInt(S),isNaN(f))throw new Error('Name table entry "'+v+'" does not exist, see nameTableNames for complete list.');g[f]=d[v],y.push(f)}for(var O=reverseDict(macLanguages),w=reverseDict(windowsLanguages),T=[],E=[],k=0;k<y.length;k++){f=y[k];var C=g[f];for(var P in C){var M=C[P],A=1,D=O[P],N=macLanguageToScript[D],j=getEncoding(A,N,D),q=encode$1.MACSTRING(M,j);q===void 0&&(A=0,D=h.indexOf(P),D<0&&(D=h.length,h.push(P)),N=4,q=encode$1.UTF16(M));var F=addStringToPool(q,E);T.push(makeNameRecord(A,N,D,f,q.length,F));var L=w[P];if(L!==void 0){var U=encode$1.UTF16(M),z=addStringToPool(U,E);T.push(makeNameRecord(3,1,L,f,U.length,z))}}}T.sort(function(W,K){return W.platformID-K.platformID||W.encodingID-K.encodingID||W.languageID-K.languageID||W.nameID-K.nameID});for(var V=new table.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:T.length},{name:"stringOffset",type:"USHORT",value:6+T.length*12}]),Y=0;Y<T.length;Y++)V.fields.push({name:"record_"+Y,type:"RECORD",value:T[Y]});return V.fields.push({name:"strings",type:"LITERAL",value:E}),V}var _name={parse:parseNameTable,make:makeNameTable},unicodeRanges=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function getUnicodeRange(d){for(var h=0;h<unicodeRanges.length;h+=1){var f=unicodeRanges[h];if(d>=f.begin&&d<f.end)return h}return-1}function parseOS2Table(d,h){var f={},y=new parse$1.Parser(d,h);f.version=y.parseUShort(),f.xAvgCharWidth=y.parseShort(),f.usWeightClass=y.parseUShort(),f.usWidthClass=y.parseUShort(),f.fsType=y.parseUShort(),f.ySubscriptXSize=y.parseShort(),f.ySubscriptYSize=y.parseShort(),f.ySubscriptXOffset=y.parseShort(),f.ySubscriptYOffset=y.parseShort(),f.ySuperscriptXSize=y.parseShort(),f.ySuperscriptYSize=y.parseShort(),f.ySuperscriptXOffset=y.parseShort(),f.ySuperscriptYOffset=y.parseShort(),f.yStrikeoutSize=y.parseShort(),f.yStrikeoutPosition=y.parseShort(),f.sFamilyClass=y.parseShort(),f.panose=[];for(var g=0;g<10;g++)f.panose[g]=y.parseByte();return f.ulUnicodeRange1=y.parseULong(),f.ulUnicodeRange2=y.parseULong(),f.ulUnicodeRange3=y.parseULong(),f.ulUnicodeRange4=y.parseULong(),f.achVendID=String.fromCharCode(y.parseByte(),y.parseByte(),y.parseByte(),y.parseByte()),f.fsSelection=y.parseUShort(),f.usFirstCharIndex=y.parseUShort(),f.usLastCharIndex=y.parseUShort(),f.sTypoAscender=y.parseShort(),f.sTypoDescender=y.parseShort(),f.sTypoLineGap=y.parseShort(),f.usWinAscent=y.parseUShort(),f.usWinDescent=y.parseUShort(),f.version>=1&&(f.ulCodePageRange1=y.parseULong(),f.ulCodePageRange2=y.parseULong()),f.version>=2&&(f.sxHeight=y.parseShort(),f.sCapHeight=y.parseShort(),f.usDefaultChar=y.parseUShort(),f.usBreakChar=y.parseUShort(),f.usMaxContent=y.parseUShort()),f}function makeOS2Table(d){return new table.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],d)}var os2={parse:parseOS2Table,make:makeOS2Table,unicodeRanges,getUnicodeRange};function parsePostTable(d,h){var f={},y=new parse$1.Parser(d,h);switch(f.version=y.parseVersion(),f.italicAngle=y.parseFixed(),f.underlinePosition=y.parseShort(),f.underlineThickness=y.parseShort(),f.isFixedPitch=y.parseULong(),f.minMemType42=y.parseULong(),f.maxMemType42=y.parseULong(),f.minMemType1=y.parseULong(),f.maxMemType1=y.parseULong(),f.version){case 1:f.names=standardNames.slice();break;case 2:f.numberOfGlyphs=y.parseUShort(),f.glyphNameIndex=new Array(f.numberOfGlyphs);for(var g=0;g<f.numberOfGlyphs;g++)f.glyphNameIndex[g]=y.parseUShort();f.names=[];for(var b=0;b<f.numberOfGlyphs;b++)if(f.glyphNameIndex[b]>=standardNames.length){var v=y.parseChar();f.names.push(y.parseString(v))}break;case 2.5:f.numberOfGlyphs=y.parseUShort(),f.offset=new Array(f.numberOfGlyphs);for(var S=0;S<f.numberOfGlyphs;S++)f.offset[S]=y.parseChar();break}return f}function makePostTable(){return new table.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var post={parse:parsePostTable,make:makePostTable},subtableParsers=new Array(9);subtableParsers[1]=function(){var h=this.offset+this.relativeOffset,f=this.parseUShort();if(f===1)return{substFormat:1,coverage:this.parsePointer(Parser.coverage),deltaGlyphId:this.parseUShort()};if(f===2)return{substFormat:2,coverage:this.parsePointer(Parser.coverage),substitute:this.parseOffset16List()};check$2.assert(!1,"0x"+h.toString(16)+": lookup type 1 format must be 1 or 2.")};subtableParsers[2]=function(){var h=this.parseUShort();return check$2.argument(h===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:h,coverage:this.parsePointer(Parser.coverage),sequences:this.parseListOfLists()}};subtableParsers[3]=function(){var h=this.parseUShort();return check$2.argument(h===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:h,coverage:this.parsePointer(Parser.coverage),alternateSets:this.parseListOfLists()}};subtableParsers[4]=function(){var h=this.parseUShort();return check$2.argument(h===1,"GSUB ligature table identifier-format must be 1"),{substFormat:h,coverage:this.parsePointer(Parser.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var lookupRecordDesc={sequenceIndex:Parser.uShort,lookupListIndex:Parser.uShort};subtableParsers[5]=function(){var h=this.offset+this.relativeOffset,f=this.parseUShort();if(f===1)return{substFormat:f,coverage:this.parsePointer(Parser.coverage),ruleSets:this.parseListOfLists(function(){var b=this.parseUShort(),v=this.parseUShort();return{input:this.parseUShortList(b-1),lookupRecords:this.parseRecordList(v,lookupRecordDesc)}})};if(f===2)return{substFormat:f,coverage:this.parsePointer(Parser.coverage),classDef:this.parsePointer(Parser.classDef),classSets:this.parseListOfLists(function(){var b=this.parseUShort(),v=this.parseUShort();return{classes:this.parseUShortList(b-1),lookupRecords:this.parseRecordList(v,lookupRecordDesc)}})};if(f===3){var y=this.parseUShort(),g=this.parseUShort();return{substFormat:f,coverages:this.parseList(y,Parser.pointer(Parser.coverage)),lookupRecords:this.parseRecordList(g,lookupRecordDesc)}}check$2.assert(!1,"0x"+h.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};subtableParsers[6]=function(){var h=this.offset+this.relativeOffset,f=this.parseUShort();if(f===1)return{substFormat:1,coverage:this.parsePointer(Parser.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(lookupRecordDesc)}})};if(f===2)return{substFormat:2,coverage:this.parsePointer(Parser.coverage),backtrackClassDef:this.parsePointer(Parser.classDef),inputClassDef:this.parsePointer(Parser.classDef),lookaheadClassDef:this.parsePointer(Parser.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(lookupRecordDesc)}})};if(f===3)return{substFormat:3,backtrackCoverage:this.parseList(Parser.pointer(Parser.coverage)),inputCoverage:this.parseList(Parser.pointer(Parser.coverage)),lookaheadCoverage:this.parseList(Parser.pointer(Parser.coverage)),lookupRecords:this.parseRecordList(lookupRecordDesc)};check$2.assert(!1,"0x"+h.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};subtableParsers[7]=function(){var h=this.parseUShort();check$2.argument(h===1,"GSUB Extension Substitution subtable identifier-format must be 1");var f=this.parseUShort(),y=new Parser(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:f,extension:subtableParsers[f].call(y)}};subtableParsers[8]=function(){var h=this.parseUShort();return check$2.argument(h===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:h,coverage:this.parsePointer(Parser.coverage),backtrackCoverage:this.parseList(Parser.pointer(Parser.coverage)),lookaheadCoverage:this.parseList(Parser.pointer(Parser.coverage)),substitutes:this.parseUShortList()}};function parseGsubTable(d,h){h=h||0;var f=new Parser(d,h),y=f.parseVersion(1);return check$2.argument(y===1||y===1.1,"Unsupported GSUB table version."),y===1?{version:y,scripts:f.parseScriptList(),features:f.parseFeatureList(),lookups:f.parseLookupList(subtableParsers)}:{version:y,scripts:f.parseScriptList(),features:f.parseFeatureList(),lookups:f.parseLookupList(subtableParsers),variations:f.parseFeatureVariationsList()}}var subtableMakers=new Array(9);subtableMakers[1]=function(h){return h.substFormat===1?new table.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new table.Coverage(h.coverage)},{name:"deltaGlyphID",type:"USHORT",value:h.deltaGlyphId}]):new table.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new table.Coverage(h.coverage)}].concat(table.ushortList("substitute",h.substitute)))};subtableMakers[2]=function(h){return check$2.assert(h.substFormat===1,"Lookup type 2 substFormat must be 1."),new table.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new table.Coverage(h.coverage)}].concat(table.tableList("seqSet",h.sequences,function(f){return new table.Table("sequenceSetTable",table.ushortList("sequence",f))})))};subtableMakers[3]=function(h){return check$2.assert(h.substFormat===1,"Lookup type 3 substFormat must be 1."),new table.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new table.Coverage(h.coverage)}].concat(table.tableList("altSet",h.alternateSets,function(f){return new table.Table("alternateSetTable",table.ushortList("alternate",f))})))};subtableMakers[4]=function(h){return check$2.assert(h.substFormat===1,"Lookup type 4 substFormat must be 1."),new table.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new table.Coverage(h.coverage)}].concat(table.tableList("ligSet",h.ligatureSets,function(f){return new table.Table("ligatureSetTable",table.tableList("ligature",f,function(y){return new table.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:y.ligGlyph}].concat(table.ushortList("component",y.components,y.components.length+1)))}))})))};subtableMakers[6]=function(h){if(h.substFormat===1){var f=new table.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:h.substFormat},{name:"coverage",type:"TABLE",value:new table.Coverage(h.coverage)}].concat(table.tableList("chainRuleSet",h.chainRuleSets,function(b){return new table.Table("chainRuleSetTable",table.tableList("chainRule",b,function(v){var S=table.ushortList("backtrackGlyph",v.backtrack,v.backtrack.length).concat(table.ushortList("inputGlyph",v.input,v.input.length+1)).concat(table.ushortList("lookaheadGlyph",v.lookahead,v.lookahead.length)).concat(table.ushortList("substitution",[],v.lookupRecords.length));return v.lookupRecords.forEach(function(O,w){S=S.concat({name:"sequenceIndex"+w,type:"USHORT",value:O.sequenceIndex}).concat({name:"lookupListIndex"+w,type:"USHORT",value:O.lookupListIndex})}),new table.Table("chainRuleTable",S)}))})));return f}else if(h.substFormat===2)check$2.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(h.substFormat===3){var y=[{name:"substFormat",type:"USHORT",value:h.substFormat}];y.push({name:"backtrackGlyphCount",type:"USHORT",value:h.backtrackCoverage.length}),h.backtrackCoverage.forEach(function(b,v){y.push({name:"backtrackCoverage"+v,type:"TABLE",value:new table.Coverage(b)})}),y.push({name:"inputGlyphCount",type:"USHORT",value:h.inputCoverage.length}),h.inputCoverage.forEach(function(b,v){y.push({name:"inputCoverage"+v,type:"TABLE",value:new table.Coverage(b)})}),y.push({name:"lookaheadGlyphCount",type:"USHORT",value:h.lookaheadCoverage.length}),h.lookaheadCoverage.forEach(function(b,v){y.push({name:"lookaheadCoverage"+v,type:"TABLE",value:new table.Coverage(b)})}),y.push({name:"substitutionCount",type:"USHORT",value:h.lookupRecords.length}),h.lookupRecords.forEach(function(b,v){y=y.concat({name:"sequenceIndex"+v,type:"USHORT",value:b.sequenceIndex}).concat({name:"lookupListIndex"+v,type:"USHORT",value:b.lookupListIndex})});var g=new table.Table("chainContextTable",y);return g}check$2.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function makeGsubTable(d){return new table.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new table.ScriptList(d.scripts)},{name:"features",type:"TABLE",value:new table.FeatureList(d.features)},{name:"lookups",type:"TABLE",value:new table.LookupList(d.lookups,subtableMakers)}])}var gsub={parse:parseGsubTable,make:makeGsubTable};function parseMetaTable(d,h){var f=new parse$1.Parser(d,h),y=f.parseULong();check$2.argument(y===1,"Unsupported META table version."),f.parseULong(),f.parseULong();for(var g=f.parseULong(),b={},v=0;v<g;v++){var S=f.parseTag(),O=f.parseULong(),w=f.parseULong(),T=decode$2.UTF8(d,h+O,w);b[S]=T}return b}function makeMetaTable(d){var h=Object.keys(d).length,f="",y=16+h*12,g=new table.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:y},{name:"numTags",type:"ULONG",value:h}]);for(var b in d){var v=f.length;f+=d[b],g.fields.push({name:"tag "+b,type:"TAG",value:b}),g.fields.push({name:"offset "+b,type:"ULONG",value:y+v}),g.fields.push({name:"length "+b,type:"ULONG",value:d[b].length})}return g.fields.push({name:"stringPool",type:"CHARARRAY",value:f}),g}var meta={parse:parseMetaTable,make:makeMetaTable};function log2(d){return Math.log(d)/Math.log(2)|0}function computeCheckSum(d){for(;d.length%4!==0;)d.push(0);for(var h=0,f=0;f<d.length;f+=4)h+=(d[f]<<24)+(d[f+1]<<16)+(d[f+2]<<8)+d[f+3];return h%=Math.pow(2,32),h}function makeTableRecord(d,h,f,y){return new table.Record("Table Record",[{name:"tag",type:"TAG",value:d!==void 0?d:""},{name:"checkSum",type:"ULONG",value:h!==void 0?h:0},{name:"offset",type:"ULONG",value:f!==void 0?f:0},{name:"length",type:"ULONG",value:y!==void 0?y:0}])}function makeSfntTable(d){var h=new table.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);h.tables=d,h.numTables=d.length;var f=Math.pow(2,log2(h.numTables));h.searchRange=16*f,h.entrySelector=log2(f),h.rangeShift=h.numTables*16-h.searchRange;for(var y=[],g=[],b=h.sizeOf()+makeTableRecord().sizeOf()*h.numTables;b%4!==0;)b+=1,g.push({name:"padding",type:"BYTE",value:0});for(var v=0;v<d.length;v+=1){var S=d[v];check$2.argument(S.tableName.length===4,"Table name"+S.tableName+" is invalid.");var O=S.sizeOf(),w=makeTableRecord(S.tableName,computeCheckSum(S.encode()),b,O);for(y.push({name:w.tag+" Table Record",type:"RECORD",value:w}),g.push({name:S.tableName+" table",type:"RECORD",value:S}),b+=O,check$2.argument(!isNaN(b),"Something went wrong calculating the offset.");b%4!==0;)b+=1,g.push({name:"padding",type:"BYTE",value:0})}return y.sort(function(T,E){return T.value.tag>E.value.tag?1:-1}),h.fields=h.fields.concat(y),h.fields=h.fields.concat(g),h}function metricsForChar(d,h,f){for(var y=0;y<h.length;y+=1){var g=d.charToGlyphIndex(h[y]);if(g>0){var b=d.glyphs.get(g);return b.getMetrics()}}return f}function average(d){for(var h=0,f=0;f<d.length;f+=1)h+=d[f];return h/d.length}function fontToSfntTable(d){for(var h=[],f=[],y=[],g=[],b=[],v=[],S=[],O,w=0,T=0,E=0,k=0,C=0,P=0;P<d.glyphs.length;P+=1){var M=d.glyphs.get(P),A=M.unicode|0;if(isNaN(M.advanceWidth))throw new Error("Glyph "+M.name+" ("+P+"): advanceWidth is not a number.");(O>A||O===void 0)&&A>0&&(O=A),w<A&&(w=A);var D=os2.getUnicodeRange(A);if(D<32)T|=1<<D;else if(D<64)E|=1<<D-32;else if(D<96)k|=1<<D-64;else if(D<123)C|=1<<D-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(M.name!==".notdef"){var N=M.getMetrics();h.push(N.xMin),f.push(N.yMin),y.push(N.xMax),g.push(N.yMax),v.push(N.leftSideBearing),S.push(N.rightSideBearing),b.push(M.advanceWidth)}}var j={xMin:Math.min.apply(null,h),yMin:Math.min.apply(null,f),xMax:Math.max.apply(null,y),yMax:Math.max.apply(null,g),advanceWidthMax:Math.max.apply(null,b),advanceWidthAvg:average(b),minLeftSideBearing:Math.min.apply(null,v),maxLeftSideBearing:Math.max.apply(null,v),minRightSideBearing:Math.min.apply(null,S)};j.ascender=d.ascender,j.descender=d.descender;var q=head.make({flags:3,unitsPerEm:d.unitsPerEm,xMin:j.xMin,yMin:j.yMin,xMax:j.xMax,yMax:j.yMax,lowestRecPPEM:3,createdTimestamp:d.createdTimestamp}),F=hhea.make({ascender:j.ascender,descender:j.descender,advanceWidthMax:j.advanceWidthMax,minLeftSideBearing:j.minLeftSideBearing,minRightSideBearing:j.minRightSideBearing,xMaxExtent:j.maxLeftSideBearing+(j.xMax-j.xMin),numberOfHMetrics:d.glyphs.length}),L=maxp.make(d.glyphs.length),U=os2.make(Object.assign({xAvgCharWidth:Math.round(j.advanceWidthAvg),usFirstCharIndex:O,usLastCharIndex:w,ulUnicodeRange1:T,ulUnicodeRange2:E,ulUnicodeRange3:k,ulUnicodeRange4:C,sTypoAscender:j.ascender,sTypoDescender:j.descender,sTypoLineGap:0,usWinAscent:j.yMax,usWinDescent:Math.abs(j.yMin),ulCodePageRange1:1,sxHeight:metricsForChar(d,"xyvw",{yMax:Math.round(j.ascender/2)}).yMax,sCapHeight:metricsForChar(d,"HIKLEFJMNTZBDPRAGOQSUVWXY",j).yMax,usDefaultChar:d.hasChar(" ")?32:0,usBreakChar:d.hasChar(" ")?32:0},d.tables.os2)),z=hmtx.make(d.glyphs),V=cmap.make(d.glyphs),Y=d.getEnglishName("fontFamily"),W=d.getEnglishName("fontSubfamily"),K=Y+" "+W,re=d.getEnglishName("postScriptName");re||(re=Y.replace(/\s/g,"")+"-"+W);var fe={};for(var se in d.names)fe[se]=d.names[se];fe.uniqueID||(fe.uniqueID={en:d.getEnglishName("manufacturer")+":"+K}),fe.postScriptName||(fe.postScriptName={en:re}),fe.preferredFamily||(fe.preferredFamily=d.names.fontFamily),fe.preferredSubfamily||(fe.preferredSubfamily=d.names.fontSubfamily);var J=[],ie=_name.make(fe,J),ue=J.length>0?ltag.make(J):void 0,ke=post.make(),pe=cff.make(d.glyphs,{version:d.getEnglishName("version"),fullName:K,familyName:Y,weightName:W,postScriptName:re,unitsPerEm:d.unitsPerEm,fontBBox:[0,j.yMin,j.ascender,j.advanceWidthMax]}),ne=d.metas&&Object.keys(d.metas).length>0?meta.make(d.metas):void 0,de=[q,F,L,U,ie,V,ke,pe,z];ue&&de.push(ue),d.tables.gsub&&de.push(gsub.make(d.tables.gsub)),ne&&de.push(ne);for(var ae=makeSfntTable(de),H=ae.encode(),Z=computeCheckSum(H),ve=ae.fields,Te=!1,te=0;te<ve.length;te+=1)if(ve[te].name==="head table"){ve[te].value.checkSumAdjustment=2981146554-Z,Te=!0;break}if(!Te)throw new Error("Could not find head table with checkSum to adjust.");return ae}var sfnt={make:makeSfntTable,fontToTable:fontToSfntTable,computeCheckSum};function searchTag(d,h){for(var f=0,y=d.length-1;f<=y;){var g=f+y>>>1,b=d[g].tag;if(b===h)return g;b<h?f=g+1:y=g-1}return-f-1}function binSearch(d,h){for(var f=0,y=d.length-1;f<=y;){var g=f+y>>>1,b=d[g];if(b===h)return g;b<h?f=g+1:y=g-1}return-f-1}function searchRange(d,h){for(var f,y=0,g=d.length-1;y<=g;){var b=y+g>>>1;f=d[b];var v=f.start;if(v===h)return f;v<h?y=b+1:g=b-1}if(y>0)return f=d[y-1],h>f.end?0:f}function Layout(d,h){this.font=d,this.tableName=h}Layout.prototype={searchTag,binSearch,getTable:function(d){var h=this.font.tables[this.tableName];return!h&&d&&(h=this.font.tables[this.tableName]=this.createDefaultTable()),h},getScriptNames:function(){var d=this.getTable();return d?d.scripts.map(function(h){return h.tag}):[]},getDefaultScriptName:function(){var d=this.getTable();if(d){for(var h=!1,f=0;f<d.scripts.length;f++){var y=d.scripts[f].tag;if(y==="DFLT")return y;y==="latn"&&(h=!0)}if(h)return"latn"}},getScriptTable:function(d,h){var f=this.getTable(h);if(f){d=d||"DFLT";var y=f.scripts,g=searchTag(f.scripts,d);if(g>=0)return y[g].script;if(h){var b={tag:d,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return y.splice(-1-g,0,b),b.script}}},getLangSysTable:function(d,h,f){var y=this.getScriptTable(d,f);if(y){if(!h||h==="dflt"||h==="DFLT")return y.defaultLangSys;var g=searchTag(y.langSysRecords,h);if(g>=0)return y.langSysRecords[g].langSys;if(f){var b={tag:h,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return y.langSysRecords.splice(-1-g,0,b),b.langSys}}},getFeatureTable:function(d,h,f,y){var g=this.getLangSysTable(d,h,y);if(g){for(var b,v=g.featureIndexes,S=this.font.tables[this.tableName].features,O=0;O<v.length;O++)if(b=S[v[O]],b.tag===f)return b.feature;if(y){var w=S.length;return check$2.assert(w===0||f>=S[w-1].tag,"Features must be added in alphabetical order."),b={tag:f,feature:{params:0,lookupListIndexes:[]}},S.push(b),v.push(w),b.feature}}},getLookupTables:function(d,h,f,y,g){var b=this.getFeatureTable(d,h,f,g),v=[];if(b){for(var S,O=b.lookupListIndexes,w=this.font.tables[this.tableName].lookups,T=0;T<O.length;T++)S=w[O[T]],S.lookupType===y&&v.push(S);if(v.length===0&&g){S={lookupType:y,lookupFlag:0,subtables:[],markFilteringSet:void 0};var E=w.length;return w.push(S),O.push(E),[S]}}return v},getGlyphClass:function(d,h){switch(d.format){case 1:return d.startGlyph<=h&&h<d.startGlyph+d.classes.length?d.classes[h-d.startGlyph]:0;case 2:var f=searchRange(d.ranges,h);return f?f.classId:0}},getCoverageIndex:function(d,h){switch(d.format){case 1:var f=binSearch(d.glyphs,h);return f>=0?f:-1;case 2:var y=searchRange(d.ranges,h);return y?y.index+h-y.start:-1}},expandCoverage:function(d){if(d.format===1)return d.glyphs;for(var h=[],f=d.ranges,y=0;y<f.length;y++)for(var g=f[y],b=g.start,v=g.end,S=b;S<=v;S++)h.push(S);return h}};function Position(d){Layout.call(this,d,"gpos")}Position.prototype=Layout.prototype;Position.prototype.init=function(){var d=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(d)};Position.prototype.getKerningValue=function(d,h,f){for(var y=0;y<d.length;y++)for(var g=d[y].subtables,b=0;b<g.length;b++){var v=g[b],S=this.getCoverageIndex(v.coverage,h);if(!(S<0))switch(v.posFormat){case 1:for(var O=v.pairSets[S],w=0;w<O.length;w++){var T=O[w];if(T.secondGlyph===f)return T.value1&&T.value1.xAdvance||0}break;case 2:var E=this.getGlyphClass(v.classDef1,h),k=this.getGlyphClass(v.classDef2,f),C=v.classRecords[E][k];return C.value1&&C.value1.xAdvance||0}}return 0};Position.prototype.getKerningTables=function(d,h){if(this.font.tables.gpos)return this.getLookupTables(d,h,"kern",2)};function Substitution(d){Layout.call(this,d,"gsub")}function arraysEqual(d,h){var f=d.length;if(f!==h.length)return!1;for(var y=0;y<f;y++)if(d[y]!==h[y])return!1;return!0}function getSubstFormat(d,h,f){for(var y=d.subtables,g=0;g<y.length;g++){var b=y[g];if(b.substFormat===h)return b}if(f)return y.push(f),f}Substitution.prototype=Layout.prototype;Substitution.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};Substitution.prototype.getSingle=function(d,h,f){for(var y=[],g=this.getLookupTables(h,f,d,1),b=0;b<g.length;b++)for(var v=g[b].subtables,S=0;S<v.length;S++){var O=v[S],w=this.expandCoverage(O.coverage),T=void 0;if(O.substFormat===1){var E=O.deltaGlyphId;for(T=0;T<w.length;T++){var k=w[T];y.push({sub:k,by:k+E})}}else{var C=O.substitute;for(T=0;T<w.length;T++)y.push({sub:w[T],by:C[T]})}}return y};Substitution.prototype.getMultiple=function(d,h,f){for(var y=[],g=this.getLookupTables(h,f,d,2),b=0;b<g.length;b++)for(var v=g[b].subtables,S=0;S<v.length;S++){var O=v[S],w=this.expandCoverage(O.coverage),T=void 0;for(T=0;T<w.length;T++){var E=w[T],k=O.sequences[T];y.push({sub:E,by:k})}}return y};Substitution.prototype.getAlternates=function(d,h,f){for(var y=[],g=this.getLookupTables(h,f,d,3),b=0;b<g.length;b++)for(var v=g[b].subtables,S=0;S<v.length;S++)for(var O=v[S],w=this.expandCoverage(O.coverage),T=O.alternateSets,E=0;E<w.length;E++)y.push({sub:w[E],by:T[E]});return y};Substitution.prototype.getLigatures=function(d,h,f){for(var y=[],g=this.getLookupTables(h,f,d,4),b=0;b<g.length;b++)for(var v=g[b].subtables,S=0;S<v.length;S++)for(var O=v[S],w=this.expandCoverage(O.coverage),T=O.ligatureSets,E=0;E<w.length;E++)for(var k=w[E],C=T[E],P=0;P<C.length;P++){var M=C[P];y.push({sub:[k].concat(M.components),by:M.ligGlyph})}return y};Substitution.prototype.addSingle=function(d,h,f,y){var g=this.getLookupTables(f,y,d,1,!0)[0],b=getSubstFormat(g,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});check$2.assert(b.coverage.format===1,"Single: unable to modify coverage table format "+b.coverage.format);var v=h.sub,S=this.binSearch(b.coverage.glyphs,v);S<0&&(S=-1-S,b.coverage.glyphs.splice(S,0,v),b.substitute.splice(S,0,0)),b.substitute[S]=h.by};Substitution.prototype.addMultiple=function(d,h,f,y){check$2.assert(h.by instanceof Array&&h.by.length>1,'Multiple: "by" must be an array of two or more ids');var g=this.getLookupTables(f,y,d,2,!0)[0],b=getSubstFormat(g,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});check$2.assert(b.coverage.format===1,"Multiple: unable to modify coverage table format "+b.coverage.format);var v=h.sub,S=this.binSearch(b.coverage.glyphs,v);S<0&&(S=-1-S,b.coverage.glyphs.splice(S,0,v),b.sequences.splice(S,0,0)),b.sequences[S]=h.by};Substitution.prototype.addAlternate=function(d,h,f,y){var g=this.getLookupTables(f,y,d,3,!0)[0],b=getSubstFormat(g,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});check$2.assert(b.coverage.format===1,"Alternate: unable to modify coverage table format "+b.coverage.format);var v=h.sub,S=this.binSearch(b.coverage.glyphs,v);S<0&&(S=-1-S,b.coverage.glyphs.splice(S,0,v),b.alternateSets.splice(S,0,0)),b.alternateSets[S]=h.by};Substitution.prototype.addLigature=function(d,h,f,y){var g=this.getLookupTables(f,y,d,4,!0)[0],b=g.subtables[0];b||(b={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},g.subtables[0]=b),check$2.assert(b.coverage.format===1,"Ligature: unable to modify coverage table format "+b.coverage.format);var v=h.sub[0],S=h.sub.slice(1),O={ligGlyph:h.by,components:S},w=this.binSearch(b.coverage.glyphs,v);if(w>=0){for(var T=b.ligatureSets[w],E=0;E<T.length;E++)if(arraysEqual(T[E].components,S))return;T.push(O)}else w=-1-w,b.coverage.glyphs.splice(w,0,v),b.ligatureSets.splice(w,0,[O])};Substitution.prototype.getFeature=function(d,h,f){if(/ss\d\d/.test(d))return this.getSingle(d,h,f);switch(d){case"aalt":case"salt":return this.getSingle(d,h,f).concat(this.getAlternates(d,h,f));case"dlig":case"liga":case"rlig":return this.getLigatures(d,h,f);case"ccmp":return this.getMultiple(d,h,f).concat(this.getLigatures(d,h,f));case"stch":return this.getMultiple(d,h,f)}};Substitution.prototype.add=function(d,h,f,y){if(/ss\d\d/.test(d))return this.addSingle(d,h,f,y);switch(d){case"aalt":case"salt":return typeof h.by=="number"?this.addSingle(d,h,f,y):this.addAlternate(d,h,f,y);case"dlig":case"liga":case"rlig":return this.addLigature(d,h,f,y);case"ccmp":return h.by instanceof Array?this.addMultiple(d,h,f,y):this.addLigature(d,h,f,y)}};function isBrowser(){return typeof window!="undefined"}function arrayBufferToNodeBuffer(d){for(var h=new Buffer(d.byteLength),f=new Uint8Array(d),y=0;y<h.length;++y)h[y]=f[y];return h}function checkArgument(d,h){if(!d)throw h}function parseGlyphCoordinate(d,h,f,y,g){var b;return(h&y)>0?(b=d.parseByte(),(h&g)===0&&(b=-b),b=f+b):(h&g)>0?b=f:b=f+d.parseShort(),b}function parseGlyph(d,h,f){var y=new parse$1.Parser(h,f);d.numberOfContours=y.parseShort(),d._xMin=y.parseShort(),d._yMin=y.parseShort(),d._xMax=y.parseShort(),d._yMax=y.parseShort();var g,b;if(d.numberOfContours>0){for(var v=d.endPointIndices=[],S=0;S<d.numberOfContours;S+=1)v.push(y.parseUShort());d.instructionLength=y.parseUShort(),d.instructions=[];for(var O=0;O<d.instructionLength;O+=1)d.instructions.push(y.parseByte());var w=v[v.length-1]+1;g=[];for(var T=0;T<w;T+=1)if(b=y.parseByte(),g.push(b),(b&8)>0)for(var E=y.parseByte(),k=0;k<E;k+=1)g.push(b),T+=1;if(check$2.argument(g.length===w,"Bad flags."),v.length>0){var C=[],P;if(w>0){for(var M=0;M<w;M+=1)b=g[M],P={},P.onCurve=!!(b&1),P.lastPointOfContour=v.indexOf(M)>=0,C.push(P);for(var A=0,D=0;D<w;D+=1)b=g[D],P=C[D],P.x=parseGlyphCoordinate(y,b,A,2,16),A=P.x;for(var N=0,j=0;j<w;j+=1)b=g[j],P=C[j],P.y=parseGlyphCoordinate(y,b,N,4,32),N=P.y}d.points=C}else d.points=[]}else if(d.numberOfContours===0)d.points=[];else{d.isComposite=!0,d.points=[],d.components=[];for(var q=!0;q;){g=y.parseUShort();var F={glyphIndex:y.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(g&1)>0?(g&2)>0?(F.dx=y.parseShort(),F.dy=y.parseShort()):F.matchedPoints=[y.parseUShort(),y.parseUShort()]:(g&2)>0?(F.dx=y.parseChar(),F.dy=y.parseChar()):F.matchedPoints=[y.parseByte(),y.parseByte()],(g&8)>0?F.xScale=F.yScale=y.parseF2Dot14():(g&64)>0?(F.xScale=y.parseF2Dot14(),F.yScale=y.parseF2Dot14()):(g&128)>0&&(F.xScale=y.parseF2Dot14(),F.scale01=y.parseF2Dot14(),F.scale10=y.parseF2Dot14(),F.yScale=y.parseF2Dot14()),d.components.push(F),q=!!(g&32)}if(g&256){d.instructionLength=y.parseUShort(),d.instructions=[];for(var L=0;L<d.instructionLength;L+=1)d.instructions.push(y.parseByte())}}}function transformPoints(d,h){for(var f=[],y=0;y<d.length;y+=1){var g=d[y],b={x:h.xScale*g.x+h.scale01*g.y+h.dx,y:h.scale10*g.x+h.yScale*g.y+h.dy,onCurve:g.onCurve,lastPointOfContour:g.lastPointOfContour};f.push(b)}return f}function getContours(d){for(var h=[],f=[],y=0;y<d.length;y+=1){var g=d[y];f.push(g),g.lastPointOfContour&&(h.push(f),f=[])}return check$2.argument(f.length===0,"There are still points left in the current contour."),h}function getPath(d){var h=new Path;if(!d)return h;for(var f=getContours(d),y=0;y<f.length;++y){var g=f[y],b=null,v=g[g.length-1],S=g[0];if(v.onCurve)h.moveTo(v.x,v.y);else if(S.onCurve)h.moveTo(S.x,S.y);else{var O={x:(v.x+S.x)*.5,y:(v.y+S.y)*.5};h.moveTo(O.x,O.y)}for(var w=0;w<g.length;++w)if(b=v,v=S,S=g[(w+1)%g.length],v.onCurve)h.lineTo(v.x,v.y);else{var T=S;b.onCurve||((v.x+b.x)*.5,(v.y+b.y)*.5),S.onCurve||(T={x:(v.x+S.x)*.5,y:(v.y+S.y)*.5}),h.quadraticCurveTo(v.x,v.y,T.x,T.y)}h.closePath()}return h}function buildPath(d,h){if(h.isComposite)for(var f=0;f<h.components.length;f+=1){var y=h.components[f],g=d.get(y.glyphIndex);if(g.getPath(),g.points){var b=void 0;if(y.matchedPoints===void 0)b=transformPoints(g.points,y);else{if(y.matchedPoints[0]>h.points.length-1||y.matchedPoints[1]>g.points.length-1)throw Error("Matched points out of range in "+h.name);var v=h.points[y.matchedPoints[0]],S=g.points[y.matchedPoints[1]],O={xScale:y.xScale,scale01:y.scale01,scale10:y.scale10,yScale:y.yScale,dx:0,dy:0};S=transformPoints([S],O)[0],O.dx=v.x-S.x,O.dy=v.y-S.y,b=transformPoints(g.points,O)}h.points=h.points.concat(b)}}return getPath(h.points)}function parseGlyfTableAll(d,h,f,y){for(var g=new glyphset.GlyphSet(y),b=0;b<f.length-1;b+=1){var v=f[b],S=f[b+1];v!==S?g.push(b,glyphset.ttfGlyphLoader(y,b,parseGlyph,d,h+v,buildPath)):g.push(b,glyphset.glyphLoader(y,b))}return g}function parseGlyfTableOnLowMemory(d,h,f,y){var g=new glyphset.GlyphSet(y);return y._push=function(b){var v=f[b],S=f[b+1];v!==S?g.push(b,glyphset.ttfGlyphLoader(y,b,parseGlyph,d,h+v,buildPath)):g.push(b,glyphset.glyphLoader(y,b))},g}function parseGlyfTable(d,h,f,y,g){return g.lowMemory?parseGlyfTableOnLowMemory(d,h,f,y):parseGlyfTableAll(d,h,f,y)}var glyf={getPath,parse:parseGlyfTable},instructionTable,exec,execGlyph,execComponent;function Hinting(d){this.font=d,this.getCommands=function(h){return glyf.getPath(h).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function roundOff(d){return d}function roundToGrid(d){return Math.sign(d)*Math.round(Math.abs(d))}function roundToDoubleGrid(d){return Math.sign(d)*Math.round(Math.abs(d*2))/2}function roundToHalfGrid(d){return Math.sign(d)*(Math.round(Math.abs(d)+.5)-.5)}function roundUpToGrid(d){return Math.sign(d)*Math.ceil(Math.abs(d))}function roundDownToGrid(d){return Math.sign(d)*Math.floor(Math.abs(d))}var roundSuper=function(d){var h=this.srPeriod,f=this.srPhase,y=this.srThreshold,g=1;return d<0&&(d=-d,g=-1),d+=y-f,d=Math.trunc(d/h)*h,d+=f,d<0?f*g:d*g},xUnitVector={x:1,y:0,axis:"x",distance:function(d,h,f,y){return(f?d.xo:d.x)-(y?h.xo:h.x)},interpolate:function(d,h,f,y){var g,b,v,S,O,w,T;if(!y||y===this){if(g=d.xo-h.xo,b=d.xo-f.xo,O=h.x-h.xo,w=f.x-f.xo,v=Math.abs(g),S=Math.abs(b),T=v+S,T===0){d.x=d.xo+(O+w)/2;return}d.x=d.xo+(O*S+w*v)/T;return}if(g=y.distance(d,h,!0,!0),b=y.distance(d,f,!0,!0),O=y.distance(h,h,!1,!0),w=y.distance(f,f,!1,!0),v=Math.abs(g),S=Math.abs(b),T=v+S,T===0){xUnitVector.setRelative(d,d,(O+w)/2,y,!0);return}xUnitVector.setRelative(d,d,(O*S+w*v)/T,y,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(d,h,f,y,g){if(!y||y===this){d.x=(g?h.xo:h.x)+f;return}var b=g?h.xo:h.x,v=g?h.yo:h.y,S=b+f*y.x,O=v+f*y.y;d.x=S+(d.y-O)/y.normalSlope},slope:0,touch:function(d){d.xTouched=!0},touched:function(d){return d.xTouched},untouch:function(d){d.xTouched=!1}},yUnitVector={x:0,y:1,axis:"y",distance:function(d,h,f,y){return(f?d.yo:d.y)-(y?h.yo:h.y)},interpolate:function(d,h,f,y){var g,b,v,S,O,w,T;if(!y||y===this){if(g=d.yo-h.yo,b=d.yo-f.yo,O=h.y-h.yo,w=f.y-f.yo,v=Math.abs(g),S=Math.abs(b),T=v+S,T===0){d.y=d.yo+(O+w)/2;return}d.y=d.yo+(O*S+w*v)/T;return}if(g=y.distance(d,h,!0,!0),b=y.distance(d,f,!0,!0),O=y.distance(h,h,!1,!0),w=y.distance(f,f,!1,!0),v=Math.abs(g),S=Math.abs(b),T=v+S,T===0){yUnitVector.setRelative(d,d,(O+w)/2,y,!0);return}yUnitVector.setRelative(d,d,(O*S+w*v)/T,y,!0)},normalSlope:0,setRelative:function(d,h,f,y,g){if(!y||y===this){d.y=(g?h.yo:h.y)+f;return}var b=g?h.xo:h.x,v=g?h.yo:h.y,S=b+f*y.x,O=v+f*y.y;d.y=O+y.normalSlope*(d.x-S)},slope:Number.POSITIVE_INFINITY,touch:function(d){d.yTouched=!0},touched:function(d){return d.yTouched},untouch:function(d){d.yTouched=!1}};Object.freeze(xUnitVector);Object.freeze(yUnitVector);function UnitVector(d,h){this.x=d,this.y=h,this.axis=void 0,this.slope=h/d,this.normalSlope=-d/h,Object.freeze(this)}UnitVector.prototype.distance=function(d,h,f,y){return this.x*xUnitVector.distance(d,h,f,y)+this.y*yUnitVector.distance(d,h,f,y)};UnitVector.prototype.interpolate=function(d,h,f,y){var g,b,v,S,O,w,T;if(v=y.distance(d,h,!0,!0),S=y.distance(d,f,!0,!0),g=y.distance(h,h,!1,!0),b=y.distance(f,f,!1,!0),O=Math.abs(v),w=Math.abs(S),T=O+w,T===0){this.setRelative(d,d,(g+b)/2,y,!0);return}this.setRelative(d,d,(g*w+b*O)/T,y,!0)};UnitVector.prototype.setRelative=function(d,h,f,y,g){y=y||this;var b=g?h.xo:h.x,v=g?h.yo:h.y,S=b+f*y.x,O=v+f*y.y,w=y.normalSlope,T=this.slope,E=d.x,k=d.y;d.x=(T*E-w*S+O-k)/(T-w),d.y=T*(d.x-E)+k};UnitVector.prototype.touch=function(d){d.xTouched=!0,d.yTouched=!0};function getUnitVector(d,h){var f=Math.sqrt(d*d+h*h);return d/=f,h/=f,d===1&&h===0?xUnitVector:d===0&&h===1?yUnitVector:new UnitVector(d,h)}function HPoint(d,h,f,y){this.x=this.xo=Math.round(d*64)/64,this.y=this.yo=Math.round(h*64)/64,this.lastPointOfContour=f,this.onCurve=y,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}HPoint.prototype.nextTouched=function(d){for(var h=this.nextPointOnContour;!d.touched(h)&&h!==this;)h=h.nextPointOnContour;return h};HPoint.prototype.prevTouched=function(d){for(var h=this.prevPointOnContour;!d.touched(h)&&h!==this;)h=h.prevPointOnContour;return h};var HPZero=Object.freeze(new HPoint(0,0)),defaultState={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function State(d,h){switch(this.env=d,this.stack=[],this.prog=h,d){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=xUnitVector,this.round=roundToGrid}}Hinting.prototype.exec=function(d,h){if(typeof h!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var f=this.font,y=this._prepState;if(!y||y.ppem!==h){var g=this._fpgmState;if(!g){State.prototype=defaultState,g=this._fpgmState=new State("fpgm",f.tables.fpgm),g.funcs=[],g.font=f,exports.DEBUG&&(console.log("---EXEC FPGM---"),g.step=-1);try{exec(g)}catch(w){console.log("Hinting error in FPGM:"+w),this._errorState=3;return}}State.prototype=g,y=this._prepState=new State("prep",f.tables.prep),y.ppem=h;var b=f.tables.cvt;if(b)for(var v=y.cvt=new Array(b.length),S=h/f.unitsPerEm,O=0;O<b.length;O++)v[O]=b[O]*S;else y.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),y.step=-1);try{exec(y)}catch(w){this._errorState<2&&console.log("Hinting error in PREP:"+w),this._errorState=2}}if(!(this._errorState>1))try{return execGlyph(d,y)}catch(w){this._errorState<1&&(console.log("Hinting error:"+w),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};execGlyph=function(d,h){var f=h.ppem/h.font.unitsPerEm,y=f,g=d.components,b,v,S;if(State.prototype=h,!g)S=new State("glyf",d.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),S.step=-1),execComponent(d,S,f,y),v=S.gZone;else{var O=h.font;v=[],b=[];for(var w=0;w<g.length;w++){var T=g[w],E=O.glyphs.get(T.glyphIndex);S=new State("glyf",E.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+w+"---"),S.step=-1),execComponent(E,S,f,y);for(var k=Math.round(T.dx*f),C=Math.round(T.dy*y),P=S.gZone,M=S.contours,A=0;A<P.length;A++){var D=P[A];D.xTouched=D.yTouched=!1,D.xo=D.x=D.x+k,D.yo=D.y=D.y+C}var N=v.length;v.push.apply(v,P);for(var j=0;j<M.length;j++)b.push(M[j]+N)}d.instructions&&!S.inhibitGridFit&&(S=new State("glyf",d.instructions),S.gZone=S.z0=S.z1=S.z2=v,S.contours=b,v.push(new HPoint(0,0),new HPoint(Math.round(d.advanceWidth*f),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),S.step=-1),exec(S),v.length-=2)}return v};execComponent=function(d,h,f,y){for(var g=d.points||[],b=g.length,v=h.gZone=h.z0=h.z1=h.z2=[],S=h.contours=[],O,w=0;w<b;w++)O=g[w],v[w]=new HPoint(O.x*f,O.y*y,O.lastPointOfContour,O.onCurve);for(var T,E,k=0;k<b;k++)O=v[k],T||(T=O,S.push(k)),O.lastPointOfContour?(O.nextPointOnContour=T,T.prevPointOnContour=O,T=void 0):(E=v[k+1],O.nextPointOnContour=E,E.prevPointOnContour=O);if(!h.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",h.stack);for(var C=0;C<b;C++)console.log(C,v[C].x,v[C].y)}if(v.push(new HPoint(0,0),new HPoint(Math.round(d.advanceWidth*f),0)),exec(h),v.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",h.stack);for(var P=0;P<b;P++)console.log(P,v[P].x,v[P].y)}}};exec=function(d){var h=d.prog;if(h){var f=h.length,y;for(d.ip=0;d.ip<f;d.ip++){if(exports.DEBUG&&d.step++,y=instructionTable[h[d.ip]],!y)throw new Error("unknown instruction: 0x"+Number(h[d.ip]).toString(16));y(d)}}};function initTZone(d){for(var h=d.tZone=new Array(d.gZone.length),f=0;f<h.length;f++)h[f]=new HPoint(0,0)}function skip(d,h){var f=d.prog,y=d.ip,g=1,b;do if(b=f[++y],b===88)g++;else if(b===89)g--;else if(b===64)y+=f[y+1]+1;else if(b===65)y+=2*f[y+1]+1;else if(b>=176&&b<=183)y+=b-176+1;else if(b>=184&&b<=191)y+=(b-184+1)*2;else if(h&&g===1&&b===27)break;while(g>0);d.ip=y}function SVTCA(d,h){exports.DEBUG&&console.log(h.step,"SVTCA["+d.axis+"]"),h.fv=h.pv=h.dpv=d}function SPVTCA(d,h){exports.DEBUG&&console.log(h.step,"SPVTCA["+d.axis+"]"),h.pv=h.dpv=d}function SFVTCA(d,h){exports.DEBUG&&console.log(h.step,"SFVTCA["+d.axis+"]"),h.fv=d}function SPVTL(d,h){var f=h.stack,y=f.pop(),g=f.pop(),b=h.z2[y],v=h.z1[g];exports.DEBUG&&console.log("SPVTL["+d+"]",y,g);var S,O;d?(S=b.y-v.y,O=v.x-b.x):(S=v.x-b.x,O=v.y-b.y),h.pv=h.dpv=getUnitVector(S,O)}function SFVTL(d,h){var f=h.stack,y=f.pop(),g=f.pop(),b=h.z2[y],v=h.z1[g];exports.DEBUG&&console.log("SFVTL["+d+"]",y,g);var S,O;d?(S=b.y-v.y,O=v.x-b.x):(S=v.x-b.x,O=v.y-b.y),h.fv=getUnitVector(S,O)}function SPVFS(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"SPVFS[]",f,y),d.pv=d.dpv=getUnitVector(y,f)}function SFVFS(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"SPVFS[]",f,y),d.fv=getUnitVector(y,f)}function GPV(d){var h=d.stack,f=d.pv;exports.DEBUG&&console.log(d.step,"GPV[]"),h.push(f.x*16384),h.push(f.y*16384)}function GFV(d){var h=d.stack,f=d.fv;exports.DEBUG&&console.log(d.step,"GFV[]"),h.push(f.x*16384),h.push(f.y*16384)}function SFVTPV(d){d.fv=d.pv,exports.DEBUG&&console.log(d.step,"SFVTPV[]")}function ISECT(d){var h=d.stack,f=h.pop(),y=h.pop(),g=h.pop(),b=h.pop(),v=h.pop(),S=d.z0,O=d.z1,w=S[f],T=S[y],E=O[g],k=O[b],C=d.z2[v];exports.DEBUG&&console.log("ISECT[], ",f,y,g,b,v);var P=w.x,M=w.y,A=T.x,D=T.y,N=E.x,j=E.y,q=k.x,F=k.y,L=(P-A)*(j-F)-(M-D)*(N-q),U=P*D-M*A,z=N*F-j*q;C.x=(U*(N-q)-z*(P-A))/L,C.y=(U*(j-F)-z*(M-D))/L}function SRP0(d){d.rp0=d.stack.pop(),exports.DEBUG&&console.log(d.step,"SRP0[]",d.rp0)}function SRP1(d){d.rp1=d.stack.pop(),exports.DEBUG&&console.log(d.step,"SRP1[]",d.rp1)}function SRP2(d){d.rp2=d.stack.pop(),exports.DEBUG&&console.log(d.step,"SRP2[]",d.rp2)}function SZP0(d){var h=d.stack.pop();switch(exports.DEBUG&&console.log(d.step,"SZP0[]",h),d.zp0=h,h){case 0:d.tZone||initTZone(d),d.z0=d.tZone;break;case 1:d.z0=d.gZone;break;default:throw new Error("Invalid zone pointer")}}function SZP1(d){var h=d.stack.pop();switch(exports.DEBUG&&console.log(d.step,"SZP1[]",h),d.zp1=h,h){case 0:d.tZone||initTZone(d),d.z1=d.tZone;break;case 1:d.z1=d.gZone;break;default:throw new Error("Invalid zone pointer")}}function SZP2(d){var h=d.stack.pop();switch(exports.DEBUG&&console.log(d.step,"SZP2[]",h),d.zp2=h,h){case 0:d.tZone||initTZone(d),d.z2=d.tZone;break;case 1:d.z2=d.gZone;break;default:throw new Error("Invalid zone pointer")}}function SZPS(d){var h=d.stack.pop();switch(exports.DEBUG&&console.log(d.step,"SZPS[]",h),d.zp0=d.zp1=d.zp2=h,h){case 0:d.tZone||initTZone(d),d.z0=d.z1=d.z2=d.tZone;break;case 1:d.z0=d.z1=d.z2=d.gZone;break;default:throw new Error("Invalid zone pointer")}}function SLOOP(d){d.loop=d.stack.pop(),exports.DEBUG&&console.log(d.step,"SLOOP[]",d.loop)}function RTG(d){exports.DEBUG&&console.log(d.step,"RTG[]"),d.round=roundToGrid}function RTHG(d){exports.DEBUG&&console.log(d.step,"RTHG[]"),d.round=roundToHalfGrid}function SMD(d){var h=d.stack.pop();exports.DEBUG&&console.log(d.step,"SMD[]",h),d.minDis=h/64}function ELSE(d){exports.DEBUG&&console.log(d.step,"ELSE[]"),skip(d,!1)}function JMPR(d){var h=d.stack.pop();exports.DEBUG&&console.log(d.step,"JMPR[]",h),d.ip+=h-1}function SCVTCI(d){var h=d.stack.pop();exports.DEBUG&&console.log(d.step,"SCVTCI[]",h),d.cvCutIn=h/64}function DUP(d){var h=d.stack;exports.DEBUG&&console.log(d.step,"DUP[]"),h.push(h[h.length-1])}function POP(d){exports.DEBUG&&console.log(d.step,"POP[]"),d.stack.pop()}function CLEAR(d){exports.DEBUG&&console.log(d.step,"CLEAR[]"),d.stack.length=0}function SWAP(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"SWAP[]"),h.push(f),h.push(y)}function DEPTH(d){var h=d.stack;exports.DEBUG&&console.log(d.step,"DEPTH[]"),h.push(h.length)}function LOOPCALL(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"LOOPCALL[]",f,y);var g=d.ip,b=d.prog;d.prog=d.funcs[f];for(var v=0;v<y;v++)exec(d),exports.DEBUG&&console.log(++d.step,v+1<y?"next loopcall":"done loopcall",v);d.ip=g,d.prog=b}function CALL(d){var h=d.stack.pop();exports.DEBUG&&console.log(d.step,"CALL[]",h);var f=d.ip,y=d.prog;d.prog=d.funcs[h],exec(d),d.ip=f,d.prog=y,exports.DEBUG&&console.log(++d.step,"returning from",h)}function CINDEX(d){var h=d.stack,f=h.pop();exports.DEBUG&&console.log(d.step,"CINDEX[]",f),h.push(h[h.length-f])}function MINDEX(d){var h=d.stack,f=h.pop();exports.DEBUG&&console.log(d.step,"MINDEX[]",f),h.push(h.splice(h.length-f,1)[0])}function FDEF(d){if(d.env!=="fpgm")throw new Error("FDEF not allowed here");var h=d.stack,f=d.prog,y=d.ip,g=h.pop(),b=y;for(exports.DEBUG&&console.log(d.step,"FDEF[]",g);f[++y]!==45;);d.ip=y,d.funcs[g]=f.slice(b+1,y)}function MDAP(d,h){var f=h.stack.pop(),y=h.z0[f],g=h.fv,b=h.pv;exports.DEBUG&&console.log(h.step,"MDAP["+d+"]",f);var v=b.distance(y,HPZero);d&&(v=h.round(v)),g.setRelative(y,HPZero,v,b),g.touch(y),h.rp0=h.rp1=f}function IUP(d,h){var f=h.z2,y=f.length-2,g,b,v;exports.DEBUG&&console.log(h.step,"IUP["+d.axis+"]");for(var S=0;S<y;S++)g=f[S],!d.touched(g)&&(b=g.prevTouched(d),b!==g&&(v=g.nextTouched(d),b===v&&d.setRelative(g,g,d.distance(b,b,!1,!0),d,!0),d.interpolate(g,b,v,d)))}function SHP(d,h){for(var f=h.stack,y=d?h.rp1:h.rp2,g=(d?h.z0:h.z1)[y],b=h.fv,v=h.pv,S=h.loop,O=h.z2;S--;){var w=f.pop(),T=O[w],E=v.distance(g,g,!1,!0);b.setRelative(T,T,E,v),b.touch(T),exports.DEBUG&&console.log(h.step,(h.loop>1?"loop "+(h.loop-S)+": ":"")+"SHP["+(d?"rp1":"rp2")+"]",w)}h.loop=1}function SHC(d,h){var f=h.stack,y=d?h.rp1:h.rp2,g=(d?h.z0:h.z1)[y],b=h.fv,v=h.pv,S=f.pop(),O=h.z2[h.contours[S]],w=O;exports.DEBUG&&console.log(h.step,"SHC["+d+"]",S);var T=v.distance(g,g,!1,!0);do w!==g&&b.setRelative(w,w,T,v),w=w.nextPointOnContour;while(w!==O)}function SHZ(d,h){var f=h.stack,y=d?h.rp1:h.rp2,g=(d?h.z0:h.z1)[y],b=h.fv,v=h.pv,S=f.pop();exports.DEBUG&&console.log(h.step,"SHZ["+d+"]",S);var O;switch(S){case 0:O=h.tZone;break;case 1:O=h.gZone;break;default:throw new Error("Invalid zone")}for(var w,T=v.distance(g,g,!1,!0),E=O.length-2,k=0;k<E;k++)w=O[k],b.setRelative(w,w,T,v)}function SHPIX(d){for(var h=d.stack,f=d.loop,y=d.fv,g=h.pop()/64,b=d.z2;f--;){var v=h.pop(),S=b[v];exports.DEBUG&&console.log(d.step,(d.loop>1?"loop "+(d.loop-f)+": ":"")+"SHPIX[]",v,g),y.setRelative(S,S,g),y.touch(S)}d.loop=1}function IP(d){for(var h=d.stack,f=d.rp1,y=d.rp2,g=d.loop,b=d.z0[f],v=d.z1[y],S=d.fv,O=d.dpv,w=d.z2;g--;){var T=h.pop(),E=w[T];exports.DEBUG&&console.log(d.step,(d.loop>1?"loop "+(d.loop-g)+": ":"")+"IP[]",T,f,"<->",y),S.interpolate(E,b,v,O),S.touch(E)}d.loop=1}function MSIRP(d,h){var f=h.stack,y=f.pop()/64,g=f.pop(),b=h.z1[g],v=h.z0[h.rp0],S=h.fv,O=h.pv;S.setRelative(b,v,y,O),S.touch(b),exports.DEBUG&&console.log(h.step,"MSIRP["+d+"]",y,g),h.rp1=h.rp0,h.rp2=g,d&&(h.rp0=g)}function ALIGNRP(d){for(var h=d.stack,f=d.rp0,y=d.z0[f],g=d.loop,b=d.fv,v=d.pv,S=d.z1;g--;){var O=h.pop(),w=S[O];exports.DEBUG&&console.log(d.step,(d.loop>1?"loop "+(d.loop-g)+": ":"")+"ALIGNRP[]",O),b.setRelative(w,y,0,v),b.touch(w)}d.loop=1}function RTDG(d){exports.DEBUG&&console.log(d.step,"RTDG[]"),d.round=roundToDoubleGrid}function MIAP(d,h){var f=h.stack,y=f.pop(),g=f.pop(),b=h.z0[g],v=h.fv,S=h.pv,O=h.cvt[y];exports.DEBUG&&console.log(h.step,"MIAP["+d+"]",y,"(",O,")",g);var w=S.distance(b,HPZero);d&&(Math.abs(w-O)<h.cvCutIn&&(w=O),w=h.round(w)),v.setRelative(b,HPZero,w,S),h.zp0===0&&(b.xo=b.x,b.yo=b.y),v.touch(b),h.rp0=h.rp1=g}function NPUSHB(d){var h=d.prog,f=d.ip,y=d.stack,g=h[++f];exports.DEBUG&&console.log(d.step,"NPUSHB[]",g);for(var b=0;b<g;b++)y.push(h[++f]);d.ip=f}function NPUSHW(d){var h=d.ip,f=d.prog,y=d.stack,g=f[++h];exports.DEBUG&&console.log(d.step,"NPUSHW[]",g);for(var b=0;b<g;b++){var v=f[++h]<<8|f[++h];v&32768&&(v=-((v^65535)+1)),y.push(v)}d.ip=h}function WS(d){var h=d.stack,f=d.store;f||(f=d.store=[]);var y=h.pop(),g=h.pop();exports.DEBUG&&console.log(d.step,"WS",y,g),f[g]=y}function RS(d){var h=d.stack,f=d.store,y=h.pop();exports.DEBUG&&console.log(d.step,"RS",y);var g=f&&f[y]||0;h.push(g)}function WCVTP(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"WCVTP",f,y),d.cvt[y]=f/64}function RCVT(d){var h=d.stack,f=h.pop();exports.DEBUG&&console.log(d.step,"RCVT",f),h.push(d.cvt[f]*64)}function GC(d,h){var f=h.stack,y=f.pop(),g=h.z2[y];exports.DEBUG&&console.log(h.step,"GC["+d+"]",y),f.push(h.dpv.distance(g,HPZero,d,!1)*64)}function MD(d,h){var f=h.stack,y=f.pop(),g=f.pop(),b=h.z1[y],v=h.z0[g],S=h.dpv.distance(v,b,d,d);exports.DEBUG&&console.log(h.step,"MD["+d+"]",y,g,"->",S),h.stack.push(Math.round(S*64))}function MPPEM(d){exports.DEBUG&&console.log(d.step,"MPPEM[]"),d.stack.push(d.ppem)}function FLIPON(d){exports.DEBUG&&console.log(d.step,"FLIPON[]"),d.autoFlip=!0}function LT(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"LT[]",f,y),h.push(y<f?1:0)}function LTEQ(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"LTEQ[]",f,y),h.push(y<=f?1:0)}function GT(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"GT[]",f,y),h.push(y>f?1:0)}function GTEQ(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"GTEQ[]",f,y),h.push(y>=f?1:0)}function EQ(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"EQ[]",f,y),h.push(f===y?1:0)}function NEQ(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"NEQ[]",f,y),h.push(f!==y?1:0)}function ODD(d){var h=d.stack,f=h.pop();exports.DEBUG&&console.log(d.step,"ODD[]",f),h.push(Math.trunc(f)%2?1:0)}function EVEN(d){var h=d.stack,f=h.pop();exports.DEBUG&&console.log(d.step,"EVEN[]",f),h.push(Math.trunc(f)%2?0:1)}function IF(d){var h=d.stack.pop();exports.DEBUG&&console.log(d.step,"IF[]",h),h||(skip(d,!0),exports.DEBUG&&console.log(d.step,"EIF[]"))}function EIF(d){exports.DEBUG&&console.log(d.step,"EIF[]")}function AND(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"AND[]",f,y),h.push(f&&y?1:0)}function OR(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"OR[]",f,y),h.push(f||y?1:0)}function NOT(d){var h=d.stack,f=h.pop();exports.DEBUG&&console.log(d.step,"NOT[]",f),h.push(f?0:1)}function DELTAP123(d,h){var f=h.stack,y=f.pop(),g=h.fv,b=h.pv,v=h.ppem,S=h.deltaBase+(d-1)*16,O=h.deltaShift,w=h.z0;exports.DEBUG&&console.log(h.step,"DELTAP["+d+"]",y,f);for(var T=0;T<y;T++){var E=f.pop(),k=f.pop(),C=S+((k&240)>>4);if(C===v){var P=(k&15)-8;P>=0&&P++,exports.DEBUG&&console.log(h.step,"DELTAPFIX",E,"by",P*O);var M=w[E];g.setRelative(M,M,P*O,b)}}}function SDB(d){var h=d.stack,f=h.pop();exports.DEBUG&&console.log(d.step,"SDB[]",f),d.deltaBase=f}function SDS(d){var h=d.stack,f=h.pop();exports.DEBUG&&console.log(d.step,"SDS[]",f),d.deltaShift=Math.pow(.5,f)}function ADD(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"ADD[]",f,y),h.push(y+f)}function SUB(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"SUB[]",f,y),h.push(y-f)}function DIV(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"DIV[]",f,y),h.push(y*64/f)}function MUL(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"MUL[]",f,y),h.push(y*f/64)}function ABS(d){var h=d.stack,f=h.pop();exports.DEBUG&&console.log(d.step,"ABS[]",f),h.push(Math.abs(f))}function NEG(d){var h=d.stack,f=h.pop();exports.DEBUG&&console.log(d.step,"NEG[]",f),h.push(-f)}function FLOOR(d){var h=d.stack,f=h.pop();exports.DEBUG&&console.log(d.step,"FLOOR[]",f),h.push(Math.floor(f/64)*64)}function CEILING(d){var h=d.stack,f=h.pop();exports.DEBUG&&console.log(d.step,"CEILING[]",f),h.push(Math.ceil(f/64)*64)}function ROUND(d,h){var f=h.stack,y=f.pop();exports.DEBUG&&console.log(h.step,"ROUND[]"),f.push(h.round(y/64)*64)}function WCVTF(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"WCVTF[]",f,y),d.cvt[y]=f*d.ppem/d.font.unitsPerEm}function DELTAC123(d,h){var f=h.stack,y=f.pop(),g=h.ppem,b=h.deltaBase+(d-1)*16,v=h.deltaShift;exports.DEBUG&&console.log(h.step,"DELTAC["+d+"]",y,f);for(var S=0;S<y;S++){var O=f.pop(),w=f.pop(),T=b+((w&240)>>4);if(T===g){var E=(w&15)-8;E>=0&&E++;var k=E*v;exports.DEBUG&&console.log(h.step,"DELTACFIX",O,"by",k),h.cvt[O]+=k}}}function SROUND(d){var h=d.stack.pop();exports.DEBUG&&console.log(d.step,"SROUND[]",h),d.round=roundSuper;var f;switch(h&192){case 0:f=.5;break;case 64:f=1;break;case 128:f=2;break;default:throw new Error("invalid SROUND value")}switch(d.srPeriod=f,h&48){case 0:d.srPhase=0;break;case 16:d.srPhase=.25*f;break;case 32:d.srPhase=.5*f;break;case 48:d.srPhase=.75*f;break;default:throw new Error("invalid SROUND value")}h&=15,h===0?d.srThreshold=0:d.srThreshold=(h/8-.5)*f}function S45ROUND(d){var h=d.stack.pop();exports.DEBUG&&console.log(d.step,"S45ROUND[]",h),d.round=roundSuper;var f;switch(h&192){case 0:f=Math.sqrt(2)/2;break;case 64:f=Math.sqrt(2);break;case 128:f=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(d.srPeriod=f,h&48){case 0:d.srPhase=0;break;case 16:d.srPhase=.25*f;break;case 32:d.srPhase=.5*f;break;case 48:d.srPhase=.75*f;break;default:throw new Error("invalid S45ROUND value")}h&=15,h===0?d.srThreshold=0:d.srThreshold=(h/8-.5)*f}function ROFF(d){exports.DEBUG&&console.log(d.step,"ROFF[]"),d.round=roundOff}function RUTG(d){exports.DEBUG&&console.log(d.step,"RUTG[]"),d.round=roundUpToGrid}function RDTG(d){exports.DEBUG&&console.log(d.step,"RDTG[]"),d.round=roundDownToGrid}function SCANCTRL(d){var h=d.stack.pop();exports.DEBUG&&console.log(d.step,"SCANCTRL[]",h)}function SDPVTL(d,h){var f=h.stack,y=f.pop(),g=f.pop(),b=h.z2[y],v=h.z1[g];exports.DEBUG&&console.log(h.step,"SDPVTL["+d+"]",y,g);var S,O;d?(S=b.y-v.y,O=v.x-b.x):(S=v.x-b.x,O=v.y-b.y),h.dpv=getUnitVector(S,O)}function GETINFO(d){var h=d.stack,f=h.pop(),y=0;exports.DEBUG&&console.log(d.step,"GETINFO[]",f),f&1&&(y=35),f&32&&(y|=4096),h.push(y)}function ROLL(d){var h=d.stack,f=h.pop(),y=h.pop(),g=h.pop();exports.DEBUG&&console.log(d.step,"ROLL[]"),h.push(y),h.push(f),h.push(g)}function MAX(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"MAX[]",f,y),h.push(Math.max(y,f))}function MIN(d){var h=d.stack,f=h.pop(),y=h.pop();exports.DEBUG&&console.log(d.step,"MIN[]",f,y),h.push(Math.min(y,f))}function SCANTYPE(d){var h=d.stack.pop();exports.DEBUG&&console.log(d.step,"SCANTYPE[]",h)}function INSTCTRL(d){var h=d.stack.pop(),f=d.stack.pop();switch(exports.DEBUG&&console.log(d.step,"INSTCTRL[]",h,f),h){case 1:d.inhibitGridFit=!!f;return;case 2:d.ignoreCvt=!!f;return;default:throw new Error("invalid INSTCTRL[] selector")}}function PUSHB(d,h){var f=h.stack,y=h.prog,g=h.ip;exports.DEBUG&&console.log(h.step,"PUSHB["+d+"]");for(var b=0;b<d;b++)f.push(y[++g]);h.ip=g}function PUSHW(d,h){var f=h.ip,y=h.prog,g=h.stack;exports.DEBUG&&console.log(h.ip,"PUSHW["+d+"]");for(var b=0;b<d;b++){var v=y[++f]<<8|y[++f];v&32768&&(v=-((v^65535)+1)),g.push(v)}h.ip=f}function MDRP_MIRP(d,h,f,y,g,b){var v=b.stack,S=d&&v.pop(),O=v.pop(),w=b.rp0,T=b.z0[w],E=b.z1[O],k=b.minDis,C=b.fv,P=b.dpv,M,A,D,N;A=M=P.distance(E,T,!0,!0),D=A>=0?1:-1,A=Math.abs(A),d&&(N=b.cvt[S],y&&Math.abs(A-N)<b.cvCutIn&&(A=N)),f&&A<k&&(A=k),y&&(A=b.round(A)),C.setRelative(E,T,D*A,P),C.touch(E),exports.DEBUG&&console.log(b.step,(d?"MIRP[":"MDRP[")+(h?"M":"m")+(f?">":"_")+(y?"R":"_")+(g===0?"Gr":g===1?"Bl":g===2?"Wh":"")+"]",d?S+"("+b.cvt[S]+","+N+")":"",O,"(d =",M,"->",D*A,")"),b.rp1=b.rp0,b.rp2=O,h&&(b.rp0=O)}instructionTable=[SVTCA.bind(void 0,yUnitVector),SVTCA.bind(void 0,xUnitVector),SPVTCA.bind(void 0,yUnitVector),SPVTCA.bind(void 0,xUnitVector),SFVTCA.bind(void 0,yUnitVector),SFVTCA.bind(void 0,xUnitVector),SPVTL.bind(void 0,0),SPVTL.bind(void 0,1),SFVTL.bind(void 0,0),SFVTL.bind(void 0,1),SPVFS,SFVFS,GPV,GFV,SFVTPV,ISECT,SRP0,SRP1,SRP2,SZP0,SZP1,SZP2,SZPS,SLOOP,RTG,RTHG,SMD,ELSE,JMPR,SCVTCI,void 0,void 0,DUP,POP,CLEAR,SWAP,DEPTH,CINDEX,MINDEX,void 0,void 0,void 0,LOOPCALL,CALL,FDEF,void 0,MDAP.bind(void 0,0),MDAP.bind(void 0,1),IUP.bind(void 0,yUnitVector),IUP.bind(void 0,xUnitVector),SHP.bind(void 0,0),SHP.bind(void 0,1),SHC.bind(void 0,0),SHC.bind(void 0,1),SHZ.bind(void 0,0),SHZ.bind(void 0,1),SHPIX,IP,MSIRP.bind(void 0,0),MSIRP.bind(void 0,1),ALIGNRP,RTDG,MIAP.bind(void 0,0),MIAP.bind(void 0,1),NPUSHB,NPUSHW,WS,RS,WCVTP,RCVT,GC.bind(void 0,0),GC.bind(void 0,1),void 0,MD.bind(void 0,0),MD.bind(void 0,1),MPPEM,void 0,FLIPON,void 0,void 0,LT,LTEQ,GT,GTEQ,EQ,NEQ,ODD,EVEN,IF,EIF,AND,OR,NOT,DELTAP123.bind(void 0,1),SDB,SDS,ADD,SUB,DIV,MUL,ABS,NEG,FLOOR,CEILING,ROUND.bind(void 0,0),ROUND.bind(void 0,1),ROUND.bind(void 0,2),ROUND.bind(void 0,3),void 0,void 0,void 0,void 0,WCVTF,DELTAP123.bind(void 0,2),DELTAP123.bind(void 0,3),DELTAC123.bind(void 0,1),DELTAC123.bind(void 0,2),DELTAC123.bind(void 0,3),SROUND,S45ROUND,void 0,void 0,ROFF,void 0,RUTG,RDTG,POP,POP,void 0,void 0,void 0,void 0,void 0,SCANCTRL,SDPVTL.bind(void 0,0),SDPVTL.bind(void 0,1),GETINFO,void 0,ROLL,MAX,MIN,SCANTYPE,INSTCTRL,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,PUSHB.bind(void 0,1),PUSHB.bind(void 0,2),PUSHB.bind(void 0,3),PUSHB.bind(void 0,4),PUSHB.bind(void 0,5),PUSHB.bind(void 0,6),PUSHB.bind(void 0,7),PUSHB.bind(void 0,8),PUSHW.bind(void 0,1),PUSHW.bind(void 0,2),PUSHW.bind(void 0,3),PUSHW.bind(void 0,4),PUSHW.bind(void 0,5),PUSHW.bind(void 0,6),PUSHW.bind(void 0,7),PUSHW.bind(void 0,8),MDRP_MIRP.bind(void 0,0,0,0,0,0),MDRP_MIRP.bind(void 0,0,0,0,0,1),MDRP_MIRP.bind(void 0,0,0,0,0,2),MDRP_MIRP.bind(void 0,0,0,0,0,3),MDRP_MIRP.bind(void 0,0,0,0,1,0),MDRP_MIRP.bind(void 0,0,0,0,1,1),MDRP_MIRP.bind(void 0,0,0,0,1,2),MDRP_MIRP.bind(void 0,0,0,0,1,3),MDRP_MIRP.bind(void 0,0,0,1,0,0),MDRP_MIRP.bind(void 0,0,0,1,0,1),MDRP_MIRP.bind(void 0,0,0,1,0,2),MDRP_MIRP.bind(void 0,0,0,1,0,3),MDRP_MIRP.bind(void 0,0,0,1,1,0),MDRP_MIRP.bind(void 0,0,0,1,1,1),MDRP_MIRP.bind(void 0,0,0,1,1,2),MDRP_MIRP.bind(void 0,0,0,1,1,3),MDRP_MIRP.bind(void 0,0,1,0,0,0),MDRP_MIRP.bind(void 0,0,1,0,0,1),MDRP_MIRP.bind(void 0,0,1,0,0,2),MDRP_MIRP.bind(void 0,0,1,0,0,3),MDRP_MIRP.bind(void 0,0,1,0,1,0),MDRP_MIRP.bind(void 0,0,1,0,1,1),MDRP_MIRP.bind(void 0,0,1,0,1,2),MDRP_MIRP.bind(void 0,0,1,0,1,3),MDRP_MIRP.bind(void 0,0,1,1,0,0),MDRP_MIRP.bind(void 0,0,1,1,0,1),MDRP_MIRP.bind(void 0,0,1,1,0,2),MDRP_MIRP.bind(void 0,0,1,1,0,3),MDRP_MIRP.bind(void 0,0,1,1,1,0),MDRP_MIRP.bind(void 0,0,1,1,1,1),MDRP_MIRP.bind(void 0,0,1,1,1,2),MDRP_MIRP.bind(void 0,0,1,1,1,3),MDRP_MIRP.bind(void 0,1,0,0,0,0),MDRP_MIRP.bind(void 0,1,0,0,0,1),MDRP_MIRP.bind(void 0,1,0,0,0,2),MDRP_MIRP.bind(void 0,1,0,0,0,3),MDRP_MIRP.bind(void 0,1,0,0,1,0),MDRP_MIRP.bind(void 0,1,0,0,1,1),MDRP_MIRP.bind(void 0,1,0,0,1,2),MDRP_MIRP.bind(void 0,1,0,0,1,3),MDRP_MIRP.bind(void 0,1,0,1,0,0),MDRP_MIRP.bind(void 0,1,0,1,0,1),MDRP_MIRP.bind(void 0,1,0,1,0,2),MDRP_MIRP.bind(void 0,1,0,1,0,3),MDRP_MIRP.bind(void 0,1,0,1,1,0),MDRP_MIRP.bind(void 0,1,0,1,1,1),MDRP_MIRP.bind(void 0,1,0,1,1,2),MDRP_MIRP.bind(void 0,1,0,1,1,3),MDRP_MIRP.bind(void 0,1,1,0,0,0),MDRP_MIRP.bind(void 0,1,1,0,0,1),MDRP_MIRP.bind(void 0,1,1,0,0,2),MDRP_MIRP.bind(void 0,1,1,0,0,3),MDRP_MIRP.bind(void 0,1,1,0,1,0),MDRP_MIRP.bind(void 0,1,1,0,1,1),MDRP_MIRP.bind(void 0,1,1,0,1,2),MDRP_MIRP.bind(void 0,1,1,0,1,3),MDRP_MIRP.bind(void 0,1,1,1,0,0),MDRP_MIRP.bind(void 0,1,1,1,0,1),MDRP_MIRP.bind(void 0,1,1,1,0,2),MDRP_MIRP.bind(void 0,1,1,1,0,3),MDRP_MIRP.bind(void 0,1,1,1,1,0),MDRP_MIRP.bind(void 0,1,1,1,1,1),MDRP_MIRP.bind(void 0,1,1,1,1,2),MDRP_MIRP.bind(void 0,1,1,1,1,3)];function Token(d){this.char=d,this.state={},this.activeState=null}function ContextRange(d,h,f){this.contextName=f,this.startIndex=d,this.endOffset=h}function ContextChecker(d,h,f){this.contextName=d,this.openRange=null,this.ranges=[],this.checkStart=h,this.checkEnd=f}function ContextParams(d,h){this.context=d,this.index=h,this.length=d.length,this.current=d[h],this.backtrack=d.slice(0,h),this.lookahead=d.slice(h+1)}function Event$1(d){this.eventId=d,this.subscribers=[]}function initializeCoreEvents(d){var h=this,f=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];f.forEach(function(g){Object.defineProperty(h.events,g,{value:new Event$1(g)})}),d&&f.forEach(function(g){var b=d[g];typeof b=="function"&&h.events[g].subscribe(b)});var y=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];y.forEach(function(g){h.events[g].subscribe(h.updateContextsRanges)})}function Tokenizer(d){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],initializeCoreEvents.call(this,d)}Token.prototype.setState=function(d,h){return this.state[d]=h,this.activeState={key:d,value:this.state[d]},this.activeState};Token.prototype.getState=function(d){return this.state[d]||null};Tokenizer.prototype.inboundIndex=function(d){return d>=0&&d<this.tokens.length};Tokenizer.prototype.composeRUD=function(d){var h=this,f=!0,y=d.map(function(b){return h[b[0]].apply(h,b.slice(1).concat(f))}),g=function(b){return typeof b=="object"&&b.hasOwnProperty("FAIL")};if(y.every(g))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:y.filter(g)};this.dispatch("composeRUD",[y.filter(function(b){return!g(b)})])};Tokenizer.prototype.replaceRange=function(d,h,f,y){h=h!==null?h:this.tokens.length;var g=f.every(function(v){return v instanceof Token});if(!isNaN(d)&&this.inboundIndex(d)&&g){var b=this.tokens.splice.apply(this.tokens,[d,h].concat(f));return y||this.dispatch("replaceToken",[d,h,f]),[b,f]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};Tokenizer.prototype.replaceToken=function(d,h,f){if(!isNaN(d)&&this.inboundIndex(d)&&h instanceof Token){var y=this.tokens.splice(d,1,h);return f||this.dispatch("replaceToken",[d,h]),[y[0],h]}else return{FAIL:"replaceToken: invalid token or index."}};Tokenizer.prototype.removeRange=function(d,h,f){h=isNaN(h)?this.tokens.length:h;var y=this.tokens.splice(d,h);return f||this.dispatch("removeRange",[y,d,h]),y};Tokenizer.prototype.removeToken=function(d,h){if(!isNaN(d)&&this.inboundIndex(d)){var f=this.tokens.splice(d,1);return h||this.dispatch("removeToken",[f,d]),f}else return{FAIL:"removeToken: invalid token index."}};Tokenizer.prototype.insertToken=function(d,h,f){var y=d.every(function(g){return g instanceof Token});return y?(this.tokens.splice.apply(this.tokens,[h,0].concat(d)),f||this.dispatch("insertToken",[d,h]),d):{FAIL:"insertToken: invalid token(s)."}};Tokenizer.prototype.registerModifier=function(d,h,f){this.events.newToken.subscribe(function(y,g){var b=[y,g],v=h===null||h.apply(this,b)===!0,S=[y,g];if(v){var O=f.apply(this,S);y.setState(d,O)}}),this.registeredModifiers.push(d)};Event$1.prototype.subscribe=function(d){return typeof d=="function"?this.subscribers.push(d)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};Event$1.prototype.unsubscribe=function(d){this.subscribers.splice(d,1)};ContextParams.prototype.setCurrentIndex=function(d){this.index=d,this.current=this.context[d],this.backtrack=this.context.slice(0,d),this.lookahead=this.context.slice(d+1)};ContextParams.prototype.get=function(d){switch(!0){case d===0:return this.current;case(d<0&&Math.abs(d)<=this.backtrack.length):return this.backtrack.slice(d)[0];case(d>0&&d<=this.lookahead.length):return this.lookahead[d-1];default:return null}};Tokenizer.prototype.rangeToText=function(d){if(d instanceof ContextRange)return this.getRangeTokens(d).map(function(h){return h.char}).join("")};Tokenizer.prototype.getText=function(){return this.tokens.map(function(d){return d.char}).join("")};Tokenizer.prototype.getContext=function(d){var h=this.registeredContexts[d];return h||null};Tokenizer.prototype.on=function(d,h){var f=this.events[d];return f?f.subscribe(h):null};Tokenizer.prototype.dispatch=function(d,h){var f=this,y=this.events[d];y instanceof Event$1&&y.subscribers.forEach(function(g){g.apply(f,h||[])})};Tokenizer.prototype.registerContextChecker=function(d,h,f){if(this.getContext(d))return{FAIL:"context name '"+d+"' is already registered."};if(typeof h!="function")return{FAIL:"missing context start check."};if(typeof f!="function")return{FAIL:"missing context end check."};var y=new ContextChecker(d,h,f);return this.registeredContexts[d]=y,this.contextCheckers.push(y),y};Tokenizer.prototype.getRangeTokens=function(d){var h=d.startIndex+d.endOffset;return[].concat(this.tokens.slice(d.startIndex,h))};Tokenizer.prototype.getContextRanges=function(d){var h=this.getContext(d);return h?h.ranges:{FAIL:"context checker '"+d+"' is not registered."}};Tokenizer.prototype.resetContextsRanges=function(){var d=this.registeredContexts;for(var h in d)if(d.hasOwnProperty(h)){var f=d[h];f.ranges=[]}};Tokenizer.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var d=this.tokens.map(function(y){return y.char}),h=0;h<d.length;h++){var f=new ContextParams(d,h);this.runContextCheck(f)}this.dispatch("updateContextsRanges",[this.registeredContexts])};Tokenizer.prototype.setEndOffset=function(d,h){var f=this.getContext(h).openRange.startIndex,y=new ContextRange(f,d,h),g=this.getContext(h).ranges;return y.rangeId=h+"."+g.length,g.push(y),this.getContext(h).openRange=null,y};Tokenizer.prototype.runContextCheck=function(d){var h=this,f=d.index;this.contextCheckers.forEach(function(y){var g=y.contextName,b=h.getContext(g).openRange;if(!b&&y.checkStart(d)&&(b=new ContextRange(f,null,g),h.getContext(g).openRange=b,h.dispatch("contextStart",[g,f])),b&&y.checkEnd(d)){var v=f-b.startIndex+1,S=h.setEndOffset(v,g);h.dispatch("contextEnd",[g,S])}})};Tokenizer.prototype.tokenize=function(d){this.tokens=[],this.resetContextsRanges();var h=Array.from(d);this.dispatch("start");for(var f=0;f<h.length;f++){var y=h[f],g=new ContextParams(h,f);this.dispatch("next",[g]),this.runContextCheck(g);var b=new Token(y);this.tokens.push(b),this.dispatch("newToken",[b,g])}return this.dispatch("end",[this.tokens]),this.tokens};function isArabicChar(d){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(d)}function isIsolatedArabicChar(d){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(d)}function isTashkeelArabicChar(d){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(d)}function isLatinChar(d){return/[A-z]/.test(d)}function isWhiteSpace(d){return/\s/.test(d)}function FeatureQuery(d){this.font=d,this.features={}}function SubstitutionAction(d){this.id=d.id,this.tag=d.tag,this.substitution=d.substitution}function lookupCoverage(d,h){if(!d)return-1;switch(h.format){case 1:return h.glyphs.indexOf(d);case 2:for(var f=h.ranges,y=0;y<f.length;y++){var g=f[y];if(d>=g.start&&d<=g.end){var b=d-g.start;return g.index+b}}break;default:return-1}return-1}function singleSubstitutionFormat1(d,h){var f=lookupCoverage(d,h.coverage);return f===-1?null:d+h.deltaGlyphId}function singleSubstitutionFormat2(d,h){var f=lookupCoverage(d,h.coverage);return f===-1?null:h.substitute[f]}function lookupCoverageList(d,h){for(var f=[],y=0;y<d.length;y++){var g=d[y],b=h.current;b=Array.isArray(b)?b[0]:b;var v=lookupCoverage(b,g);v!==-1&&f.push(v)}return f.length!==d.length?-1:f}function chainingSubstitutionFormat3(d,h){var f=h.inputCoverage.length+h.lookaheadCoverage.length+h.backtrackCoverage.length;if(d.context.length<f)return[];var y=lookupCoverageList(h.inputCoverage,d);if(y===-1)return[];var g=h.inputCoverage.length-1;if(d.lookahead.length<h.lookaheadCoverage.length)return[];for(var b=d.lookahead.slice(g);b.length&&isTashkeelArabicChar(b[0].char);)b.shift();var v=new ContextParams(b,0),S=lookupCoverageList(h.lookaheadCoverage,v),O=[].concat(d.backtrack);for(O.reverse();O.length&&isTashkeelArabicChar(O[0].char);)O.shift();if(O.length<h.backtrackCoverage.length)return[];var w=new ContextParams(O,0),T=lookupCoverageList(h.backtrackCoverage,w),E=y.length===h.inputCoverage.length&&S.length===h.lookaheadCoverage.length&&T.length===h.backtrackCoverage.length,k=[];if(E)for(var C=0;C<h.lookupRecords.length;C++)for(var P=h.lookupRecords[C],M=P.lookupListIndex,A=this.getLookupByIndex(M),D=0;D<A.subtables.length;D++){var N=A.subtables[D],j=this.getLookupMethod(A,N),q=this.getSubstitutionType(A,N);if(q==="12")for(var F=0;F<y.length;F++){var L=d.get(F),U=j(L);U&&k.push(U)}}return k}function ligatureSubstitutionFormat1(d,h){var f=d.current,y=lookupCoverage(f,h.coverage);if(y===-1)return null;for(var g,b=h.ligatureSets[y],v=0;v<b.length;v++){g=b[v];for(var S=0;S<g.components.length;S++){var O=d.lookahead[S],w=g.components[S];if(O!==w)break;if(S===g.components.length-1)return g}}return null}function decompositionSubstitutionFormat1(d,h){var f=lookupCoverage(d,h.coverage);return f===-1?null:h.sequences[f]}FeatureQuery.prototype.getDefaultScriptFeaturesIndexes=function(){for(var d=this.font.tables.gsub.scripts,h=0;h<d.length;h++){var f=d[h];if(f.tag==="DFLT")return f.script.defaultLangSys.featureIndexes}return[]};FeatureQuery.prototype.getScriptFeaturesIndexes=function(d){var h=this.font.tables;if(!h.gsub)return[];if(!d)return this.getDefaultScriptFeaturesIndexes();for(var f=this.font.tables.gsub.scripts,y=0;y<f.length;y++){var g=f[y];if(g.tag===d&&g.script.defaultLangSys)return g.script.defaultLangSys.featureIndexes;var b=g.langSysRecords;if(b)for(var v=0;v<b.length;v++){var S=b[v];if(S.tag===d){var O=S.langSys;return O.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};FeatureQuery.prototype.mapTagsToFeatures=function(d,h){for(var f={},y=0;y<d.length;y++){var g=d[y].tag,b=d[y].feature;f[g]=b}this.features[h].tags=f};FeatureQuery.prototype.getScriptFeatures=function(d){var h=this.features[d];if(this.features.hasOwnProperty(d))return h;var f=this.getScriptFeaturesIndexes(d);if(!f)return null;var y=this.font.tables.gsub;return h=f.map(function(g){return y.features[g]}),this.features[d]=h,this.mapTagsToFeatures(h,d),h};FeatureQuery.prototype.getSubstitutionType=function(d,h){var f=d.lookupType.toString(),y=h.substFormat.toString();return f+y};FeatureQuery.prototype.getLookupMethod=function(d,h){var f=this,y=this.getSubstitutionType(d,h);switch(y){case"11":return function(g){return singleSubstitutionFormat1.apply(f,[g,h])};case"12":return function(g){return singleSubstitutionFormat2.apply(f,[g,h])};case"63":return function(g){return chainingSubstitutionFormat3.apply(f,[g,h])};case"41":return function(g){return ligatureSubstitutionFormat1.apply(f,[g,h])};case"21":return function(g){return decompositionSubstitutionFormat1.apply(f,[g,h])};default:throw new Error("lookupType: "+d.lookupType+" - substFormat: "+h.substFormat+" is not yet supported")}};FeatureQuery.prototype.lookupFeature=function(d){var h=d.contextParams,f=h.index,y=this.getFeature({tag:d.tag,script:d.script});if(!y)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+d.tag+"' for script '"+d.script+"'.");for(var g=this.getFeatureLookups(y),b=[].concat(h.context),v=0;v<g.length;v++)for(var S=g[v],O=this.getLookupSubtables(S),w=0;w<O.length;w++){var T=O[w],E=this.getSubstitutionType(S,T),k=this.getLookupMethod(S,T),C=void 0;switch(E){case"11":C=k(h.current),C&&b.splice(f,1,new SubstitutionAction({id:11,tag:d.tag,substitution:C}));break;case"12":C=k(h.current),C&&b.splice(f,1,new SubstitutionAction({id:12,tag:d.tag,substitution:C}));break;case"63":C=k(h),Array.isArray(C)&&C.length&&b.splice(f,1,new SubstitutionAction({id:63,tag:d.tag,substitution:C}));break;case"41":C=k(h),C&&b.splice(f,1,new SubstitutionAction({id:41,tag:d.tag,substitution:C}));break;case"21":C=k(h.current),C&&b.splice(f,1,new SubstitutionAction({id:21,tag:d.tag,substitution:C}));break}h=new ContextParams(b,f),!(Array.isArray(C)&&!C.length)&&(C=null)}return b.length?b:null};FeatureQuery.prototype.supports=function(d){if(!d.script)return!1;this.getScriptFeatures(d.script);var h=this.features.hasOwnProperty(d.script);if(!d.tag)return h;var f=this.features[d.script].some(function(y){return y.tag===d.tag});return h&&f};FeatureQuery.prototype.getLookupSubtables=function(d){return d.subtables||null};FeatureQuery.prototype.getLookupByIndex=function(d){var h=this.font.tables.gsub.lookups;return h[d]||null};FeatureQuery.prototype.getFeatureLookups=function(d){return d.lookupListIndexes.map(this.getLookupByIndex.bind(this))};FeatureQuery.prototype.getFeature=function(h){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(h.script)||this.getScriptFeatures(h.script);var f=this.features[h.script];return f?f.tags[h.tag]?this.features[h.script].tags[h.tag]:null:{FAIL:"No feature for script "+h.script}};function arabicWordStartCheck(d){var h=d.current,f=d.get(-1);return f===null&&isArabicChar(h)||!isArabicChar(f)&&isArabicChar(h)}function arabicWordEndCheck(d){var h=d.get(1);return h===null||!isArabicChar(h)}var arabicWordCheck={startCheck:arabicWordStartCheck,endCheck:arabicWordEndCheck};function arabicSentenceStartCheck(d){var h=d.current,f=d.get(-1);return(isArabicChar(h)||isTashkeelArabicChar(h))&&!isArabicChar(f)}function arabicSentenceEndCheck(d){var h=d.get(1);switch(!0){case h===null:return!0;case(!isArabicChar(h)&&!isTashkeelArabicChar(h)):var f=isWhiteSpace(h);if(!f)return!0;if(f){var y=!1;if(y=d.lookahead.some(function(g){return isArabicChar(g)||isTashkeelArabicChar(g)}),!y)return!0}break;default:return!1}}var arabicSentenceCheck={startCheck:arabicSentenceStartCheck,endCheck:arabicSentenceEndCheck};function singleSubstitutionFormat1$1(d,h,f){h[f].setState(d.tag,d.substitution)}function singleSubstitutionFormat2$1(d,h,f){h[f].setState(d.tag,d.substitution)}function chainingSubstitutionFormat3$1(d,h,f){d.substitution.forEach(function(y,g){var b=h[f+g];b.setState(d.tag,y)})}function ligatureSubstitutionFormat1$1(d,h,f){var y=h[f];y.setState(d.tag,d.substitution.ligGlyph);for(var g=d.substitution.components.length,b=0;b<g;b++)y=h[f+b+1],y.setState("deleted",!0)}var SUBSTITUTIONS={11:singleSubstitutionFormat1$1,12:singleSubstitutionFormat2$1,63:chainingSubstitutionFormat3$1,41:ligatureSubstitutionFormat1$1};function applySubstitution(d,h,f){d instanceof SubstitutionAction&&SUBSTITUTIONS[d.id]&&SUBSTITUTIONS[d.id](d,h,f)}function willConnectPrev(d){for(var h=[].concat(d.backtrack),f=h.length-1;f>=0;f--){var y=h[f],g=isIsolatedArabicChar(y),b=isTashkeelArabicChar(y);if(!g&&!b)return!0;if(g)return!1}return!1}function willConnectNext(d){if(isIsolatedArabicChar(d.current))return!1;for(var h=0;h<d.lookahead.length;h++){var f=d.lookahead[h],y=isTashkeelArabicChar(f);if(!y)return!0}return!1}function arabicPresentationForms(d){var h=this,f="arab",y=this.featuresTags[f],g=this.tokenizer.getRangeTokens(d);if(g.length!==1){var b=new ContextParams(g.map(function(S){return S.getState("glyphIndex")}),0),v=new ContextParams(g.map(function(S){return S.char}),0);g.forEach(function(S,O){if(!isTashkeelArabicChar(S.char)){b.setCurrentIndex(O),v.setCurrentIndex(O);var w=0;willConnectPrev(v)&&(w|=1),willConnectNext(v)&&(w|=2);var T;switch(w){case 1:T="fina";break;case 2:T="init";break;case 3:T="medi";break}if(y.indexOf(T)!==-1){var E=h.query.lookupFeature({tag:T,script:f,contextParams:b});if(E instanceof Error)return console.info(E.message);E.forEach(function(k,C){k instanceof SubstitutionAction&&(applySubstitution(k,g,C),b.context[C]=k.substitution)})}}})}}function getContextParams(d,h){var f=d.map(function(y){return y.activeState.value});return new ContextParams(f,0)}function arabicRequiredLigatures(d){var h=this,f="arab",y=this.tokenizer.getRangeTokens(d),g=getContextParams(y);g.context.forEach(function(b,v){g.setCurrentIndex(v);var S=h.query.lookupFeature({tag:"rlig",script:f,contextParams:g});S.length&&(S.forEach(function(O){return applySubstitution(O,y,v)}),g=getContextParams(y))})}function latinWordStartCheck(d){var h=d.current,f=d.get(-1);return f===null&&isLatinChar(h)||!isLatinChar(f)&&isLatinChar(h)}function latinWordEndCheck(d){var h=d.get(1);return h===null||!isLatinChar(h)}var latinWordCheck={startCheck:latinWordStartCheck,endCheck:latinWordEndCheck};function getContextParams$1(d,h){var f=d.map(function(y){return y.activeState.value});return new ContextParams(f,0)}function latinLigature(d){var h=this,f="latn",y=this.tokenizer.getRangeTokens(d),g=getContextParams$1(y);g.context.forEach(function(b,v){g.setCurrentIndex(v);var S=h.query.lookupFeature({tag:"liga",script:f,contextParams:g});S.length&&(S.forEach(function(O){return applySubstitution(O,y,v)}),g=getContextParams$1(y))})}function Bidi(d){this.baseDir=d||"ltr",this.tokenizer=new Tokenizer,this.featuresTags={}}Bidi.prototype.setText=function(d){this.text=d};Bidi.prototype.contextChecks={latinWordCheck,arabicWordCheck,arabicSentenceCheck};function registerContextChecker(d){var h=this.contextChecks[d+"Check"];return this.tokenizer.registerContextChecker(d,h.startCheck,h.endCheck)}function tokenizeText(){return registerContextChecker.call(this,"latinWord"),registerContextChecker.call(this,"arabicWord"),registerContextChecker.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function reverseArabicSentences(){var d=this,h=this.tokenizer.getContextRanges("arabicSentence");h.forEach(function(f){var y=d.tokenizer.getRangeTokens(f);d.tokenizer.replaceRange(f.startIndex,f.endOffset,y.reverse())})}Bidi.prototype.registerFeatures=function(d,h){var f=this,y=h.filter(function(g){return f.query.supports({script:d,tag:g})});this.featuresTags.hasOwnProperty(d)?this.featuresTags[d]=this.featuresTags[d].concat(y):this.featuresTags[d]=y};Bidi.prototype.applyFeatures=function(d,h){if(!d)throw new Error("No valid font was provided to apply features");this.query||(this.query=new FeatureQuery(d));for(var f=0;f<h.length;f++){var y=h[f];this.query.supports({script:y.script})&&this.registerFeatures(y.script,y.tags)}};Bidi.prototype.registerModifier=function(d,h,f){this.tokenizer.registerModifier(d,h,f)};function checkGlyphIndexStatus(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function applyArabicPresentationForms(){var d=this,h="arab";if(this.featuresTags.hasOwnProperty(h)){checkGlyphIndexStatus.call(this);var f=this.tokenizer.getContextRanges("arabicWord");f.forEach(function(y){arabicPresentationForms.call(d,y)})}}function applyArabicRequireLigatures(){var d=this,h="arab";if(this.featuresTags.hasOwnProperty(h)){var f=this.featuresTags[h];if(f.indexOf("rlig")!==-1){checkGlyphIndexStatus.call(this);var y=this.tokenizer.getContextRanges("arabicWord");y.forEach(function(g){arabicRequiredLigatures.call(d,g)})}}}function applyLatinLigatures(){var d=this,h="latn";if(this.featuresTags.hasOwnProperty(h)){var f=this.featuresTags[h];if(f.indexOf("liga")!==-1){checkGlyphIndexStatus.call(this);var y=this.tokenizer.getContextRanges("latinWord");y.forEach(function(g){latinLigature.call(d,g)})}}}Bidi.prototype.checkContextReady=function(d){return!!this.tokenizer.getContext(d)};Bidi.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(applyArabicPresentationForms.call(this),applyArabicRequireLigatures.call(this)),this.checkContextReady("latinWord")&&applyLatinLigatures.call(this),this.checkContextReady("arabicSentence")&&reverseArabicSentences.call(this)};Bidi.prototype.processText=function(d){(!this.text||this.text!==d)&&(this.setText(d),tokenizeText.call(this),this.applyFeaturesToContexts())};Bidi.prototype.getBidiText=function(d){return this.processText(d),this.tokenizer.getText()};Bidi.prototype.getTextGlyphs=function(d){this.processText(d);for(var h=[],f=0;f<this.tokenizer.tokens.length;f++){var y=this.tokenizer.tokens[f];if(!y.state.deleted){var g=y.activeState.value;h.push(Array.isArray(g)?g[0]:g)}}return h};function Font$1(d){d=d||{},d.tables=d.tables||{},d.empty||(checkArgument(d.familyName,"When creating a new Font object, familyName is required."),checkArgument(d.styleName,"When creating a new Font object, styleName is required."),checkArgument(d.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),checkArgument(d.ascender,"When creating a new Font object, ascender is required."),checkArgument(d.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:d.familyName||" "},fontSubfamily:{en:d.styleName||" "},fullName:{en:d.fullName||d.familyName+" "+d.styleName},postScriptName:{en:d.postScriptName||(d.familyName+d.styleName).replace(/\s/g,"")},designer:{en:d.designer||" "},designerURL:{en:d.designerURL||" "},manufacturer:{en:d.manufacturer||" "},manufacturerURL:{en:d.manufacturerURL||" "},license:{en:d.license||" "},licenseURL:{en:d.licenseURL||" "},version:{en:d.version||"Version 0.1"},description:{en:d.description||" "},copyright:{en:d.copyright||" "},trademark:{en:d.trademark||" "}},this.unitsPerEm=d.unitsPerEm||1e3,this.ascender=d.ascender,this.descender=d.descender,this.createdTimestamp=d.createdTimestamp,this.tables=Object.assign(d.tables,{os2:Object.assign({usWeightClass:d.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:d.widthClass||this.usWidthClasses.MEDIUM,fsSelection:d.fsSelection||this.fsSelectionValues.REGULAR},d.tables.os2)})),this.supported=!0,this.glyphs=new glyphset.GlyphSet(this,d.glyphs||[]),this.encoding=new DefaultEncoding(this),this.position=new Position(this),this.substitution=new Substitution(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new Hinting(this)}})}Font$1.prototype.hasChar=function(d){return this.encoding.charToGlyphIndex(d)!==null};Font$1.prototype.charToGlyphIndex=function(d){return this.encoding.charToGlyphIndex(d)};Font$1.prototype.charToGlyph=function(d){var h=this.charToGlyphIndex(d),f=this.glyphs.get(h);return f||(f=this.glyphs.get(0)),f};Font$1.prototype.updateFeatures=function(d){return this.defaultRenderOptions.features.map(function(h){return h.script==="latn"?{script:"latn",tags:h.tags.filter(function(f){return d[f]})}:h})};Font$1.prototype.stringToGlyphs=function(d,h){var f=this,y=new Bidi,g=function(E){return f.charToGlyphIndex(E.char)};y.registerModifier("glyphIndex",null,g);var b=h?this.updateFeatures(h.features):this.defaultRenderOptions.features;y.applyFeatures(this,b);for(var v=y.getTextGlyphs(d),S=v.length,O=new Array(S),w=this.glyphs.get(0),T=0;T<S;T+=1)O[T]=this.glyphs.get(v[T])||w;return O};Font$1.prototype.nameToGlyphIndex=function(d){return this.glyphNames.nameToGlyphIndex(d)};Font$1.prototype.nameToGlyph=function(d){var h=this.nameToGlyphIndex(d),f=this.glyphs.get(h);return f||(f=this.glyphs.get(0)),f};Font$1.prototype.glyphIndexToName=function(d){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(d):""};Font$1.prototype.getKerningValue=function(d,h){d=d.index||d,h=h.index||h;var f=this.position.defaultKerningTables;return f?this.position.getKerningValue(f,d,h):this.kerningPairs[d+","+h]||0};Font$1.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};Font$1.prototype.forEachGlyph=function(d,h,f,y,g,b){h=h!==void 0?h:0,f=f!==void 0?f:0,y=y!==void 0?y:72,g=Object.assign({},this.defaultRenderOptions,g);var v=1/this.unitsPerEm*y,S=this.stringToGlyphs(d,g),O;if(g.kerning){var w=g.script||this.position.getDefaultScriptName();O=this.position.getKerningTables(w,g.language)}for(var T=0;T<S.length;T+=1){var E=S[T];if(b.call(this,E,h,f,y,g),E.advanceWidth&&(h+=E.advanceWidth*v),g.kerning&&T<S.length-1){var k=O?this.position.getKerningValue(O,E.index,S[T+1].index):this.getKerningValue(E,S[T+1]);h+=k*v}g.letterSpacing?h+=g.letterSpacing*y:g.tracking&&(h+=g.tracking/1e3*y)}return h};Font$1.prototype.getPath=function(d,h,f,y,g){var b=new Path;return this.forEachGlyph(d,h,f,y,g,function(v,S,O,w){var T=v.getPath(S,O,w,g,this);b.extend(T)}),b};Font$1.prototype.getPaths=function(d,h,f,y,g){var b=[];return this.forEachGlyph(d,h,f,y,g,function(v,S,O,w){var T=v.getPath(S,O,w,g,this);b.push(T)}),b};Font$1.prototype.getAdvanceWidth=function(d,h,f){return this.forEachGlyph(d,0,0,h,f,function(){})};Font$1.prototype.draw=function(d,h,f,y,g,b){this.getPath(h,f,y,g,b).draw(d)};Font$1.prototype.drawPoints=function(d,h,f,y,g,b){this.forEachGlyph(h,f,y,g,b,function(v,S,O,w){v.drawPoints(d,S,O,w)})};Font$1.prototype.drawMetrics=function(d,h,f,y,g,b){this.forEachGlyph(h,f,y,g,b,function(v,S,O,w){v.drawMetrics(d,S,O,w)})};Font$1.prototype.getEnglishName=function(d){var h=this.names[d];if(h)return h.en};Font$1.prototype.validate=function(){var d=this;function h(y,g){}function f(y){var g=d.getEnglishName(y);g&&g.trim().length>0}f("fontFamily"),f("weightName"),f("manufacturer"),f("copyright"),f("version"),this.unitsPerEm>0};Font$1.prototype.toTables=function(){return sfnt.fontToTable(this)};Font$1.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};Font$1.prototype.toArrayBuffer=function(){for(var d=this.toTables(),h=d.encode(),f=new ArrayBuffer(h.length),y=new Uint8Array(f),g=0;g<h.length;g++)y[g]=h[g];return f};Font$1.prototype.download=function(d){var h=this.getEnglishName("fontFamily"),f=this.getEnglishName("fontSubfamily");d=d||h.replace(/\s/g,"")+"-"+f+".otf";var y=this.toArrayBuffer();if(isBrowser())if(window.URL=window.URL||window.webkitURL,window.URL){var g=new DataView(y),b=new Blob([g],{type:"font/opentype"}),v=document.createElement("a");v.href=window.URL.createObjectURL(b),v.download=d;var S=document.createEvent("MouseEvents");S.initEvent("click",!0,!1),v.dispatchEvent(S)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var O=require("fs"),w=arrayBufferToNodeBuffer(y);O.writeFileSync(d,w)}};Font$1.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};Font$1.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};Font$1.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};function addName(d,h){var f=JSON.stringify(d),y=256;for(var g in h){var b=parseInt(g);if(!(!b||b<256)){if(JSON.stringify(h[g])===f)return b;y<=b&&(y=b+1)}}return h[y]=d,y}function makeFvarAxis(d,h,f){var y=addName(h.name,f);return[{name:"tag_"+d,type:"TAG",value:h.tag},{name:"minValue_"+d,type:"FIXED",value:h.minValue<<16},{name:"defaultValue_"+d,type:"FIXED",value:h.defaultValue<<16},{name:"maxValue_"+d,type:"FIXED",value:h.maxValue<<16},{name:"flags_"+d,type:"USHORT",value:0},{name:"nameID_"+d,type:"USHORT",value:y}]}function parseFvarAxis(d,h,f){var y={},g=new parse$1.Parser(d,h);return y.tag=g.parseTag(),y.minValue=g.parseFixed(),y.defaultValue=g.parseFixed(),y.maxValue=g.parseFixed(),g.skip("uShort",1),y.name=f[g.parseUShort()]||{},y}function makeFvarInstance(d,h,f,y){for(var g=addName(h.name,y),b=[{name:"nameID_"+d,type:"USHORT",value:g},{name:"flags_"+d,type:"USHORT",value:0}],v=0;v<f.length;++v){var S=f[v].tag;b.push({name:"axis_"+d+" "+S,type:"FIXED",value:h.coordinates[S]<<16})}return b}function parseFvarInstance(d,h,f,y){var g={},b=new parse$1.Parser(d,h);g.name=y[b.parseUShort()]||{},b.skip("uShort",1),g.coordinates={};for(var v=0;v<f.length;++v)g.coordinates[f[v].tag]=b.parseFixed();return g}function makeFvarTable(d,h){var f=new table.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:d.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:d.instances.length},{name:"instanceSize",type:"USHORT",value:4+d.axes.length*4}]);f.offsetToData=f.sizeOf();for(var y=0;y<d.axes.length;y++)f.fields=f.fields.concat(makeFvarAxis(y,d.axes[y],h));for(var g=0;g<d.instances.length;g++)f.fields=f.fields.concat(makeFvarInstance(g,d.instances[g],d.axes,h));return f}function parseFvarTable(d,h,f){var y=new parse$1.Parser(d,h),g=y.parseULong();check$2.argument(g===65536,"Unsupported fvar table version.");var b=y.parseOffset16();y.skip("uShort",1);for(var v=y.parseUShort(),S=y.parseUShort(),O=y.parseUShort(),w=y.parseUShort(),T=[],E=0;E<v;E++)T.push(parseFvarAxis(d,h+b+E*S,f));for(var k=[],C=h+b+v*S,P=0;P<O;P++)k.push(parseFvarInstance(d,C+P*w,T,f));return{axes:T,instances:k}}var fvar={make:makeFvarTable,parse:parseFvarTable},attachList=function(){return{coverage:this.parsePointer(Parser.coverage),attachPoints:this.parseList(Parser.pointer(Parser.uShortList))}},caretValue=function(){var d=this.parseUShort();if(check$2.argument(d===1||d===2||d===3,"Unsupported CaretValue table version."),d===1)return{coordinate:this.parseShort()};if(d===2)return{pointindex:this.parseShort()};if(d===3)return{coordinate:this.parseShort()}},ligGlyph=function(){return this.parseList(Parser.pointer(caretValue))},ligCaretList=function(){return{coverage:this.parsePointer(Parser.coverage),ligGlyphs:this.parseList(Parser.pointer(ligGlyph))}},markGlyphSets=function(){return this.parseUShort(),this.parseList(Parser.pointer(Parser.coverage))};function parseGDEFTable(d,h){h=h||0;var f=new Parser(d,h),y=f.parseVersion(1);check$2.argument(y===1||y===1.2||y===1.3,"Unsupported GDEF table version.");var g={version:y,classDef:f.parsePointer(Parser.classDef),attachList:f.parsePointer(attachList),ligCaretList:f.parsePointer(ligCaretList),markAttachClassDef:f.parsePointer(Parser.classDef)};return y>=1.2&&(g.markGlyphSets=f.parsePointer(markGlyphSets)),g}var gdef={parse:parseGDEFTable},subtableParsers$1=new Array(10);subtableParsers$1[1]=function(){var h=this.offset+this.relativeOffset,f=this.parseUShort();if(f===1)return{posFormat:1,coverage:this.parsePointer(Parser.coverage),value:this.parseValueRecord()};if(f===2)return{posFormat:2,coverage:this.parsePointer(Parser.coverage),values:this.parseValueRecordList()};check$2.assert(!1,"0x"+h.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};subtableParsers$1[2]=function(){var h=this.offset+this.relativeOffset,f=this.parseUShort();check$2.assert(f===1||f===2,"0x"+h.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var y=this.parsePointer(Parser.coverage),g=this.parseUShort(),b=this.parseUShort();if(f===1)return{posFormat:f,coverage:y,valueFormat1:g,valueFormat2:b,pairSets:this.parseList(Parser.pointer(Parser.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(g),value2:this.parseValueRecord(b)}})))};if(f===2){var v=this.parsePointer(Parser.classDef),S=this.parsePointer(Parser.classDef),O=this.parseUShort(),w=this.parseUShort();return{posFormat:f,coverage:y,valueFormat1:g,valueFormat2:b,classDef1:v,classDef2:S,class1Count:O,class2Count:w,classRecords:this.parseList(O,Parser.list(w,function(){return{value1:this.parseValueRecord(g),value2:this.parseValueRecord(b)}}))}}};subtableParsers$1[3]=function(){return{error:"GPOS Lookup 3 not supported"}};subtableParsers$1[4]=function(){return{error:"GPOS Lookup 4 not supported"}};subtableParsers$1[5]=function(){return{error:"GPOS Lookup 5 not supported"}};subtableParsers$1[6]=function(){return{error:"GPOS Lookup 6 not supported"}};subtableParsers$1[7]=function(){return{error:"GPOS Lookup 7 not supported"}};subtableParsers$1[8]=function(){return{error:"GPOS Lookup 8 not supported"}};subtableParsers$1[9]=function(){return{error:"GPOS Lookup 9 not supported"}};function parseGposTable(d,h){h=h||0;var f=new Parser(d,h),y=f.parseVersion(1);return check$2.argument(y===1||y===1.1,"Unsupported GPOS table version "+y),y===1?{version:y,scripts:f.parseScriptList(),features:f.parseFeatureList(),lookups:f.parseLookupList(subtableParsers$1)}:{version:y,scripts:f.parseScriptList(),features:f.parseFeatureList(),lookups:f.parseLookupList(subtableParsers$1),variations:f.parseFeatureVariationsList()}}var subtableMakers$1=new Array(10);function makeGposTable(d){return new table.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new table.ScriptList(d.scripts)},{name:"features",type:"TABLE",value:new table.FeatureList(d.features)},{name:"lookups",type:"TABLE",value:new table.LookupList(d.lookups,subtableMakers$1)}])}var gpos={parse:parseGposTable,make:makeGposTable};function parseWindowsKernTable(d){var h={};d.skip("uShort");var f=d.parseUShort();check$2.argument(f===0,"Unsupported kern sub-table version."),d.skip("uShort",2);var y=d.parseUShort();d.skip("uShort",3);for(var g=0;g<y;g+=1){var b=d.parseUShort(),v=d.parseUShort(),S=d.parseShort();h[b+","+v]=S}return h}function parseMacKernTable(d){var h={};d.skip("uShort");var f=d.parseULong();f>1&&console.warn("Only the first kern subtable is supported."),d.skip("uLong");var y=d.parseUShort(),g=y&255;if(d.skip("uShort"),g===0){var b=d.parseUShort();d.skip("uShort",3);for(var v=0;v<b;v+=1){var S=d.parseUShort(),O=d.parseUShort(),w=d.parseShort();h[S+","+O]=w}}return h}function parseKernTable(d,h){var f=new parse$1.Parser(d,h),y=f.parseUShort();if(y===0)return parseWindowsKernTable(f);if(y===1)return parseMacKernTable(f);throw new Error("Unsupported kern table version ("+y+").")}var kern={parse:parseKernTable};function parseLocaTable(d,h,f,y){for(var g=new parse$1.Parser(d,h),b=y?g.parseUShort:g.parseULong,v=[],S=0;S<f+1;S+=1){var O=b.call(g);y&&(O*=2),v.push(O)}return v}var loca={parse:parseLocaTable};function parseOpenTypeTableEntries(d,h){for(var f=[],y=12,g=0;g<h;g+=1){var b=parse$1.getTag(d,y),v=parse$1.getULong(d,y+4),S=parse$1.getULong(d,y+8),O=parse$1.getULong(d,y+12);f.push({tag:b,checksum:v,offset:S,length:O,compression:!1}),y+=16}return f}function parseWOFFTableEntries(d,h){for(var f=[],y=44,g=0;g<h;g+=1){var b=parse$1.getTag(d,y),v=parse$1.getULong(d,y+4),S=parse$1.getULong(d,y+8),O=parse$1.getULong(d,y+12),w=void 0;S<O?w="WOFF":w=!1,f.push({tag:b,offset:v,compression:w,compressedLength:S,length:O}),y+=20}return f}function uncompressTable(d,h){if(h.compression==="WOFF"){var f=new Uint8Array(d.buffer,h.offset+2,h.compressedLength-2),y=new Uint8Array(h.length);if(tinyInflate(f,y),y.byteLength!==h.length)throw new Error("Decompression error: "+h.tag+" decompressed length doesn't match recorded length");var g=new DataView(y.buffer,0);return{data:g,offset:0}}else return{data:d,offset:h.offset}}function parseBuffer(d,h){h=h==null?{}:h;var f,y,g=new Font$1({empty:!0}),b=new DataView(d,0),v,S=[],O=parse$1.getTag(b,0);if(O==="\0\0\0"||O==="true"||O==="typ1")g.outlinesFormat="truetype",v=parse$1.getUShort(b,4),S=parseOpenTypeTableEntries(b,v);else if(O==="OTTO")g.outlinesFormat="cff",v=parse$1.getUShort(b,4),S=parseOpenTypeTableEntries(b,v);else if(O==="wOFF"){var w=parse$1.getTag(b,4);if(w==="\0\0\0")g.outlinesFormat="truetype";else if(w==="OTTO")g.outlinesFormat="cff";else throw new Error("Unsupported OpenType flavor "+O);v=parse$1.getUShort(b,12),S=parseWOFFTableEntries(b,v)}else throw new Error("Unsupported OpenType signature "+O);for(var T,E,k,C,P,M,A,D,N,j,q,F,L=0;L<v;L+=1){var U=S[L],z=void 0;switch(U.tag){case"cmap":z=uncompressTable(b,U),g.tables.cmap=cmap.parse(z.data,z.offset),g.encoding=new CmapEncoding(g.tables.cmap);break;case"cvt ":z=uncompressTable(b,U),F=new parse$1.Parser(z.data,z.offset),g.tables.cvt=F.parseShortList(U.length/2);break;case"fvar":E=U;break;case"fpgm":z=uncompressTable(b,U),F=new parse$1.Parser(z.data,z.offset),g.tables.fpgm=F.parseByteList(U.length);break;case"head":z=uncompressTable(b,U),g.tables.head=head.parse(z.data,z.offset),g.unitsPerEm=g.tables.head.unitsPerEm,f=g.tables.head.indexToLocFormat;break;case"hhea":z=uncompressTable(b,U),g.tables.hhea=hhea.parse(z.data,z.offset),g.ascender=g.tables.hhea.ascender,g.descender=g.tables.hhea.descender,g.numberOfHMetrics=g.tables.hhea.numberOfHMetrics;break;case"hmtx":A=U;break;case"ltag":z=uncompressTable(b,U),y=ltag.parse(z.data,z.offset);break;case"maxp":z=uncompressTable(b,U),g.tables.maxp=maxp.parse(z.data,z.offset),g.numGlyphs=g.tables.maxp.numGlyphs;break;case"name":j=U;break;case"OS/2":z=uncompressTable(b,U),g.tables.os2=os2.parse(z.data,z.offset);break;case"post":z=uncompressTable(b,U),g.tables.post=post.parse(z.data,z.offset),g.glyphNames=new GlyphNames(g.tables.post);break;case"prep":z=uncompressTable(b,U),F=new parse$1.Parser(z.data,z.offset),g.tables.prep=F.parseByteList(U.length);break;case"glyf":k=U;break;case"loca":N=U;break;case"CFF ":T=U;break;case"kern":D=U;break;case"GDEF":C=U;break;case"GPOS":P=U;break;case"GSUB":M=U;break;case"meta":q=U;break}}var V=uncompressTable(b,j);if(g.tables.name=_name.parse(V.data,V.offset,y),g.names=g.tables.name,k&&N){var Y=f===0,W=uncompressTable(b,N),K=loca.parse(W.data,W.offset,g.numGlyphs,Y),re=uncompressTable(b,k);g.glyphs=glyf.parse(re.data,re.offset,K,g,h)}else if(T){var fe=uncompressTable(b,T);cff.parse(fe.data,fe.offset,g,h)}else throw new Error("Font doesn't contain TrueType or CFF outlines.");var se=uncompressTable(b,A);if(hmtx.parse(g,se.data,se.offset,g.numberOfHMetrics,g.numGlyphs,g.glyphs,h),addGlyphNames(g,h),D){var J=uncompressTable(b,D);g.kerningPairs=kern.parse(J.data,J.offset)}else g.kerningPairs={};if(C){var ie=uncompressTable(b,C);g.tables.gdef=gdef.parse(ie.data,ie.offset)}if(P){var ue=uncompressTable(b,P);g.tables.gpos=gpos.parse(ue.data,ue.offset),g.position.init()}if(M){var ke=uncompressTable(b,M);g.tables.gsub=gsub.parse(ke.data,ke.offset)}if(E){var pe=uncompressTable(b,E);g.tables.fvar=fvar.parse(pe.data,pe.offset,g.names)}if(q){var ne=uncompressTable(b,q);g.tables.meta=meta.parse(ne.data,ne.offset),g.metas=g.tables.meta}return g}let canvas;const DEFAULT_TEST_TEXT="Ag",CANVAS_SIZE=1e3;function getFontBaselinesFromCanvas(d,h){canvas||(canvas=document.createElement("canvas"));const f=canvas.getContext("2d");if(!f)throw new Error("Failed to get 2D context from canvas");const y=createCanvasFontString(h),g=(d.trim()===""?DEFAULT_TEST_TEXT:d).substring(0,20);canvas.width=CANVAS_SIZE,canvas.height=CANVAS_SIZE,f.font=y,f.textAlign="left";const b={middle:f.measureText(g),hanging:f.measureText(g),top:f.measureText(g),alphabetic:f.measureText(g),ideographic:f.measureText(g),bottom:f.measureText(g)};f.textBaseline="middle",b.middle=f.measureText(g),f.textBaseline="hanging",b.hanging=f.measureText(g),f.textBaseline="top",b.top=f.measureText(g),f.textBaseline="alphabetic",b.alphabetic=f.measureText(g),f.textBaseline="ideographic",b.ideographic=f.measureText(g),f.textBaseline="bottom",b.bottom=f.measureText(g);const v={middle:0,hanging:b.hanging.actualBoundingBoxAscent-b.middle.actualBoundingBoxAscent,top:b.top.actualBoundingBoxAscent-b.middle.actualBoundingBoxAscent,alphabetic:b.middle.actualBoundingBoxDescent-b.alphabetic.actualBoundingBoxDescent,ideographic:b.middle.actualBoundingBoxDescent-b.ideographic.actualBoundingBoxDescent,bottom:b.middle.actualBoundingBoxDescent-b.bottom.actualBoundingBoxDescent,lineHeight:1},S=Math.max(b.middle.actualBoundingBoxAscent+b.middle.actualBoundingBoxDescent,b.alphabetic.actualBoundingBoxAscent+b.alphabetic.actualBoundingBoxDescent);return v.lineHeight=Math.max(1,S/h.fontSize),v}function getFontBaselinesFromMetrics(d,h){var w;const f=h/d.unitsPerEm,y=d.ascender*f,g=d.descender*f,b=(((w=d.tables.hhea)==null?void 0:w.lineGap)||0)*f,v=y-g,S=v/2;return{middle:0,hanging:-(y-S),top:-(y-S),alphabetic:S,ideographic:S-g,bottom:S-g,lineHeight:Math.max(1,(v+b)/h)}}let fontTargeCache,loadDiv;function updateFontFace(d,h){const f=document.createTextNode(`
    @font-face {
        font-family: "${d}";
        src: url("${h}") format('truetype');
    }`);if(fontTargeCache)fontTargeCache.appendChild(f);else{const y=document.createTextNode("A");fontTargeCache=document.createElement("style"),loadDiv=document.createElement("div"),document.head.appendChild(fontTargeCache),fontTargeCache.appendChild(f),loadDiv.appendChild(y),loadDiv.style.position="absolute",loadDiv.style.left="-1000px",loadDiv.style.top="-1000px",loadDiv.style.opacity="0",loadDiv.style.fontSize="12px",loadDiv.style.pointerEvents="none",document.body.appendChild(loadDiv)}return loadDiv.style.fontFamily=d,new Promise(y=>setTimeout(y,200))}var __defProp$a=Object.defineProperty,__defNormalProp$a=(d,h,f)=>h in d?__defProp$a(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$a=(d,h,f)=>__defNormalProp$a(d,typeof h!="symbol"?h+"":h,f);const DEFAULT_FAMILY="sans-serif";class Font{constructor(h={}){var f;__publicField$a(this,"fonts",[]),__publicField$a(this,"size"),__publicField$a(this,"lineHeight",1.25),__publicField$a(this,"middle",0),__publicField$a(this,"hanging",0),__publicField$a(this,"top",0),__publicField$a(this,"alphabetic",0),__publicField$a(this,"ideographic",0),__publicField$a(this,"bottom",0),__publicField$a(this,"sharp",80),makeObservable(this,{fonts:observable.shallow,size:observable,lineHeight:observable,middle:observable,hanging:observable,top:observable,alphabetic:observable,ideographic:observable,bottom:observable,sharp:observable,mainFont:computed,mainFamily:computed,opentype:computed,family:computed,minBaseLine:computed,maxBaseLine:computed,addFont:action.bound,removeFont:action.bound,setSize:action.bound,setLineHeight:action.bound,setSharp:action.bound}),this.size=h.size||72,this.lineHeight=h.lineHeight||1.25,this.sharp=is.num(h.sharp)?h.sharp:80,(f=h.fonts)!=null&&f.length?h.fonts.forEach(y=>this.addFont(y.font)):this.updateBaselines()}get mainFont(){return this.fonts.length>0?this.fonts[0]:null}get mainFamily(){return this.mainFont?this.mainFont.family:DEFAULT_FAMILY}get opentype(){return this.mainFont?this.mainFont.opentype:null}get family(){return this.fonts.map(h=>`"${h.family}"`).join(",")||DEFAULT_FAMILY}get minBaseLine(){const h=Math.min(this.middle,this.hanging,this.top,this.alphabetic,this.ideographic,this.bottom);return Number.isNaN(Number(h))?0:h}get maxBaseLine(){const h=Math.max(this.middle,this.hanging,this.top,this.alphabetic,this.ideographic,this.bottom);return Number.isNaN(Number(h))?this.size:h}updateBaselines(){var f;let h;(f=this.mainFont)!=null&&f.opentype?h=getFontBaselinesFromMetrics(this.mainFont.opentype,this.size):h=getFontBaselinesFromCanvas("Ag",{fontFamily:this.family,fontSize:this.size}),this.lineHeight===1.25&&(this.lineHeight=h.lineHeight),this.middle=h.middle,this.hanging=h.hanging,this.top=h.top,this.alphabetic=h.alphabetic,this.ideographic=h.ideographic,this.bottom=h.bottom}addFont(h){return De(this,null,function*(){const f=parseBuffer(h,{lowMemory:!0}),{names:y}=f,g=y.postScriptName[Object.keys(y.postScriptName)[0]];if(this.fonts.find(S=>S.family===g))throw new Error("Font already exists.");const v=URL.createObjectURL(new Blob([h]));yield updateFontFace(g,v),runInAction(()=>{this.fonts.push({font:h,family:g,opentype:f}),this.updateBaselines()})})}removeFont(h){const f=this.fonts.indexOf(h);f!==-1&&(this.fonts.splice(f,1),f===0&&this.updateBaselines())}setSize(h){this.size=h,this.updateBaselines()}setLineHeight(h){this.lineHeight=h}setSharp(h){this.sharp=h}}var __defProp$9=Object.defineProperty,__defNormalProp$9=(d,h,f)=>h in d?__defProp$9(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$9=(d,h,f)=>__defNormalProp$9(d,typeof h!="symbol"?h+"":h,f);class Shadow{constructor(h={}){__publicField$9(this,"color"),__publicField$9(this,"blur",1),__publicField$9(this,"offsetX",1),__publicField$9(this,"offsetY",1),makeObservable(this,{color:observable,blur:observable,offsetX:observable,offsetY:observable,setColor:action.bound,setBlur:action.bound,setOffsetX:action.bound,setOffsetY:action.bound,setOffset:action.bound}),this.color=h.color||"#000000",this.blur=use.num(h.blur,1),this.offsetX=use.num(h.offsetX,1),this.offsetY=use.num(h.offsetY,1)}setColor(h){this.color=h}setBlur(h){this.blur=h}setOffsetX(h){this.offsetX=h}setOffsetY(h){this.offsetY=h}setOffset(h,f){this.offsetX=h,this.offsetY=f}}var __defProp$8=Object.defineProperty,__defNormalProp$8=(d,h,f)=>h in d?__defProp$8(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$8=(d,h,f)=>__defNormalProp$8(d,typeof h!="symbol"?h+"":h,f);class Stroke extends Fill{constructor(h={}){super(h),__publicField$8(this,"width",1),__publicField$8(this,"lineCap"),__publicField$8(this,"lineJoin"),__publicField$8(this,"strokeType"),makeObservable(this,{width:observable,lineCap:observable,lineJoin:observable,strokeType:observable,setWidth:action.bound,setLineCap:action.bound,setLineJoin:action.bound,setStrokeType:action.bound}),this.width=use.num(h.width,1),this.lineCap=h.lineCap||"round",this.lineJoin=h.lineJoin||"round",this.strokeType=h.strokeType||0}setWidth(h){this.width=h}setLineCap(h){this.lineCap=h}setLineJoin(h){this.lineJoin=h}setStrokeType(h){this.strokeType=h}}var __defProp$7=Object.defineProperty,__defNormalProp$7=(d,h,f)=>h in d?__defProp$7(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$7=(d,h,f)=>__defNormalProp$7(d,typeof h!="symbol"?h+"":h,f);class Style{constructor(h={}){__publicField$7(this,"font"),__publicField$7(this,"fill"),__publicField$7(this,"useStroke"),__publicField$7(this,"stroke"),__publicField$7(this,"useShadow"),__publicField$7(this,"shadow"),__publicField$7(this,"bgColor","rgba(0,0,0,0)"),makeObservable(this,{font:observable,fill:observable,useStroke:observable,stroke:observable,useShadow:observable,shadow:observable,bgColor:observable,setUseStroke:action.bound,setUseShadow:action.bound,setBgColor:action.bound}),this.font=new Font(h.font),this.fill=new Fill(h.fill),this.stroke=new Stroke(h.stroke),this.shadow=new Shadow(h.shadow),this.useShadow=!!h.useShadow,this.useStroke=!!h.useStroke}setUseStroke(h){this.useStroke=h}setUseShadow(h){this.useShadow=h}setBgColor(h){this.bgColor=h}}var __defProp$6=Object.defineProperty,__defNormalProp$6=(d,h,f)=>h in d?__defProp$6(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$6=(d,h,f)=>__defNormalProp$6(d,typeof h!="symbol"?h+"":h,f);class Ui{constructor(h={}){__publicField$6(this,"scale",1),__publicField$6(this,"offsetX",0),__publicField$6(this,"offsetY",0),__publicField$6(this,"width",512),__publicField$6(this,"height",512),__publicField$6(this,"previewText",`Hello World!
Hello Snow Bamboo!`),__publicField$6(this,"selectLetter",""),__publicField$6(this,"selectNextLetter",""),__publicField$6(this,"showPreview",!1),__publicField$6(this,"previewScale",1),__publicField$6(this,"previewOffsetX",0),__publicField$6(this,"previewOffsetY",0),__publicField$6(this,"packFailed",!1),makeObservable(this,{scale:observable,offsetX:observable,offsetY:observable,width:observable,height:observable,previewText:observable,selectLetter:observable,selectNextLetter:observable,showPreview:observable,previewScale:observable,previewOffsetX:observable,previewOffsetY:observable,packFailed:observable,setTransform:action.bound,setSize:action.bound,setPreviewText:action.bound,setShowPreview:action.bound,setPreviewTransform:action.bound,setSelectLetter:action.bound,setPackFailed:action.bound}),h.previewText&&(this.previewText=h.previewText)}reOffset(){this.offsetX=Math.min(Math.max(this.width/-2,this.offsetX),this.width/2),this.offsetY=Math.min(Math.max(this.height/-2,this.offsetY),this.height/2),this.scale=Math.max(this.scale,.01)}setTransform(h){this.scale=use.num(h.scale,this.scale),this.offsetX=use.num(h.offsetX,this.offsetX),this.offsetY=use.num(h.offsetY,this.offsetY),this.reOffset()}setSize(h,f){this.width=h,this.height=f,this.reOffset()}setPreviewText(h){this.previewText=h}setShowPreview(h){this.showPreview=h}setPreviewTransform(h){this.previewScale=Math.max(use.num(h.previewScale,this.previewScale),.01),this.previewOffsetX=use.num(h.previewOffsetX,this.previewOffsetX),this.previewOffsetY=use.num(h.previewOffsetY,this.previewOffsetY)}setSelectLetter(h="",f=""){this.selectLetter=h,this.selectNextLetter=f}setPackFailed(h){this.packFailed=h}}var TheState;(function(d){d[d.DO_PLACING=0]="DO_PLACING",d[d.DEC_WIDTH=1]="DEC_WIDTH",d[d.INC_HEIGHT=2]="INC_HEIGHT",d[d.STOP=3]="STOP"})(TheState||(TheState={}));class Rect{constructor(h=0,f=0,y=0,g=0){this.x=h,this.y=f,this.width=y,this.height=g}static IsContainedIn(h,f){return h.x>=f.x&&h.y>=f.y&&h.x+h.width<=f.x+f.width&&h.y+h.height<=f.y+f.height}}var FreeRectChoiceHeuristic;(function(d){d[d.RectBestAreaFit=0]="RectBestAreaFit",d[d.RectBestShortSideFit=1]="RectBestShortSideFit",d[d.RectBestLongSideFit=2]="RectBestLongSideFit",d[d.RectWorstAreaFit=3]="RectWorstAreaFit",d[d.RectWorstShortSideFit=4]="RectWorstShortSideFit",d[d.RectWorstLongSideFit=5]="RectWorstLongSideFit"})(FreeRectChoiceHeuristic||(FreeRectChoiceHeuristic={}));var GuillotineSplitHeuristic;(function(d){d[d.SplitShorterLeftoverAxis=0]="SplitShorterLeftoverAxis",d[d.SplitLongerLeftoverAxis=1]="SplitLongerLeftoverAxis",d[d.SplitMinimizeArea=2]="SplitMinimizeArea",d[d.SplitMaximizeArea=3]="SplitMaximizeArea",d[d.SplitShorterAxis=4]="SplitShorterAxis",d[d.SplitLongerAxis=5]="SplitLongerAxis"})(GuillotineSplitHeuristic||(GuillotineSplitHeuristic={}));class GuillotineBinPack{constructor(h=0,f=0,y=!1){this.binWidth=h,this.binHeight=f,this.allowFlip=y,this.usedRectangles=[],this.freeRectangles=[],this.binWidth&&this.binHeight&&this.freeRectangles.push(new Rect(0,0,this.binWidth,this.binHeight))}InsertSizes(h,f,y,g){if(!Array.isArray(h)||h.length===0)return;for(const O of h)if(!O||O.width<0||O.height<0){console.error("Invalid rectangle dimensions");return}let b=0,v=0,S=!1;for(;h.length>0;){let O=Number.MAX_VALUE;for(let E=0;E<this.freeRectangles.length;++E)for(let k=0;k<h.length;++k)if(h[k].width===this.freeRectangles[E].width&&h[k].height===this.freeRectangles[E].height){b=E,v=k,S=!1,O=Number.MIN_VALUE,E=this.freeRectangles.length;break}else if(this.allowFlip&&h[k].height===this.freeRectangles[E].width&&h[k].width===this.freeRectangles[E].height){b=E,v=k,S=!0,O=Number.MIN_VALUE,E=this.freeRectangles.length;break}else if(h[k].width<=this.freeRectangles[E].width&&h[k].height<=this.freeRectangles[E].height){let C=this.ScoreByHeuristic(h[k].width,h[k].height,this.freeRectangles[E],y);C<O&&(b=E,v=k,S=!1,O=C)}else if(this.allowFlip&&h[k].height<=this.freeRectangles[E].width&&h[k].width<=this.freeRectangles[E].height){let C=this.ScoreByHeuristic(h[k].height,h[k].width,this.freeRectangles[E],y);C<O&&(b=E,v=k,S=!0,O=C)}if(O===Number.MAX_VALUE)return;const[w]=h.splice(v,1);w.x=this.freeRectangles[b].x,w.y=this.freeRectangles[b].y;const T=new Rect(this.freeRectangles[b].x,this.freeRectangles[b].y,w.width,w.height);S&&([T.width,T.height]=[T.height,T.width]),this.SplitFreeRectByHeuristic(this.freeRectangles[b],T,g),this.freeRectangles.splice(b,1),f&&this.MergeFreeList(),this.usedRectangles.push(w)}}Fits(h,f){return h.width<=f.width&&h.height<=f.height||h.height<=f.width&&h.width<=f.height}FitsPerfectly(h,f){return h.width===f.width&&h.height===f.height||h.height===f.width&&h.width===f.height}Occupancy(){return this.usedRectangles.reduce((f,y)=>f+y.width*y.height,0)/(this.binWidth*this.binHeight)}ScoreByHeuristic(h,f,y,g){switch(g){case FreeRectChoiceHeuristic.RectBestAreaFit:return this.ScoreBestAreaFit(h,f,y);case FreeRectChoiceHeuristic.RectBestShortSideFit:return this.ScoreBestShortSideFit(h,f,y);case FreeRectChoiceHeuristic.RectBestLongSideFit:return this.ScoreBestLongSideFit(h,f,y);case FreeRectChoiceHeuristic.RectWorstAreaFit:return this.ScoreWorstAreaFit(h,f,y);case FreeRectChoiceHeuristic.RectWorstShortSideFit:return this.ScoreWorstShortSideFit(h,f,y);case FreeRectChoiceHeuristic.RectWorstLongSideFit:return this.ScoreWorstLongSideFit(h,f,y);default:return Number.MAX_VALUE}}ScoreBestAreaFit(h,f,y){return y.width*y.height-h*f}ScoreBestShortSideFit(h,f,y){const g=Math.abs(y.width-h),b=Math.abs(y.height-f);return Math.min(g,b)}ScoreBestLongSideFit(h,f,y){const g=Math.abs(y.width-h),b=Math.abs(y.height-f);return Math.max(g,b)}ScoreWorstAreaFit(h,f,y){return-this.ScoreBestAreaFit(h,f,y)}ScoreWorstShortSideFit(h,f,y){return-this.ScoreBestShortSideFit(h,f,y)}ScoreWorstLongSideFit(h,f,y){return-this.ScoreBestLongSideFit(h,f,y)}FindPositionForNewNode(h,f,y,g){let b=new Rect,v=Number.MAX_VALUE;for(let S=0;S<this.freeRectangles.length;++S)if(h===this.freeRectangles[S].width&&f===this.freeRectangles[S].height){b.x=this.freeRectangles[S].x,b.y=this.freeRectangles[S].y,b.width=h,b.height=f,v=Number.MIN_VALUE,g.value=S;break}else if(f===this.freeRectangles[S].width&&h===this.freeRectangles[S].height){b.x=this.freeRectangles[S].x,b.y=this.freeRectangles[S].y,b.width=f,b.height=h,v=Number.MIN_VALUE,g.value=S;break}else if(h<=this.freeRectangles[S].width&&f<=this.freeRectangles[S].height){let O=this.ScoreByHeuristic(h,f,this.freeRectangles[S],y);O<v&&(b.x=this.freeRectangles[S].x,b.y=this.freeRectangles[S].y,b.width=h,b.height=f,v=O,g.value=S)}else if(f<=this.freeRectangles[S].width&&h<=this.freeRectangles[S].height){let O=this.ScoreByHeuristic(f,h,this.freeRectangles[S],y);O<v&&(b.x=this.freeRectangles[S].x,b.y=this.freeRectangles[S].y,b.width=f,b.height=h,v=O,g.value=S)}return b}SplitFreeRectByHeuristic(h,f,y){const g=h.width-f.width,b=h.height-f.height;let v;switch(y){case GuillotineSplitHeuristic.SplitShorterLeftoverAxis:v=g<=b;break;case GuillotineSplitHeuristic.SplitLongerLeftoverAxis:v=g>b;break;case GuillotineSplitHeuristic.SplitMinimizeArea:v=f.width*b>g*f.height;break;case GuillotineSplitHeuristic.SplitMaximizeArea:v=f.width*b<=g*f.height;break;case GuillotineSplitHeuristic.SplitShorterAxis:v=h.width<=h.height;break;case GuillotineSplitHeuristic.SplitLongerAxis:v=h.width>h.height;break;default:v=!0}this.SplitFreeRectAlongAxis(h,f,v)}SplitFreeRectAlongAxis(h,f,y){const g=new Rect(h.x,h.y+f.height,0,h.height-f.height),b=new Rect(h.x+f.width,h.y,h.width-f.width,0);y?(g.width=h.width,b.height=f.height):(g.width=f.width,b.height=h.height),g.width>0&&g.height>0&&this.freeRectangles.push(g),b.width>0&&b.height>0&&this.freeRectangles.push(b)}MergeFreeList(){for(let h=0;h<this.freeRectangles.length;++h)for(let f=h+1;f<this.freeRectangles.length;++f)this.freeRectangles[h].width===this.freeRectangles[f].width&&this.freeRectangles[h].x===this.freeRectangles[f].x?this.freeRectangles[h].y===this.freeRectangles[f].y+this.freeRectangles[f].height?(this.freeRectangles[h].y-=this.freeRectangles[f].height,this.freeRectangles[h].height+=this.freeRectangles[f].height,this.freeRectangles.splice(f,1),--f):this.freeRectangles[h].y+this.freeRectangles[h].height===this.freeRectangles[f].y&&(this.freeRectangles[h].height+=this.freeRectangles[f].height,this.freeRectangles.splice(f,1),--f):this.freeRectangles[h].height===this.freeRectangles[f].height&&this.freeRectangles[h].y===this.freeRectangles[f].y&&(this.freeRectangles[h].x===this.freeRectangles[f].x+this.freeRectangles[f].width?(this.freeRectangles[h].x-=this.freeRectangles[f].width,this.freeRectangles[h].width+=this.freeRectangles[f].width,this.freeRectangles.splice(f,1),--f):this.freeRectangles[h].x+this.freeRectangles[h].width===this.freeRectangles[f].x&&(this.freeRectangles[h].width+=this.freeRectangles[f].width,this.freeRectangles.splice(f,1),--f))}}GuillotineBinPack.FreeRectChoiceHeuristic=FreeRectChoiceHeuristic;GuillotineBinPack.GuillotineSplitHeuristic=GuillotineSplitHeuristic;function WorkerWrapper(d){return new Worker("/assets/AutoPacker.worker-CK0h2HSz.js",{type:"module",name:d==null?void 0:d.name})}var __defProp$5=Object.defineProperty,__defNormalProp$5=(d,h,f)=>h in d?__defProp$5(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$5=(d,h,f)=>__defNormalProp$5(d,typeof h!="symbol"?h+"":h,f);class AutoPackerWorkerPool{constructor(){__publicField$5(this,"workers",[]),__publicField$5(this,"availableWorkers",[]),__publicField$5(this,"busyWorkers",new Set),__publicField$5(this,"maxWorkers",4),__publicField$5(this,"maxPoolSize",this.getOptimalPoolSize()),__publicField$5(this,"isInitialized",!1),this.delayedInitialize(),typeof window!="undefined"&&(window.getWorkerPoolStatus=()=>this.getStatus(),window.resetWorkerPool=()=>this.reset(),window.autoPackerWorkerPool=this)}getOptimalPoolSize(){try{const h=navigator.hardwareConcurrency||0;if(h>0)return Math.min(Math.max(h,4),32)}catch(h){console.warn("Failed to detect CPU cores:",h)}return 16}delayedInitialize(){typeof requestIdleCallback!="undefined"?requestIdleCallback(()=>{this.preInitializeWorkers()},{timeout:2e3}):setTimeout(()=>{this.preInitializeWorkers()},100)}preInitializeWorkers(){if(!this.isInitialized){for(let h=0;h<this.maxWorkers;h++){const f=new WorkerWrapper;f._poolId=`pool-${h}`,this.workers.push(f),this.availableWorkers.push(f)}this.isInitialized=!0}}getWorkerAsync(){return De(this,null,function*(){if(!this.isInitialized)return this.createWorkerAsync();if(this.availableWorkers.length>0){const h=this.availableWorkers.shift();return this.busyWorkers.add(h),h}else if(this.workers.length<this.maxPoolSize){const h=yield this.createWorkerAsync();return h._poolId=`pool-expansion-${this.workers.length}`,this.workers.push(h),this.busyWorkers.add(h),h}else{const h=yield this.createWorkerAsync();return h._poolId=`temp-${Date.now()}`,h}})}createWorkerAsync(){return De(this,null,function*(){return new Promise(h=>{setTimeout(()=>{const f=new WorkerWrapper;h(f)},0)})})}getWorker(){if(!this.isInitialized)return new WorkerWrapper;if(this.availableWorkers.length>0){const h=this.availableWorkers.shift();return this.busyWorkers.add(h),h}else{const h=new WorkerWrapper;return h._poolId=`sync-fallback-${Date.now()}`,h}}returnWorker(h,f){this.isInitialized&&(!this.busyWorkers.has(h)&&this.workers.includes(h)||(this.busyWorkers.delete(h),this.workers.includes(h)?(f&&h.removeEventListener("message",f),h.onmessage&&(h.onmessage=null),h.onerror&&(h.onerror=null),this.availableWorkers.includes(h)||this.availableWorkers.push(h)):h.terminate()))}getStatus(){const h=navigator.hardwareConcurrency||0;return{isInitialized:this.isInitialized,maxWorkers:this.maxWorkers,maxPoolSize:this.maxPoolSize,detectedCpuCores:h,totalWorkers:this.workers.length,availableWorkers:this.availableWorkers.length,busyWorkers:this.busyWorkers.size,busyWorkersList:Array.from(this.busyWorkers).map(f=>({id:f._poolId||"unknown"}))}}reset(){console.log(" Resetting worker pool..."),this.workers.forEach(h=>{try{h.terminate()}catch(f){console.error("Failed to terminate worker:",f)}}),this.busyWorkers.forEach(h=>{try{this.workers.includes(h)||h.terminate()}catch(f){console.error("Failed to terminate busy worker:",f)}}),this.workers=[],this.availableWorkers=[],this.busyWorkers.clear(),this.isInitialized=!1,setTimeout(()=>{this.preInitializeWorkers()},100)}destroy(){this.workers.forEach(h=>{h.terminate()}),this.workers=[],this.availableWorkers=[],this.busyWorkers.clear(),this.isInitialized=!1}}const autoPackerWorkerPool=new AutoPackerWorkerPool;var __defProp$4=Object.defineProperty,__defNormalProp$4=(d,h,f)=>h in d?__defProp$4(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$4=(d,h,f)=>__defNormalProp$4(d,typeof h!="symbol"?h+"":h,f);class Semaphore{constructor(h){__publicField$4(this,"queue",[]),__publicField$4(this,"currentCount"),this.currentCount=h}acquire(){return De(this,null,function*(){if(this.currentCount>0){this.currentCount--;return}return new Promise(h=>{this.queue.push(h)})})}release(){const h=this.queue.shift();h?h():this.currentCount++}get available(){return this.currentCount}get waiting(){return this.queue.length}}var WorkerMessageType=(d=>(d.PACK="PACK",d.CANCEL="CANCEL",d.RESULT="RESULT",d.ERROR="ERROR",d.PROGRESS="PROGRESS",d))(WorkerMessageType||{}),__defProp$3=Object.defineProperty,__defNormalProp$3=(d,h,f)=>h in d?__defProp$3(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$3=(d,h,f)=>__defNormalProp$3(d,typeof h!="symbol"?h+"":h,f);class PackingEngine{constructor(h={}){var f,y,g;__publicField$3(this,"config"),__publicField$3(this,"isPacking",!1),__publicField$3(this,"currentPackingId",null),__publicField$3(this,"packingTasks",new Map),__publicField$3(this,"activeWorkers",new Set),__publicField$3(this,"abortController",null),__publicField$3(this,"workerSemaphore"),__publicField$3(this,"stats",{totalPages:0,successfulPages:0,failedPages:0,totalGlyphs:0,packedGlyphs:0,duration:0}),makeObservable(this,{isPacking:observable,currentPackingId:observable,stats:observable,startPacking:action,cancelPacking:action}),this.config={maxConcurrentWorkers:(f=h.maxConcurrentWorkers)!=null?f:Math.min(navigator.hardwareConcurrency||4,8),workerTimeout:(y=h.workerTimeout)!=null?y:3e4,enableSentry:(g=h.enableSentry)!=null?g:!0},this.workerSemaphore=new Semaphore(this.config.maxConcurrentWorkers)}startPacking(h,f,y){return De(this,null,function*(){this.cancelPacking(),this.abortController=new AbortController;const g=this.abortController.signal;runInAction(()=>{this.currentPackingId=`pack-${Date.now()}`,this.isPacking=!0,this.stats={totalPages:h.length,successfulPages:0,failedPages:0,totalGlyphs:h.reduce((v,S)=>v+S.length,0),packedGlyphs:0,duration:0}});const b=Date.now();try{if(f.auto?console.log(" Packing mode: Auto (dynamic size)"):f.fixedSize?console.log(` Packing mode: Fixed size (${f.width}x${f.height})`):console.log(` Packing mode: Fixed algorithm with adaptive size (max: ${f.width}x${f.height})`),g.aborted)throw new Error("Packing cancelled");const v=f.auto?yield this.autoPackPages(h,f,y,g):yield this.fixedPackPages(h,f,y,g);return runInAction(()=>{this.stats.duration=Date.now()-b,f.auto?this.stats.successfulPages=v.filter(S=>S.rectangles.length>0).length:this.stats.successfulPages=v.filter(S=>S.rectangles.length>0).length,this.stats.failedPages=this.stats.totalPages-this.stats.successfulPages,this.stats.packedGlyphs=v.reduce((S,O)=>S+O.rectangles.length,0),this.stats.failedPages>0&&console.log(` Packing completed with ${this.stats.failedPages} failed page(s) out of ${this.stats.totalPages}`)}),v}catch(v){throw this.handleError(v,"startPacking"),v}finally{runInAction(()=>{this.isPacking=!1,this.currentPackingId=null})}})}cancelPacking(){if(!(!this.currentPackingId&&!this.abortController)&&(console.log(` Canceling packing task: ${this.currentPackingId||"active"}`),this.abortController&&(this.abortController.abort(),this.abortController=null),this.packingTasks.forEach(h=>{try{h.worker.postMessage({type:WorkerMessageType.CANCEL}),h.worker.terminate&&h.worker.terminate(),h.cleanup()}catch(f){console.error(`Failed to cleanup task ${h.id}:`,f)}}),this.activeWorkers.forEach(h=>{try{h.terminate&&h.terminate()}catch(f){console.error("Failed to terminate worker:",f)}}),runInAction(()=>{this.packingTasks.clear(),this.activeWorkers.clear(),this.currentPackingId=null,this.isPacking=!1}),window.autoPackerWorkerPool)){const h=window.autoPackerWorkerPool;h.reset&&h.reset()}}autoPackPages(h,f,y,g){return De(this,null,function*(){const b=[],v=this.currentPackingId;let S=0;const O=h.length===1?1:4;for(let w=0;w<h.length;w+=O){if(this.currentPackingId!==v||g!=null&&g.aborted)throw console.log(` Packing task ${v} cancelled, skipping batch`),new Error("Packing cancelled");const T=Math.min(w+O,h.length),E=[];for(let C=w;C<T;C++){const P=this.packPageWithWorker(C,h[C],f,v).then(M=>(S++,y==null||y(S,h.length),M));E.push(P)}const k=yield Promise.all(E);b.push(...k),T<h.length&&(yield new Promise(C=>setTimeout(C,10)))}return b.sort((w,T)=>w.pageIndex-T.pageIndex)})}fixedPackPages(h,f,y,g){return De(this,null,function*(){const b=[];return h.forEach((v,S)=>{if(g!=null&&g.aborted)throw new Error("Packing cancelled");if(v.length===0){b.push({pageIndex:S,rectangles:[],width:0,height:0});return}const O=new GuillotineBinPack(f.width+f.spacing,f.height+f.spacing);O.InsertSizes([...v],!0,1,1);const w=v.length-O.usedRectangles.length;if(w>0)console.warn(` Page ${S}: ${w} of ${v.length} glyphs could not fit in ${f.width}x${f.height}`),b.push({pageIndex:S,rectangles:[],width:f.width,height:f.height});else{let T=f.width,E=f.height;if(!f.fixedSize){let k=0,C=0;O.usedRectangles.forEach(P=>{k=Math.max(k,P.x+P.width),C=Math.max(C,P.y+P.height)}),T=k>0?k-f.spacing:0,E=C>0?C-f.spacing:0}b.push({pageIndex:S,rectangles:O.usedRectangles,width:T,height:E})}y==null||y(S+1,h.length)}),b})}packPageWithWorker(h,f,y,g){return De(this,null,function*(){if(f.length===0)return{pageIndex:h,rectangles:[],width:0,height:0};yield this.workerSemaphore.acquire();let b=null;const v=`${g}-page-${h}`;try{b=yield autoPackerWorkerPool.getWorkerAsync();const O=yield new Promise((T,E)=>{const k=M=>{if(this.currentPackingId!==g){console.log(` Worker result ignored, task ${g} was cancelled`);return}const A=M.data;let D=0,N=0;A.forEach(j=>{D=Math.max(D,j.x+j.width),N=Math.max(N,j.y+j.height)}),T({pageIndex:h,rectangles:A,width:D-y.spacing,height:N-y.spacing})},C=M=>{E(new Error(`Worker error: ${M.message}`))};b.addEventListener("message",k),b.addEventListener("error",C);const P={id:v,pageIndex:h,startTime:Date.now(),worker:b,cleanup:()=>{b.removeEventListener("message",k),b.removeEventListener("error",C),runInAction(()=>{this.activeWorkers.delete(b)}),autoPackerWorkerPool.returnWorker(b),this.workerSemaphore.release()}};runInAction(()=>{this.packingTasks.set(v,P),this.activeWorkers.add(b)}),b.postMessage(f.filter(({width:M,height:A})=>!!(M&&A)))}),w=this.packingTasks.get(v);return w&&(w.cleanup(),runInAction(()=>{this.packingTasks.delete(v)})),O}catch(S){const O=this.packingTasks.get(v);throw O?(O.cleanup(),runInAction(()=>{this.packingTasks.delete(v)})):b&&(runInAction(()=>{this.activeWorkers.delete(b)}),autoPackerWorkerPool.returnWorker(b),this.workerSemaphore.release()),S}})}handleError(h,f){h.message!=="Packing cancelled"&&(console.error(`PackingEngine error in ${f}:`,h),this.config.enableSentry&&window.Sentry&&window.Sentry.captureException(h,{tags:{component:"PackingEngine",context:f},extra:{stats:this.stats,packingId:this.currentPackingId}}))}getStats(){return X({},this.stats)}destroy(){this.cancelPacking(),console.log("PackingEngine destroyed")}}var __defProp$2=Object.defineProperty,__defNormalProp$2=(d,h,f)=>h in d?__defProp$2(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$2=(d,h,f)=>__defNormalProp$2(d,typeof h!="symbol"?h+"":h,f);let Project$8=class{constructor(h={}){__publicField$2(this,"name","Unnamed"),__publicField$2(this,"id"),__publicField$2(this,"packStart",0),__publicField$2(this,"packTimer",0),__publicField$2(this,"isPacking",!1),__publicField$2(this,"isInitializing",!1),__publicField$2(this,"isRenderingGlyphs",!1),__publicField$2(this,"glyphRenderingAbortController",null),__publicField$2(this,"packingAbortController",null),__publicField$2(this,"sourceCanvas",null),__publicField$2(this,"packCanvases",[]),__publicField$2(this,"text",`0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!;%:?*()_+-=.,/|"'@#$^&{}[]`),__publicField$2(this,"glyphs",new Map),__publicField$2(this,"glyphImages",[]),__publicField$2(this,"style"),__publicField$2(this,"layout"),__publicField$2(this,"globalAdjustMetric"),__publicField$2(this,"ui",new Ui),__publicField$2(this,"packingEngine"),globalPerformanceMonitor.start("project-initialization"),makeObservable(this,{name:observable,isPacking:observable,isInitializing:observable,isRenderingGlyphs:observable,packStart:observable,packTimer:observable,sourceCanvas:observable,packCanvases:observable.shallow,text:observable,glyphs:observable.shallow,glyphImages:observable.shallow,style:observable.ref,layout:observable.ref,globalAdjustMetric:observable.ref,ui:observable.ref,glyphList:computed,rectangleList:computed,pack:action.bound,packStyle:action.bound,throttlePack:action.bound,setText:action.bound,addGlyphs:action.bound,addImages:action.bound,removeImage:action.bound,setCanvas:action.bound,setName:action.bound,processPackingResults:action.bound,generatePageCanvases:action.bound,assignGlyphPositions:action.bound,calculateAndSetDimensions:action.bound,handleFailedGlyphs:action.bound,updateUIState:action.bound,destroy:action.bound}),runInAction(()=>{this.isInitializing=!0,this.id=h.id||Date.now(),this.name=h.name||"Unnamed",this.text=h.text||this.text,this.ui=new Ui(h.ui),this.style=new Style(h.style),this.layout=new Layout$1(h.layout),this.globalAdjustMetric=new Metric(h.globalAdjustMetric),h.glyphs&&h.glyphs.forEach((g,b)=>{this.glyphs.set(b,new GlyphFont(g))}),h.glyphImages&&h.glyphImages.forEach(g=>{this.glyphImages.push(new GlyphImage(g))}),this.glyphs.has(" ")||this.glyphs.set(" ",new GlyphFont({letter:" "}))}),this.packingEngine=new PackingEngine({maxConcurrentWorkers:Math.min(navigator.hardwareConcurrency||4,8),workerTimeout:5e3,enableSentry:!0});const f=this.glyphs.size,y=this.glyphImages.length;console.log(` Initializing project with ${f} glyphs and ${y} images`),typeof requestIdleCallback!="undefined"?requestIdleCallback(()=>{this.addGlyphs(h.text||""),this.addAutoRun(),requestAnimationFrame(()=>{this.pack()}),runInAction(()=>{this.isInitializing=!1}),globalPerformanceMonitor.logTiming("project-initialization",`${f} glyphs`)},{timeout:100}):setTimeout(()=>{this.addGlyphs(h.text||""),this.addAutoRun(),setTimeout(()=>this.pack(),50),runInAction(()=>{this.isInitializing=!1}),globalPerformanceMonitor.logTiming("project-initialization",`${f} glyphs`)},16)}get glyphList(){return Array.from(` ${this.text}`).map(h=>this.getGlyph(h)).filter(h=>h)}get rectangleList(){const{padding:h,spacing:f}=this.layout;return this.glyphList.map(y=>{const g=!!(y.width&&y.height);return{letter:y.letter,type:y.type,width:g?y.width+h*2+f:0,height:g?y.height+h*2+f:0,x:0,y:0}})}getGlyph(h){const f=this.glyphImages.find(y=>y.letter===h&&y.selected);return f||this.glyphs.get(h)}pack(){this.packingEngine.cancelPacking(),this.packingAbortController&&this.packingAbortController.abort(),this.packingAbortController=new AbortController,runInAction(()=>{this.isPacking=!0});const f=this.rectangleList.sort((T,E)=>E.height-T.height).filter(({width:T,height:E})=>!!(T&&E)),{page:y,auto:g,width:b,height:v,spacing:S}=this.layout,O=Math.max(1,Math.floor(y||1));console.log(` Starting packing with ${f.length} glyphs across ${O} page(s)`),runInAction(()=>{this.glyphList.forEach(T=>{T.page=-1})});const w=this.distributeGlyphs(f,O);this.executePacking(w,{auto:g,width:b,height:v,spacing:S})}distributeGlyphs(h,f){const y=Math.max(1,Math.floor(f));if(y===1)return console.log(` Single page: ${h.length} glyphs`),[h];const g=Array.from({length:y},()=>[]),b=new Array(y).fill(0),v=new Array(y).fill(0);return[...h].sort((O,w)=>{const T=w.height-O.height;return Math.abs(T)>5?T:w.width*w.height-O.width*O.height}).forEach(O=>{const w=O.width*O.height;let T=0,E=b[0]+v[0]*.5;for(let k=1;k<y;k++){const C=b[k]+v[k]*.5;C<E&&(E=C,T=k)}g[T].push(O),b[T]+=w,v[T]=Math.max(v[T],O.height)}),g.forEach((O,w)=>{console.log(` Page ${w+1}: ${O.length} glyphs, area: ${b[w]}`)}),g}executePacking(h,f){return De(this,null,function*(){var y,g;try{if((y=this.packingAbortController)!=null&&y.signal.aborted){console.log(" Packing cancelled before execution");return}const b=yield this.packingEngine.startPacking(h,{auto:f.auto,width:f.width,height:f.height,spacing:f.spacing,padding:this.layout.padding,page:this.layout.page,fixedSize:this.layout.fixedSize},(S,O)=>{S===O&&console.log(` Packing completed: ${S}/${O} pages`)});if((g=this.packingAbortController)!=null&&g.signal.aborted){console.log(" Packing cancelled after completion");return}const v=b.map(S=>({pageIndex:S.pageIndex,list:S.rectangles,maxWidth:S.width,maxHeight:S.height}));this.processPackingResults(v),runInAction(()=>{this.isPacking=!1})}catch(b){b instanceof Error&&b.message.includes("cancelled")?console.log(" Packing was cancelled"):console.error(" Packing failed:",b),runInAction(()=>{this.isPacking=!1})}})}processPackingResults(h){this.assignGlyphPositions(h),this.calculateAndSetDimensions(h),this.generatePageCanvases(h),this.handleFailedGlyphs(h),this.updateUIState(h)}assignGlyphPositions(h){const f=this.glyphImages;h.forEach(({pageIndex:y,list:g})=>{g.forEach(b=>{const{letter:v,x:S,y:O,type:w}=b;let T;w==="image"&&(T=f.find(E=>E&&E.letter===v)),T||(T=this.glyphs.get(v)),T?runInAction(()=>{T.x=S||0,T.y=O||0,T.page=y}):console.warn(` Could not find glyph for letter '${v}'`)})})}calculateAndSetDimensions(h){const{auto:f,fixedSize:y,width:g,height:b}=this.layout;let v=0,S=0;f||!y?h.forEach(({maxWidth:O,maxHeight:w})=>{v=Math.max(v,O),S=Math.max(S,w)}):(v=g,S=b),this.layout.setPackSize(v,S)}generatePageCanvases(h){const{padding:f}=this.layout;runInAction(()=>{this.packCanvases=new Array(this.layout.page)});for(let y=0;y<this.layout.page;y++){const g=h.find(T=>T.pageIndex===y),b=(g==null?void 0:g.maxWidth)||0,v=(g==null?void 0:g.maxHeight)||0,S=document.createElement("canvas");!this.layout.auto&&this.layout.fixedSize?(S.width=this.layout.width,S.height=this.layout.height):(S.width=Math.max(b,1),S.height=Math.max(v,1));const O=S.getContext("2d");if(!O){this.packCanvases[y]=S;continue}this.glyphList.filter(T=>T.page===y).forEach(T=>{T instanceof GlyphImage&&T.source&&T.source.width!==0&&T.source.height!==0?O.drawImage(T.source,T.x+f,T.y+f):T instanceof GlyphFont&&this.sourceCanvas&&O.drawImage(this.sourceCanvas,T.canvasX,T.canvasY,T.width,T.height,T.x+f,T.y+f,T.width,T.height)}),runInAction(()=>{this.packCanvases[y]=S})}console.log(` Generated ${this.packCanvases.length} page canvases`)}handleFailedGlyphs(h){const f=new Set(h.flatMap(({list:y})=>y.map(g=>g.letter)));this.glyphList.forEach(y=>{f.has(y.letter)||runInAction(()=>{y.x=0,y.y=0,y.page=0})})}updateUIState(h){const f=this.layout.page,y=Math.ceil(Math.sqrt(f)),g=Math.ceil(f/y),b=20,v=y*this.layout.packWidth+(y-1)*b,S=g*this.layout.packHeight+(g-1)*b;this.ui.setSize(v,S);const O=h.filter(({list:T})=>T.length===0),w=O.length>0;w&&console.warn(` Packing failed for ${O.length} page(s): ${O.map(T=>T.pageIndex).join(", ")}`),this.ui.setPackFailed(w)}packStyle(){return De(this,null,function*(){this.glyphRenderingAbortController&&this.glyphRenderingAbortController.abort(),this.glyphRenderingAbortController=new AbortController;const h=this.glyphRenderingAbortController.signal;runInAction(()=>{this.isRenderingGlyphs=!0}),this.packingEngine.cancelPacking();try{const f=Array.from(` ${this.text}`),y=f.length;if(y>500){console.log(` Rendering ${y} glyphs progressively...`);const{canvas:b,glyphs:v}=yield getFontGlyphsProgressive(f,{font:this.style.font,fill:this.style.fill,stroke:this.style.useStroke?this.style.stroke:void 0,shadow:this.style.useShadow?this.style.shadow:void 0},{batchSize:Math.min(100,Math.ceil(y/20)),signal:h,onProgress:(S,O)=>{(S%100===0||S===O)&&console.log(` Glyph rendering progress: ${S}/${O}`)}});if(h.aborted){console.log(" Glyph rendering cancelled");return}runInAction(()=>{Array.from(v.values()).forEach(S=>{const O=this.glyphs.get(S.letter);O&&O.setGlyphInfo(S)}),this.sourceCanvas=b})}else{const{canvas:b,glyphs:v}=getFontGlyphs(f,{font:this.style.font,fill:this.style.fill,stroke:this.style.useStroke?this.style.stroke:void 0,shadow:this.style.useShadow?this.style.shadow:void 0});runInAction(()=>{Array.from(v.values()).forEach(S=>{const O=this.glyphs.get(S.letter);O&&O.setGlyphInfo(S)}),this.sourceCanvas=b})}this.throttlePack()}catch(f){f instanceof Error&&f.message.includes("cancelled")?console.log(" Glyph rendering was cancelled"):console.error("Failed to render glyphs:",f)}finally{runInAction(()=>{this.isRenderingGlyphs=!1})}})}throttlePack(){window.clearTimeout(this.packTimer),Date.now()-this.packStart>500?Promise.resolve().then(this.pack):runInAction(()=>{this.packTimer=window.setTimeout(()=>{this.pack()},500)}),runInAction(()=>{this.packStart=Date.now()})}addAutoRun(){const h=(f,y)=>!!(f.name&&f.name===y);reaction(()=>[this.glyphImages.length,...this.glyphImages.map(f=>f.selected),...this.glyphImages.map(f=>f.letter)],()=>{this.throttlePack()}),deepObserve(this.layout,f=>{h(f,"packWidth")||h(f,"packHeight")||this.throttlePack()}),deepObserve(this.style,(f,y,g)=>{h(f,"bgColor")||(y==="font"?(h(f,"size")||h(f,"fonts")||h(f,"sharp"))&&this.packStyle():this.packStyle())})}setText(h){const f=this.text;runInAction(()=>{this.text=h.replace(/\s/gm,"")}),this.addGlyphs(f)}addGlyphs(h=""){const f=Array.from(new Set(Array.from(this.text))),y=Array.from(new Set(Array.from(h)));runInAction(()=>{this.text=f.join("")}),f.unshift(" ");const g=h?Array.from(new Set(f.concat(y))).filter(b=>!(f.includes(b)&&y.includes(b))):f;g.length&&(runInAction(()=>{g.forEach(b=>{f.includes(b)?this.glyphs.set(b,new GlyphFont({letter:b})):this.glyphs.delete(b)})}),this.packStyle())}addImages(h){Promise.all(h.map(f=>{const y=new GlyphImage(f);return runInAction(()=>{this.glyphImages.push(y)}),y.initImage()})).then(this.pack)}removeImage(h){const f=this.glyphImages.indexOf(h);f>-1&&runInAction(()=>{this.glyphImages.splice(f,1)})}setCanvas(h){runInAction(()=>{this.sourceCanvas=h})}setName(h){runInAction(()=>{this.name=h||this.name})}destroy(){this.packingEngine.cancelPacking(),this.packTimer&&(window.clearTimeout(this.packTimer),runInAction(()=>{this.packTimer=0})),this.packingEngine.destroy(),runInAction(()=>{this.glyphs.clear(),this.glyphImages.length=0,this.packCanvases=[],this.sourceCanvas=null})}};var __defProp$1=Object.defineProperty,__defNormalProp$1=(d,h,f)=>h in d?__defProp$1(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField$1=(d,h,f)=>__defNormalProp$1(d,typeof h!="symbol"?h+"":h,f);class Workspace{constructor(){__publicField$1(this,"activeId",0),__publicField$1(this,"projectList",new Map),makeObservable(this,{activeId:observable,projectList:observable.shallow,currentProject:computed,namedList:computed,selectProject:action.bound,removeProject:action.bound,addProject:action.bound,setProjectName:action.bound}),runInAction(()=>{this.activeId=Date.now();const h=new Project$8({id:this.activeId});this.projectList.set(h.id,h)})}get currentProject(){return this.projectList.get(this.activeId)}get namedList(){const h=[];return this.projectList.forEach(f=>{h.push({id:f.id,name:f.name})}),h}selectProject(h){this.projectList.has(h)&&(this.activeId=h)}removeProject(h){const f=this.namedList.filter(y=>y.id!==h);f.length!==0&&(this.activeId=f[0].id,this.projectList.delete(h))}addProject(h={}){if(h.id&&this.projectList.has(h.id))return this.activeId=h.id,1;if(!h.name){h.name="Unnamed";const y=[];this.projectList.forEach(g=>{const b=g.name.match(/^Unnamed-?(\d+)?$/);b&&y.push(Number(b[1])||0)}),y.length>0&&(h.name+=`-${Math.max(...y)+1}`)}const f=new Project$8(h);return this.projectList.set(f.id,f),this.activeId=f.id,0}setProjectName(h,f){const y=this.projectList.get(f);y&&y.setName(h)}}configure({enforceActions:"always",computedRequiresReaction:!0});let store;function createStore(){return store||(store={workspace:new Workspace}),store}const StoreContext=reactExports.createContext(createStore());function useStores(){return reactExports.useContext(StoreContext)}function useWorkspace(){return useStores().workspace}function useLayout(){return useStores().workspace.currentProject.layout}function useProject(){return useStores().workspace.currentProject}function useStyle(){const{style:d}=useProject();return d}function useFont(){const{font:d}=useStyle();return d}function useFill(){const{fill:d}=useStyle();return d}function useProjectUi(){const{ui:d}=useProject();return d}const DynamicTitle=observer(()=>{const{currentProject:d}=useWorkspace(),[h]=reactExports.useState("Bitmap Font Generator Online - SnowB Bitmap Font");return reactExports.useEffect(()=>{const f=d==null?void 0:d.name,y=f&&f!=="Unnamed"?`${f} - SnowB Bitmap Font`:h;document.title!==y&&(document.title=y)},[d==null?void 0:d.name,h]),null}),Sidebar=({title:d,width:h,children:f})=>jsxs(Box,{sx:{bgcolor:"background.sidebar",overflow:"hidden",width:h,display:"flex",flexDirection:"column"},children:[jsx(Box,{sx:{bgcolor:"background.sidebar",boxShadow:2,p:2},children:jsx(Typography,{variant:"subtitle2",children:d})}),jsx(Box,{flex:1,height:0,overflow:"hidden auto",children:f.map((y,g)=>jsxs(React.Fragment,{children:[y,g<f.length-1&&jsx(Divider,{})]},g))})]}),ConfigSection=({title:d,children:h})=>jsxs(Fragment,{children:[jsx(Box,{sx:{px:2,my:4},children:typeof d=="string"?jsx(Typography,{children:d}):d}),h]});function readFile(d,h){return d.arrayBuffer&&!h?d.arrayBuffer():new Promise(f=>{const y=new FileReader;h?y.readAsText(d):y.readAsArrayBuffer(d),y.onload=g=>{var b;f(((b=g==null?void 0:g.target)==null?void 0:b.result)||null)}})}const FontFamily=()=>{const[d,h]=reactExports.useState(!1),{fonts:f,addFont:y,removeFont:g}=useFont(),{enqueueSnackbar:b}=useSnackbar(),v=S=>{var T;if(!S||!S.target||!((T=S.target.files)!=null&&T[0]))return;const O=S.target.files[0];O.name.match(/\.([A-Z0-9]+)$/i)&&(h(!0),readFile(O).then(E=>{if(!(E instanceof ArrayBuffer)){h(!1);return}S.target.value="",y(E).then(()=>h(!1)).catch(k=>{h(!1),b(k.message,{variant:"error"}),captureException(k)})}))};return jsxs(Fragment,{children:[jsx(List,{dense:!0,disablePadding:!0,children:f.map(S=>jsx(ListItem,{disableGutters:!0,divider:!0,dense:!0,secondaryAction:jsx(IconButton,{edge:"end","aria-label":"delete",onClick:()=>g(S),children:jsx(HighlightOffIcon,{})}),children:jsx(ListItemText,{primary:S.family})},S.family))}),jsxs(Button,{component:"label",variant:"contained",color:"primary",fullWidth:!0,size:"large",startIcon:d?jsx(CircularProgress,{size:22,color:"inherit"}):jsx(FontDownload,{}),disabled:d,children:["Add Font File",jsx("input",{hidden:!0,type:"file",onChange:v,accept:".ttf,.otf,.woff"})]})]})},FontFile=observer(FontFamily),GridInput=d=>{const S=d,{before:h,children:f,component:y,after:g,childrenWidth:b}=S,v=Ji(S,["before","children","component","after","childrenWidth"]);return jsxs(Grid,Re(X({component:y||"label",container:!0,spacing:2,wrap:"nowrap",justifyContent:"center",alignItems:"center"},v),{children:[jsx(Grid,{size:4,children:typeof h=="object"?h:jsx(Typography,{noWrap:!0,align:"right",children:h})}),jsx(Grid,{size:b||6,children:f}),jsx(Grid,{size:"grow",children:typeof g=="object"?g:jsx(Typography,{noWrap:!0,variant:"caption",children:g})})]}))},FontSharp=()=>{const{sharp:d,setSharp:h,mainFont:f}=useFont(),y=(g,b)=>{h(b)};return jsx(GridInput,{sx:f?{}:{opacity:.5},before:"Sharp:",after:`${d}%`,children:jsx(Slider$1,{value:d,onChange:y,disabled:!f})})},FontSharp$1=observer(FontSharp),FontSize=()=>{const{size:d,setSize:h}=useFont();return jsx(GridInput,{before:"Font Size:",after:"px",children:jsx(Input,{value:d,fullWidth:!0,type:"number",slotProps:{input:{min:1}},onChange:y=>{h(Number(y.target.value))}})})},FontSize$1=observer(FontSize),LineHeight=()=>{const{size:d,lineHeight:h,setLineHeight:f}=useFont(),y=g=>{f(Number(g.target.value)/d)};return jsx(GridInput,{before:"Line Height:",after:"px",children:jsx(Input,{value:Math.round(h*d),fullWidth:!0,type:"number",slotProps:{input:{min:1}},onChange:y})})},LineHeight$1=observer(LineHeight),FontConfig=()=>jsxs(ConfigSection,{title:"Font",children:[jsx(Box,{sx:{px:2,my:4},children:jsx(FontFile,{})}),jsx(Box,{sx:{px:2,my:4},children:jsx(FontSharp$1,{})}),jsx(Box,{sx:{px:2,my:4},children:jsx(FontSize$1,{})}),jsx(Box,{sx:{px:2,my:4},children:jsx(LineHeight$1,{})})]}),FontConfig$1=observer(FontConfig),FormAdjustMetric=d=>{const{xAdvance:h,xOffset:f,yOffset:y,setXAdvance:g,setXOffset:b,setYOffset:v}=d,S=O=>w=>O(Number(w.target.value));return jsxs(Fragment,{children:[jsx(Box,{paddingX:2,marginY:4,children:jsx(GridInput,{before:"xAdvance:",after:"px",children:jsx(Input,{value:h,fullWidth:!0,type:"number",onChange:S(g)})})}),jsx(Box,{paddingX:2,marginY:4,children:jsx(GridInput,{before:"xOffset:",after:"px",children:jsx(Input,{value:f,fullWidth:!0,type:"number",onChange:S(b)})})}),jsx(Box,{paddingX:2,marginY:4,children:jsx(GridInput,{before:"yOffset:",after:"px",children:jsx(Input,{value:y,fullWidth:!0,type:"number",onChange:S(v)})})})]})},GlobalMetric$1=()=>{const{globalAdjustMetric:d}=useProject(),{xAdvance:h,xOffset:f,yOffset:y,setXAdvance:g,setXOffset:b,setYOffset:v}=d;return jsx(ConfigSection,{title:"Global Metric Adjustments",children:jsx(FormAdjustMetric,{xAdvance:h,xOffset:f,yOffset:y,setXAdvance:g,setXOffset:b,setYOffset:v})})},GlobalMetric$2=observer(GlobalMetric$1),Glyphs=()=>{const{text:d,setText:h}=useProject(),[f,y]=reactExports.useState(!1),[g,b]=reactExports.useState(d),v=w=>{const{value:T}=w.target,E=Array.from(new Set(Array.from(T))).join("");f?b(T):(b(E),E!==d&&h(E))},S=reactExports.useCallback(()=>{b(d),y(!0)},[d]),O=()=>{y(!1);const w=Array.from(new Set(Array.from(g))).join("");b(w),w!==d&&h(w)};return reactExports.useEffect(()=>{b(d)},[d]),jsx(ConfigSection,{title:"Glyphs",children:jsx(Box,{sx:{px:2,my:4},children:jsx(TextField,{margin:"none",value:f?g:d,fullWidth:!0,multiline:!0,rows:4,variant:"outlined",size:"small",onChange:v,onCompositionStart:S,onCompositionEnd:O,slotProps:{htmlInput:{spellCheck:!1}}})})})},Glyphs$1=observer(Glyphs),Padding=()=>{const{padding:d,setPadding:h}=useLayout();return jsx(GridInput,{before:"Padding:",after:"px",children:jsx(Input,{value:d,fullWidth:!0,type:"number",slotProps:{input:{min:0}},onChange:y=>{h(Number(y.target.value))}})})},Padding$1=observer(Padding),Page=()=>{const{page:d,setPage:h}=useLayout();return jsx(GridInput,{before:"Pages:",after:"",children:jsx(Input,{value:d,fullWidth:!0,type:"number",slotProps:{input:{min:1}},onChange:y=>{h(Number(y.target.value))}})})},Page$1=observer(Page),Spacing=()=>{const{spacing:d,setSpacing:h}=useLayout();return jsx(GridInput,{before:"Spacing:",after:"px",children:jsx(Input,{value:d,fullWidth:!0,type:"number",slotProps:{input:{min:0}},onChange:f=>h(Number(f.target.value))})})},Spacing$1=observer(Spacing),LayoutConfig=()=>jsxs(ConfigSection,{title:"Layout",children:[jsx(Box,{sx:{px:2,my:4},children:jsx(Padding$1,{})}),jsx(Box,{sx:{px:2,my:4},children:jsx(Spacing$1,{})}),jsx(Box,{sx:{px:2,my:4},children:jsx(Page$1,{})})]}),AutoPack=()=>{const{auto:d,setAuto:h}=useLayout();return jsx(GridInput,{before:"Auto Pack:",children:jsx(Checkbox,{checked:d,size:"small",color:"default",onChange:f=>h(f.target.checked)})})},AutoPack$1=observer(AutoPack),FixedSize=()=>{const{auto:d,fixedSize:h,setFixedSize:f}=useLayout();return jsx(GridInput,{before:"Fixed Size:",children:jsx(Checkbox,{checked:h,size:"small",color:"default",onChange:y=>f(y.target.checked),disabled:d})})},FixedSize$1=observer(FixedSize),PackHeight=()=>{const{height:d,auto:h,fixedSize:f,setHeight:y}=useLayout();return jsx(GridInput,{before:f?"Height:":"Max Height:",after:"px",children:jsx(Input,{value:d,fullWidth:!0,type:"number",slotProps:{input:{min:0}},onChange:b=>{y(Number(b.target.value))},disabled:h})})},PackHeight$1=observer(PackHeight),PackWidth=()=>{const{width:d,auto:h,fixedSize:f,setWidth:y}=useLayout();return jsx(GridInput,{before:f?"Width:":"Max Width:",after:"px",children:jsx(Input,{value:d,fullWidth:!0,type:"number",slotProps:{input:{min:0}},onChange:b=>{y(Number(b.target.value))},disabled:h})})},PackWidth$1=observer(PackWidth),PackConfig=()=>jsxs(ConfigSection,{title:"Texture Packing",children:[jsx(Box,{sx:{px:2,my:4},children:jsx(AutoPack$1,{})}),jsx(Box,{sx:{px:2,my:4},children:jsx(FixedSize$1,{})}),jsx(Box,{sx:{px:2,my:4},children:jsx(PackWidth$1,{})}),jsx(Box,{sx:{px:2,my:4},children:jsx(PackHeight$1,{})})]}),LeftBar=()=>jsxs(Sidebar,{title:"Font Config",width:"256px",children:[jsx(Glyphs$1,{}),jsx(FontConfig$1,{}),jsx(LayoutConfig,{}),jsx(PackConfig,{}),jsx(GlobalMetric$2,{})]});var lib={},flattenNames={},_freeGlobal,hasRequired_freeGlobal;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal;hasRequired_freeGlobal=1;var d=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;return _freeGlobal=d,_freeGlobal}var _root,hasRequired_root;function require_root(){if(hasRequired_root)return _root;hasRequired_root=1;var d=require_freeGlobal(),h=typeof self=="object"&&self&&self.Object===Object&&self,f=d||h||Function("return this")();return _root=f,_root}var _Symbol,hasRequired_Symbol;function require_Symbol(){if(hasRequired_Symbol)return _Symbol;hasRequired_Symbol=1;var d=require_root(),h=d.Symbol;return _Symbol=h,_Symbol}var _getRawTag,hasRequired_getRawTag;function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag;hasRequired_getRawTag=1;var d=require_Symbol(),h=Object.prototype,f=h.hasOwnProperty,y=h.toString,g=d?d.toStringTag:void 0;function b(v){var S=f.call(v,g),O=v[g];try{v[g]=void 0;var w=!0}catch(E){}var T=y.call(v);return w&&(S?v[g]=O:delete v[g]),T}return _getRawTag=b,_getRawTag}var _objectToString,hasRequired_objectToString;function require_objectToString(){if(hasRequired_objectToString)return _objectToString;hasRequired_objectToString=1;var d=Object.prototype,h=d.toString;function f(y){return h.call(y)}return _objectToString=f,_objectToString}var _baseGetTag,hasRequired_baseGetTag;function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag;hasRequired_baseGetTag=1;var d=require_Symbol(),h=require_getRawTag(),f=require_objectToString(),y="[object Null]",g="[object Undefined]",b=d?d.toStringTag:void 0;function v(S){return S==null?S===void 0?g:y:b&&b in Object(S)?h(S):f(S)}return _baseGetTag=v,_baseGetTag}var isArray_1,hasRequiredIsArray;function requireIsArray(){if(hasRequiredIsArray)return isArray_1;hasRequiredIsArray=1;var d=Array.isArray;return isArray_1=d,isArray_1}var isObjectLike_1,hasRequiredIsObjectLike;function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1;hasRequiredIsObjectLike=1;function d(h){return h!=null&&typeof h=="object"}return isObjectLike_1=d,isObjectLike_1}var isString_1,hasRequiredIsString;function requireIsString(){if(hasRequiredIsString)return isString_1;hasRequiredIsString=1;var d=require_baseGetTag(),h=requireIsArray(),f=requireIsObjectLike(),y="[object String]";function g(b){return typeof b=="string"||!h(b)&&f(b)&&d(b)==y}return isString_1=g,isString_1}var _createBaseFor,hasRequired_createBaseFor;function require_createBaseFor(){if(hasRequired_createBaseFor)return _createBaseFor;hasRequired_createBaseFor=1;function d(h){return function(f,y,g){for(var b=-1,v=Object(f),S=g(f),O=S.length;O--;){var w=S[h?O:++b];if(y(v[w],w,v)===!1)break}return f}}return _createBaseFor=d,_createBaseFor}var _baseFor,hasRequired_baseFor;function require_baseFor(){if(hasRequired_baseFor)return _baseFor;hasRequired_baseFor=1;var d=require_createBaseFor(),h=d();return _baseFor=h,_baseFor}var _baseTimes,hasRequired_baseTimes;function require_baseTimes(){if(hasRequired_baseTimes)return _baseTimes;hasRequired_baseTimes=1;function d(h,f){for(var y=-1,g=Array(h);++y<h;)g[y]=f(y);return g}return _baseTimes=d,_baseTimes}var _baseIsArguments,hasRequired_baseIsArguments;function require_baseIsArguments(){if(hasRequired_baseIsArguments)return _baseIsArguments;hasRequired_baseIsArguments=1;var d=require_baseGetTag(),h=requireIsObjectLike(),f="[object Arguments]";function y(g){return h(g)&&d(g)==f}return _baseIsArguments=y,_baseIsArguments}var isArguments_1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments_1;hasRequiredIsArguments=1;var d=require_baseIsArguments(),h=requireIsObjectLike(),f=Object.prototype,y=f.hasOwnProperty,g=f.propertyIsEnumerable,b=d((function(){return arguments})())?d:function(v){return h(v)&&y.call(v,"callee")&&!g.call(v,"callee")};return isArguments_1=b,isArguments_1}var isBuffer$1={exports:{}},stubFalse_1,hasRequiredStubFalse;function requireStubFalse(){if(hasRequiredStubFalse)return stubFalse_1;hasRequiredStubFalse=1;function d(){return!1}return stubFalse_1=d,stubFalse_1}isBuffer$1.exports;var hasRequiredIsBuffer;function requireIsBuffer(){return hasRequiredIsBuffer||(hasRequiredIsBuffer=1,(function(d,h){var f=require_root(),y=requireStubFalse(),g=h&&!h.nodeType&&h,b=g&&!0&&d&&!d.nodeType&&d,v=b&&b.exports===g,S=v?f.Buffer:void 0,O=S?S.isBuffer:void 0,w=O||y;d.exports=w})(isBuffer$1,isBuffer$1.exports)),isBuffer$1.exports}var _isIndex,hasRequired_isIndex;function require_isIndex(){if(hasRequired_isIndex)return _isIndex;hasRequired_isIndex=1;var d=9007199254740991,h=/^(?:0|[1-9]\d*)$/;function f(y,g){var b=typeof y;return g=g==null?d:g,!!g&&(b=="number"||b!="symbol"&&h.test(y))&&y>-1&&y%1==0&&y<g}return _isIndex=f,_isIndex}var isLength_1,hasRequiredIsLength;function requireIsLength(){if(hasRequiredIsLength)return isLength_1;hasRequiredIsLength=1;var d=9007199254740991;function h(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=d}return isLength_1=h,isLength_1}var _baseIsTypedArray,hasRequired_baseIsTypedArray;function require_baseIsTypedArray(){if(hasRequired_baseIsTypedArray)return _baseIsTypedArray;hasRequired_baseIsTypedArray=1;var d=require_baseGetTag(),h=requireIsLength(),f=requireIsObjectLike(),y="[object Arguments]",g="[object Array]",b="[object Boolean]",v="[object Date]",S="[object Error]",O="[object Function]",w="[object Map]",T="[object Number]",E="[object Object]",k="[object RegExp]",C="[object Set]",P="[object String]",M="[object WeakMap]",A="[object ArrayBuffer]",D="[object DataView]",N="[object Float32Array]",j="[object Float64Array]",q="[object Int8Array]",F="[object Int16Array]",L="[object Int32Array]",U="[object Uint8Array]",z="[object Uint8ClampedArray]",V="[object Uint16Array]",Y="[object Uint32Array]",W={};W[N]=W[j]=W[q]=W[F]=W[L]=W[U]=W[z]=W[V]=W[Y]=!0,W[y]=W[g]=W[A]=W[b]=W[D]=W[v]=W[S]=W[O]=W[w]=W[T]=W[E]=W[k]=W[C]=W[P]=W[M]=!1;function K(re){return f(re)&&h(re.length)&&!!W[d(re)]}return _baseIsTypedArray=K,_baseIsTypedArray}var _baseUnary,hasRequired_baseUnary;function require_baseUnary(){if(hasRequired_baseUnary)return _baseUnary;hasRequired_baseUnary=1;function d(h){return function(f){return h(f)}}return _baseUnary=d,_baseUnary}var _nodeUtil={exports:{}};_nodeUtil.exports;var hasRequired_nodeUtil;function require_nodeUtil(){return hasRequired_nodeUtil||(hasRequired_nodeUtil=1,(function(d,h){var f=require_freeGlobal(),y=h&&!h.nodeType&&h,g=y&&!0&&d&&!d.nodeType&&d,b=g&&g.exports===y,v=b&&f.process,S=(function(){try{var O=g&&g.require&&g.require("util").types;return O||v&&v.binding&&v.binding("util")}catch(w){}})();d.exports=S})(_nodeUtil,_nodeUtil.exports)),_nodeUtil.exports}var isTypedArray_1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray_1;hasRequiredIsTypedArray=1;var d=require_baseIsTypedArray(),h=require_baseUnary(),f=require_nodeUtil(),y=f&&f.isTypedArray,g=y?h(y):d;return isTypedArray_1=g,isTypedArray_1}var _arrayLikeKeys,hasRequired_arrayLikeKeys;function require_arrayLikeKeys(){if(hasRequired_arrayLikeKeys)return _arrayLikeKeys;hasRequired_arrayLikeKeys=1;var d=require_baseTimes(),h=requireIsArguments(),f=requireIsArray(),y=requireIsBuffer(),g=require_isIndex(),b=requireIsTypedArray(),v=Object.prototype,S=v.hasOwnProperty;function O(w,T){var E=f(w),k=!E&&h(w),C=!E&&!k&&y(w),P=!E&&!k&&!C&&b(w),M=E||k||C||P,A=M?d(w.length,String):[],D=A.length;for(var N in w)(T||S.call(w,N))&&!(M&&(N=="length"||C&&(N=="offset"||N=="parent")||P&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||g(N,D)))&&A.push(N);return A}return _arrayLikeKeys=O,_arrayLikeKeys}var _isPrototype,hasRequired_isPrototype;function require_isPrototype(){if(hasRequired_isPrototype)return _isPrototype;hasRequired_isPrototype=1;var d=Object.prototype;function h(f){var y=f&&f.constructor,g=typeof y=="function"&&y.prototype||d;return f===g}return _isPrototype=h,_isPrototype}var _overArg,hasRequired_overArg;function require_overArg(){if(hasRequired_overArg)return _overArg;hasRequired_overArg=1;function d(h,f){return function(y){return h(f(y))}}return _overArg=d,_overArg}var _nativeKeys,hasRequired_nativeKeys;function require_nativeKeys(){if(hasRequired_nativeKeys)return _nativeKeys;hasRequired_nativeKeys=1;var d=require_overArg(),h=d(Object.keys,Object);return _nativeKeys=h,_nativeKeys}var _baseKeys,hasRequired_baseKeys;function require_baseKeys(){if(hasRequired_baseKeys)return _baseKeys;hasRequired_baseKeys=1;var d=require_isPrototype(),h=require_nativeKeys(),f=Object.prototype,y=f.hasOwnProperty;function g(b){if(!d(b))return h(b);var v=[];for(var S in Object(b))y.call(b,S)&&S!="constructor"&&v.push(S);return v}return _baseKeys=g,_baseKeys}var isObject_1,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject_1;hasRequiredIsObject=1;function d(h){var f=typeof h;return h!=null&&(f=="object"||f=="function")}return isObject_1=d,isObject_1}var isFunction_1,hasRequiredIsFunction;function requireIsFunction(){if(hasRequiredIsFunction)return isFunction_1;hasRequiredIsFunction=1;var d=require_baseGetTag(),h=requireIsObject(),f="[object AsyncFunction]",y="[object Function]",g="[object GeneratorFunction]",b="[object Proxy]";function v(S){if(!h(S))return!1;var O=d(S);return O==y||O==g||O==f||O==b}return isFunction_1=v,isFunction_1}var isArrayLike_1,hasRequiredIsArrayLike;function requireIsArrayLike(){if(hasRequiredIsArrayLike)return isArrayLike_1;hasRequiredIsArrayLike=1;var d=requireIsFunction(),h=requireIsLength();function f(y){return y!=null&&h(y.length)&&!d(y)}return isArrayLike_1=f,isArrayLike_1}var keys_1,hasRequiredKeys;function requireKeys(){if(hasRequiredKeys)return keys_1;hasRequiredKeys=1;var d=require_arrayLikeKeys(),h=require_baseKeys(),f=requireIsArrayLike();function y(g){return f(g)?d(g):h(g)}return keys_1=y,keys_1}var _baseForOwn,hasRequired_baseForOwn;function require_baseForOwn(){if(hasRequired_baseForOwn)return _baseForOwn;hasRequired_baseForOwn=1;var d=require_baseFor(),h=requireKeys();function f(y,g){return y&&d(y,g,h)}return _baseForOwn=f,_baseForOwn}var identity_1,hasRequiredIdentity;function requireIdentity(){if(hasRequiredIdentity)return identity_1;hasRequiredIdentity=1;function d(h){return h}return identity_1=d,identity_1}var _castFunction,hasRequired_castFunction;function require_castFunction(){if(hasRequired_castFunction)return _castFunction;hasRequired_castFunction=1;var d=requireIdentity();function h(f){return typeof f=="function"?f:d}return _castFunction=h,_castFunction}var forOwn_1,hasRequiredForOwn;function requireForOwn(){if(hasRequiredForOwn)return forOwn_1;hasRequiredForOwn=1;var d=require_baseForOwn(),h=require_castFunction();function f(y,g){return y&&d(y,h(g))}return forOwn_1=f,forOwn_1}var _getPrototype,hasRequired_getPrototype;function require_getPrototype(){if(hasRequired_getPrototype)return _getPrototype;hasRequired_getPrototype=1;var d=require_overArg(),h=d(Object.getPrototypeOf,Object);return _getPrototype=h,_getPrototype}var isPlainObject_1,hasRequiredIsPlainObject;function requireIsPlainObject(){if(hasRequiredIsPlainObject)return isPlainObject_1;hasRequiredIsPlainObject=1;var d=require_baseGetTag(),h=require_getPrototype(),f=requireIsObjectLike(),y="[object Object]",g=Function.prototype,b=Object.prototype,v=g.toString,S=b.hasOwnProperty,O=v.call(Object);function w(T){if(!f(T)||d(T)!=y)return!1;var E=h(T);if(E===null)return!0;var k=S.call(E,"constructor")&&E.constructor;return typeof k=="function"&&k instanceof k&&v.call(k)==O}return isPlainObject_1=w,isPlainObject_1}var _arrayMap,hasRequired_arrayMap;function require_arrayMap(){if(hasRequired_arrayMap)return _arrayMap;hasRequired_arrayMap=1;function d(h,f){for(var y=-1,g=h==null?0:h.length,b=Array(g);++y<g;)b[y]=f(h[y],y,h);return b}return _arrayMap=d,_arrayMap}var _listCacheClear,hasRequired_listCacheClear;function require_listCacheClear(){if(hasRequired_listCacheClear)return _listCacheClear;hasRequired_listCacheClear=1;function d(){this.__data__=[],this.size=0}return _listCacheClear=d,_listCacheClear}var eq_1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1;hasRequiredEq=1;function d(h,f){return h===f||h!==h&&f!==f}return eq_1=d,eq_1}var _assocIndexOf,hasRequired_assocIndexOf;function require_assocIndexOf(){if(hasRequired_assocIndexOf)return _assocIndexOf;hasRequired_assocIndexOf=1;var d=requireEq();function h(f,y){for(var g=f.length;g--;)if(d(f[g][0],y))return g;return-1}return _assocIndexOf=h,_assocIndexOf}var _listCacheDelete,hasRequired_listCacheDelete;function require_listCacheDelete(){if(hasRequired_listCacheDelete)return _listCacheDelete;hasRequired_listCacheDelete=1;var d=require_assocIndexOf(),h=Array.prototype,f=h.splice;function y(g){var b=this.__data__,v=d(b,g);if(v<0)return!1;var S=b.length-1;return v==S?b.pop():f.call(b,v,1),--this.size,!0}return _listCacheDelete=y,_listCacheDelete}var _listCacheGet,hasRequired_listCacheGet;function require_listCacheGet(){if(hasRequired_listCacheGet)return _listCacheGet;hasRequired_listCacheGet=1;var d=require_assocIndexOf();function h(f){var y=this.__data__,g=d(y,f);return g<0?void 0:y[g][1]}return _listCacheGet=h,_listCacheGet}var _listCacheHas,hasRequired_listCacheHas;function require_listCacheHas(){if(hasRequired_listCacheHas)return _listCacheHas;hasRequired_listCacheHas=1;var d=require_assocIndexOf();function h(f){return d(this.__data__,f)>-1}return _listCacheHas=h,_listCacheHas}var _listCacheSet,hasRequired_listCacheSet;function require_listCacheSet(){if(hasRequired_listCacheSet)return _listCacheSet;hasRequired_listCacheSet=1;var d=require_assocIndexOf();function h(f,y){var g=this.__data__,b=d(g,f);return b<0?(++this.size,g.push([f,y])):g[b][1]=y,this}return _listCacheSet=h,_listCacheSet}var _ListCache,hasRequired_ListCache;function require_ListCache(){if(hasRequired_ListCache)return _ListCache;hasRequired_ListCache=1;var d=require_listCacheClear(),h=require_listCacheDelete(),f=require_listCacheGet(),y=require_listCacheHas(),g=require_listCacheSet();function b(v){var S=-1,O=v==null?0:v.length;for(this.clear();++S<O;){var w=v[S];this.set(w[0],w[1])}}return b.prototype.clear=d,b.prototype.delete=h,b.prototype.get=f,b.prototype.has=y,b.prototype.set=g,_ListCache=b,_ListCache}var _stackClear,hasRequired_stackClear;function require_stackClear(){if(hasRequired_stackClear)return _stackClear;hasRequired_stackClear=1;var d=require_ListCache();function h(){this.__data__=new d,this.size=0}return _stackClear=h,_stackClear}var _stackDelete,hasRequired_stackDelete;function require_stackDelete(){if(hasRequired_stackDelete)return _stackDelete;hasRequired_stackDelete=1;function d(h){var f=this.__data__,y=f.delete(h);return this.size=f.size,y}return _stackDelete=d,_stackDelete}var _stackGet,hasRequired_stackGet;function require_stackGet(){if(hasRequired_stackGet)return _stackGet;hasRequired_stackGet=1;function d(h){return this.__data__.get(h)}return _stackGet=d,_stackGet}var _stackHas,hasRequired_stackHas;function require_stackHas(){if(hasRequired_stackHas)return _stackHas;hasRequired_stackHas=1;function d(h){return this.__data__.has(h)}return _stackHas=d,_stackHas}var _coreJsData,hasRequired_coreJsData;function require_coreJsData(){if(hasRequired_coreJsData)return _coreJsData;hasRequired_coreJsData=1;var d=require_root(),h=d["__core-js_shared__"];return _coreJsData=h,_coreJsData}var _isMasked,hasRequired_isMasked;function require_isMasked(){if(hasRequired_isMasked)return _isMasked;hasRequired_isMasked=1;var d=require_coreJsData(),h=(function(){var y=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""})();function f(y){return!!h&&h in y}return _isMasked=f,_isMasked}var _toSource,hasRequired_toSource;function require_toSource(){if(hasRequired_toSource)return _toSource;hasRequired_toSource=1;var d=Function.prototype,h=d.toString;function f(y){if(y!=null){try{return h.call(y)}catch(g){}try{return y+""}catch(g){}}return""}return _toSource=f,_toSource}var _baseIsNative,hasRequired_baseIsNative;function require_baseIsNative(){if(hasRequired_baseIsNative)return _baseIsNative;hasRequired_baseIsNative=1;var d=requireIsFunction(),h=require_isMasked(),f=requireIsObject(),y=require_toSource(),g=/[\\^$.*+?()[\]{}|]/g,b=/^\[object .+?Constructor\]$/,v=Function.prototype,S=Object.prototype,O=v.toString,w=S.hasOwnProperty,T=RegExp("^"+O.call(w).replace(g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function E(k){if(!f(k)||h(k))return!1;var C=d(k)?T:b;return C.test(y(k))}return _baseIsNative=E,_baseIsNative}var _getValue,hasRequired_getValue;function require_getValue(){if(hasRequired_getValue)return _getValue;hasRequired_getValue=1;function d(h,f){return h==null?void 0:h[f]}return _getValue=d,_getValue}var _getNative,hasRequired_getNative;function require_getNative(){if(hasRequired_getNative)return _getNative;hasRequired_getNative=1;var d=require_baseIsNative(),h=require_getValue();function f(y,g){var b=h(y,g);return d(b)?b:void 0}return _getNative=f,_getNative}var _Map,hasRequired_Map;function require_Map(){if(hasRequired_Map)return _Map;hasRequired_Map=1;var d=require_getNative(),h=require_root(),f=d(h,"Map");return _Map=f,_Map}var _nativeCreate,hasRequired_nativeCreate;function require_nativeCreate(){if(hasRequired_nativeCreate)return _nativeCreate;hasRequired_nativeCreate=1;var d=require_getNative(),h=d(Object,"create");return _nativeCreate=h,_nativeCreate}var _hashClear,hasRequired_hashClear;function require_hashClear(){if(hasRequired_hashClear)return _hashClear;hasRequired_hashClear=1;var d=require_nativeCreate();function h(){this.__data__=d?d(null):{},this.size=0}return _hashClear=h,_hashClear}var _hashDelete,hasRequired_hashDelete;function require_hashDelete(){if(hasRequired_hashDelete)return _hashDelete;hasRequired_hashDelete=1;function d(h){var f=this.has(h)&&delete this.__data__[h];return this.size-=f?1:0,f}return _hashDelete=d,_hashDelete}var _hashGet,hasRequired_hashGet;function require_hashGet(){if(hasRequired_hashGet)return _hashGet;hasRequired_hashGet=1;var d=require_nativeCreate(),h="__lodash_hash_undefined__",f=Object.prototype,y=f.hasOwnProperty;function g(b){var v=this.__data__;if(d){var S=v[b];return S===h?void 0:S}return y.call(v,b)?v[b]:void 0}return _hashGet=g,_hashGet}var _hashHas,hasRequired_hashHas;function require_hashHas(){if(hasRequired_hashHas)return _hashHas;hasRequired_hashHas=1;var d=require_nativeCreate(),h=Object.prototype,f=h.hasOwnProperty;function y(g){var b=this.__data__;return d?b[g]!==void 0:f.call(b,g)}return _hashHas=y,_hashHas}var _hashSet,hasRequired_hashSet;function require_hashSet(){if(hasRequired_hashSet)return _hashSet;hasRequired_hashSet=1;var d=require_nativeCreate(),h="__lodash_hash_undefined__";function f(y,g){var b=this.__data__;return this.size+=this.has(y)?0:1,b[y]=d&&g===void 0?h:g,this}return _hashSet=f,_hashSet}var _Hash,hasRequired_Hash;function require_Hash(){if(hasRequired_Hash)return _Hash;hasRequired_Hash=1;var d=require_hashClear(),h=require_hashDelete(),f=require_hashGet(),y=require_hashHas(),g=require_hashSet();function b(v){var S=-1,O=v==null?0:v.length;for(this.clear();++S<O;){var w=v[S];this.set(w[0],w[1])}}return b.prototype.clear=d,b.prototype.delete=h,b.prototype.get=f,b.prototype.has=y,b.prototype.set=g,_Hash=b,_Hash}var _mapCacheClear,hasRequired_mapCacheClear;function require_mapCacheClear(){if(hasRequired_mapCacheClear)return _mapCacheClear;hasRequired_mapCacheClear=1;var d=require_Hash(),h=require_ListCache(),f=require_Map();function y(){this.size=0,this.__data__={hash:new d,map:new(f||h),string:new d}}return _mapCacheClear=y,_mapCacheClear}var _isKeyable,hasRequired_isKeyable;function require_isKeyable(){if(hasRequired_isKeyable)return _isKeyable;hasRequired_isKeyable=1;function d(h){var f=typeof h;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?h!=="__proto__":h===null}return _isKeyable=d,_isKeyable}var _getMapData,hasRequired_getMapData;function require_getMapData(){if(hasRequired_getMapData)return _getMapData;hasRequired_getMapData=1;var d=require_isKeyable();function h(f,y){var g=f.__data__;return d(y)?g[typeof y=="string"?"string":"hash"]:g.map}return _getMapData=h,_getMapData}var _mapCacheDelete,hasRequired_mapCacheDelete;function require_mapCacheDelete(){if(hasRequired_mapCacheDelete)return _mapCacheDelete;hasRequired_mapCacheDelete=1;var d=require_getMapData();function h(f){var y=d(this,f).delete(f);return this.size-=y?1:0,y}return _mapCacheDelete=h,_mapCacheDelete}var _mapCacheGet,hasRequired_mapCacheGet;function require_mapCacheGet(){if(hasRequired_mapCacheGet)return _mapCacheGet;hasRequired_mapCacheGet=1;var d=require_getMapData();function h(f){return d(this,f).get(f)}return _mapCacheGet=h,_mapCacheGet}var _mapCacheHas,hasRequired_mapCacheHas;function require_mapCacheHas(){if(hasRequired_mapCacheHas)return _mapCacheHas;hasRequired_mapCacheHas=1;var d=require_getMapData();function h(f){return d(this,f).has(f)}return _mapCacheHas=h,_mapCacheHas}var _mapCacheSet,hasRequired_mapCacheSet;function require_mapCacheSet(){if(hasRequired_mapCacheSet)return _mapCacheSet;hasRequired_mapCacheSet=1;var d=require_getMapData();function h(f,y){var g=d(this,f),b=g.size;return g.set(f,y),this.size+=g.size==b?0:1,this}return _mapCacheSet=h,_mapCacheSet}var _MapCache,hasRequired_MapCache;function require_MapCache(){if(hasRequired_MapCache)return _MapCache;hasRequired_MapCache=1;var d=require_mapCacheClear(),h=require_mapCacheDelete(),f=require_mapCacheGet(),y=require_mapCacheHas(),g=require_mapCacheSet();function b(v){var S=-1,O=v==null?0:v.length;for(this.clear();++S<O;){var w=v[S];this.set(w[0],w[1])}}return b.prototype.clear=d,b.prototype.delete=h,b.prototype.get=f,b.prototype.has=y,b.prototype.set=g,_MapCache=b,_MapCache}var _stackSet,hasRequired_stackSet;function require_stackSet(){if(hasRequired_stackSet)return _stackSet;hasRequired_stackSet=1;var d=require_ListCache(),h=require_Map(),f=require_MapCache(),y=200;function g(b,v){var S=this.__data__;if(S instanceof d){var O=S.__data__;if(!h||O.length<y-1)return O.push([b,v]),this.size=++S.size,this;S=this.__data__=new f(O)}return S.set(b,v),this.size=S.size,this}return _stackSet=g,_stackSet}var _Stack,hasRequired_Stack;function require_Stack(){if(hasRequired_Stack)return _Stack;hasRequired_Stack=1;var d=require_ListCache(),h=require_stackClear(),f=require_stackDelete(),y=require_stackGet(),g=require_stackHas(),b=require_stackSet();function v(S){var O=this.__data__=new d(S);this.size=O.size}return v.prototype.clear=h,v.prototype.delete=f,v.prototype.get=y,v.prototype.has=g,v.prototype.set=b,_Stack=v,_Stack}var _setCacheAdd,hasRequired_setCacheAdd;function require_setCacheAdd(){if(hasRequired_setCacheAdd)return _setCacheAdd;hasRequired_setCacheAdd=1;var d="__lodash_hash_undefined__";function h(f){return this.__data__.set(f,d),this}return _setCacheAdd=h,_setCacheAdd}var _setCacheHas,hasRequired_setCacheHas;function require_setCacheHas(){if(hasRequired_setCacheHas)return _setCacheHas;hasRequired_setCacheHas=1;function d(h){return this.__data__.has(h)}return _setCacheHas=d,_setCacheHas}var _SetCache,hasRequired_SetCache;function require_SetCache(){if(hasRequired_SetCache)return _SetCache;hasRequired_SetCache=1;var d=require_MapCache(),h=require_setCacheAdd(),f=require_setCacheHas();function y(g){var b=-1,v=g==null?0:g.length;for(this.__data__=new d;++b<v;)this.add(g[b])}return y.prototype.add=y.prototype.push=h,y.prototype.has=f,_SetCache=y,_SetCache}var _arraySome,hasRequired_arraySome;function require_arraySome(){if(hasRequired_arraySome)return _arraySome;hasRequired_arraySome=1;function d(h,f){for(var y=-1,g=h==null?0:h.length;++y<g;)if(f(h[y],y,h))return!0;return!1}return _arraySome=d,_arraySome}var _cacheHas,hasRequired_cacheHas;function require_cacheHas(){if(hasRequired_cacheHas)return _cacheHas;hasRequired_cacheHas=1;function d(h,f){return h.has(f)}return _cacheHas=d,_cacheHas}var _equalArrays,hasRequired_equalArrays;function require_equalArrays(){if(hasRequired_equalArrays)return _equalArrays;hasRequired_equalArrays=1;var d=require_SetCache(),h=require_arraySome(),f=require_cacheHas(),y=1,g=2;function b(v,S,O,w,T,E){var k=O&y,C=v.length,P=S.length;if(C!=P&&!(k&&P>C))return!1;var M=E.get(v),A=E.get(S);if(M&&A)return M==S&&A==v;var D=-1,N=!0,j=O&g?new d:void 0;for(E.set(v,S),E.set(S,v);++D<C;){var q=v[D],F=S[D];if(w)var L=k?w(F,q,D,S,v,E):w(q,F,D,v,S,E);if(L!==void 0){if(L)continue;N=!1;break}if(j){if(!h(S,function(U,z){if(!f(j,z)&&(q===U||T(q,U,O,w,E)))return j.push(z)})){N=!1;break}}else if(!(q===F||T(q,F,O,w,E))){N=!1;break}}return E.delete(v),E.delete(S),N}return _equalArrays=b,_equalArrays}var _Uint8Array,hasRequired_Uint8Array;function require_Uint8Array(){if(hasRequired_Uint8Array)return _Uint8Array;hasRequired_Uint8Array=1;var d=require_root(),h=d.Uint8Array;return _Uint8Array=h,_Uint8Array}var _mapToArray,hasRequired_mapToArray;function require_mapToArray(){if(hasRequired_mapToArray)return _mapToArray;hasRequired_mapToArray=1;function d(h){var f=-1,y=Array(h.size);return h.forEach(function(g,b){y[++f]=[b,g]}),y}return _mapToArray=d,_mapToArray}var _setToArray,hasRequired_setToArray;function require_setToArray(){if(hasRequired_setToArray)return _setToArray;hasRequired_setToArray=1;function d(h){var f=-1,y=Array(h.size);return h.forEach(function(g){y[++f]=g}),y}return _setToArray=d,_setToArray}var _equalByTag,hasRequired_equalByTag;function require_equalByTag(){if(hasRequired_equalByTag)return _equalByTag;hasRequired_equalByTag=1;var d=require_Symbol(),h=require_Uint8Array(),f=requireEq(),y=require_equalArrays(),g=require_mapToArray(),b=require_setToArray(),v=1,S=2,O="[object Boolean]",w="[object Date]",T="[object Error]",E="[object Map]",k="[object Number]",C="[object RegExp]",P="[object Set]",M="[object String]",A="[object Symbol]",D="[object ArrayBuffer]",N="[object DataView]",j=d?d.prototype:void 0,q=j?j.valueOf:void 0;function F(L,U,z,V,Y,W,K){switch(z){case N:if(L.byteLength!=U.byteLength||L.byteOffset!=U.byteOffset)return!1;L=L.buffer,U=U.buffer;case D:return!(L.byteLength!=U.byteLength||!W(new h(L),new h(U)));case O:case w:case k:return f(+L,+U);case T:return L.name==U.name&&L.message==U.message;case C:case M:return L==U+"";case E:var re=g;case P:var fe=V&v;if(re||(re=b),L.size!=U.size&&!fe)return!1;var se=K.get(L);if(se)return se==U;V|=S,K.set(L,U);var J=y(re(L),re(U),V,Y,W,K);return K.delete(L),J;case A:if(q)return q.call(L)==q.call(U)}return!1}return _equalByTag=F,_equalByTag}var _arrayPush,hasRequired_arrayPush;function require_arrayPush(){if(hasRequired_arrayPush)return _arrayPush;hasRequired_arrayPush=1;function d(h,f){for(var y=-1,g=f.length,b=h.length;++y<g;)h[b+y]=f[y];return h}return _arrayPush=d,_arrayPush}var _baseGetAllKeys,hasRequired_baseGetAllKeys;function require_baseGetAllKeys(){if(hasRequired_baseGetAllKeys)return _baseGetAllKeys;hasRequired_baseGetAllKeys=1;var d=require_arrayPush(),h=requireIsArray();function f(y,g,b){var v=g(y);return h(y)?v:d(v,b(y))}return _baseGetAllKeys=f,_baseGetAllKeys}var _arrayFilter,hasRequired_arrayFilter;function require_arrayFilter(){if(hasRequired_arrayFilter)return _arrayFilter;hasRequired_arrayFilter=1;function d(h,f){for(var y=-1,g=h==null?0:h.length,b=0,v=[];++y<g;){var S=h[y];f(S,y,h)&&(v[b++]=S)}return v}return _arrayFilter=d,_arrayFilter}var stubArray_1,hasRequiredStubArray;function requireStubArray(){if(hasRequiredStubArray)return stubArray_1;hasRequiredStubArray=1;function d(){return[]}return stubArray_1=d,stubArray_1}var _getSymbols,hasRequired_getSymbols;function require_getSymbols(){if(hasRequired_getSymbols)return _getSymbols;hasRequired_getSymbols=1;var d=require_arrayFilter(),h=requireStubArray(),f=Object.prototype,y=f.propertyIsEnumerable,g=Object.getOwnPropertySymbols,b=g?function(v){return v==null?[]:(v=Object(v),d(g(v),function(S){return y.call(v,S)}))}:h;return _getSymbols=b,_getSymbols}var _getAllKeys,hasRequired_getAllKeys;function require_getAllKeys(){if(hasRequired_getAllKeys)return _getAllKeys;hasRequired_getAllKeys=1;var d=require_baseGetAllKeys(),h=require_getSymbols(),f=requireKeys();function y(g){return d(g,f,h)}return _getAllKeys=y,_getAllKeys}var _equalObjects,hasRequired_equalObjects;function require_equalObjects(){if(hasRequired_equalObjects)return _equalObjects;hasRequired_equalObjects=1;var d=require_getAllKeys(),h=1,f=Object.prototype,y=f.hasOwnProperty;function g(b,v,S,O,w,T){var E=S&h,k=d(b),C=k.length,P=d(v),M=P.length;if(C!=M&&!E)return!1;for(var A=C;A--;){var D=k[A];if(!(E?D in v:y.call(v,D)))return!1}var N=T.get(b),j=T.get(v);if(N&&j)return N==v&&j==b;var q=!0;T.set(b,v),T.set(v,b);for(var F=E;++A<C;){D=k[A];var L=b[D],U=v[D];if(O)var z=E?O(U,L,D,v,b,T):O(L,U,D,b,v,T);if(!(z===void 0?L===U||w(L,U,S,O,T):z)){q=!1;break}F||(F=D=="constructor")}if(q&&!F){var V=b.constructor,Y=v.constructor;V!=Y&&"constructor"in b&&"constructor"in v&&!(typeof V=="function"&&V instanceof V&&typeof Y=="function"&&Y instanceof Y)&&(q=!1)}return T.delete(b),T.delete(v),q}return _equalObjects=g,_equalObjects}var _DataView,hasRequired_DataView;function require_DataView(){if(hasRequired_DataView)return _DataView;hasRequired_DataView=1;var d=require_getNative(),h=require_root(),f=d(h,"DataView");return _DataView=f,_DataView}var _Promise,hasRequired_Promise;function require_Promise(){if(hasRequired_Promise)return _Promise;hasRequired_Promise=1;var d=require_getNative(),h=require_root(),f=d(h,"Promise");return _Promise=f,_Promise}var _Set,hasRequired_Set;function require_Set(){if(hasRequired_Set)return _Set;hasRequired_Set=1;var d=require_getNative(),h=require_root(),f=d(h,"Set");return _Set=f,_Set}var _WeakMap,hasRequired_WeakMap;function require_WeakMap(){if(hasRequired_WeakMap)return _WeakMap;hasRequired_WeakMap=1;var d=require_getNative(),h=require_root(),f=d(h,"WeakMap");return _WeakMap=f,_WeakMap}var _getTag,hasRequired_getTag;function require_getTag(){if(hasRequired_getTag)return _getTag;hasRequired_getTag=1;var d=require_DataView(),h=require_Map(),f=require_Promise(),y=require_Set(),g=require_WeakMap(),b=require_baseGetTag(),v=require_toSource(),S="[object Map]",O="[object Object]",w="[object Promise]",T="[object Set]",E="[object WeakMap]",k="[object DataView]",C=v(d),P=v(h),M=v(f),A=v(y),D=v(g),N=b;return(d&&N(new d(new ArrayBuffer(1)))!=k||h&&N(new h)!=S||f&&N(f.resolve())!=w||y&&N(new y)!=T||g&&N(new g)!=E)&&(N=function(j){var q=b(j),F=q==O?j.constructor:void 0,L=F?v(F):"";if(L)switch(L){case C:return k;case P:return S;case M:return w;case A:return T;case D:return E}return q}),_getTag=N,_getTag}var _baseIsEqualDeep,hasRequired_baseIsEqualDeep;function require_baseIsEqualDeep(){if(hasRequired_baseIsEqualDeep)return _baseIsEqualDeep;hasRequired_baseIsEqualDeep=1;var d=require_Stack(),h=require_equalArrays(),f=require_equalByTag(),y=require_equalObjects(),g=require_getTag(),b=requireIsArray(),v=requireIsBuffer(),S=requireIsTypedArray(),O=1,w="[object Arguments]",T="[object Array]",E="[object Object]",k=Object.prototype,C=k.hasOwnProperty;function P(M,A,D,N,j,q){var F=b(M),L=b(A),U=F?T:g(M),z=L?T:g(A);U=U==w?E:U,z=z==w?E:z;var V=U==E,Y=z==E,W=U==z;if(W&&v(M)){if(!v(A))return!1;F=!0,V=!1}if(W&&!V)return q||(q=new d),F||S(M)?h(M,A,D,N,j,q):f(M,A,U,D,N,j,q);if(!(D&O)){var K=V&&C.call(M,"__wrapped__"),re=Y&&C.call(A,"__wrapped__");if(K||re){var fe=K?M.value():M,se=re?A.value():A;return q||(q=new d),j(fe,se,D,N,q)}}return W?(q||(q=new d),y(M,A,D,N,j,q)):!1}return _baseIsEqualDeep=P,_baseIsEqualDeep}var _baseIsEqual,hasRequired_baseIsEqual;function require_baseIsEqual(){if(hasRequired_baseIsEqual)return _baseIsEqual;hasRequired_baseIsEqual=1;var d=require_baseIsEqualDeep(),h=requireIsObjectLike();function f(y,g,b,v,S){return y===g?!0:y==null||g==null||!h(y)&&!h(g)?y!==y&&g!==g:d(y,g,b,v,f,S)}return _baseIsEqual=f,_baseIsEqual}var _baseIsMatch,hasRequired_baseIsMatch;function require_baseIsMatch(){if(hasRequired_baseIsMatch)return _baseIsMatch;hasRequired_baseIsMatch=1;var d=require_Stack(),h=require_baseIsEqual(),f=1,y=2;function g(b,v,S,O){var w=S.length,T=w,E=!O;if(b==null)return!T;for(b=Object(b);w--;){var k=S[w];if(E&&k[2]?k[1]!==b[k[0]]:!(k[0]in b))return!1}for(;++w<T;){k=S[w];var C=k[0],P=b[C],M=k[1];if(E&&k[2]){if(P===void 0&&!(C in b))return!1}else{var A=new d;if(O)var D=O(P,M,C,b,v,A);if(!(D===void 0?h(M,P,f|y,O,A):D))return!1}}return!0}return _baseIsMatch=g,_baseIsMatch}var _isStrictComparable,hasRequired_isStrictComparable;function require_isStrictComparable(){if(hasRequired_isStrictComparable)return _isStrictComparable;hasRequired_isStrictComparable=1;var d=requireIsObject();function h(f){return f===f&&!d(f)}return _isStrictComparable=h,_isStrictComparable}var _getMatchData,hasRequired_getMatchData;function require_getMatchData(){if(hasRequired_getMatchData)return _getMatchData;hasRequired_getMatchData=1;var d=require_isStrictComparable(),h=requireKeys();function f(y){for(var g=h(y),b=g.length;b--;){var v=g[b],S=y[v];g[b]=[v,S,d(S)]}return g}return _getMatchData=f,_getMatchData}var _matchesStrictComparable,hasRequired_matchesStrictComparable;function require_matchesStrictComparable(){if(hasRequired_matchesStrictComparable)return _matchesStrictComparable;hasRequired_matchesStrictComparable=1;function d(h,f){return function(y){return y==null?!1:y[h]===f&&(f!==void 0||h in Object(y))}}return _matchesStrictComparable=d,_matchesStrictComparable}var _baseMatches,hasRequired_baseMatches;function require_baseMatches(){if(hasRequired_baseMatches)return _baseMatches;hasRequired_baseMatches=1;var d=require_baseIsMatch(),h=require_getMatchData(),f=require_matchesStrictComparable();function y(g){var b=h(g);return b.length==1&&b[0][2]?f(b[0][0],b[0][1]):function(v){return v===g||d(v,g,b)}}return _baseMatches=y,_baseMatches}var isSymbol_1,hasRequiredIsSymbol;function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol_1;hasRequiredIsSymbol=1;var d=require_baseGetTag(),h=requireIsObjectLike(),f="[object Symbol]";function y(g){return typeof g=="symbol"||h(g)&&d(g)==f}return isSymbol_1=y,isSymbol_1}var _isKey,hasRequired_isKey;function require_isKey(){if(hasRequired_isKey)return _isKey;hasRequired_isKey=1;var d=requireIsArray(),h=requireIsSymbol(),f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,y=/^\w*$/;function g(b,v){if(d(b))return!1;var S=typeof b;return S=="number"||S=="symbol"||S=="boolean"||b==null||h(b)?!0:y.test(b)||!f.test(b)||v!=null&&b in Object(v)}return _isKey=g,_isKey}var memoize_1,hasRequiredMemoize;function requireMemoize(){if(hasRequiredMemoize)return memoize_1;hasRequiredMemoize=1;var d=require_MapCache(),h="Expected a function";function f(y,g){if(typeof y!="function"||g!=null&&typeof g!="function")throw new TypeError(h);var b=function(){var v=arguments,S=g?g.apply(this,v):v[0],O=b.cache;if(O.has(S))return O.get(S);var w=y.apply(this,v);return b.cache=O.set(S,w)||O,w};return b.cache=new(f.Cache||d),b}return f.Cache=d,memoize_1=f,memoize_1}var _memoizeCapped,hasRequired_memoizeCapped;function require_memoizeCapped(){if(hasRequired_memoizeCapped)return _memoizeCapped;hasRequired_memoizeCapped=1;var d=requireMemoize(),h=500;function f(y){var g=d(y,function(v){return b.size===h&&b.clear(),v}),b=g.cache;return g}return _memoizeCapped=f,_memoizeCapped}var _stringToPath,hasRequired_stringToPath;function require_stringToPath(){if(hasRequired_stringToPath)return _stringToPath;hasRequired_stringToPath=1;var d=require_memoizeCapped(),h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,y=d(function(g){var b=[];return g.charCodeAt(0)===46&&b.push(""),g.replace(h,function(v,S,O,w){b.push(O?w.replace(f,"$1"):S||v)}),b});return _stringToPath=y,_stringToPath}var _baseToString,hasRequired_baseToString;function require_baseToString(){if(hasRequired_baseToString)return _baseToString;hasRequired_baseToString=1;var d=require_Symbol(),h=require_arrayMap(),f=requireIsArray(),y=requireIsSymbol(),g=d?d.prototype:void 0,b=g?g.toString:void 0;function v(S){if(typeof S=="string")return S;if(f(S))return h(S,v)+"";if(y(S))return b?b.call(S):"";var O=S+"";return O=="0"&&1/S==-1/0?"-0":O}return _baseToString=v,_baseToString}var toString_1,hasRequiredToString;function requireToString(){if(hasRequiredToString)return toString_1;hasRequiredToString=1;var d=require_baseToString();function h(f){return f==null?"":d(f)}return toString_1=h,toString_1}var _castPath,hasRequired_castPath;function require_castPath(){if(hasRequired_castPath)return _castPath;hasRequired_castPath=1;var d=requireIsArray(),h=require_isKey(),f=require_stringToPath(),y=requireToString();function g(b,v){return d(b)?b:h(b,v)?[b]:f(y(b))}return _castPath=g,_castPath}var _toKey,hasRequired_toKey;function require_toKey(){if(hasRequired_toKey)return _toKey;hasRequired_toKey=1;var d=requireIsSymbol();function h(f){if(typeof f=="string"||d(f))return f;var y=f+"";return y=="0"&&1/f==-1/0?"-0":y}return _toKey=h,_toKey}var _baseGet,hasRequired_baseGet;function require_baseGet(){if(hasRequired_baseGet)return _baseGet;hasRequired_baseGet=1;var d=require_castPath(),h=require_toKey();function f(y,g){g=d(g,y);for(var b=0,v=g.length;y!=null&&b<v;)y=y[h(g[b++])];return b&&b==v?y:void 0}return _baseGet=f,_baseGet}var get_1,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get_1;hasRequiredGet=1;var d=require_baseGet();function h(f,y,g){var b=f==null?void 0:d(f,y);return b===void 0?g:b}return get_1=h,get_1}var _baseHasIn,hasRequired_baseHasIn;function require_baseHasIn(){if(hasRequired_baseHasIn)return _baseHasIn;hasRequired_baseHasIn=1;function d(h,f){return h!=null&&f in Object(h)}return _baseHasIn=d,_baseHasIn}var _hasPath,hasRequired_hasPath;function require_hasPath(){if(hasRequired_hasPath)return _hasPath;hasRequired_hasPath=1;var d=require_castPath(),h=requireIsArguments(),f=requireIsArray(),y=require_isIndex(),g=requireIsLength(),b=require_toKey();function v(S,O,w){O=d(O,S);for(var T=-1,E=O.length,k=!1;++T<E;){var C=b(O[T]);if(!(k=S!=null&&w(S,C)))break;S=S[C]}return k||++T!=E?k:(E=S==null?0:S.length,!!E&&g(E)&&y(C,E)&&(f(S)||h(S)))}return _hasPath=v,_hasPath}var hasIn_1,hasRequiredHasIn;function requireHasIn(){if(hasRequiredHasIn)return hasIn_1;hasRequiredHasIn=1;var d=require_baseHasIn(),h=require_hasPath();function f(y,g){return y!=null&&h(y,g,d)}return hasIn_1=f,hasIn_1}var _baseMatchesProperty,hasRequired_baseMatchesProperty;function require_baseMatchesProperty(){if(hasRequired_baseMatchesProperty)return _baseMatchesProperty;hasRequired_baseMatchesProperty=1;var d=require_baseIsEqual(),h=requireGet(),f=requireHasIn(),y=require_isKey(),g=require_isStrictComparable(),b=require_matchesStrictComparable(),v=require_toKey(),S=1,O=2;function w(T,E){return y(T)&&g(E)?b(v(T),E):function(k){var C=h(k,T);return C===void 0&&C===E?f(k,T):d(E,C,S|O)}}return _baseMatchesProperty=w,_baseMatchesProperty}var _baseProperty,hasRequired_baseProperty;function require_baseProperty(){if(hasRequired_baseProperty)return _baseProperty;hasRequired_baseProperty=1;function d(h){return function(f){return f==null?void 0:f[h]}}return _baseProperty=d,_baseProperty}var _basePropertyDeep,hasRequired_basePropertyDeep;function require_basePropertyDeep(){if(hasRequired_basePropertyDeep)return _basePropertyDeep;hasRequired_basePropertyDeep=1;var d=require_baseGet();function h(f){return function(y){return d(y,f)}}return _basePropertyDeep=h,_basePropertyDeep}var property_1,hasRequiredProperty;function requireProperty(){if(hasRequiredProperty)return property_1;hasRequiredProperty=1;var d=require_baseProperty(),h=require_basePropertyDeep(),f=require_isKey(),y=require_toKey();function g(b){return f(b)?d(y(b)):h(b)}return property_1=g,property_1}var _baseIteratee,hasRequired_baseIteratee;function require_baseIteratee(){if(hasRequired_baseIteratee)return _baseIteratee;hasRequired_baseIteratee=1;var d=require_baseMatches(),h=require_baseMatchesProperty(),f=requireIdentity(),y=requireIsArray(),g=requireProperty();function b(v){return typeof v=="function"?v:v==null?f:typeof v=="object"?y(v)?h(v[0],v[1]):d(v):g(v)}return _baseIteratee=b,_baseIteratee}var _createBaseEach,hasRequired_createBaseEach;function require_createBaseEach(){if(hasRequired_createBaseEach)return _createBaseEach;hasRequired_createBaseEach=1;var d=requireIsArrayLike();function h(f,y){return function(g,b){if(g==null)return g;if(!d(g))return f(g,b);for(var v=g.length,S=y?v:-1,O=Object(g);(y?S--:++S<v)&&b(O[S],S,O)!==!1;);return g}}return _createBaseEach=h,_createBaseEach}var _baseEach,hasRequired_baseEach;function require_baseEach(){if(hasRequired_baseEach)return _baseEach;hasRequired_baseEach=1;var d=require_baseForOwn(),h=require_createBaseEach(),f=h(d);return _baseEach=f,_baseEach}var _baseMap,hasRequired_baseMap;function require_baseMap(){if(hasRequired_baseMap)return _baseMap;hasRequired_baseMap=1;var d=require_baseEach(),h=requireIsArrayLike();function f(y,g){var b=-1,v=h(y)?Array(y.length):[];return d(y,function(S,O,w){v[++b]=g(S,O,w)}),v}return _baseMap=f,_baseMap}var map_1,hasRequiredMap;function requireMap(){if(hasRequiredMap)return map_1;hasRequiredMap=1;var d=require_arrayMap(),h=require_baseIteratee(),f=require_baseMap(),y=requireIsArray();function g(b,v){var S=y(b)?d:f;return S(b,h(v,3))}return map_1=g,map_1}var hasRequiredFlattenNames;function requireFlattenNames(){if(hasRequiredFlattenNames)return flattenNames;hasRequiredFlattenNames=1,Object.defineProperty(flattenNames,"__esModule",{value:!0}),flattenNames.flattenNames=void 0;var d=requireIsString(),h=O(d),f=requireForOwn(),y=O(f),g=requireIsPlainObject(),b=O(g),v=requireMap(),S=O(v);function O(T){return T&&T.__esModule?T:{default:T}}var w=flattenNames.flattenNames=function T(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],k=[];return(0,S.default)(E,function(C){Array.isArray(C)?T(C).map(function(P){return k.push(P)}):(0,b.default)(C)?(0,y.default)(C,function(P,M){P===!0&&k.push(M),k.push(M+"-"+P)}):(0,h.default)(C)&&k.push(C)}),k};return flattenNames.default=w,flattenNames}var mergeClasses={},_arrayEach,hasRequired_arrayEach;function require_arrayEach(){if(hasRequired_arrayEach)return _arrayEach;hasRequired_arrayEach=1;function d(h,f){for(var y=-1,g=h==null?0:h.length;++y<g&&f(h[y],y,h)!==!1;);return h}return _arrayEach=d,_arrayEach}var _defineProperty$1,hasRequired_defineProperty;function require_defineProperty(){if(hasRequired_defineProperty)return _defineProperty$1;hasRequired_defineProperty=1;var d=require_getNative(),h=(function(){try{var f=d(Object,"defineProperty");return f({},"",{}),f}catch(y){}})();return _defineProperty$1=h,_defineProperty$1}var _baseAssignValue,hasRequired_baseAssignValue;function require_baseAssignValue(){if(hasRequired_baseAssignValue)return _baseAssignValue;hasRequired_baseAssignValue=1;var d=require_defineProperty();function h(f,y,g){y=="__proto__"&&d?d(f,y,{configurable:!0,enumerable:!0,value:g,writable:!0}):f[y]=g}return _baseAssignValue=h,_baseAssignValue}var _assignValue,hasRequired_assignValue;function require_assignValue(){if(hasRequired_assignValue)return _assignValue;hasRequired_assignValue=1;var d=require_baseAssignValue(),h=requireEq(),f=Object.prototype,y=f.hasOwnProperty;function g(b,v,S){var O=b[v];(!(y.call(b,v)&&h(O,S))||S===void 0&&!(v in b))&&d(b,v,S)}return _assignValue=g,_assignValue}var _copyObject,hasRequired_copyObject;function require_copyObject(){if(hasRequired_copyObject)return _copyObject;hasRequired_copyObject=1;var d=require_assignValue(),h=require_baseAssignValue();function f(y,g,b,v){var S=!b;b||(b={});for(var O=-1,w=g.length;++O<w;){var T=g[O],E=v?v(b[T],y[T],T,b,y):void 0;E===void 0&&(E=y[T]),S?h(b,T,E):d(b,T,E)}return b}return _copyObject=f,_copyObject}var _baseAssign,hasRequired_baseAssign;function require_baseAssign(){if(hasRequired_baseAssign)return _baseAssign;hasRequired_baseAssign=1;var d=require_copyObject(),h=requireKeys();function f(y,g){return y&&d(g,h(g),y)}return _baseAssign=f,_baseAssign}var _nativeKeysIn,hasRequired_nativeKeysIn;function require_nativeKeysIn(){if(hasRequired_nativeKeysIn)return _nativeKeysIn;hasRequired_nativeKeysIn=1;function d(h){var f=[];if(h!=null)for(var y in Object(h))f.push(y);return f}return _nativeKeysIn=d,_nativeKeysIn}var _baseKeysIn,hasRequired_baseKeysIn;function require_baseKeysIn(){if(hasRequired_baseKeysIn)return _baseKeysIn;hasRequired_baseKeysIn=1;var d=requireIsObject(),h=require_isPrototype(),f=require_nativeKeysIn(),y=Object.prototype,g=y.hasOwnProperty;function b(v){if(!d(v))return f(v);var S=h(v),O=[];for(var w in v)w=="constructor"&&(S||!g.call(v,w))||O.push(w);return O}return _baseKeysIn=b,_baseKeysIn}var keysIn_1,hasRequiredKeysIn;function requireKeysIn(){if(hasRequiredKeysIn)return keysIn_1;hasRequiredKeysIn=1;var d=require_arrayLikeKeys(),h=require_baseKeysIn(),f=requireIsArrayLike();function y(g){return f(g)?d(g,!0):h(g)}return keysIn_1=y,keysIn_1}var _baseAssignIn,hasRequired_baseAssignIn;function require_baseAssignIn(){if(hasRequired_baseAssignIn)return _baseAssignIn;hasRequired_baseAssignIn=1;var d=require_copyObject(),h=requireKeysIn();function f(y,g){return y&&d(g,h(g),y)}return _baseAssignIn=f,_baseAssignIn}var _cloneBuffer={exports:{}};_cloneBuffer.exports;var hasRequired_cloneBuffer;function require_cloneBuffer(){return hasRequired_cloneBuffer||(hasRequired_cloneBuffer=1,(function(d,h){var f=require_root(),y=h&&!h.nodeType&&h,g=y&&!0&&d&&!d.nodeType&&d,b=g&&g.exports===y,v=b?f.Buffer:void 0,S=v?v.allocUnsafe:void 0;function O(w,T){if(T)return w.slice();var E=w.length,k=S?S(E):new w.constructor(E);return w.copy(k),k}d.exports=O})(_cloneBuffer,_cloneBuffer.exports)),_cloneBuffer.exports}var _copyArray,hasRequired_copyArray;function require_copyArray(){if(hasRequired_copyArray)return _copyArray;hasRequired_copyArray=1;function d(h,f){var y=-1,g=h.length;for(f||(f=Array(g));++y<g;)f[y]=h[y];return f}return _copyArray=d,_copyArray}var _copySymbols,hasRequired_copySymbols;function require_copySymbols(){if(hasRequired_copySymbols)return _copySymbols;hasRequired_copySymbols=1;var d=require_copyObject(),h=require_getSymbols();function f(y,g){return d(y,h(y),g)}return _copySymbols=f,_copySymbols}var _getSymbolsIn,hasRequired_getSymbolsIn;function require_getSymbolsIn(){if(hasRequired_getSymbolsIn)return _getSymbolsIn;hasRequired_getSymbolsIn=1;var d=require_arrayPush(),h=require_getPrototype(),f=require_getSymbols(),y=requireStubArray(),g=Object.getOwnPropertySymbols,b=g?function(v){for(var S=[];v;)d(S,f(v)),v=h(v);return S}:y;return _getSymbolsIn=b,_getSymbolsIn}var _copySymbolsIn,hasRequired_copySymbolsIn;function require_copySymbolsIn(){if(hasRequired_copySymbolsIn)return _copySymbolsIn;hasRequired_copySymbolsIn=1;var d=require_copyObject(),h=require_getSymbolsIn();function f(y,g){return d(y,h(y),g)}return _copySymbolsIn=f,_copySymbolsIn}var _getAllKeysIn,hasRequired_getAllKeysIn;function require_getAllKeysIn(){if(hasRequired_getAllKeysIn)return _getAllKeysIn;hasRequired_getAllKeysIn=1;var d=require_baseGetAllKeys(),h=require_getSymbolsIn(),f=requireKeysIn();function y(g){return d(g,f,h)}return _getAllKeysIn=y,_getAllKeysIn}var _initCloneArray,hasRequired_initCloneArray;function require_initCloneArray(){if(hasRequired_initCloneArray)return _initCloneArray;hasRequired_initCloneArray=1;var d=Object.prototype,h=d.hasOwnProperty;function f(y){var g=y.length,b=new y.constructor(g);return g&&typeof y[0]=="string"&&h.call(y,"index")&&(b.index=y.index,b.input=y.input),b}return _initCloneArray=f,_initCloneArray}var _cloneArrayBuffer,hasRequired_cloneArrayBuffer;function require_cloneArrayBuffer(){if(hasRequired_cloneArrayBuffer)return _cloneArrayBuffer;hasRequired_cloneArrayBuffer=1;var d=require_Uint8Array();function h(f){var y=new f.constructor(f.byteLength);return new d(y).set(new d(f)),y}return _cloneArrayBuffer=h,_cloneArrayBuffer}var _cloneDataView,hasRequired_cloneDataView;function require_cloneDataView(){if(hasRequired_cloneDataView)return _cloneDataView;hasRequired_cloneDataView=1;var d=require_cloneArrayBuffer();function h(f,y){var g=y?d(f.buffer):f.buffer;return new f.constructor(g,f.byteOffset,f.byteLength)}return _cloneDataView=h,_cloneDataView}var _cloneRegExp,hasRequired_cloneRegExp;function require_cloneRegExp(){if(hasRequired_cloneRegExp)return _cloneRegExp;hasRequired_cloneRegExp=1;var d=/\w*$/;function h(f){var y=new f.constructor(f.source,d.exec(f));return y.lastIndex=f.lastIndex,y}return _cloneRegExp=h,_cloneRegExp}var _cloneSymbol,hasRequired_cloneSymbol;function require_cloneSymbol(){if(hasRequired_cloneSymbol)return _cloneSymbol;hasRequired_cloneSymbol=1;var d=require_Symbol(),h=d?d.prototype:void 0,f=h?h.valueOf:void 0;function y(g){return f?Object(f.call(g)):{}}return _cloneSymbol=y,_cloneSymbol}var _cloneTypedArray,hasRequired_cloneTypedArray;function require_cloneTypedArray(){if(hasRequired_cloneTypedArray)return _cloneTypedArray;hasRequired_cloneTypedArray=1;var d=require_cloneArrayBuffer();function h(f,y){var g=y?d(f.buffer):f.buffer;return new f.constructor(g,f.byteOffset,f.length)}return _cloneTypedArray=h,_cloneTypedArray}var _initCloneByTag,hasRequired_initCloneByTag;function require_initCloneByTag(){if(hasRequired_initCloneByTag)return _initCloneByTag;hasRequired_initCloneByTag=1;var d=require_cloneArrayBuffer(),h=require_cloneDataView(),f=require_cloneRegExp(),y=require_cloneSymbol(),g=require_cloneTypedArray(),b="[object Boolean]",v="[object Date]",S="[object Map]",O="[object Number]",w="[object RegExp]",T="[object Set]",E="[object String]",k="[object Symbol]",C="[object ArrayBuffer]",P="[object DataView]",M="[object Float32Array]",A="[object Float64Array]",D="[object Int8Array]",N="[object Int16Array]",j="[object Int32Array]",q="[object Uint8Array]",F="[object Uint8ClampedArray]",L="[object Uint16Array]",U="[object Uint32Array]";function z(V,Y,W){var K=V.constructor;switch(Y){case C:return d(V);case b:case v:return new K(+V);case P:return h(V,W);case M:case A:case D:case N:case j:case q:case F:case L:case U:return g(V,W);case S:return new K;case O:case E:return new K(V);case w:return f(V);case T:return new K;case k:return y(V)}}return _initCloneByTag=z,_initCloneByTag}var _baseCreate,hasRequired_baseCreate;function require_baseCreate(){if(hasRequired_baseCreate)return _baseCreate;hasRequired_baseCreate=1;var d=requireIsObject(),h=Object.create,f=(function(){function y(){}return function(g){if(!d(g))return{};if(h)return h(g);y.prototype=g;var b=new y;return y.prototype=void 0,b}})();return _baseCreate=f,_baseCreate}var _initCloneObject,hasRequired_initCloneObject;function require_initCloneObject(){if(hasRequired_initCloneObject)return _initCloneObject;hasRequired_initCloneObject=1;var d=require_baseCreate(),h=require_getPrototype(),f=require_isPrototype();function y(g){return typeof g.constructor=="function"&&!f(g)?d(h(g)):{}}return _initCloneObject=y,_initCloneObject}var _baseIsMap,hasRequired_baseIsMap;function require_baseIsMap(){if(hasRequired_baseIsMap)return _baseIsMap;hasRequired_baseIsMap=1;var d=require_getTag(),h=requireIsObjectLike(),f="[object Map]";function y(g){return h(g)&&d(g)==f}return _baseIsMap=y,_baseIsMap}var isMap_1,hasRequiredIsMap;function requireIsMap(){if(hasRequiredIsMap)return isMap_1;hasRequiredIsMap=1;var d=require_baseIsMap(),h=require_baseUnary(),f=require_nodeUtil(),y=f&&f.isMap,g=y?h(y):d;return isMap_1=g,isMap_1}var _baseIsSet,hasRequired_baseIsSet;function require_baseIsSet(){if(hasRequired_baseIsSet)return _baseIsSet;hasRequired_baseIsSet=1;var d=require_getTag(),h=requireIsObjectLike(),f="[object Set]";function y(g){return h(g)&&d(g)==f}return _baseIsSet=y,_baseIsSet}var isSet_1,hasRequiredIsSet;function requireIsSet(){if(hasRequiredIsSet)return isSet_1;hasRequiredIsSet=1;var d=require_baseIsSet(),h=require_baseUnary(),f=require_nodeUtil(),y=f&&f.isSet,g=y?h(y):d;return isSet_1=g,isSet_1}var _baseClone,hasRequired_baseClone;function require_baseClone(){if(hasRequired_baseClone)return _baseClone;hasRequired_baseClone=1;var d=require_Stack(),h=require_arrayEach(),f=require_assignValue(),y=require_baseAssign(),g=require_baseAssignIn(),b=require_cloneBuffer(),v=require_copyArray(),S=require_copySymbols(),O=require_copySymbolsIn(),w=require_getAllKeys(),T=require_getAllKeysIn(),E=require_getTag(),k=require_initCloneArray(),C=require_initCloneByTag(),P=require_initCloneObject(),M=requireIsArray(),A=requireIsBuffer(),D=requireIsMap(),N=requireIsObject(),j=requireIsSet(),q=requireKeys(),F=requireKeysIn(),L=1,U=2,z=4,V="[object Arguments]",Y="[object Array]",W="[object Boolean]",K="[object Date]",re="[object Error]",fe="[object Function]",se="[object GeneratorFunction]",J="[object Map]",ie="[object Number]",ue="[object Object]",ke="[object RegExp]",pe="[object Set]",ne="[object String]",de="[object Symbol]",ae="[object WeakMap]",H="[object ArrayBuffer]",Z="[object DataView]",ve="[object Float32Array]",Te="[object Float64Array]",te="[object Int8Array]",ge="[object Int16Array]",$e="[object Int32Array]",Q="[object Uint8Array]",le="[object Uint8ClampedArray]",Se="[object Uint16Array]",Oe="[object Uint32Array]",xe={};xe[V]=xe[Y]=xe[H]=xe[Z]=xe[W]=xe[K]=xe[ve]=xe[Te]=xe[te]=xe[ge]=xe[$e]=xe[J]=xe[ie]=xe[ue]=xe[ke]=xe[pe]=xe[ne]=xe[de]=xe[Q]=xe[le]=xe[Se]=xe[Oe]=!0,xe[re]=xe[fe]=xe[ae]=!1;function Pe(Ce,Ye,Ke,Me,Ue,Ne){var Be,ut=Ye&L,Ge=Ye&U,$t=Ye&z;if(Ke&&(Be=Ue?Ke(Ce,Me,Ue,Ne):Ke(Ce)),Be!==void 0)return Be;if(!N(Ce))return Ce;var dt=M(Ce);if(dt){if(Be=k(Ce),!ut)return v(Ce,Be)}else{var vt=E(Ce),yt=vt==fe||vt==se;if(A(Ce))return b(Ce,ut);if(vt==ue||vt==V||yt&&!Ue){if(Be=Ge||yt?{}:P(Ce),!ut)return Ge?O(Ce,g(Be,Ce)):S(Ce,y(Be,Ce))}else{if(!xe[vt])return Ue?Ce:{};Be=C(Ce,vt,ut)}}Ne||(Ne=new d);var fr=Ne.get(Ce);if(fr)return fr;Ne.set(Ce,Be),j(Ce)?Ce.forEach(function(Nt){Be.add(Pe(Nt,Ye,Ke,Nt,Ce,Ne))}):D(Ce)&&Ce.forEach(function(Nt,Gt){Be.set(Gt,Pe(Nt,Ye,Ke,Gt,Ce,Ne))});var ca=$t?Ge?T:w:Ge?F:q,Yi=dt?void 0:ca(Ce);return h(Yi||Ce,function(Nt,Gt){Yi&&(Gt=Nt,Nt=Ce[Gt]),f(Be,Gt,Pe(Nt,Ye,Ke,Gt,Ce,Ne))}),Be}return _baseClone=Pe,_baseClone}var cloneDeep_1,hasRequiredCloneDeep;function requireCloneDeep(){if(hasRequiredCloneDeep)return cloneDeep_1;hasRequiredCloneDeep=1;var d=require_baseClone(),h=1,f=4;function y(g){return d(g,h|f)}return cloneDeep_1=y,cloneDeep_1}var hasRequiredMergeClasses;function requireMergeClasses(){if(hasRequiredMergeClasses)return mergeClasses;hasRequiredMergeClasses=1,Object.defineProperty(mergeClasses,"__esModule",{value:!0}),mergeClasses.mergeClasses=void 0;var d=requireForOwn(),h=b(d),f=requireCloneDeep(),y=b(f),g=Object.assign||function(S){for(var O=1;O<arguments.length;O++){var w=arguments[O];for(var T in w)Object.prototype.hasOwnProperty.call(w,T)&&(S[T]=w[T])}return S};function b(S){return S&&S.__esModule?S:{default:S}}var v=mergeClasses.mergeClasses=function(O){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],T=O.default&&(0,y.default)(O.default)||{};return w.map(function(E){var k=O[E];return k&&(0,h.default)(k,function(C,P){T[P]||(T[P]={}),T[P]=g({},T[P],k[P])}),E}),T};return mergeClasses.default=v,mergeClasses}var autoprefix={},hasRequiredAutoprefix;function requireAutoprefix(){if(hasRequiredAutoprefix)return autoprefix;hasRequiredAutoprefix=1,Object.defineProperty(autoprefix,"__esModule",{value:!0}),autoprefix.autoprefix=void 0;var d=requireForOwn(),h=y(d),f=Object.assign||function(v){for(var S=1;S<arguments.length;S++){var O=arguments[S];for(var w in O)Object.prototype.hasOwnProperty.call(O,w)&&(v[w]=O[w])}return v};function y(v){return v&&v.__esModule?v:{default:v}}var g={borderRadius:function(S){return{msBorderRadius:S,MozBorderRadius:S,OBorderRadius:S,WebkitBorderRadius:S,borderRadius:S}},boxShadow:function(S){return{msBoxShadow:S,MozBoxShadow:S,OBoxShadow:S,WebkitBoxShadow:S,boxShadow:S}},userSelect:function(S){return{WebkitTouchCallout:S,KhtmlUserSelect:S,MozUserSelect:S,msUserSelect:S,WebkitUserSelect:S,userSelect:S}},flex:function(S){return{WebkitBoxFlex:S,MozBoxFlex:S,WebkitFlex:S,msFlex:S,flex:S}},flexBasis:function(S){return{WebkitFlexBasis:S,flexBasis:S}},justifyContent:function(S){return{WebkitJustifyContent:S,justifyContent:S}},transition:function(S){return{msTransition:S,MozTransition:S,OTransition:S,WebkitTransition:S,transition:S}},transform:function(S){return{msTransform:S,MozTransform:S,OTransform:S,WebkitTransform:S,transform:S}},absolute:function(S){var O=S&&S.split(" ");return{position:"absolute",top:O&&O[0],right:O&&O[1],bottom:O&&O[2],left:O&&O[3]}},extend:function(S,O){var w=O[S];return w||{extend:S}}},b=autoprefix.autoprefix=function(S){var O={};return(0,h.default)(S,function(w,T){var E={};(0,h.default)(w,function(k,C){var P=g[C];P?E=f({},E,P(k)):E[C]=k}),O[T]=E}),O};return autoprefix.default=b,autoprefix}var hover={},hasRequiredHover;function requireHover(){if(hasRequiredHover)return hover;hasRequiredHover=1,Object.defineProperty(hover,"__esModule",{value:!0}),hover.hover=void 0;var d=Object.assign||function(O){for(var w=1;w<arguments.length;w++){var T=arguments[w];for(var E in T)Object.prototype.hasOwnProperty.call(T,E)&&(O[E]=T[E])}return O},h=requireReact(),f=y(h);function y(O){return O&&O.__esModule?O:{default:O}}function g(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}function b(O,w){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:O}function v(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(O,w):O.__proto__=w)}var S=hover.hover=function(w){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(E){v(k,E);function k(){var C,P,M,A;g(this,k);for(var D=arguments.length,N=Array(D),j=0;j<D;j++)N[j]=arguments[j];return A=(P=(M=b(this,(C=k.__proto__||Object.getPrototypeOf(k)).call.apply(C,[this].concat(N))),M),M.state={hover:!1},M.handleMouseOver=function(){return M.setState({hover:!0})},M.handleMouseOut=function(){return M.setState({hover:!1})},M.render=function(){return f.default.createElement(T,{onMouseOver:M.handleMouseOver,onMouseOut:M.handleMouseOut},f.default.createElement(w,d({},M.props,M.state)))},P),b(M,A)}return k})(f.default.Component)};return hover.default=S,hover}var active={},hasRequiredActive;function requireActive(){if(hasRequiredActive)return active;hasRequiredActive=1,Object.defineProperty(active,"__esModule",{value:!0}),active.active=void 0;var d=Object.assign||function(O){for(var w=1;w<arguments.length;w++){var T=arguments[w];for(var E in T)Object.prototype.hasOwnProperty.call(T,E)&&(O[E]=T[E])}return O},h=requireReact(),f=y(h);function y(O){return O&&O.__esModule?O:{default:O}}function g(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}function b(O,w){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:O}function v(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(O,w):O.__proto__=w)}var S=active.active=function(w){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(E){v(k,E);function k(){var C,P,M,A;g(this,k);for(var D=arguments.length,N=Array(D),j=0;j<D;j++)N[j]=arguments[j];return A=(P=(M=b(this,(C=k.__proto__||Object.getPrototypeOf(k)).call.apply(C,[this].concat(N))),M),M.state={active:!1},M.handleMouseDown=function(){return M.setState({active:!0})},M.handleMouseUp=function(){return M.setState({active:!1})},M.render=function(){return f.default.createElement(T,{onMouseDown:M.handleMouseDown,onMouseUp:M.handleMouseUp},f.default.createElement(w,d({},M.props,M.state)))},P),b(M,A)}return k})(f.default.Component)};return active.default=S,active}var loop={},hasRequiredLoop;function requireLoop(){if(hasRequiredLoop)return loop;hasRequiredLoop=1,Object.defineProperty(loop,"__esModule",{value:!0});var d=function(f,y){var g={},b=function(S){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;g[S]=O};return f===0&&b("first-child"),f===y-1&&b("last-child"),(f===0||f%2===0)&&b("even"),Math.abs(f%2)===1&&b("odd"),b("nth-child",f),g};return loop.default=d,loop}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1,Object.defineProperty(lib,"__esModule",{value:!0}),lib.ReactCSS=lib.loop=lib.handleActive=lib.handleHover=lib.hover=void 0;var d=requireFlattenNames(),h=k(d),f=requireMergeClasses(),y=k(f),g=requireAutoprefix(),b=k(g),v=requireHover(),S=k(v),O=requireActive(),w=k(O),T=requireLoop(),E=k(T);function k(P){return P&&P.__esModule?P:{default:P}}lib.hover=S.default,lib.handleHover=S.default,lib.handleActive=w.default,lib.loop=E.default;var C=lib.ReactCSS=function(M){for(var A=arguments.length,D=Array(A>1?A-1:0),N=1;N<A;N++)D[N-1]=arguments[N];var j=(0,h.default)(D),q=(0,y.default)(M,j);return(0,b.default)(q)};return lib.default=C,lib}var libExports=requireLib();const reactCSS=getDefaultExportFromCjs(libExports);var calculateChange$2=function(h,f,y,g,b){var v=b.clientWidth,S=b.clientHeight,O=typeof h.pageX=="number"?h.pageX:h.touches[0].pageX,w=typeof h.pageY=="number"?h.pageY:h.touches[0].pageY,T=O-(b.getBoundingClientRect().left+window.pageXOffset),E=w-(b.getBoundingClientRect().top+window.pageYOffset);if(y==="vertical"){var k=void 0;if(E<0?k=0:E>S?k=1:k=Math.round(E*100/S)/100,f.a!==k)return{h:f.h,s:f.s,l:f.l,a:k,source:"rgb"}}else{var C=void 0;if(T<0?C=0:T>v?C=1:C=Math.round(T*100/v)/100,g!==C)return{h:f.h,s:f.s,l:f.l,a:C,source:"rgb"}}return null},checkboardCache={},render=function(h,f,y,g){if(typeof document=="undefined"&&!g)return null;var b=g?new g:document.createElement("canvas");b.width=y*2,b.height=y*2;var v=b.getContext("2d");return v?(v.fillStyle=h,v.fillRect(0,0,b.width,b.height),v.fillStyle=f,v.fillRect(0,0,y,y),v.translate(y,y),v.fillRect(0,0,y,y),b.toDataURL()):null},get$1=function(h,f,y,g){var b=h+"-"+f+"-"+y+(g?"-server":"");if(checkboardCache[b])return checkboardCache[b];var v=render(h,f,y,g);return checkboardCache[b]=v,v},_extends$8=Object.assign||function(d){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(d[y]=f[y])}return d},Checkboard=function(h){var f=h.white,y=h.grey,g=h.size,b=h.renderers,v=h.borderRadius,S=h.boxShadow,O=h.children,w=reactCSS({default:{grid:{borderRadius:v,boxShadow:S,absolute:"0px 0px 0px 0px",background:"url("+get$1(f,y,g,b.canvas)+") center left"}}});return reactExports.isValidElement(O)?React.cloneElement(O,_extends$8({},O.props,{style:_extends$8({},O.props.style,w.grid)})):React.createElement("div",{style:w.grid})};Checkboard.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var _extends$7=Object.assign||function(d){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(d[y]=f[y])}return d},_createClass$7=(function(){function d(h,f){for(var y=0;y<f.length;y++){var g=f[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,f,y){return f&&d(h.prototype,f),y&&d(h,y),h}})();function _classCallCheck$7(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$7(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function _inherits$7(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var Alpha=(function(d){_inherits$7(h,d);function h(){var f,y,g,b;_classCallCheck$7(this,h);for(var v=arguments.length,S=Array(v),O=0;O<v;O++)S[O]=arguments[O];return b=(y=(g=_possibleConstructorReturn$7(this,(f=h.__proto__||Object.getPrototypeOf(h)).call.apply(f,[this].concat(S))),g),g.handleChange=function(w){var T=calculateChange$2(w,g.props.hsl,g.props.direction,g.props.a,g.container);T&&typeof g.props.onChange=="function"&&g.props.onChange(T,w)},g.handleMouseDown=function(w){g.handleChange(w),window.addEventListener("mousemove",g.handleChange),window.addEventListener("mouseup",g.handleMouseUp)},g.handleMouseUp=function(){g.unbindEventListeners()},g.unbindEventListeners=function(){window.removeEventListener("mousemove",g.handleChange),window.removeEventListener("mouseup",g.handleMouseUp)},y),_possibleConstructorReturn$7(g,b)}return _createClass$7(h,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var y=this,g=this.props.rgb,b=reactCSS({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+g.r+","+g.g+","+g.b+`, 0) 0%,
           rgba(`+g.r+","+g.g+","+g.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:g.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+g.r+","+g.g+","+g.b+`, 0) 0%,
           rgba(`+g.r+","+g.g+","+g.b+", 1) 100%)"},pointer:{left:0,top:g.a*100+"%"}},overwrite:_extends$7({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return React.createElement("div",{style:b.alpha},React.createElement("div",{style:b.checkboard},React.createElement(Checkboard,{renderers:this.props.renderers})),React.createElement("div",{style:b.gradient}),React.createElement("div",{style:b.container,ref:function(S){return y.container=S},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},React.createElement("div",{style:b.pointer},this.props.pointer?React.createElement(this.props.pointer,this.props):React.createElement("div",{style:b.slider}))))}}]),h})(reactExports.PureComponent||reactExports.Component),_createClass$6=(function(){function d(h,f){for(var y=0;y<f.length;y++){var g=f[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,f,y){return f&&d(h.prototype,f),y&&d(h,y),h}})();function _defineProperty(d,h,f){return h in d?Object.defineProperty(d,h,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[h]=f,d}function _classCallCheck$6(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$6(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function _inherits$6(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var DEFAULT_ARROW_OFFSET=1,UP_KEY_CODE=38,DOWN_KEY_CODE=40,VALID_KEY_CODES=[UP_KEY_CODE,DOWN_KEY_CODE],isValidKeyCode=function(h){return VALID_KEY_CODES.indexOf(h)>-1},getNumberValue=function(h){return Number(String(h).replace(/%/g,""))},idCounter=1,EditableInput=(function(d){_inherits$6(h,d);function h(f){_classCallCheck$6(this,h);var y=_possibleConstructorReturn$6(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return y.handleBlur=function(){y.state.blurValue&&y.setState({value:y.state.blurValue,blurValue:null})},y.handleChange=function(g){y.setUpdatedValue(g.target.value,g)},y.handleKeyDown=function(g){var b=getNumberValue(g.target.value);if(!isNaN(b)&&isValidKeyCode(g.keyCode)){var v=y.getArrowOffset(),S=g.keyCode===UP_KEY_CODE?b+v:b-v;y.setUpdatedValue(S,g)}},y.handleDrag=function(g){if(y.props.dragLabel){var b=Math.round(y.props.value+g.movementX);b>=0&&b<=y.props.dragMax&&y.props.onChange&&y.props.onChange(y.getValueObjectWithLabel(b),g)}},y.handleMouseDown=function(g){y.props.dragLabel&&(g.preventDefault(),y.handleDrag(g),window.addEventListener("mousemove",y.handleDrag),window.addEventListener("mouseup",y.handleMouseUp))},y.handleMouseUp=function(){y.unbindEventListeners()},y.unbindEventListeners=function(){window.removeEventListener("mousemove",y.handleDrag),window.removeEventListener("mouseup",y.handleMouseUp)},y.state={value:String(f.value).toUpperCase(),blurValue:String(f.value).toUpperCase()},y.inputId="rc-editable-input-"+idCounter++,y}return _createClass$6(h,[{key:"componentDidUpdate",value:function(y,g){this.props.value!==this.state.value&&(y.value!==this.props.value||g.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(y){return _defineProperty({},this.props.label,y)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||DEFAULT_ARROW_OFFSET}},{key:"setUpdatedValue",value:function(y,g){var b=this.props.label?this.getValueObjectWithLabel(y):y;this.props.onChange&&this.props.onChange(b,g),this.setState({value:y})}},{key:"render",value:function(){var y=this,g=reactCSS({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return React.createElement("div",{style:g.wrap},React.createElement("input",{id:this.inputId,style:g.input,ref:function(v){return y.input=v},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?React.createElement("label",{htmlFor:this.inputId,style:g.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),h})(reactExports.PureComponent||reactExports.Component),calculateChange$1=function(h,f,y,g){var b=g.clientWidth,v=g.clientHeight,S=typeof h.pageX=="number"?h.pageX:h.touches[0].pageX,O=typeof h.pageY=="number"?h.pageY:h.touches[0].pageY,w=S-(g.getBoundingClientRect().left+window.pageXOffset),T=O-(g.getBoundingClientRect().top+window.pageYOffset);if(f==="vertical"){var E=void 0;if(T<0)E=359;else if(T>v)E=0;else{var k=-(T*100/v)+100;E=360*k/100}if(y.h!==E)return{h:E,s:y.s,l:y.l,a:y.a,source:"hsl"}}else{var C=void 0;if(w<0)C=0;else if(w>b)C=359;else{var P=w*100/b;C=360*P/100}if(y.h!==C)return{h:C,s:y.s,l:y.l,a:y.a,source:"hsl"}}return null},_createClass$5=(function(){function d(h,f){for(var y=0;y<f.length;y++){var g=f[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,f,y){return f&&d(h.prototype,f),y&&d(h,y),h}})();function _classCallCheck$5(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$5(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function _inherits$5(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var Hue=(function(d){_inherits$5(h,d);function h(){var f,y,g,b;_classCallCheck$5(this,h);for(var v=arguments.length,S=Array(v),O=0;O<v;O++)S[O]=arguments[O];return b=(y=(g=_possibleConstructorReturn$5(this,(f=h.__proto__||Object.getPrototypeOf(h)).call.apply(f,[this].concat(S))),g),g.handleChange=function(w){var T=calculateChange$1(w,g.props.direction,g.props.hsl,g.container);T&&typeof g.props.onChange=="function"&&g.props.onChange(T,w)},g.handleMouseDown=function(w){g.handleChange(w),window.addEventListener("mousemove",g.handleChange),window.addEventListener("mouseup",g.handleMouseUp)},g.handleMouseUp=function(){g.unbindEventListeners()},y),_possibleConstructorReturn$5(g,b)}return _createClass$5(h,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var y=this,g=this.props.direction,b=g===void 0?"horizontal":g,v=reactCSS({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:b==="vertical"});return React.createElement("div",{style:v.hue},React.createElement("div",{className:"hue-"+b,style:v.container,ref:function(O){return y.container=O},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},React.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),React.createElement("div",{style:v.pointer},this.props.pointer?React.createElement(this.props.pointer,this.props):React.createElement("div",{style:v.slider}))))}}]),h})(reactExports.PureComponent||reactExports.Component);function listCacheClear(){this.__data__=[],this.size=0}function eq(d,h){return d===h||d!==d&&h!==h}function assocIndexOf(d,h){for(var f=d.length;f--;)if(eq(d[f][0],h))return f;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(d){var h=this.__data__,f=assocIndexOf(h,d);if(f<0)return!1;var y=h.length-1;return f==y?h.pop():splice.call(h,f,1),--this.size,!0}function listCacheGet(d){var h=this.__data__,f=assocIndexOf(h,d);return f<0?void 0:h[f][1]}function listCacheHas(d){return assocIndexOf(this.__data__,d)>-1}function listCacheSet(d,h){var f=this.__data__,y=assocIndexOf(f,d);return y<0?(++this.size,f.push([d,h])):f[y][1]=h,this}function ListCache(d){var h=-1,f=d==null?0:d.length;for(this.clear();++h<f;){var y=d[h];this.set(y[0],y[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(d){var h=this.__data__,f=h.delete(d);return this.size=h.size,f}function stackGet(d){return this.__data__.get(d)}function stackHas(d){return this.__data__.has(d)}var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$e=Object.prototype,hasOwnProperty$b=objectProto$e.hasOwnProperty,nativeObjectToString$1=objectProto$e.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(d){var h=hasOwnProperty$b.call(d,symToStringTag$1),f=d[symToStringTag$1];try{d[symToStringTag$1]=void 0;var y=!0}catch(b){}var g=nativeObjectToString$1.call(d);return y&&(h?d[symToStringTag$1]=f:delete d[symToStringTag$1]),g}var objectProto$d=Object.prototype,nativeObjectToString=objectProto$d.toString;function objectToString(d){return nativeObjectToString.call(d)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(d){return d==null?d===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(d)?getRawTag(d):objectToString(d)}function isObject(d){var h=typeof d;return d!=null&&(h=="object"||h=="function")}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(d){if(!isObject(d))return!1;var h=baseGetTag(d);return h==funcTag$1||h==genTag||h==asyncTag||h==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=(function(){var d=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""})();function isMasked(d){return!!maskSrcKey&&maskSrcKey in d}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(d){if(d!=null){try{return funcToString$2.call(d)}catch(h){}try{return d+""}catch(h){}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$c=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$a=objectProto$c.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$a).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(d){if(!isObject(d)||isMasked(d))return!1;var h=isFunction(d)?reIsNative:reIsHostCtor;return h.test(toSource(d))}function getValue(d,h){return d==null?void 0:d[h]}function getNative(d,h){var f=getValue(d,h);return baseIsNative(f)?f:void 0}var Map$1=getNative(root,"Map"),nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(d){var h=this.has(d)&&delete this.__data__[d];return this.size-=h?1:0,h}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty;function hashGet(d){var h=this.__data__;if(nativeCreate){var f=h[d];return f===HASH_UNDEFINED$2?void 0:f}return hasOwnProperty$9.call(h,d)?h[d]:void 0}var objectProto$a=Object.prototype,hasOwnProperty$8=objectProto$a.hasOwnProperty;function hashHas(d){var h=this.__data__;return nativeCreate?h[d]!==void 0:hasOwnProperty$8.call(h,d)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(d,h){var f=this.__data__;return this.size+=this.has(d)?0:1,f[d]=nativeCreate&&h===void 0?HASH_UNDEFINED$1:h,this}function Hash(d){var h=-1,f=d==null?0:d.length;for(this.clear();++h<f;){var y=d[h];this.set(y[0],y[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(d){var h=typeof d;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?d!=="__proto__":d===null}function getMapData(d,h){var f=d.__data__;return isKeyable(h)?f[typeof h=="string"?"string":"hash"]:f.map}function mapCacheDelete(d){var h=getMapData(this,d).delete(d);return this.size-=h?1:0,h}function mapCacheGet(d){return getMapData(this,d).get(d)}function mapCacheHas(d){return getMapData(this,d).has(d)}function mapCacheSet(d,h){var f=getMapData(this,d),y=f.size;return f.set(d,h),this.size+=f.size==y?0:1,this}function MapCache(d){var h=-1,f=d==null?0:d.length;for(this.clear();++h<f;){var y=d[h];this.set(y[0],y[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var LARGE_ARRAY_SIZE=200;function stackSet(d,h){var f=this.__data__;if(f instanceof ListCache){var y=f.__data__;if(!Map$1||y.length<LARGE_ARRAY_SIZE-1)return y.push([d,h]),this.size=++f.size,this;f=this.__data__=new MapCache(y)}return f.set(d,h),this.size=f.size,this}function Stack(d){var h=this.__data__=new ListCache(d);this.size=h.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var defineProperty=(function(){try{var d=getNative(Object,"defineProperty");return d({},"",{}),d}catch(h){}})();function baseAssignValue(d,h,f){h=="__proto__"&&defineProperty?defineProperty(d,h,{configurable:!0,enumerable:!0,value:f,writable:!0}):d[h]=f}function assignMergeValue(d,h,f){(f!==void 0&&!eq(d[h],f)||f===void 0&&!(h in d))&&baseAssignValue(d,h,f)}function createBaseFor(d){return function(h,f,y){for(var g=-1,b=Object(h),v=y(h),S=v.length;S--;){var O=v[++g];if(f(b[O],O,b)===!1)break}return h}}var baseFor=createBaseFor(),freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root.Buffer:void 0;Buffer$2&&Buffer$2.allocUnsafe;function cloneBuffer(d,h){return d.slice()}var Uint8Array$1=root.Uint8Array;function cloneArrayBuffer(d){var h=new d.constructor(d.byteLength);return new Uint8Array$1(h).set(new Uint8Array$1(d)),h}function cloneTypedArray(d,h){var f=cloneArrayBuffer(d.buffer);return new d.constructor(f,d.byteOffset,d.length)}function copyArray(d,h){var f=-1,y=d.length;for(h||(h=Array(y));++f<y;)h[f]=d[f];return h}var objectCreate=Object.create,baseCreate=(function(){function d(){}return function(h){if(!isObject(h))return{};if(objectCreate)return objectCreate(h);d.prototype=h;var f=new d;return d.prototype=void 0,f}})();function overArg(d,h){return function(f){return d(h(f))}}var getPrototype=overArg(Object.getPrototypeOf,Object),objectProto$9=Object.prototype;function isPrototype(d){var h=d&&d.constructor,f=typeof h=="function"&&h.prototype||objectProto$9;return d===f}function initCloneObject(d){return typeof d.constructor=="function"&&!isPrototype(d)?baseCreate(getPrototype(d)):{}}function isObjectLike(d){return d!=null&&typeof d=="object"}var argsTag$2="[object Arguments]";function baseIsArguments(d){return isObjectLike(d)&&baseGetTag(d)==argsTag$2}var objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty,propertyIsEnumerable$1=objectProto$8.propertyIsEnumerable,isArguments=baseIsArguments((function(){return arguments})())?baseIsArguments:function(d){return isObjectLike(d)&&hasOwnProperty$7.call(d,"callee")&&!propertyIsEnumerable$1.call(d,"callee")},isArray=Array.isArray,MAX_SAFE_INTEGER$1=9007199254740991;function isLength(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=MAX_SAFE_INTEGER$1}function isArrayLike(d){return d!=null&&isLength(d.length)&&!isFunction(d)}function isArrayLikeObject(d){return isObjectLike(d)&&isArrayLike(d)}function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer$1=moduleExports$1?root.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,objectTag$3="[object Object]",funcProto=Function.prototype,objectProto$7=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$6=objectProto$7.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(d){if(!isObjectLike(d)||baseGetTag(d)!=objectTag$3)return!1;var h=getPrototype(d);if(h===null)return!0;var f=hasOwnProperty$6.call(h,"constructor")&&h.constructor;return typeof f=="function"&&f instanceof f&&funcToString.call(f)==objectCtorString}var argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$2="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$2]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$2]=typedArrayTags[stringTag$1]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(d){return isObjectLike(d)&&isLength(d.length)&&!!typedArrayTags[baseGetTag(d)]}function baseUnary(d){return function(h){return d(h)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=(function(){try{var d=freeModule&&freeModule.require&&freeModule.require("util").types;return d||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(h){}})(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function safeGet(d,h){if(!(h==="constructor"&&typeof d[h]=="function")&&h!="__proto__")return d[h]}var objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function assignValue(d,h,f){var y=d[h];(!(hasOwnProperty$5.call(d,h)&&eq(y,f))||f===void 0&&!(h in d))&&baseAssignValue(d,h,f)}function copyObject(d,h,f,y){var g=!f;f||(f={});for(var b=-1,v=h.length;++b<v;){var S=h[b],O=void 0;O===void 0&&(O=d[S]),g?baseAssignValue(f,S,O):assignValue(f,S,O)}return f}function baseTimes(d,h){for(var f=-1,y=Array(d);++f<d;)y[f]=h(f);return y}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(d,h){var f=typeof d;return h=h==null?MAX_SAFE_INTEGER:h,!!h&&(f=="number"||f!="symbol"&&reIsUint.test(d))&&d>-1&&d%1==0&&d<h}var objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function arrayLikeKeys(d,h){var f=isArray(d),y=!f&&isArguments(d),g=!f&&!y&&isBuffer(d),b=!f&&!y&&!g&&isTypedArray(d),v=f||y||g||b,S=v?baseTimes(d.length,String):[],O=S.length;for(var w in d)(h||hasOwnProperty$4.call(d,w))&&!(v&&(w=="length"||g&&(w=="offset"||w=="parent")||b&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||isIndex(w,O)))&&S.push(w);return S}function nativeKeysIn(d){var h=[];if(d!=null)for(var f in Object(d))h.push(f);return h}var objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function baseKeysIn(d){if(!isObject(d))return nativeKeysIn(d);var h=isPrototype(d),f=[];for(var y in d)y=="constructor"&&(h||!hasOwnProperty$3.call(d,y))||f.push(y);return f}function keysIn(d){return isArrayLike(d)?arrayLikeKeys(d,!0):baseKeysIn(d)}function toPlainObject(d){return copyObject(d,keysIn(d))}function baseMergeDeep(d,h,f,y,g,b,v){var S=safeGet(d,f),O=safeGet(h,f),w=v.get(O);if(w){assignMergeValue(d,f,w);return}var T=b?b(S,O,f+"",d,h,v):void 0,E=T===void 0;if(E){var k=isArray(O),C=!k&&isBuffer(O),P=!k&&!C&&isTypedArray(O);T=O,k||C||P?isArray(S)?T=S:isArrayLikeObject(S)?T=copyArray(S):C?(E=!1,T=cloneBuffer(O)):P?(E=!1,T=cloneTypedArray(O)):T=[]:isPlainObject(O)||isArguments(O)?(T=S,isArguments(S)?T=toPlainObject(S):(!isObject(S)||isFunction(S))&&(T=initCloneObject(O))):E=!1}E&&(v.set(O,T),g(T,O,y,b,v),v.delete(O)),assignMergeValue(d,f,T)}function baseMerge(d,h,f,y,g){d!==h&&baseFor(h,function(b,v){if(g||(g=new Stack),isObject(b))baseMergeDeep(d,h,v,f,baseMerge,y,g);else{var S=y?y(safeGet(d,v),b,v+"",d,h,g):void 0;S===void 0&&(S=b),assignMergeValue(d,v,S)}},keysIn)}function identity(d){return d}function apply(d,h,f){switch(f.length){case 0:return d.call(h);case 1:return d.call(h,f[0]);case 2:return d.call(h,f[0],f[1]);case 3:return d.call(h,f[0],f[1],f[2])}return d.apply(h,f)}var nativeMax$1=Math.max;function overRest(d,h,f){return h=nativeMax$1(h===void 0?d.length-1:h,0),function(){for(var y=arguments,g=-1,b=nativeMax$1(y.length-h,0),v=Array(b);++g<b;)v[g]=y[h+g];g=-1;for(var S=Array(h+1);++g<h;)S[g]=y[g];return S[h]=f(v),apply(d,this,S)}}function constant(d){return function(){return d}}var baseSetToString=defineProperty?function(d,h){return defineProperty(d,"toString",{configurable:!0,enumerable:!1,value:constant(h),writable:!0})}:identity,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(d){var h=0,f=0;return function(){var y=nativeNow(),g=HOT_SPAN-(y-f);if(f=y,g>0){if(++h>=HOT_COUNT)return arguments[0]}else h=0;return d.apply(void 0,arguments)}}var setToString=shortOut(baseSetToString);function baseRest(d,h){return setToString(overRest(d,h,identity),d+"")}function isIterateeCall(d,h,f){if(!isObject(f))return!1;var y=typeof h;return(y=="number"?isArrayLike(f)&&isIndex(h,f.length):y=="string"&&h in f)?eq(f[h],d):!1}function createAssigner(d){return baseRest(function(h,f){var y=-1,g=f.length,b=g>1?f[g-1]:void 0,v=g>2?f[2]:void 0;for(b=d.length>3&&typeof b=="function"?(g--,b):void 0,v&&isIterateeCall(f[0],f[1],v)&&(b=g<3?void 0:b,g=1),h=Object(h);++y<g;){var S=f[y];S&&d(h,S,y,b)}return h})}var merge=createAssigner(function(d,h,f){baseMerge(d,h,f)}),Raised=function(h){var f=h.zDepth,y=h.radius,g=h.background,b=h.children,v=h.styles,S=v===void 0?{}:v,O=reactCSS(merge({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+f+"px "+f*4+"px rgba(0,0,0,.24)",borderRadius:y,background:g}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},S),{"zDepth-1":f===1});return React.createElement("div",{style:O.wrap},React.createElement("div",{style:O.bg}),React.createElement("div",{style:O.content},b))};Raised.propTypes={background:PropTypes.string,zDepth:PropTypes.oneOf([0,1,2,3,4,5]),radius:PropTypes.number,styles:PropTypes.object};Raised.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var now=function(){return root.Date.now()},reWhitespace=/\s/;function trimmedEndIndex(d){for(var h=d.length;h--&&reWhitespace.test(d.charAt(h)););return h}var reTrimStart=/^\s+/;function baseTrim(d){return d&&d.slice(0,trimmedEndIndex(d)+1).replace(reTrimStart,"")}var symbolTag$1="[object Symbol]";function isSymbol(d){return typeof d=="symbol"||isObjectLike(d)&&baseGetTag(d)==symbolTag$1}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(d){if(typeof d=="number")return d;if(isSymbol(d))return NAN;if(isObject(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=isObject(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=baseTrim(d);var f=reIsBinary.test(d);return f||reIsOctal.test(d)?freeParseInt(d.slice(2),f?2:8):reIsBadHex.test(d)?NAN:+d}var FUNC_ERROR_TEXT$2="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(d,h,f){var y,g,b,v,S,O,w=0,T=!1,E=!1,k=!0;if(typeof d!="function")throw new TypeError(FUNC_ERROR_TEXT$2);h=toNumber(h)||0,isObject(f)&&(T=!!f.leading,E="maxWait"in f,b=E?nativeMax(toNumber(f.maxWait)||0,h):b,k="trailing"in f?!!f.trailing:k);function C(L){var U=y,z=g;return y=g=void 0,w=L,v=d.apply(z,U),v}function P(L){return w=L,S=setTimeout(D,h),T?C(L):v}function M(L){var U=L-O,z=L-w,V=h-U;return E?nativeMin(V,b-z):V}function A(L){var U=L-O,z=L-w;return O===void 0||U>=h||U<0||E&&z>=b}function D(){var L=now();if(A(L))return N(L);S=setTimeout(D,M(L))}function N(L){return S=void 0,k&&y?C(L):(y=g=void 0,v)}function j(){S!==void 0&&clearTimeout(S),w=0,y=O=g=S=void 0}function q(){return S===void 0?v:N(now())}function F(){var L=now(),U=A(L);if(y=arguments,g=this,O=L,U){if(S===void 0)return P(O);if(E)return clearTimeout(S),S=setTimeout(D,h),C(O)}return S===void 0&&(S=setTimeout(D,h)),v}return F.cancel=j,F.flush=q,F}var FUNC_ERROR_TEXT$1="Expected a function";function throttle(d,h,f){var y=!0,g=!0;if(typeof d!="function")throw new TypeError(FUNC_ERROR_TEXT$1);return isObject(f)&&(y="leading"in f?!!f.leading:y,g="trailing"in f?!!f.trailing:g),debounce(d,h,{leading:y,maxWait:h,trailing:g})}var calculateChange=function(h,f,y){var g=y.getBoundingClientRect(),b=g.width,v=g.height,S=typeof h.pageX=="number"?h.pageX:h.touches[0].pageX,O=typeof h.pageY=="number"?h.pageY:h.touches[0].pageY,w=S-(y.getBoundingClientRect().left+window.pageXOffset),T=O-(y.getBoundingClientRect().top+window.pageYOffset);w<0?w=0:w>b&&(w=b),T<0?T=0:T>v&&(T=v);var E=w/b,k=1-T/v;return{h:f.h,s:E,v:k,a:f.a,source:"hsv"}},_createClass$4=(function(){function d(h,f){for(var y=0;y<f.length;y++){var g=f[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,f,y){return f&&d(h.prototype,f),y&&d(h,y),h}})();function _classCallCheck$4(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$4(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function _inherits$4(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var Saturation=(function(d){_inherits$4(h,d);function h(f){_classCallCheck$4(this,h);var y=_possibleConstructorReturn$4(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,f));return y.handleChange=function(g){typeof y.props.onChange=="function"&&y.throttle(y.props.onChange,calculateChange(g,y.props.hsl,y.container),g)},y.handleMouseDown=function(g){y.handleChange(g);var b=y.getContainerRenderWindow();b.addEventListener("mousemove",y.handleChange),b.addEventListener("mouseup",y.handleMouseUp)},y.handleMouseUp=function(){y.unbindEventListeners()},y.throttle=throttle(function(g,b,v){g(b,v)},50),y}return _createClass$4(h,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var y=this.container,g=window;!g.document.contains(y)&&g.parent!==g;)g=g.parent;return g}},{key:"unbindEventListeners",value:function(){var y=this.getContainerRenderWindow();y.removeEventListener("mousemove",this.handleChange),y.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var y=this,g=this.props.style||{},b=g.color,v=g.white,S=g.black,O=g.pointer,w=g.circle,T=reactCSS({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:b,white:v,black:S,pointer:O,circle:w}},{custom:!!this.props.style});return React.createElement("div",{style:T.color,ref:function(k){return y.container=k},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},React.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),React.createElement("div",{style:T.white,className:"saturation-white"},React.createElement("div",{style:T.black,className:"saturation-black"}),React.createElement("div",{style:T.pointer},this.props.pointer?React.createElement(this.props.pointer,this.props):React.createElement("div",{style:T.circle}))))}}]),h})(reactExports.PureComponent||reactExports.Component);function arrayEach(d,h){for(var f=-1,y=d==null?0:d.length;++f<y&&h(d[f],f,d)!==!1;);return d}var nativeKeys=overArg(Object.keys,Object),objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function baseKeys(d){if(!isPrototype(d))return nativeKeys(d);var h=[];for(var f in Object(d))hasOwnProperty$2.call(d,f)&&f!="constructor"&&h.push(f);return h}function keys(d){return isArrayLike(d)?arrayLikeKeys(d):baseKeys(d)}function baseForOwn(d,h){return d&&baseFor(d,h,keys)}function createBaseEach(d,h){return function(f,y){if(f==null)return f;if(!isArrayLike(f))return d(f,y);for(var g=f.length,b=-1,v=Object(f);++b<g&&y(v[b],b,v)!==!1;);return f}}var baseEach=createBaseEach(baseForOwn);function castFunction(d){return typeof d=="function"?d:identity}function forEach(d,h){var f=isArray(d)?arrayEach:baseEach;return f(d,castFunction(h))}function _typeof(d){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},_typeof(d)}var trimLeft=/^\s+/,trimRight=/\s+$/;function tinycolor(d,h){if(d=d||"",h=h||{},d instanceof tinycolor)return d;if(!(this instanceof tinycolor))return new tinycolor(d,h);var f=inputToRGB(d);this._originalInput=d,this._r=f.r,this._g=f.g,this._b=f.b,this._a=f.a,this._roundA=Math.round(100*this._a)/100,this._format=h.format||f.format,this._gradientType=h.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=f.ok}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var h=this.toRgb();return(h.r*299+h.g*587+h.b*114)/1e3},getLuminance:function(){var h=this.toRgb(),f,y,g,b,v,S;return f=h.r/255,y=h.g/255,g=h.b/255,f<=.03928?b=f/12.92:b=Math.pow((f+.055)/1.055,2.4),y<=.03928?v=y/12.92:v=Math.pow((y+.055)/1.055,2.4),g<=.03928?S=g/12.92:S=Math.pow((g+.055)/1.055,2.4),.2126*b+.7152*v+.0722*S},setAlpha:function(h){return this._a=boundAlpha(h),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var h=rgbToHsv(this._r,this._g,this._b);return{h:h.h*360,s:h.s,v:h.v,a:this._a}},toHsvString:function(){var h=rgbToHsv(this._r,this._g,this._b),f=Math.round(h.h*360),y=Math.round(h.s*100),g=Math.round(h.v*100);return this._a==1?"hsv("+f+", "+y+"%, "+g+"%)":"hsva("+f+", "+y+"%, "+g+"%, "+this._roundA+")"},toHsl:function(){var h=rgbToHsl(this._r,this._g,this._b);return{h:h.h*360,s:h.s,l:h.l,a:this._a}},toHslString:function(){var h=rgbToHsl(this._r,this._g,this._b),f=Math.round(h.h*360),y=Math.round(h.s*100),g=Math.round(h.l*100);return this._a==1?"hsl("+f+", "+y+"%, "+g+"%)":"hsla("+f+", "+y+"%, "+g+"%, "+this._roundA+")"},toHex:function(h){return rgbToHex(this._r,this._g,this._b,h)},toHexString:function(h){return"#"+this.toHex(h)},toHex8:function(h){return rgbaToHex(this._r,this._g,this._b,this._a,h)},toHex8String:function(h){return"#"+this.toHex8(h)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(bound01(this._r,255)*100)+"%",g:Math.round(bound01(this._g,255)*100)+"%",b:Math.round(bound01(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(bound01(this._r,255)*100)+"%, "+Math.round(bound01(this._g,255)*100)+"%, "+Math.round(bound01(this._b,255)*100)+"%)":"rgba("+Math.round(bound01(this._r,255)*100)+"%, "+Math.round(bound01(this._g,255)*100)+"%, "+Math.round(bound01(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1},toFilter:function(h){var f="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),y=f,g=this._gradientType?"GradientType = 1, ":"";if(h){var b=tinycolor(h);y="#"+rgbaToArgbHex(b._r,b._g,b._b,b._a)}return"progid:DXImageTransform.Microsoft.gradient("+g+"startColorstr="+f+",endColorstr="+y+")"},toString:function(h){var f=!!h;h=h||this._format;var y=!1,g=this._a<1&&this._a>=0,b=!f&&g&&(h==="hex"||h==="hex6"||h==="hex3"||h==="hex4"||h==="hex8"||h==="name");return b?h==="name"&&this._a===0?this.toName():this.toRgbString():(h==="rgb"&&(y=this.toRgbString()),h==="prgb"&&(y=this.toPercentageRgbString()),(h==="hex"||h==="hex6")&&(y=this.toHexString()),h==="hex3"&&(y=this.toHexString(!0)),h==="hex4"&&(y=this.toHex8String(!0)),h==="hex8"&&(y=this.toHex8String()),h==="name"&&(y=this.toName()),h==="hsl"&&(y=this.toHslString()),h==="hsv"&&(y=this.toHsvString()),y||this.toHexString())},clone:function(){return tinycolor(this.toString())},_applyModification:function(h,f){var y=h.apply(null,[this].concat([].slice.call(f)));return this._r=y._r,this._g=y._g,this._b=y._b,this.setAlpha(y._a),this},lighten:function(){return this._applyModification(_lighten,arguments)},brighten:function(){return this._applyModification(_brighten,arguments)},darken:function(){return this._applyModification(_darken,arguments)},desaturate:function(){return this._applyModification(_desaturate,arguments)},saturate:function(){return this._applyModification(_saturate,arguments)},greyscale:function(){return this._applyModification(_greyscale,arguments)},spin:function(){return this._applyModification(_spin,arguments)},_applyCombination:function(h,f){return h.apply(null,[this].concat([].slice.call(f)))},analogous:function(){return this._applyCombination(_analogous,arguments)},complement:function(){return this._applyCombination(_complement,arguments)},monochromatic:function(){return this._applyCombination(_monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(_splitcomplement,arguments)},triad:function(){return this._applyCombination(polyad,[3])},tetrad:function(){return this._applyCombination(polyad,[4])}};tinycolor.fromRatio=function(d,h){if(_typeof(d)=="object"){var f={};for(var y in d)d.hasOwnProperty(y)&&(y==="a"?f[y]=d[y]:f[y]=convertToPercentage(d[y]));d=f}return tinycolor(d,h)};function inputToRGB(d){var h={r:0,g:0,b:0},f=1,y=null,g=null,b=null,v=!1,S=!1;return typeof d=="string"&&(d=stringInputToObject(d)),_typeof(d)=="object"&&(isValidCSSUnit(d.r)&&isValidCSSUnit(d.g)&&isValidCSSUnit(d.b)?(h=rgbToRgb(d.r,d.g,d.b),v=!0,S=String(d.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(d.h)&&isValidCSSUnit(d.s)&&isValidCSSUnit(d.v)?(y=convertToPercentage(d.s),g=convertToPercentage(d.v),h=hsvToRgb(d.h,y,g),v=!0,S="hsv"):isValidCSSUnit(d.h)&&isValidCSSUnit(d.s)&&isValidCSSUnit(d.l)&&(y=convertToPercentage(d.s),b=convertToPercentage(d.l),h=hslToRgb(d.h,y,b),v=!0,S="hsl"),d.hasOwnProperty("a")&&(f=d.a)),f=boundAlpha(f),{ok:v,format:d.format||S,r:Math.min(255,Math.max(h.r,0)),g:Math.min(255,Math.max(h.g,0)),b:Math.min(255,Math.max(h.b,0)),a:f}}function rgbToRgb(d,h,f){return{r:bound01(d,255)*255,g:bound01(h,255)*255,b:bound01(f,255)*255}}function rgbToHsl(d,h,f){d=bound01(d,255),h=bound01(h,255),f=bound01(f,255);var y=Math.max(d,h,f),g=Math.min(d,h,f),b,v,S=(y+g)/2;if(y==g)b=v=0;else{var O=y-g;switch(v=S>.5?O/(2-y-g):O/(y+g),y){case d:b=(h-f)/O+(h<f?6:0);break;case h:b=(f-d)/O+2;break;case f:b=(d-h)/O+4;break}b/=6}return{h:b,s:v,l:S}}function hslToRgb(d,h,f){var y,g,b;d=bound01(d,360),h=bound01(h,100),f=bound01(f,100);function v(w,T,E){return E<0&&(E+=1),E>1&&(E-=1),E<1/6?w+(T-w)*6*E:E<1/2?T:E<2/3?w+(T-w)*(2/3-E)*6:w}if(h===0)y=g=b=f;else{var S=f<.5?f*(1+h):f+h-f*h,O=2*f-S;y=v(O,S,d+1/3),g=v(O,S,d),b=v(O,S,d-1/3)}return{r:y*255,g:g*255,b:b*255}}function rgbToHsv(d,h,f){d=bound01(d,255),h=bound01(h,255),f=bound01(f,255);var y=Math.max(d,h,f),g=Math.min(d,h,f),b,v,S=y,O=y-g;if(v=y===0?0:O/y,y==g)b=0;else{switch(y){case d:b=(h-f)/O+(h<f?6:0);break;case h:b=(f-d)/O+2;break;case f:b=(d-h)/O+4;break}b/=6}return{h:b,s:v,v:S}}function hsvToRgb(d,h,f){d=bound01(d,360)*6,h=bound01(h,100),f=bound01(f,100);var y=Math.floor(d),g=d-y,b=f*(1-h),v=f*(1-g*h),S=f*(1-(1-g)*h),O=y%6,w=[f,v,b,b,S,f][O],T=[S,f,f,v,b,b][O],E=[b,b,S,f,f,v][O];return{r:w*255,g:T*255,b:E*255}}function rgbToHex(d,h,f,y){var g=[pad2(Math.round(d).toString(16)),pad2(Math.round(h).toString(16)),pad2(Math.round(f).toString(16))];return y&&g[0].charAt(0)==g[0].charAt(1)&&g[1].charAt(0)==g[1].charAt(1)&&g[2].charAt(0)==g[2].charAt(1)?g[0].charAt(0)+g[1].charAt(0)+g[2].charAt(0):g.join("")}function rgbaToHex(d,h,f,y,g){var b=[pad2(Math.round(d).toString(16)),pad2(Math.round(h).toString(16)),pad2(Math.round(f).toString(16)),pad2(convertDecimalToHex(y))];return g&&b[0].charAt(0)==b[0].charAt(1)&&b[1].charAt(0)==b[1].charAt(1)&&b[2].charAt(0)==b[2].charAt(1)&&b[3].charAt(0)==b[3].charAt(1)?b[0].charAt(0)+b[1].charAt(0)+b[2].charAt(0)+b[3].charAt(0):b.join("")}function rgbaToArgbHex(d,h,f,y){var g=[pad2(convertDecimalToHex(y)),pad2(Math.round(d).toString(16)),pad2(Math.round(h).toString(16)),pad2(Math.round(f).toString(16))];return g.join("")}tinycolor.equals=function(d,h){return!d||!h?!1:tinycolor(d).toRgbString()==tinycolor(h).toRgbString()};tinycolor.random=function(){return tinycolor.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function _desaturate(d,h){h=h===0?0:h||10;var f=tinycolor(d).toHsl();return f.s-=h/100,f.s=clamp01(f.s),tinycolor(f)}function _saturate(d,h){h=h===0?0:h||10;var f=tinycolor(d).toHsl();return f.s+=h/100,f.s=clamp01(f.s),tinycolor(f)}function _greyscale(d){return tinycolor(d).desaturate(100)}function _lighten(d,h){h=h===0?0:h||10;var f=tinycolor(d).toHsl();return f.l+=h/100,f.l=clamp01(f.l),tinycolor(f)}function _brighten(d,h){h=h===0?0:h||10;var f=tinycolor(d).toRgb();return f.r=Math.max(0,Math.min(255,f.r-Math.round(255*-(h/100)))),f.g=Math.max(0,Math.min(255,f.g-Math.round(255*-(h/100)))),f.b=Math.max(0,Math.min(255,f.b-Math.round(255*-(h/100)))),tinycolor(f)}function _darken(d,h){h=h===0?0:h||10;var f=tinycolor(d).toHsl();return f.l-=h/100,f.l=clamp01(f.l),tinycolor(f)}function _spin(d,h){var f=tinycolor(d).toHsl(),y=(f.h+h)%360;return f.h=y<0?360+y:y,tinycolor(f)}function _complement(d){var h=tinycolor(d).toHsl();return h.h=(h.h+180)%360,tinycolor(h)}function polyad(d,h){if(isNaN(h)||h<=0)throw new Error("Argument to polyad must be a positive number");for(var f=tinycolor(d).toHsl(),y=[tinycolor(d)],g=360/h,b=1;b<h;b++)y.push(tinycolor({h:(f.h+b*g)%360,s:f.s,l:f.l}));return y}function _splitcomplement(d){var h=tinycolor(d).toHsl(),f=h.h;return[tinycolor(d),tinycolor({h:(f+72)%360,s:h.s,l:h.l}),tinycolor({h:(f+216)%360,s:h.s,l:h.l})]}function _analogous(d,h,f){h=h||6,f=f||30;var y=tinycolor(d).toHsl(),g=360/f,b=[tinycolor(d)];for(y.h=(y.h-(g*h>>1)+720)%360;--h;)y.h=(y.h+g)%360,b.push(tinycolor(y));return b}function _monochromatic(d,h){h=h||6;for(var f=tinycolor(d).toHsv(),y=f.h,g=f.s,b=f.v,v=[],S=1/h;h--;)v.push(tinycolor({h:y,s:g,v:b})),b=(b+S)%1;return v}tinycolor.mix=function(d,h,f){f=f===0?0:f||50;var y=tinycolor(d).toRgb(),g=tinycolor(h).toRgb(),b=f/100,v={r:(g.r-y.r)*b+y.r,g:(g.g-y.g)*b+y.g,b:(g.b-y.b)*b+y.b,a:(g.a-y.a)*b+y.a};return tinycolor(v)};tinycolor.readability=function(d,h){var f=tinycolor(d),y=tinycolor(h);return(Math.max(f.getLuminance(),y.getLuminance())+.05)/(Math.min(f.getLuminance(),y.getLuminance())+.05)};tinycolor.isReadable=function(d,h,f){var y=tinycolor.readability(d,h),g,b;switch(b=!1,g=validateWCAG2Parms(f),g.level+g.size){case"AAsmall":case"AAAlarge":b=y>=4.5;break;case"AAlarge":b=y>=3;break;case"AAAsmall":b=y>=7;break}return b};tinycolor.mostReadable=function(d,h,f){var y=null,g=0,b,v,S,O;f=f||{},v=f.includeFallbackColors,S=f.level,O=f.size;for(var w=0;w<h.length;w++)b=tinycolor.readability(d,h[w]),b>g&&(g=b,y=tinycolor(h[w]));return tinycolor.isReadable(d,y,{level:S,size:O})||!v?y:(f.includeFallbackColors=!1,tinycolor.mostReadable(d,["#fff","#000"],f))};var names$1=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=flip(names$1);function flip(d){var h={};for(var f in d)d.hasOwnProperty(f)&&(h[d[f]]=f);return h}function boundAlpha(d){return d=parseFloat(d),(isNaN(d)||d<0||d>1)&&(d=1),d}function bound01(d,h){isOnePointZero(d)&&(d="100%");var f=isPercentage(d);return d=Math.min(h,Math.max(0,parseFloat(d))),f&&(d=parseInt(d*h,10)/100),Math.abs(d-h)<1e-6?1:d%h/parseFloat(h)}function clamp01(d){return Math.min(1,Math.max(0,d))}function parseIntFromHex(d){return parseInt(d,16)}function isOnePointZero(d){return typeof d=="string"&&d.indexOf(".")!=-1&&parseFloat(d)===1}function isPercentage(d){return typeof d=="string"&&d.indexOf("%")!=-1}function pad2(d){return d.length==1?"0"+d:""+d}function convertToPercentage(d){return d<=1&&(d=d*100+"%"),d}function convertDecimalToHex(d){return Math.round(parseFloat(d)*255).toString(16)}function convertHexToDecimal(d){return parseIntFromHex(d)/255}var matchers=(function(){var d="[-\\+]?\\d+%?",h="[-\\+]?\\d*\\.\\d+%?",f="(?:"+h+")|(?:"+d+")",y="[\\s|\\(]+("+f+")[,|\\s]+("+f+")[,|\\s]+("+f+")\\s*\\)?",g="[\\s|\\(]+("+f+")[,|\\s]+("+f+")[,|\\s]+("+f+")[,|\\s]+("+f+")\\s*\\)?";return{CSS_UNIT:new RegExp(f),rgb:new RegExp("rgb"+y),rgba:new RegExp("rgba"+g),hsl:new RegExp("hsl"+y),hsla:new RegExp("hsla"+g),hsv:new RegExp("hsv"+y),hsva:new RegExp("hsva"+g),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function isValidCSSUnit(d){return!!matchers.CSS_UNIT.exec(d)}function stringInputToObject(d){d=d.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var h=!1;if(names$1[d])d=names$1[d],h=!0;else if(d=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var f;return(f=matchers.rgb.exec(d))?{r:f[1],g:f[2],b:f[3]}:(f=matchers.rgba.exec(d))?{r:f[1],g:f[2],b:f[3],a:f[4]}:(f=matchers.hsl.exec(d))?{h:f[1],s:f[2],l:f[3]}:(f=matchers.hsla.exec(d))?{h:f[1],s:f[2],l:f[3],a:f[4]}:(f=matchers.hsv.exec(d))?{h:f[1],s:f[2],v:f[3]}:(f=matchers.hsva.exec(d))?{h:f[1],s:f[2],v:f[3],a:f[4]}:(f=matchers.hex8.exec(d))?{r:parseIntFromHex(f[1]),g:parseIntFromHex(f[2]),b:parseIntFromHex(f[3]),a:convertHexToDecimal(f[4]),format:h?"name":"hex8"}:(f=matchers.hex6.exec(d))?{r:parseIntFromHex(f[1]),g:parseIntFromHex(f[2]),b:parseIntFromHex(f[3]),format:h?"name":"hex"}:(f=matchers.hex4.exec(d))?{r:parseIntFromHex(f[1]+""+f[1]),g:parseIntFromHex(f[2]+""+f[2]),b:parseIntFromHex(f[3]+""+f[3]),a:convertHexToDecimal(f[4]+""+f[4]),format:h?"name":"hex8"}:(f=matchers.hex3.exec(d))?{r:parseIntFromHex(f[1]+""+f[1]),g:parseIntFromHex(f[2]+""+f[2]),b:parseIntFromHex(f[3]+""+f[3]),format:h?"name":"hex"}:!1}function validateWCAG2Parms(d){var h,f;return d=d||{level:"AA",size:"small"},h=(d.level||"AA").toUpperCase(),f=(d.size||"small").toLowerCase(),h!=="AA"&&h!=="AAA"&&(h="AA"),f!=="small"&&f!=="large"&&(f="small"),{level:h,size:f}}var simpleCheckForValidColor=function(h){var f=["r","g","b","a","h","s","l","v"],y=0,g=0;return forEach(f,function(b){if(h[b]&&(y+=1,isNaN(h[b])||(g+=1),b==="s"||b==="l")){var v=/^\d+%$/;v.test(h[b])&&(g+=1)}}),y===g?h:!1},toState=function(h,f){var y=h.hex?tinycolor(h.hex):tinycolor(h),g=y.toHsl(),b=y.toHsv(),v=y.toRgb(),S=y.toHex();g.s===0&&(g.h=f||0,b.h=f||0);var O=S==="000000"&&v.a===0;return{hsl:g,hex:O?"transparent":"#"+S,rgb:v,hsv:b,oldHue:h.h||f||g.h,source:h.source}},isValidHex=function(h){if(h==="transparent")return!0;var f=String(h).charAt(0)==="#"?1:0;return h.length!==4+f&&h.length<7+f&&tinycolor(h).isValid()},getContrastingColor=function(h){if(!h)return"#fff";var f=toState(h);if(f.hex==="transparent")return"rgba(0,0,0,0.4)";var y=(f.rgb.r*299+f.rgb.g*587+f.rgb.b*114)/1e3;return y>=128?"#000":"#fff"},isvalidColorString=function(h,f){var y=h.replace("","");return tinycolor(f+" ("+y+")")._ok},_extends$6=Object.assign||function(d){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(d[y]=f[y])}return d},_createClass$3=(function(){function d(h,f){for(var y=0;y<f.length;y++){var g=f[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,f,y){return f&&d(h.prototype,f),y&&d(h,y),h}})();function _classCallCheck$3(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$3(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function _inherits$3(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var ColorWrap=function(h){var f=(function(y){_inherits$3(g,y);function g(b){_classCallCheck$3(this,g);var v=_possibleConstructorReturn$3(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));return v.handleChange=function(S,O){var w=simpleCheckForValidColor(S);if(w){var T=toState(S,S.h||v.state.oldHue);v.setState(T),v.props.onChangeComplete&&v.debounce(v.props.onChangeComplete,T,O),v.props.onChange&&v.props.onChange(T,O)}},v.handleSwatchHover=function(S,O){var w=simpleCheckForValidColor(S);if(w){var T=toState(S,S.h||v.state.oldHue);v.props.onSwatchHover&&v.props.onSwatchHover(T,O)}},v.state=_extends$6({},toState(b.color,0)),v.debounce=debounce(function(S,O,w){S(O,w)},100),v}return _createClass$3(g,[{key:"render",value:function(){var v={};return this.props.onSwatchHover&&(v.onSwatchHover=this.handleSwatchHover),React.createElement(h,_extends$6({},this.props,this.state,{onChange:this.handleChange},v))}}],[{key:"getDerivedStateFromProps",value:function(v,S){return _extends$6({},toState(v.color,S.oldHue))}}]),g})(reactExports.PureComponent||reactExports.Component);return f.propTypes=_extends$6({},h.propTypes),f.defaultProps=_extends$6({},h.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),f},_extends$5=Object.assign||function(d){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(d[y]=f[y])}return d},_createClass$2=(function(){function d(h,f){for(var y=0;y<f.length;y++){var g=f[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,f,y){return f&&d(h.prototype,f),y&&d(h,y),h}})();function _classCallCheck$2(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$2(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function _inherits$2(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var handleFocus=function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(y){_inherits$2(g,y);function g(){var b,v,S,O;_classCallCheck$2(this,g);for(var w=arguments.length,T=Array(w),E=0;E<w;E++)T[E]=arguments[E];return O=(v=(S=_possibleConstructorReturn$2(this,(b=g.__proto__||Object.getPrototypeOf(g)).call.apply(b,[this].concat(T))),S),S.state={focus:!1},S.handleFocus=function(){return S.setState({focus:!0})},S.handleBlur=function(){return S.setState({focus:!1})},v),_possibleConstructorReturn$2(S,O)}return _createClass$2(g,[{key:"render",value:function(){return React.createElement(f,{onFocus:this.handleFocus,onBlur:this.handleBlur},React.createElement(h,_extends$5({},this.props,this.state)))}}]),g})(React.Component)},_extends$4=Object.assign||function(d){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(d[y]=f[y])}return d},ENTER=13,Swatch=function(h){var f=h.color,y=h.style,g=h.onClick,b=g===void 0?function(){}:g,v=h.onHover,S=h.title,O=S===void 0?f:S,w=h.children,T=h.focus,E=h.focusStyle,k=E===void 0?{}:E,C=f==="transparent",P=reactCSS({default:{swatch:_extends$4({background:f,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},y,T?k:{})}}),M=function(q){return b(f,q)},A=function(q){return q.keyCode===ENTER&&b(f,q)},D=function(q){return v(f,q)},N={};return v&&(N.onMouseOver=D),React.createElement("div",_extends$4({style:P.swatch,onClick:M,title:O,tabIndex:0,onKeyDown:A},N),w,C&&React.createElement(Checkboard,{borderRadius:P.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Swatch$1=handleFocus(Swatch);var AlphaPointer=function(h){var f=h.direction,y=reactCSS({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:f==="vertical"});return React.createElement("div",{style:y.picker})},_extends$3=Object.assign||function(d){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(d[y]=f[y])}return d},AlphaPicker=function(h){var f=h.rgb,y=h.hsl,g=h.width,b=h.height,v=h.onChange,S=h.direction,O=h.style,w=h.renderers,T=h.pointer,E=h.className,k=E===void 0?"":E,C=reactCSS({default:{picker:{position:"relative",width:g,height:b},alpha:{radius:"2px",style:O}}});return React.createElement("div",{style:C.picker,className:"alpha-picker "+k},React.createElement(Alpha,_extends$3({},C.alpha,{rgb:f,hsl:y,pointer:T,renderers:w,onChange:v,direction:S})))};AlphaPicker.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:AlphaPointer};ColorWrap(AlphaPicker);function arrayMap(d,h){for(var f=-1,y=d==null?0:d.length,g=Array(y);++f<y;)g[f]=h(d[f],f,d);return g}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(d){return this.__data__.set(d,HASH_UNDEFINED),this}function setCacheHas(d){return this.__data__.has(d)}function SetCache(d){var h=-1,f=d==null?0:d.length;for(this.__data__=new MapCache;++h<f;)this.add(d[h])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(d,h){for(var f=-1,y=d==null?0:d.length;++f<y;)if(h(d[f],f,d))return!0;return!1}function cacheHas(d,h){return d.has(h)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(d,h,f,y,g,b){var v=f&COMPARE_PARTIAL_FLAG$5,S=d.length,O=h.length;if(S!=O&&!(v&&O>S))return!1;var w=b.get(d),T=b.get(h);if(w&&T)return w==h&&T==d;var E=-1,k=!0,C=f&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(b.set(d,h),b.set(h,d);++E<S;){var P=d[E],M=h[E];if(y)var A=v?y(M,P,E,h,d,b):y(P,M,E,d,h,b);if(A!==void 0){if(A)continue;k=!1;break}if(C){if(!arraySome(h,function(D,N){if(!cacheHas(C,N)&&(P===D||g(P,D,f,y,b)))return C.push(N)})){k=!1;break}}else if(!(P===M||g(P,M,f,y,b))){k=!1;break}}return b.delete(d),b.delete(h),k}function mapToArray(d){var h=-1,f=Array(d.size);return d.forEach(function(y,g){f[++h]=[g,y]}),f}function setToArray(d){var h=-1,f=Array(d.size);return d.forEach(function(y){f[++h]=y}),f}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag$1="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto$1?symbolProto$1.valueOf:void 0;function equalByTag(d,h,f,y,g,b,v){switch(f){case dataViewTag$1:if(d.byteLength!=h.byteLength||d.byteOffset!=h.byteOffset)return!1;d=d.buffer,h=h.buffer;case arrayBufferTag:return!(d.byteLength!=h.byteLength||!b(new Uint8Array$1(d),new Uint8Array$1(h)));case boolTag:case dateTag:case numberTag:return eq(+d,+h);case errorTag:return d.name==h.name&&d.message==h.message;case regexpTag:case stringTag:return d==h+"";case mapTag$1:var S=mapToArray;case setTag$1:var O=y&COMPARE_PARTIAL_FLAG$4;if(S||(S=setToArray),d.size!=h.size&&!O)return!1;var w=v.get(d);if(w)return w==h;y|=COMPARE_UNORDERED_FLAG$2,v.set(d,h);var T=equalArrays(S(d),S(h),y,g,b,v);return v.delete(d),T;case symbolTag:if(symbolValueOf)return symbolValueOf.call(d)==symbolValueOf.call(h)}return!1}function arrayPush(d,h){for(var f=-1,y=h.length,g=d.length;++f<y;)d[g+f]=h[f];return d}function baseGetAllKeys(d,h,f){var y=h(d);return isArray(d)?y:arrayPush(y,f(d))}function arrayFilter(d,h){for(var f=-1,y=d==null?0:d.length,g=0,b=[];++f<y;){var v=d[f];h(v,f,d)&&(b[g++]=v)}return b}function stubArray(){return[]}var objectProto$2=Object.prototype,propertyIsEnumerable=objectProto$2.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(d){return d==null?[]:(d=Object(d),arrayFilter(nativeGetSymbols(d),function(h){return propertyIsEnumerable.call(d,h)}))}:stubArray;function getAllKeys(d){return baseGetAllKeys(d,keys,getSymbols)}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects(d,h,f,y,g,b){var v=f&COMPARE_PARTIAL_FLAG$3,S=getAllKeys(d),O=S.length,w=getAllKeys(h),T=w.length;if(O!=T&&!v)return!1;for(var E=O;E--;){var k=S[E];if(!(v?k in h:hasOwnProperty$1.call(h,k)))return!1}var C=b.get(d),P=b.get(h);if(C&&P)return C==h&&P==d;var M=!0;b.set(d,h),b.set(h,d);for(var A=v;++E<O;){k=S[E];var D=d[k],N=h[k];if(y)var j=v?y(N,D,k,h,d,b):y(D,N,k,d,h,b);if(!(j===void 0?D===N||g(D,N,f,y,b):j)){M=!1;break}A||(A=k=="constructor")}if(M&&!A){var q=d.constructor,F=h.constructor;q!=F&&"constructor"in d&&"constructor"in h&&!(typeof q=="function"&&q instanceof q&&typeof F=="function"&&F instanceof F)&&(M=!1)}return b.delete(d),b.delete(h),M}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),WeakMap$1=getNative(root,"WeakMap"),mapTag="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag(new Map$1)!=mapTag||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag)&&(getTag=function(d){var h=baseGetTag(d),f=h==objectTag$1?d.constructor:void 0,y=f?toSource(f):"";if(y)switch(y){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return h});var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep(d,h,f,y,g,b){var v=isArray(d),S=isArray(h),O=v?arrayTag:getTag(d),w=S?arrayTag:getTag(h);O=O==argsTag?objectTag:O,w=w==argsTag?objectTag:w;var T=O==objectTag,E=w==objectTag,k=O==w;if(k&&isBuffer(d)){if(!isBuffer(h))return!1;v=!0,T=!1}if(k&&!T)return b||(b=new Stack),v||isTypedArray(d)?equalArrays(d,h,f,y,g,b):equalByTag(d,h,O,f,y,g,b);if(!(f&COMPARE_PARTIAL_FLAG$2)){var C=T&&hasOwnProperty.call(d,"__wrapped__"),P=E&&hasOwnProperty.call(h,"__wrapped__");if(C||P){var M=C?d.value():d,A=P?h.value():h;return b||(b=new Stack),g(M,A,f,y,b)}}return k?(b||(b=new Stack),equalObjects(d,h,f,y,g,b)):!1}function baseIsEqual(d,h,f,y,g){return d===h?!0:d==null||h==null||!isObjectLike(d)&&!isObjectLike(h)?d!==d&&h!==h:baseIsEqualDeep(d,h,f,y,baseIsEqual,g)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(d,h,f,y){var g=f.length,b=g;if(d==null)return!b;for(d=Object(d);g--;){var v=f[g];if(v[2]?v[1]!==d[v[0]]:!(v[0]in d))return!1}for(;++g<b;){v=f[g];var S=v[0],O=d[S],w=v[1];if(v[2]){if(O===void 0&&!(S in d))return!1}else{var T=new Stack,E;if(!(E===void 0?baseIsEqual(w,O,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,y,T):E))return!1}}return!0}function isStrictComparable(d){return d===d&&!isObject(d)}function getMatchData(d){for(var h=keys(d),f=h.length;f--;){var y=h[f],g=d[y];h[f]=[y,g,isStrictComparable(g)]}return h}function matchesStrictComparable(d,h){return function(f){return f==null?!1:f[d]===h&&(h!==void 0||d in Object(f))}}function baseMatches(d){var h=getMatchData(d);return h.length==1&&h[0][2]?matchesStrictComparable(h[0][0],h[0][1]):function(f){return f===d||baseIsMatch(f,d,h)}}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(d,h){if(isArray(d))return!1;var f=typeof d;return f=="number"||f=="symbol"||f=="boolean"||d==null||isSymbol(d)?!0:reIsPlainProp.test(d)||!reIsDeepProp.test(d)||h!=null&&d in Object(h)}var FUNC_ERROR_TEXT="Expected a function";function memoize(d,h){if(typeof d!="function"||h!=null&&typeof h!="function")throw new TypeError(FUNC_ERROR_TEXT);var f=function(){var y=arguments,g=h?h.apply(this,y):y[0],b=f.cache;if(b.has(g))return b.get(g);var v=d.apply(this,y);return f.cache=b.set(g,v)||b,v};return f.cache=new(memoize.Cache||MapCache),f}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(d){var h=memoize(d,function(y){return f.size===MAX_MEMOIZE_SIZE&&f.clear(),y}),f=h.cache;return h}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(d){var h=[];return d.charCodeAt(0)===46&&h.push(""),d.replace(rePropName,function(f,y,g,b){h.push(g?b.replace(reEscapeChar,"$1"):y||f)}),h}),symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(d){if(typeof d=="string")return d;if(isArray(d))return arrayMap(d,baseToString)+"";if(isSymbol(d))return symbolToString?symbolToString.call(d):"";var h=d+"";return h=="0"&&1/d==-1/0?"-0":h}function toString(d){return d==null?"":baseToString(d)}function castPath(d,h){return isArray(d)?d:isKey(d,h)?[d]:stringToPath(toString(d))}function toKey(d){if(typeof d=="string"||isSymbol(d))return d;var h=d+"";return h=="0"&&1/d==-1/0?"-0":h}function baseGet(d,h){h=castPath(h,d);for(var f=0,y=h.length;d!=null&&f<y;)d=d[toKey(h[f++])];return f&&f==y?d:void 0}function get(d,h,f){var y=d==null?void 0:baseGet(d,h);return y===void 0?f:y}function baseHasIn(d,h){return d!=null&&h in Object(d)}function hasPath(d,h,f){h=castPath(h,d);for(var y=-1,g=h.length,b=!1;++y<g;){var v=toKey(h[y]);if(!(b=d!=null&&f(d,v)))break;d=d[v]}return b||++y!=g?b:(g=d==null?0:d.length,!!g&&isLength(g)&&isIndex(v,g)&&(isArray(d)||isArguments(d)))}function hasIn(d,h){return d!=null&&hasPath(d,h,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(d,h){return isKey(d)&&isStrictComparable(h)?matchesStrictComparable(toKey(d),h):function(f){var y=get(f,d);return y===void 0&&y===h?hasIn(f,d):baseIsEqual(h,y,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(d){return function(h){return h==null?void 0:h[d]}}function basePropertyDeep(d){return function(h){return baseGet(h,d)}}function property(d){return isKey(d)?baseProperty(toKey(d)):basePropertyDeep(d)}function baseIteratee(d){return typeof d=="function"?d:d==null?identity:typeof d=="object"?isArray(d)?baseMatchesProperty(d[0],d[1]):baseMatches(d):property(d)}function baseMap(d,h){var f=-1,y=isArrayLike(d)?Array(d.length):[];return baseEach(d,function(g,b,v){y[++f]=h(g,b,v)}),y}function map(d,h){var f=isArray(d)?arrayMap:baseMap;return f(d,baseIteratee(h))}var BlockSwatches=function(h){var f=h.colors,y=h.onClick,g=h.onSwatchHover,b=reactCSS({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return React.createElement("div",{style:b.swatches},map(f,function(v){return React.createElement(Swatch$1,{key:v,color:v,style:b.swatch,onClick:y,onHover:g,focusStyle:{boxShadow:"0 0 4px "+v}})}),React.createElement("div",{style:b.clear}))},Block=function(h){var f=h.onChange,y=h.onSwatchHover,g=h.hex,b=h.colors,v=h.width,S=h.triangle,O=h.styles,w=O===void 0?{}:O,T=h.className,E=T===void 0?"":T,k=g==="transparent",C=function(A,D){isValidHex(A)&&f({hex:A,source:"hex"},D)},P=reactCSS(merge({default:{card:{width:v,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:g,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:getContrastingColor(g),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+g+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},w),{"hide-triangle":S==="hide"});return React.createElement("div",{style:P.card,className:"block-picker "+E},React.createElement("div",{style:P.triangle}),React.createElement("div",{style:P.head},k&&React.createElement(Checkboard,{borderRadius:"6px 6px 0 0"}),React.createElement("div",{style:P.label},g)),React.createElement("div",{style:P.body},React.createElement(BlockSwatches,{colors:b,onClick:C,onSwatchHover:y}),React.createElement(EditableInput,{style:{input:P.input},value:g,onChange:C})))};Block.propTypes={width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),colors:PropTypes.arrayOf(PropTypes.string),triangle:PropTypes.oneOf(["top","hide"]),styles:PropTypes.object};Block.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};ColorWrap(Block);var red={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},pink={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},purple={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},deepPurple={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},indigo={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},blue={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},lightBlue={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},cyan={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},teal={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},green={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},lightGreen={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},lime={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},yellow={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},amber={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},orange={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},deepOrange={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},brown={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},blueGrey={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},CircleSwatch=function(h){var f=h.color,y=h.onClick,g=h.onSwatchHover,b=h.hover,v=h.active,S=h.circleSize,O=h.circleSpacing,w=reactCSS({default:{swatch:{width:S,height:S,marginRight:O,marginBottom:O,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(S/2+1)+"px "+f,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+f}}},{hover:b,active:v});return React.createElement("div",{style:w.swatch},React.createElement(Swatch$1,{style:w.Swatch,color:f,onClick:y,onHover:g,focusStyle:{boxShadow:w.Swatch.boxShadow+", 0 0 5px "+f}}))};CircleSwatch.defaultProps={circleSize:28,circleSpacing:14};const CircleSwatch$1=libExports.handleHover(CircleSwatch);var Circle=function(h){var f=h.width,y=h.onChange,g=h.onSwatchHover,b=h.colors,v=h.hex,S=h.circleSize,O=h.styles,w=O===void 0?{}:O,T=h.circleSpacing,E=h.className,k=E===void 0?"":E,C=reactCSS(merge({default:{card:{width:f,display:"flex",flexWrap:"wrap",marginRight:-T,marginBottom:-T}}},w)),P=function(A,D){return y({hex:A,source:"hex"},D)};return React.createElement("div",{style:C.card,className:"circle-picker "+k},map(b,function(M){return React.createElement(CircleSwatch$1,{key:M,color:M,onClick:P,onSwatchHover:g,active:v===M.toLowerCase(),circleSize:S,circleSpacing:T})}))};Circle.propTypes={width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),circleSize:PropTypes.number,circleSpacing:PropTypes.number,styles:PropTypes.object};Circle.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[red[500],pink[500],purple[500],deepPurple[500],indigo[500],blue[500],lightBlue[500],cyan[500],teal[500],green[500],lightGreen[500],lime[500],yellow[500],amber[500],orange[500],deepOrange[500],brown[500],blueGrey[500]],styles:{}};ColorWrap(Circle);function isUndefined(d){return d===void 0}var UnfoldMoreHorizontalIcon$1={},hasRequiredUnfoldMoreHorizontalIcon;function requireUnfoldMoreHorizontalIcon(){if(hasRequiredUnfoldMoreHorizontalIcon)return UnfoldMoreHorizontalIcon$1;hasRequiredUnfoldMoreHorizontalIcon=1,Object.defineProperty(UnfoldMoreHorizontalIcon$1,"__esModule",{value:!0});var d=Object.assign||function(v){for(var S=1;S<arguments.length;S++){var O=arguments[S];for(var w in O)Object.prototype.hasOwnProperty.call(O,w)&&(v[w]=O[w])}return v},h=requireReact(),f=y(h);function y(v){return v&&v.__esModule?v:{default:v}}function g(v,S){var O={};for(var w in v)S.indexOf(w)>=0||Object.prototype.hasOwnProperty.call(v,w)&&(O[w]=v[w]);return O}var b=24;return UnfoldMoreHorizontalIcon$1.default=function(v){var S=v.fill,O=S===void 0?"currentColor":S,w=v.width,T=w===void 0?b:w,E=v.height,k=E===void 0?b:E,C=v.style,P=C===void 0?{}:C,M=g(v,["fill","width","height","style"]);return f.default.createElement("svg",d({viewBox:"0 0 "+b+" "+b,style:d({fill:O,width:T,height:k},P)},M),f.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},UnfoldMoreHorizontalIcon$1}var UnfoldMoreHorizontalIconExports=requireUnfoldMoreHorizontalIcon();const UnfoldMoreHorizontalIcon=getDefaultExportFromCjs(UnfoldMoreHorizontalIconExports);var _createClass$1=(function(){function d(h,f){for(var y=0;y<f.length;y++){var g=f[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,f,y){return f&&d(h.prototype,f),y&&d(h,y),h}})();function _classCallCheck$1(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$1(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function _inherits$1(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var ChromeFields=(function(d){_inherits$1(h,d);function h(f){_classCallCheck$1(this,h);var y=_possibleConstructorReturn$1(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return y.toggleViews=function(){y.state.view==="hex"?y.setState({view:"rgb"}):y.state.view==="rgb"?y.setState({view:"hsl"}):y.state.view==="hsl"&&(y.props.hsl.a===1?y.setState({view:"hex"}):y.setState({view:"rgb"}))},y.handleChange=function(g,b){g.hex?isValidHex(g.hex)&&y.props.onChange({hex:g.hex,source:"hex"},b):g.r||g.g||g.b?y.props.onChange({r:g.r||y.props.rgb.r,g:g.g||y.props.rgb.g,b:g.b||y.props.rgb.b,source:"rgb"},b):g.a?(g.a<0?g.a=0:g.a>1&&(g.a=1),y.props.onChange({h:y.props.hsl.h,s:y.props.hsl.s,l:y.props.hsl.l,a:Math.round(g.a*100)/100,source:"rgb"},b)):(g.h||g.s||g.l)&&(typeof g.s=="string"&&g.s.includes("%")&&(g.s=g.s.replace("%","")),typeof g.l=="string"&&g.l.includes("%")&&(g.l=g.l.replace("%","")),g.s==1?g.s=.01:g.l==1&&(g.l=.01),y.props.onChange({h:g.h||y.props.hsl.h,s:Number(isUndefined(g.s)?y.props.hsl.s:g.s),l:Number(isUndefined(g.l)?y.props.hsl.l:g.l),source:"hsl"},b))},y.showHighlight=function(g){g.currentTarget.style.background="#eee"},y.hideHighlight=function(g){g.currentTarget.style.background="transparent"},f.hsl.a!==1&&f.view==="hex"?y.state={view:"rgb"}:y.state={view:f.view},y}return _createClass$1(h,[{key:"render",value:function(){var y=this,g=reactCSS({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),b=void 0;return this.state.view==="hex"?b=React.createElement("div",{style:g.fields,className:"flexbox-fix"},React.createElement("div",{style:g.field},React.createElement(EditableInput,{style:{input:g.input,label:g.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?b=React.createElement("div",{style:g.fields,className:"flexbox-fix"},React.createElement("div",{style:g.field},React.createElement(EditableInput,{style:{input:g.input,label:g.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),React.createElement("div",{style:g.field},React.createElement(EditableInput,{style:{input:g.input,label:g.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),React.createElement("div",{style:g.field},React.createElement(EditableInput,{style:{input:g.input,label:g.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),React.createElement("div",{style:g.alpha},React.createElement(EditableInput,{style:{input:g.input,label:g.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(b=React.createElement("div",{style:g.fields,className:"flexbox-fix"},React.createElement("div",{style:g.field},React.createElement(EditableInput,{style:{input:g.input,label:g.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),React.createElement("div",{style:g.field},React.createElement(EditableInput,{style:{input:g.input,label:g.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),React.createElement("div",{style:g.field},React.createElement(EditableInput,{style:{input:g.input,label:g.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),React.createElement("div",{style:g.alpha},React.createElement(EditableInput,{style:{input:g.input,label:g.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),React.createElement("div",{style:g.wrap,className:"flexbox-fix"},b,React.createElement("div",{style:g.toggle},React.createElement("div",{style:g.icon,onClick:this.toggleViews,ref:function(S){return y.icon=S}},React.createElement(UnfoldMoreHorizontalIcon,{style:g.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(y,g){return y.hsl.a!==1&&g.view==="hex"?{view:"rgb"}:null}}]),h})(React.Component);ChromeFields.defaultProps={view:"hex"};var ChromePointer=function(){var h=reactCSS({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return React.createElement("div",{style:h.picker})},ChromePointerCircle=function(){var h=reactCSS({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return React.createElement("div",{style:h.picker})},Chrome=function(h){var f=h.width,y=h.onChange,g=h.disableAlpha,b=h.rgb,v=h.hsl,S=h.hsv,O=h.hex,w=h.renderers,T=h.styles,E=T===void 0?{}:T,k=h.className,C=k===void 0?"":k,P=h.defaultView,M=reactCSS(merge({default:{picker:{width:f,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+b.r+", "+b.g+", "+b.b+", "+b.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},E),{disableAlpha:g});return React.createElement("div",{style:M.picker,className:"chrome-picker "+C},React.createElement("div",{style:M.saturation},React.createElement(Saturation,{style:M.Saturation,hsl:v,hsv:S,pointer:ChromePointerCircle,onChange:y})),React.createElement("div",{style:M.body},React.createElement("div",{style:M.controls,className:"flexbox-fix"},React.createElement("div",{style:M.color},React.createElement("div",{style:M.swatch},React.createElement("div",{style:M.active}),React.createElement(Checkboard,{renderers:w}))),React.createElement("div",{style:M.toggles},React.createElement("div",{style:M.hue},React.createElement(Hue,{style:M.Hue,hsl:v,pointer:ChromePointer,onChange:y})),React.createElement("div",{style:M.alpha},React.createElement(Alpha,{style:M.Alpha,rgb:b,hsl:v,pointer:ChromePointer,renderers:w,onChange:y})))),React.createElement(ChromeFields,{rgb:b,hsl:v,hex:O,view:P,onChange:y,disableAlpha:g})))};Chrome.propTypes={width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),disableAlpha:PropTypes.bool,styles:PropTypes.object,defaultView:PropTypes.oneOf(["hex","rgb","hsl"])};Chrome.defaultProps={width:225,disableAlpha:!1,styles:{}};ColorWrap(Chrome);var CompactColor=function(h){var f=h.color,y=h.onClick,g=y===void 0?function(){}:y,b=h.onSwatchHover,v=h.active,S=reactCSS({default:{color:{background:f,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:getContrastingColor(f),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:v,"color-#FFFFFF":f==="#FFFFFF",transparent:f==="transparent"});return React.createElement(Swatch$1,{style:S.color,color:f,onClick:g,onHover:b,focusStyle:{boxShadow:"0 0 4px "+f}},React.createElement("div",{style:S.dot}))},CompactFields=function(h){var f=h.hex,y=h.rgb,g=h.onChange,b=reactCSS({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:f},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),v=function(O,w){O.r||O.g||O.b?g({r:O.r||y.r,g:O.g||y.g,b:O.b||y.b,source:"rgb"},w):g({hex:O.hex,source:"hex"},w)};return React.createElement("div",{style:b.fields,className:"flexbox-fix"},React.createElement("div",{style:b.active}),React.createElement(EditableInput,{style:{wrap:b.HEXwrap,input:b.HEXinput,label:b.HEXlabel},label:"hex",value:f,onChange:v}),React.createElement(EditableInput,{style:{wrap:b.RGBwrap,input:b.RGBinput,label:b.RGBlabel},label:"r",value:y.r,onChange:v}),React.createElement(EditableInput,{style:{wrap:b.RGBwrap,input:b.RGBinput,label:b.RGBlabel},label:"g",value:y.g,onChange:v}),React.createElement(EditableInput,{style:{wrap:b.RGBwrap,input:b.RGBinput,label:b.RGBlabel},label:"b",value:y.b,onChange:v}))},Compact=function(h){var f=h.onChange,y=h.onSwatchHover,g=h.colors,b=h.hex,v=h.rgb,S=h.styles,O=S===void 0?{}:S,w=h.className,T=w===void 0?"":w,E=reactCSS(merge({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},O)),k=function(P,M){P.hex?isValidHex(P.hex)&&f({hex:P.hex,source:"hex"},M):f(P,M)};return React.createElement(Raised,{style:E.Compact,styles:O},React.createElement("div",{style:E.compact,className:"compact-picker "+T},React.createElement("div",null,map(g,function(C){return React.createElement(CompactColor,{key:C,color:C,active:C.toLowerCase()===b,onClick:k,onSwatchHover:y})}),React.createElement("div",{style:E.clear})),React.createElement(CompactFields,{hex:b,rgb:v,onChange:k})))};Compact.propTypes={colors:PropTypes.arrayOf(PropTypes.string),styles:PropTypes.object};Compact.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};ColorWrap(Compact);var GithubSwatch=function(h){var f=h.hover,y=h.color,g=h.onClick,b=h.onSwatchHover,v={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},S=reactCSS({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:v}},{hover:f});return React.createElement("div",{style:S.swatch},React.createElement(Swatch$1,{color:y,onClick:g,onHover:b,focusStyle:v}))};const GithubSwatch$1=libExports.handleHover(GithubSwatch);var Github=function(h){var f=h.width,y=h.colors,g=h.onChange,b=h.onSwatchHover,v=h.triangle,S=h.styles,O=S===void 0?{}:S,w=h.className,T=w===void 0?"":w,E=reactCSS(merge({default:{card:{width:f,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},O),{"hide-triangle":v==="hide","top-left-triangle":v==="top-left","top-right-triangle":v==="top-right","bottom-left-triangle":v==="bottom-left","bottom-right-triangle":v==="bottom-right"}),k=function(P,M){return g({hex:P,source:"hex"},M)};return React.createElement("div",{style:E.card,className:"github-picker "+T},React.createElement("div",{style:E.triangleShadow}),React.createElement("div",{style:E.triangle}),map(y,function(C){return React.createElement(GithubSwatch$1,{color:C,key:C,onClick:k,onSwatchHover:b})}))};Github.propTypes={width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),colors:PropTypes.arrayOf(PropTypes.string),triangle:PropTypes.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:PropTypes.object};Github.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};ColorWrap(Github);var SliderPointer$1=function(h){var f=h.direction,y=reactCSS({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:f==="vertical"});return React.createElement("div",{style:y.picker})},_extends$2=Object.assign||function(d){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(d[y]=f[y])}return d},HuePicker=function(h){var f=h.width,y=h.height,g=h.onChange,b=h.hsl,v=h.direction,S=h.pointer,O=h.styles,w=O===void 0?{}:O,T=h.className,E=T===void 0?"":T,k=reactCSS(merge({default:{picker:{position:"relative",width:f,height:y},hue:{radius:"2px"}}},w)),C=function(M){return g({a:1,h:M.h,l:.5,s:1})};return React.createElement("div",{style:k.picker,className:"hue-picker "+E},React.createElement(Hue,_extends$2({},k.hue,{hsl:b,pointer:S,onChange:C,direction:v})))};HuePicker.propTypes={styles:PropTypes.object};HuePicker.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:SliderPointer$1,styles:{}};ColorWrap(HuePicker);var Material=function(h){var f=h.onChange,y=h.hex,g=h.rgb,b=h.styles,v=b===void 0?{}:b,S=h.className,O=S===void 0?"":S,w=reactCSS(merge({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+y,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},v)),T=function(k,C){k.hex?isValidHex(k.hex)&&f({hex:k.hex,source:"hex"},C):(k.r||k.g||k.b)&&f({r:k.r||g.r,g:k.g||g.g,b:k.b||g.b,source:"rgb"},C)};return React.createElement(Raised,{styles:v},React.createElement("div",{style:w.material,className:"material-picker "+O},React.createElement(EditableInput,{style:{wrap:w.HEXwrap,input:w.HEXinput,label:w.HEXlabel},label:"hex",value:y,onChange:T}),React.createElement("div",{style:w.split,className:"flexbox-fix"},React.createElement("div",{style:w.third},React.createElement(EditableInput,{style:{wrap:w.RGBwrap,input:w.RGBinput,label:w.RGBlabel},label:"r",value:g.r,onChange:T})),React.createElement("div",{style:w.third},React.createElement(EditableInput,{style:{wrap:w.RGBwrap,input:w.RGBinput,label:w.RGBlabel},label:"g",value:g.g,onChange:T})),React.createElement("div",{style:w.third},React.createElement(EditableInput,{style:{wrap:w.RGBwrap,input:w.RGBinput,label:w.RGBlabel},label:"b",value:g.b,onChange:T})))))};ColorWrap(Material);var PhotoshopPicker=function(h){var f=h.onChange,y=h.rgb,g=h.hsv,b=h.hex,v=reactCSS({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),S=function(w,T){w["#"]?isValidHex(w["#"])&&f({hex:w["#"],source:"hex"},T):w.r||w.g||w.b?f({r:w.r||y.r,g:w.g||y.g,b:w.b||y.b,source:"rgb"},T):(w.h||w.s||w.v)&&f({h:w.h||g.h,s:w.s||g.s,v:w.v||g.v,source:"hsv"},T)};return React.createElement("div",{style:v.fields},React.createElement(EditableInput,{style:{wrap:v.RGBwrap,input:v.RGBinput,label:v.RGBlabel},label:"h",value:Math.round(g.h),onChange:S}),React.createElement(EditableInput,{style:{wrap:v.RGBwrap,input:v.RGBinput,label:v.RGBlabel},label:"s",value:Math.round(g.s*100),onChange:S}),React.createElement(EditableInput,{style:{wrap:v.RGBwrap,input:v.RGBinput,label:v.RGBlabel},label:"v",value:Math.round(g.v*100),onChange:S}),React.createElement("div",{style:v.divider}),React.createElement(EditableInput,{style:{wrap:v.RGBwrap,input:v.RGBinput,label:v.RGBlabel},label:"r",value:y.r,onChange:S}),React.createElement(EditableInput,{style:{wrap:v.RGBwrap,input:v.RGBinput,label:v.RGBlabel},label:"g",value:y.g,onChange:S}),React.createElement(EditableInput,{style:{wrap:v.RGBwrap,input:v.RGBinput,label:v.RGBlabel},label:"b",value:y.b,onChange:S}),React.createElement("div",{style:v.divider}),React.createElement(EditableInput,{style:{wrap:v.HEXwrap,input:v.HEXinput,label:v.HEXlabel},label:"#",value:b.replace("#",""),onChange:S}),React.createElement("div",{style:v.fieldSymbols},React.createElement("div",{style:v.symbol},""),React.createElement("div",{style:v.symbol},"%"),React.createElement("div",{style:v.symbol},"%")))},PhotoshopPointerCircle$1=function(h){var f=h.hsl,y=reactCSS({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":f.l>.5});return React.createElement("div",{style:y.picker})},PhotoshopPointerCircle=function(){var h=reactCSS({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return React.createElement("div",{style:h.pointer},React.createElement("div",{style:h.left},React.createElement("div",{style:h.leftInside})),React.createElement("div",{style:h.right},React.createElement("div",{style:h.rightInside})))},PhotoshopButton=function(h){var f=h.onClick,y=h.label,g=h.children,b=h.active,v=reactCSS({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:b});return React.createElement("div",{style:v.button,onClick:f},y||g)},PhotoshopPreviews=function(h){var f=h.rgb,y=h.currentColor,g=reactCSS({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+f.r+","+f.g+", "+f.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:y,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return React.createElement("div",null,React.createElement("div",{style:g.label},"new"),React.createElement("div",{style:g.swatches},React.createElement("div",{style:g.new}),React.createElement("div",{style:g.current})),React.createElement("div",{style:g.label},"current"))},_createClass=(function(){function d(h,f){for(var y=0;y<f.length;y++){var g=f[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,f,y){return f&&d(h.prototype,f),y&&d(h,y),h}})();function _classCallCheck(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function _inherits(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var Photoshop=(function(d){_inherits(h,d);function h(f){_classCallCheck(this,h);var y=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return y.state={currentColor:f.hex},y}return _createClass(h,[{key:"render",value:function(){var y=this.props,g=y.styles,b=g===void 0?{}:g,v=y.className,S=v===void 0?"":v,O=reactCSS(merge({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},b));return React.createElement("div",{style:O.picker,className:"photoshop-picker "+S},React.createElement("div",{style:O.head},this.props.header),React.createElement("div",{style:O.body,className:"flexbox-fix"},React.createElement("div",{style:O.saturation},React.createElement(Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:PhotoshopPointerCircle$1,onChange:this.props.onChange})),React.createElement("div",{style:O.hue},React.createElement(Hue,{direction:"vertical",hsl:this.props.hsl,pointer:PhotoshopPointerCircle,onChange:this.props.onChange})),React.createElement("div",{style:O.controls},React.createElement("div",{style:O.top,className:"flexbox-fix"},React.createElement("div",{style:O.previews},React.createElement(PhotoshopPreviews,{rgb:this.props.rgb,currentColor:this.state.currentColor})),React.createElement("div",{style:O.actions},React.createElement(PhotoshopButton,{label:"OK",onClick:this.props.onAccept,active:!0}),React.createElement(PhotoshopButton,{label:"Cancel",onClick:this.props.onCancel}),React.createElement(PhotoshopPicker,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),h})(React.Component);Photoshop.propTypes={header:PropTypes.string,styles:PropTypes.object};Photoshop.defaultProps={header:"Color Picker",styles:{}};ColorWrap(Photoshop);var SketchFields=function(h){var f=h.onChange,y=h.rgb,g=h.hsl,b=h.hex,v=h.disableAlpha,S=reactCSS({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:v}),O=function(T,E){T.hex?isValidHex(T.hex)&&f({hex:T.hex,source:"hex"},E):T.r||T.g||T.b?f({r:T.r||y.r,g:T.g||y.g,b:T.b||y.b,a:y.a,source:"rgb"},E):T.a&&(T.a<0?T.a=0:T.a>100&&(T.a=100),T.a/=100,f({h:g.h,s:g.s,l:g.l,a:T.a,source:"rgb"},E))};return React.createElement("div",{style:S.fields,className:"flexbox-fix"},React.createElement("div",{style:S.double},React.createElement(EditableInput,{style:{input:S.input,label:S.label},label:"hex",value:b.replace("#",""),onChange:O})),React.createElement("div",{style:S.single},React.createElement(EditableInput,{style:{input:S.input,label:S.label},label:"r",value:y.r,onChange:O,dragLabel:"true",dragMax:"255"})),React.createElement("div",{style:S.single},React.createElement(EditableInput,{style:{input:S.input,label:S.label},label:"g",value:y.g,onChange:O,dragLabel:"true",dragMax:"255"})),React.createElement("div",{style:S.single},React.createElement(EditableInput,{style:{input:S.input,label:S.label},label:"b",value:y.b,onChange:O,dragLabel:"true",dragMax:"255"})),React.createElement("div",{style:S.alpha},React.createElement(EditableInput,{style:{input:S.input,label:S.label},label:"a",value:Math.round(y.a*100),onChange:O,dragLabel:"true",dragMax:"100"})))},_extends$1=Object.assign||function(d){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(d[y]=f[y])}return d},SketchPresetColors=function(h){var f=h.colors,y=h.onClick,g=y===void 0?function(){}:y,b=h.onSwatchHover,v=reactCSS({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!f||!f.length}),S=function(w,T){g({hex:w,source:"hex"},T)};return React.createElement("div",{style:v.colors,className:"flexbox-fix"},f.map(function(O){var w=typeof O=="string"?{color:O}:O,T=""+w.color+(w.title||"");return React.createElement("div",{key:T,style:v.swatchWrap},React.createElement(Swatch$1,_extends$1({},w,{style:v.swatch,onClick:S,onHover:b,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+w.color}})))}))};SketchPresetColors.propTypes={colors:PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string,PropTypes.shape({color:PropTypes.string,title:PropTypes.string})])).isRequired};var _extends=Object.assign||function(d){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(d[y]=f[y])}return d},Sketch=function(h){var f=h.width,y=h.rgb,g=h.hex,b=h.hsv,v=h.hsl,S=h.onChange,O=h.onSwatchHover,w=h.disableAlpha,T=h.presetColors,E=h.renderers,k=h.styles,C=k===void 0?{}:k,P=h.className,M=P===void 0?"":P,A=reactCSS(merge({default:_extends({picker:{width:f,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+y.r+","+y.g+","+y.b+","+y.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},C),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},C),{disableAlpha:w});return React.createElement("div",{style:A.picker,className:"sketch-picker "+M},React.createElement("div",{style:A.saturation},React.createElement(Saturation,{style:A.Saturation,hsl:v,hsv:b,onChange:S})),React.createElement("div",{style:A.controls,className:"flexbox-fix"},React.createElement("div",{style:A.sliders},React.createElement("div",{style:A.hue},React.createElement(Hue,{style:A.Hue,hsl:v,onChange:S})),React.createElement("div",{style:A.alpha},React.createElement(Alpha,{style:A.Alpha,rgb:y,hsl:v,renderers:E,onChange:S}))),React.createElement("div",{style:A.color},React.createElement(Checkboard,null),React.createElement("div",{style:A.activeColor}))),React.createElement(SketchFields,{rgb:y,hsl:v,hex:g,onChange:S,disableAlpha:w}),React.createElement(SketchPresetColors,{colors:T,onClick:S,onSwatchHover:O}))};Sketch.propTypes={disableAlpha:PropTypes.bool,width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),styles:PropTypes.object};Sketch.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const SketchPicker=ColorWrap(Sketch);var SliderSwatch=function(h){var f=h.hsl,y=h.offset,g=h.onClick,b=g===void 0?function(){}:g,v=h.active,S=h.first,O=h.last,w=reactCSS({default:{swatch:{height:"12px",background:"hsl("+f.h+", 50%, "+y*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:v,first:S,last:O}),T=function(k){return b({h:f.h,s:.5,l:y,source:"hsl"},k)};return React.createElement("div",{style:w.swatch,onClick:T})},SliderSwatches=function(h){var f=h.onClick,y=h.hsl,g=reactCSS({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),b=.1;return React.createElement("div",{style:g.swatches},React.createElement("div",{style:g.swatch},React.createElement(SliderSwatch,{hsl:y,offset:".80",active:Math.abs(y.l-.8)<b&&Math.abs(y.s-.5)<b,onClick:f,first:!0})),React.createElement("div",{style:g.swatch},React.createElement(SliderSwatch,{hsl:y,offset:".65",active:Math.abs(y.l-.65)<b&&Math.abs(y.s-.5)<b,onClick:f})),React.createElement("div",{style:g.swatch},React.createElement(SliderSwatch,{hsl:y,offset:".50",active:Math.abs(y.l-.5)<b&&Math.abs(y.s-.5)<b,onClick:f})),React.createElement("div",{style:g.swatch},React.createElement(SliderSwatch,{hsl:y,offset:".35",active:Math.abs(y.l-.35)<b&&Math.abs(y.s-.5)<b,onClick:f})),React.createElement("div",{style:g.swatch},React.createElement(SliderSwatch,{hsl:y,offset:".20",active:Math.abs(y.l-.2)<b&&Math.abs(y.s-.5)<b,onClick:f,last:!0})),React.createElement("div",{style:g.clear}))},SliderPointer=function(){var h=reactCSS({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return React.createElement("div",{style:h.picker})},Slider=function(h){var f=h.hsl,y=h.onChange,g=h.pointer,b=h.styles,v=b===void 0?{}:b,S=h.className,O=S===void 0?"":S,w=reactCSS(merge({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},v));return React.createElement("div",{style:w.wrap||{},className:"slider-picker "+O},React.createElement("div",{style:w.hue},React.createElement(Hue,{style:w.Hue,hsl:f,pointer:g,onChange:y})),React.createElement("div",{style:w.swatches},React.createElement(SliderSwatches,{hsl:f,onClick:y})))};Slider.propTypes={styles:PropTypes.object};Slider.defaultProps={pointer:SliderPointer,styles:{}};ColorWrap(Slider);var CheckIcon$1={},hasRequiredCheckIcon;function requireCheckIcon(){if(hasRequiredCheckIcon)return CheckIcon$1;hasRequiredCheckIcon=1,Object.defineProperty(CheckIcon$1,"__esModule",{value:!0});var d=Object.assign||function(v){for(var S=1;S<arguments.length;S++){var O=arguments[S];for(var w in O)Object.prototype.hasOwnProperty.call(O,w)&&(v[w]=O[w])}return v},h=requireReact(),f=y(h);function y(v){return v&&v.__esModule?v:{default:v}}function g(v,S){var O={};for(var w in v)S.indexOf(w)>=0||Object.prototype.hasOwnProperty.call(v,w)&&(O[w]=v[w]);return O}var b=24;return CheckIcon$1.default=function(v){var S=v.fill,O=S===void 0?"currentColor":S,w=v.width,T=w===void 0?b:w,E=v.height,k=E===void 0?b:E,C=v.style,P=C===void 0?{}:C,M=g(v,["fill","width","height","style"]);return f.default.createElement("svg",d({viewBox:"0 0 "+b+" "+b,style:d({fill:O,width:T,height:k},P)},M),f.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},CheckIcon$1}var CheckIconExports=requireCheckIcon();const CheckIcon=getDefaultExportFromCjs(CheckIconExports);var SwatchesColor=function(h){var f=h.color,y=h.onClick,g=y===void 0?function(){}:y,b=h.onSwatchHover,v=h.first,S=h.last,O=h.active,w=reactCSS({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:f,marginBottom:"1px"},check:{color:getContrastingColor(f),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:v,last:S,active:O,"color-#FFFFFF":f==="#FFFFFF",transparent:f==="transparent"});return React.createElement(Swatch$1,{color:f,style:w.color,onClick:g,onHover:b,focusStyle:{boxShadow:"0 0 4px "+f}},React.createElement("div",{style:w.check},React.createElement(CheckIcon,null)))},SwatchesGroup=function(h){var f=h.onClick,y=h.onSwatchHover,g=h.group,b=h.active,v=reactCSS({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return React.createElement("div",{style:v.group},map(g,function(S,O){return React.createElement(SwatchesColor,{key:S,color:S,active:S.toLowerCase()===b,first:O===0,last:O===g.length-1,onClick:f,onSwatchHover:y})}))},Swatches=function(h){var f=h.width,y=h.height,g=h.onChange,b=h.onSwatchHover,v=h.colors,S=h.hex,O=h.styles,w=O===void 0?{}:O,T=h.className,E=T===void 0?"":T,k=reactCSS(merge({default:{picker:{width:f,height:y},overflow:{height:y,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},w)),C=function(M,A){return g({hex:M,source:"hex"},A)};return React.createElement("div",{style:k.picker,className:"swatches-picker "+E},React.createElement(Raised,null,React.createElement("div",{style:k.overflow},React.createElement("div",{style:k.body},map(v,function(P){return React.createElement(SwatchesGroup,{key:P.toString(),group:P,active:S,onClick:C,onSwatchHover:b})}),React.createElement("div",{style:k.clear})))))};Swatches.propTypes={width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),height:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),colors:PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.string)),styles:PropTypes.object};Swatches.defaultProps={width:320,height:240,colors:[[red[900],red[700],red[500],red[300],red[100]],[pink[900],pink[700],pink[500],pink[300],pink[100]],[purple[900],purple[700],purple[500],purple[300],purple[100]],[deepPurple[900],deepPurple[700],deepPurple[500],deepPurple[300],deepPurple[100]],[indigo[900],indigo[700],indigo[500],indigo[300],indigo[100]],[blue[900],blue[700],blue[500],blue[300],blue[100]],[lightBlue[900],lightBlue[700],lightBlue[500],lightBlue[300],lightBlue[100]],[cyan[900],cyan[700],cyan[500],cyan[300],cyan[100]],[teal[900],teal[700],teal[500],teal[300],teal[100]],["#194D33",green[700],green[500],green[300],green[100]],[lightGreen[900],lightGreen[700],lightGreen[500],lightGreen[300],lightGreen[100]],[lime[900],lime[700],lime[500],lime[300],lime[100]],[yellow[900],yellow[700],yellow[500],yellow[300],yellow[100]],[amber[900],amber[700],amber[500],amber[300],amber[100]],[orange[900],orange[700],orange[500],orange[300],orange[100]],[deepOrange[900],deepOrange[700],deepOrange[500],deepOrange[300],deepOrange[100]],[brown[900],brown[700],brown[500],brown[300],brown[100]],[blueGrey[900],blueGrey[700],blueGrey[500],blueGrey[300],blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};ColorWrap(Swatches);var Twitter=function(h){var f=h.onChange,y=h.onSwatchHover,g=h.hex,b=h.colors,v=h.width,S=h.triangle,O=h.styles,w=O===void 0?{}:O,T=h.className,E=T===void 0?"":T,k=reactCSS(merge({default:{card:{width:v,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},w),{"hide-triangle":S==="hide","top-left-triangle":S==="top-left","top-right-triangle":S==="top-right"}),C=function(M,A){isValidHex(M)&&f({hex:M,source:"hex"},A)};return React.createElement("div",{style:k.card,className:"twitter-picker "+E},React.createElement("div",{style:k.triangleShadow}),React.createElement("div",{style:k.triangle}),React.createElement("div",{style:k.body},map(b,function(P,M){return React.createElement(Swatch$1,{key:M,color:P,hex:P,style:k.swatch,onClick:C,onHover:y,focusStyle:{boxShadow:"0 0 4px "+P}})}),React.createElement("div",{style:k.hash},"#"),React.createElement(EditableInput,{label:null,style:{input:k.input},value:g.replace("#",""),onChange:C}),React.createElement("div",{style:k.clear})))};Twitter.propTypes={width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),triangle:PropTypes.oneOf(["hide","top-left","top-right"]),colors:PropTypes.arrayOf(PropTypes.string),styles:PropTypes.object};Twitter.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};ColorWrap(Twitter);var GooglePointerCircle=function(h){var f=reactCSS({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(h.hsl.h)+", "+Math.round(h.hsl.s*100)+"%, "+Math.round(h.hsl.l*100)+"%)"}}});return React.createElement("div",{style:f.picker})};GooglePointerCircle.propTypes={hsl:PropTypes.shape({h:PropTypes.number,s:PropTypes.number,l:PropTypes.number,a:PropTypes.number})};GooglePointerCircle.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var GooglePointer=function(h){var f=reactCSS({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(h.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return React.createElement("div",{style:f.picker})};GooglePointer.propTypes={hsl:PropTypes.shape({h:PropTypes.number,s:PropTypes.number,l:PropTypes.number,a:PropTypes.number})};GooglePointer.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var GoogleFields=function(h){var f=h.onChange,y=h.rgb,g=h.hsl,b=h.hex,v=h.hsv,S=function(C,P){if(C.hex)isValidHex(C.hex)&&f({hex:C.hex,source:"hex"},P);else if(C.rgb){var M=C.rgb.split(",");isvalidColorString(C.rgb,"rgb")&&f({r:M[0],g:M[1],b:M[2],a:1,source:"rgb"},P)}else if(C.hsv){var A=C.hsv.split(",");isvalidColorString(C.hsv,"hsv")&&(A[2]=A[2].replace("%",""),A[1]=A[1].replace("%",""),A[0]=A[0].replace("",""),A[1]==1?A[1]=.01:A[2]==1&&(A[2]=.01),f({h:Number(A[0]),s:Number(A[1]),v:Number(A[2]),source:"hsv"},P))}else if(C.hsl){var D=C.hsl.split(",");isvalidColorString(C.hsl,"hsl")&&(D[2]=D[2].replace("%",""),D[1]=D[1].replace("%",""),D[0]=D[0].replace("",""),E[1]==1?E[1]=.01:E[2]==1&&(E[2]=.01),f({h:Number(D[0]),s:Number(D[1]),v:Number(D[2]),source:"hsl"},P))}},O=reactCSS({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),w=y.r+", "+y.g+", "+y.b,T=Math.round(g.h)+", "+Math.round(g.s*100)+"%, "+Math.round(g.l*100)+"%",E=Math.round(v.h)+", "+Math.round(v.s*100)+"%, "+Math.round(v.v*100)+"%";return React.createElement("div",{style:O.wrap,className:"flexbox-fix"},React.createElement("div",{style:O.fields},React.createElement("div",{style:O.double},React.createElement(EditableInput,{style:{input:O.input,label:O.label},label:"hex",value:b,onChange:S})),React.createElement("div",{style:O.column},React.createElement("div",{style:O.single},React.createElement(EditableInput,{style:{input:O.input2,label:O.label2},label:"rgb",value:w,onChange:S})),React.createElement("div",{style:O.single},React.createElement(EditableInput,{style:{input:O.input2,label:O.label2},label:"hsv",value:E,onChange:S})),React.createElement("div",{style:O.single},React.createElement(EditableInput,{style:{input:O.input2,label:O.label2},label:"hsl",value:T,onChange:S})))))},Google=function(h){var f=h.width,y=h.onChange,g=h.rgb,b=h.hsl,v=h.hsv,S=h.hex,O=h.header,w=h.styles,T=w===void 0?{}:w,E=h.className,k=E===void 0?"":E,C=reactCSS(merge({default:{picker:{width:f,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+g.r+", "+g.g+", "+g.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},T));return React.createElement("div",{style:C.picker,className:"google-picker "+k},React.createElement("div",{style:C.head},O),React.createElement("div",{style:C.swatch}),React.createElement("div",{style:C.saturation},React.createElement(Saturation,{hsl:b,hsv:v,pointer:GooglePointerCircle,onChange:y})),React.createElement("div",{style:C.body},React.createElement("div",{style:C.controls,className:"flexbox-fix"},React.createElement("div",{style:C.hue},React.createElement(Hue,{style:C.Hue,hsl:b,radius:"4px",pointer:GooglePointer,onChange:y}))),React.createElement(GoogleFields,{rgb:g,hsl:b,hex:S,hsv:v,onChange:y})))};Google.propTypes={width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),styles:PropTypes.object,header:PropTypes.string};Google.defaultProps={width:652,styles:{},header:"Color picker"};ColorWrap(Google);const usePickerStyle=d=>{const{palette:h}=d;return h.mode==="light"?{}:{default:{picker:{background:h.background.titleBar,shadow:d.shadows[24]},alpha:{background:"#fff"},color:{background:"#fff"}}}},WrappedSketchPicker=d=>{const{open:h,anchorEl:f,color:y,onChange:g,placement:b}=d,v=useTheme(),S=usePickerStyle(v),{palette:O}=v;return jsx(Popper,{open:!!h,anchorEl:f,placement:b||"bottom",style:{zIndex:999999},sx:{"& *":{color:`${O.text.primary} !important`,borderColor:`${O.divider} !important`},"& input":{background:"none",color:`${O.text.primary} !important`,boxShadow:"none !important",border:`1px solid ${O.divider} !important`}},children:jsx(SketchPicker,{color:y,styles:S,onChange:({rgb:w})=>{g&&g(`rgba(${w.r},${w.g},${w.b},${typeof w.a=="undefined"?1:w.a})`)}})})},WrappedSketchPicker$1=observer(WrappedSketchPicker),ColorInput=d=>{const{color:h,onChange:f}=d,{palette:y,bgPixel:g}=useTheme(),b=reactExports.useRef(null),[v,S]=reactExports.useState(!1);return jsx(ClickAwayListener,{mouseEvent:"onMouseDown",onClickAway:()=>S(!1),children:jsxs(Box,{"aria-hidden":!0,sx:X({display:"inline-block",cursor:"pointer"},g),ref:b,children:[jsx(Box,{"aria-hidden":!0,sx:{width:"46px",height:"24px",border:"5px solid",borderColor:y.primary.main,backgroundColor:d.color},onClick:()=>S(!v)}),jsx(WrappedSketchPicker$1,{open:v,anchorEl:b.current,color:h||"#000000",onChange:f})]})})},FormColor=d=>{const{color:h,onChange:f}=d;return jsx(GridInput,{before:"Color:",childrenWidth:3,children:jsx(ColorInput,{color:h,onChange:f})})},BackgroundColor=()=>{const{bgColor:d,setBgColor:h}=useStyle();return jsx(ConfigSection,{title:"Background Color",children:jsx(Box,{sx:{px:2,my:4},children:jsx(FormColor,{color:d||"",onChange:h})})})},BackgroundColor$1=observer(BackgroundColor),Palette=d=>{const{palette:h,width:f,height:y}=d,{bgPixel:g}=useTheme(),[b]=reactExports.useState(`palette_${Math.random().toString(36).substring(2,11)}`),v=[...h].sort(({offset:S},{offset:O})=>S-O);return jsx(Box,{sx:Re(X({border:"1px solid #ccc"},g),{width:f||"100%",height:y||"100%"}),children:jsxs("svg",{style:{width:"100%",height:"100%",verticalAlign:"top"},children:[jsx("defs",{children:jsx("linearGradient",{id:b,x1:"0",y1:"0.5",x2:"1",y2:"0.5",children:v.map(S=>jsx("stop",{offset:S.offset,style:{stopColor:S.color}},S.id))})}),jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${b})`})]})})},ColorStop=d=>{const O=d,{left:h,color:f,isActive:y,sx:g}=O,b=Ji(O,["left","color","isActive","sx"]),{bgPixel:v,palette:S}=useTheme();return jsx(Box,Re(X({sx:X(Re(X({width:"12px",height:"12px",borderStyle:"solid",borderWidth:"0 1px 1px",position:"absolute",cursor:"pointer",marginLeft:"-6px",zIndex:y?2:1},v),{borderColor:S.primary.main,left:h||0,"&:before, &:after":{position:"absolute",content:'""',width:0,height:0,borderStyle:"solid",left:0},"&:before":{top:"-6px",left:"-1px",borderWidth:"0 6px 6px 6px",borderColor:`transparent transparent ${S.primary.dark} transparent`},"&:after":{top:"-5px",borderWidth:"0 5px 5px 5px",borderColor:`transparent transparent ${y?S.mode==="dark"?S.common.white:S.common.black:S.grey[600]} transparent`}}),g)},b),{children:jsx(Box,{sx:{width:"100%",height:"100%",pointerEvents:"none",backgroundColor:f||"transparent"}})}))},ColorStopsHolder=d=>{const{sx:h,palette:f,activeId:y,onAdd:g,onUpdate:b,onSelect:v}=d,[S,O]=reactExports.useState(0),[w,T]=reactExports.useState({x:0,y:0,offset:0}),[E,k]=reactExports.useState(!1),C=reactExports.useRef(null);reactExports.useEffect(()=>{C.current&&O(C.current.clientWidth)},[C]);const P=N=>{const j=C.current;if(!j||N.buttons!==1)return;const{left:q}=j.getBoundingClientRect(),F=(N.clientX-q)/S;g(F),k(!0),T({x:N.clientX,y:N.clientY,offset:F})},M=(N,j)=>{N.buttons===1&&(N.preventDefault(),N.stopPropagation(),T({x:N.clientX,y:N.clientY,offset:j.offset}),k(!0),v(j.id))},A=reactExports.useCallback(N=>{if(!E||!y)return;if(N.buttons!==1){k(!1);return}const j=f.findIndex(U=>U.id===y);if(j<0)return;const q=[...f];if(Math.abs(N.clientY-w.y)>50){b(q[j],!0);return}const F=q[j],L=Math.min(Math.max((N.clientX-w.x)/S+w.offset,0),1);q[j]=Re(X({},F),{offset:L}),b({offset:L})},[y,E,b,f,w.offset,w.x,w.y,S]),D=reactExports.useCallback(N=>{N.stopPropagation(),N.preventDefault(),k(!1)},[]);return reactExports.useEffect(()=>(E?(window.addEventListener("mousemove",A),window.addEventListener("mouseup",D)):(window.removeEventListener("mousemove",A),window.removeEventListener("mouseup",D)),()=>{window.removeEventListener("mousemove",A),window.removeEventListener("mouseup",D)}),[A,D,E]),jsx(Box,{"aria-hidden":!0,ref:C,sx:X({width:"100%",height:"17px",position:"relative",cursor:"crosshair"},h),onMouseDown:P,children:f.map(N=>jsx(ColorStop,{left:S*N.offset,color:N.color,isActive:N.id===y,onMouseDown:j=>M(j,N)},N.id))})},GradientBuilder=d=>{const{children:h,palette:f,onUpdate:y,onAdd:g}=d,b=reactExports.useRef(null),[v,S]=reactExports.useState([...f]),[O,w]=reactExports.useState(0),[T,E]=reactExports.useState(""),[k,C]=reactExports.useState(!1);reactExports.useEffect(()=>{if(k){const A=f.map(({id:j})=>j),D=v.map(({id:j})=>j),N=Array.from(new Set([...A,...D])).filter(j=>!D.includes(j));N.length>0&&w(N[0]),C(()=>!1)}},[f,k,v]),reactExports.useEffect(()=>{S([...f])},[f]),reactExports.useEffect(()=>{if(O){const A=f.find(D=>D.id===O);A&&E(A.color)}},[O,f]);const P=A=>{const D=[...f],N={offset:A,color:"rgba(0,0,0,1)"};let j,q;if(w(0),D.forEach(F=>{F.offset<N.offset&&(!j||j.offset<F.offset)?j=F:F.offset>N.offset&&(!q||q.offset>F.offset)&&(q=F)}),j&&q){const F=(N.offset-j.offset)/(q.offset-j.offset),L=Color(j.color),U=Color(q.color),z=(U.red()-L.red())*F+L.red(),V=(U.green()-L.green())*F+L.green(),Y=(U.blue()-L.blue())*F+L.blue(),W=(U.alpha()-L.alpha())*F+L.alpha();N.color=`rgba(${Math.round(z)},${Math.round(V)},${Math.round(Y)},${Math.round(W)})`}else(j||q)&&(N.color=(j||q).color);g(N),C(!0)},M=(A,D=!1)=>{if(!O)return;const N=[...f],j=N.findIndex(q=>q.id===O);if(D)y([...N.slice(0,j),...N.slice(j+1)]),w(0);else{const q=X(X({},N[j]),A);y([...N.slice(0,j),q,...N.slice(j+1)])}};return jsx(ClickAwayListener,{mouseEvent:"onMouseDown",onClickAway:()=>w(0),children:jsxs("div",{ref:b,children:[jsx(Palette,{palette:f,height:"35px"}),jsx(ColorStopsHolder,{palette:f,activeId:O,onAdd:P,onUpdate:M,onSelect:A=>w(A||0)}),h&&React.isValidElement(h)&&React.cloneElement(h,{open:!!O||k,anchorEl:b.current,color:T,onChange:A=>M({color:A})})]})})},AnglePicker=d=>{const{onChange:h}=d,f=reactExports.useRef(null),[y,g]=reactExports.useState(!1),b=reactExports.useCallback(O=>{if(!f.current)return;const{clientX:w,clientY:T}=O,E=f.current.getBoundingClientRect(),k=Math.atan2(T-(E.y+E.height/2),w-(E.x+E.width/2));h(Math.round(k*(180/Math.PI)))},[h]),v=reactExports.useCallback(O=>{O.stopPropagation(),O.preventDefault(),g(!1)},[]),S=O=>{f.current&&(g(!0),b(O))};return reactExports.useEffect(()=>(y?(window.addEventListener("mousemove",b),window.addEventListener("mouseup",v)):(window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",v)),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",v)}),[b,v,y]),jsx(Box,{"aria-hidden":!0,sx:{width:d.width?`${d.width}px`:"36px",height:d.width?`${d.width}px`:"36px",position:"relative",cursor:"crosshair",overflow:"hidden",borderRadius:"100%",background:"#fff"},ref:f,onMouseDown:S,children:jsx(Box,{sx:{width:"6px",height:"6px",borderRadius:"100%",position:"relative",left:"50%",top:"50%",marginTop:"-2px",background:"#000",pointerEvents:"none",transformOrigin:"0 50%",transform:`rotate(${d.angle||0}deg) translate(${(d.width||36)/2-8}px, 0)`}})})},FormAngle=d=>{const{angle:h,onChange:f}=d;return jsx(GridInput,{before:"Angle:",after:jsx(AnglePicker,{width:24,angle:h,onChange:f}),children:jsx(Input,{value:h,fullWidth:!0,type:"number",onChange:y=>f(Number(y.target.value))})})},FormGradient=d=>{const{gradient:{type:h,angle:f,palette:y,addColor:g,updatePalette:b,setAngle:v,setType:S}}=d;return jsxs(Fragment,{children:[jsx(Box,{paddingX:2,marginY:4,children:jsx(FormAngle,{angle:f,onChange:v})}),jsx(Box,{paddingX:2,marginY:4,children:jsx(GridInput,{before:"Type:",component:"div",childrenWidth:8,children:jsxs(RadioGroup,{row:!0,name:"type",value:h,onChange:O=>S(Number(O.target.value)),style:{flexWrap:"nowrap"},children:[jsx(FormControlLabel,{value:GradientType.LINEAR,control:jsx(Radio,{size:"small",color:"default"}),label:"Linear"}),jsx(FormControlLabel,{value:GradientType.RADIAL,control:jsx(Radio,{size:"small",color:"default"}),label:"Radial"})]})})}),jsx(Box,{paddingX:2,marginY:4,children:jsx(GradientBuilder,{palette:y,onAdd:O=>g(O.offset,O.color),onUpdate:b,children:jsx(WrappedSketchPicker$1,{})})})]})},FormGradient$1=observer(FormGradient),FileSelector=d=>{const{src:h,onChange:f}=d,y=useTheme(),g=b=>{b.target.files&&b.target.files.length>0&&readFile(b.target.files[0]).then(v=>{v instanceof ArrayBuffer&&f(v)})};return jsxs(Box,{component:"label",sx:X({width:y.spacing(12),height:y.spacing(12),display:"flex",alignItems:"center",justifyContent:"center",position:"relative",border:`1px solid ${y.palette.primary.main}`,cursor:"pointer"},y.bgPixel),children:[jsx("input",{hidden:!0,type:"file",multiple:!0,accept:"image/*",onChange:g}),jsx("img",{style:{maxWidth:"100%",maxHeight:"100%",pointerEvents:"none"},src:h,alt:""})]})},FormImage=d=>{const{patternTexture:h}=d,{src:f,scale:y,repetition:g,setRepetition:b,setScale:v,setImage:S}=h;return jsxs(Fragment,{children:[jsx(Box,{paddingX:2,marginY:4,children:jsx(GridInput,{component:"div",before:"Scale:",after:jsx(FileSelector,{src:f,onChange:S}),children:jsx(Input,{value:y,fullWidth:!0,type:"number",inputProps:{min:.01,step:.1},onChange:O=>v(Number(O.target.value))})})}),jsx(Box,{paddingX:2,marginY:4,children:jsx(GridInput,{before:"Repeat:",after:g,children:jsxs(Select,{value:g,onChange:O=>b(O.target.value),displayEmpty:!0,fullWidth:!0,variant:"standard",children:[jsx(MenuItem,{value:"repeat",children:"Repeat"}),jsx(MenuItem,{value:"repeat-x",children:"Repeat-X"}),jsx(MenuItem,{value:"repeat-y",children:"Repeat-Y"}),jsx(MenuItem,{value:"no-repeat",children:"No Repeat"})]})})})]})},FormImage$1=observer(FormImage),FormFill=d=>{const{config:{type:h,color:f,gradient:y,patternTexture:g,setType:b,setColor:v}}=d;return jsxs(Fragment,{children:[jsx(Box,{paddingX:2,marginY:4,children:jsxs(RadioGroup,{row:!0,name:"type",value:h,onChange:S=>b(Number(S.target.value)),children:[jsx(FormControlLabel,{value:FillType.SOLID,control:jsx(Radio,{size:"small",color:"default"}),label:"Solid"}),jsx(FormControlLabel,{value:FillType.GRADIENT,control:jsx(Radio,{size:"small",color:"default"}),label:"Gradient"}),jsx(FormControlLabel,{value:FillType.IMAGE,control:jsx(Radio,{size:"small",color:"default"}),label:"Image"})]})}),h===0?jsx(Box,{paddingX:2,marginY:4,children:jsx(FormColor,{color:f,onChange:v})}):null,h===1?jsx(FormGradient$1,{gradient:y}):null,h===2?jsx(FormImage$1,{patternTexture:g,src:g.src,scale:g.scale}):null]})},FormFill$1=observer(FormFill),FillConfig=()=>{const d=useFill();return jsx(ConfigSection,{title:"Fill",children:jsx(FormFill$1,{config:d})})},FillConfig$1=observer(FillConfig),ShadowConfig=()=>{const{shadow:d,useShadow:h,setUseShadow:f}=useStyle(),{setOffsetX:y,setOffsetY:g,setBlur:b,setColor:v}=d;return jsx(ConfigSection,{title:jsxs(Box,{component:"label",sx:{display:"flex",alignItems:"center",width:"100%"},children:[jsx(Typography,{component:"div",sx:{flex:1},children:"Shadow"}),"Off",jsx(Switch,{size:"small",checked:h,onChange:S=>f(S.target.checked)}),"On"]}),children:jsxs(Box,{sx:h?{}:{opacity:.3,pointerEvents:"none"},children:[jsx(Box,{sx:{px:2,my:4},children:jsx(GridInput,{before:"Offset X:",after:"px",children:jsx(Input,{value:(d==null?void 0:d.offsetX)||0,fullWidth:!0,type:"number",disabled:!h,onChange:S=>y(Number(S.target.value))})})}),jsx(Box,{sx:{px:2,my:4},children:jsx(GridInput,{before:"Offset Y:",after:"px",children:jsx(Input,{value:(d==null?void 0:d.offsetY)||0,fullWidth:!0,type:"number",disabled:!h,onChange:S=>g(Number(S.target.value))})})}),jsx(Box,{sx:{px:2,my:4},children:jsx(GridInput,{before:"Blur:",after:"px",children:jsx(Input,{value:(d==null?void 0:d.blur)||0,fullWidth:!0,type:"number",disabled:!h,slotProps:{input:{min:0}},onChange:S=>b(Number(S.target.value))})})}),jsx(Box,{sx:{px:2,my:4},children:jsx(FormColor,{color:(d==null?void 0:d.color)||"",onChange:v})})]})})},ShadowConfig$1=observer(ShadowConfig),StrokeConfig=()=>{const{stroke:d,useStroke:h,setUseStroke:f}=useStyle(),{setWidth:y,lineJoin:g,setLineJoin:b,lineCap:v,setLineCap:S,strokeType:O,setStrokeType:w}=d;return jsx(ConfigSection,{title:jsxs(Box,{component:"label",sx:{display:"flex",alignItems:"center",width:"100%"},children:[jsx(Typography,{component:"div",sx:{flex:1},children:"Stroke"}),"Off",jsx(Switch,{size:"small",checked:h,onChange:T=>f(T.target.checked)}),"On"]}),children:jsxs(Box,{sx:h?{}:{opacity:.3,pointerEvents:"none"},children:[jsx(Box,{sx:{px:2,my:4},children:jsx(GridInput,{before:"Width:",after:"px",children:jsx(Input,{value:(d==null?void 0:d.width)||0,fullWidth:!0,type:"number",slotProps:{input:{min:0}},onChange:T=>y(Number(T.target.value))})})}),jsx(Box,{sx:{px:2,my:4},children:jsx(GridInput,{before:"Type:",component:"div",childrenWidth:8,children:jsxs(ButtonGroup,{size:"small",color:"primary",children:[jsx(Button,{onClick:()=>w(0),variant:O===0?"contained":"outlined",children:"Outer"}),jsx(Button,{onClick:()=>w(1),variant:O===1?"contained":"outlined",children:"Middle"}),jsx(Button,{onClick:()=>w(2),variant:O===2?"contained":"outlined",children:"Inner"})]})})}),jsx(Box,{sx:{px:2,my:4},children:jsx(GridInput,{before:"Line Cap:",component:"div",childrenWidth:8,children:jsxs(ButtonGroup,{size:"small",color:"primary",children:[jsx(Button,{onClick:()=>S("butt"),variant:v==="butt"?"contained":"outlined",children:"Butt"}),jsx(Button,{onClick:()=>S("round"),variant:v==="round"?"contained":"outlined",children:"Round"}),jsx(Button,{onClick:()=>S("square"),variant:v==="square"?"contained":"outlined",children:"Square"})]})})}),jsx(Box,{sx:{px:2,my:4},children:jsx(GridInput,{before:"Line Join:",component:"div",childrenWidth:8,children:jsxs(ButtonGroup,{size:"small",color:"primary",children:[jsx(Button,{onClick:()=>b("miter"),variant:g==="miter"?"contained":"outlined",children:"Miter"}),jsx(Button,{onClick:()=>b("round"),variant:g==="round"?"contained":"outlined",children:"Round"}),jsx(Button,{onClick:()=>b("bevel"),variant:g==="bevel"?"contained":"outlined",children:"Bevel"})]})})}),jsx(FormFill$1,{config:d})]})})},StrokeConfig$1=observer(StrokeConfig),RightBar=()=>jsxs(Sidebar,{title:"Style Config",width:"300px",children:[jsx(FillConfig$1,{}),jsx(StrokeConfig$1,{}),jsx(ShadowConfig$1,{}),jsx(BackgroundColor$1,{})]}),isff=typeof navigator!="undefined"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function addEvent(d,h,f,y){d.addEventListener?d.addEventListener(h,f,y):d.attachEvent&&d.attachEvent("on".concat(h),f)}function removeEvent(d,h,f,y){d.removeEventListener?d.removeEventListener(h,f,y):d.detachEvent&&d.detachEvent("on".concat(h),f)}function getMods(d,h){const f=h.slice(0,h.length-1);for(let y=0;y<f.length;y++)f[y]=d[f[y].toLowerCase()];return f}function getKeys(d){typeof d!="string"&&(d=""),d=d.replace(/\s/g,"");const h=d.split(",");let f=h.lastIndexOf("");for(;f>=0;)h[f-1]+=",",h.splice(f,1),f=h.lastIndexOf("");return h}function compareArray(d,h){const f=d.length>=h.length?d:h,y=d.length>=h.length?h:d;let g=!0;for(let b=0;b<f.length;b++)y.indexOf(f[b])===-1&&(g=!1);return g}const _keyMap={backspace:8,"":8,tab:9,clear:12,enter:13,"":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,arrowup:38,arrowdown:40,arrowleft:37,arrowright:39,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":isff?173:189,"=":isff?61:187,";":isff?59:186,"'":222,"{":219,"}":221,"[":219,"]":221,"\\":220},_modifier={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,meta:91,command:91},modifierMap={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},_mods={16:!1,18:!1,17:!1,91:!1},_handlers={};for(let d=1;d<20;d++)_keyMap["f".concat(d)]=111+d;let _downKeys=[],winListendFocus=null,_scope="all";const elementEventMap=new Map,code$2=d=>_keyMap[d.toLowerCase()]||_modifier[d.toLowerCase()]||d.toUpperCase().charCodeAt(0),getKey=d=>Object.keys(_keyMap).find(h=>_keyMap[h]===d),getModifier=d=>Object.keys(_modifier).find(h=>_modifier[h]===d);function setScope(d){_scope=d||"all"}function getScope(){return _scope||"all"}function getPressedKeyCodes(){return _downKeys.slice(0)}function getPressedKeyString(){return _downKeys.map(d=>getKey(d)||getModifier(d)||String.fromCharCode(d))}function getAllKeyCodes(){const d=[];return Object.keys(_handlers).forEach(h=>{_handlers[h].forEach(f=>{let{key:y,scope:g,mods:b,shortcut:v}=f;d.push({scope:g,shortcut:v,mods:b,keys:y.split("+").map(S=>code$2(S))})})}),d}function filter(d){const h=d.target||d.srcElement,{tagName:f}=h;let y=!0;const g=f==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(h.type);return(h.isContentEditable||(g||f==="TEXTAREA"||f==="SELECT")&&!h.readOnly)&&(y=!1),y}function isPressed(d){return typeof d=="string"&&(d=code$2(d)),_downKeys.indexOf(d)!==-1}function deleteScope(d,h){let f,y;d||(d=getScope());for(const g in _handlers)if(Object.prototype.hasOwnProperty.call(_handlers,g))for(f=_handlers[g],y=0;y<f.length;)f[y].scope===d?f.splice(y,1).forEach(v=>{let{element:S}=v;return removeKeyEvent(S)}):y++;getScope()===d&&setScope(h||"all")}function clearModifier(d){let h=d.keyCode||d.which||d.charCode;d.key&&d.key.toLowerCase()==="capslock"&&(h=code$2(d.key));const f=_downKeys.indexOf(h);if(f>=0&&_downKeys.splice(f,1),d.key&&d.key.toLowerCase()==="meta"&&_downKeys.splice(0,_downKeys.length),(h===93||h===224)&&(h=91),h in _mods){_mods[h]=!1;for(const y in _modifier)_modifier[y]===h&&(hotkeys[y]=!1)}}function unbind(d){if(typeof d=="undefined")Object.keys(_handlers).forEach(g=>{Array.isArray(_handlers[g])&&_handlers[g].forEach(b=>eachUnbind(b)),delete _handlers[g]}),removeKeyEvent(null);else if(Array.isArray(d))d.forEach(g=>{g.key&&eachUnbind(g)});else if(typeof d=="object")d.key&&eachUnbind(d);else if(typeof d=="string"){for(var h=arguments.length,f=new Array(h>1?h-1:0),y=1;y<h;y++)f[y-1]=arguments[y];let[g,b]=f;typeof g=="function"&&(b=g,g=""),eachUnbind({key:d,scope:g,method:b,splitKey:"+"})}}const eachUnbind=d=>{let{key:h,scope:f,method:y,splitKey:g="+"}=d;getKeys(h).forEach(v=>{const S=v.split(g),O=S.length,w=S[O-1],T=w==="*"?"*":code$2(w);if(!_handlers[T])return;f||(f=getScope());const E=O>1?getMods(_modifier,S):[],k=[];_handlers[T]=_handlers[T].filter(C=>{const M=(y?C.method===y:!0)&&C.scope===f&&compareArray(C.mods,E);return M&&k.push(C.element),!M}),k.forEach(C=>removeKeyEvent(C))})};function eventHandler(d,h,f,y){if(h.element!==y)return;let g;if(h.scope===f||h.scope==="all"){g=h.mods.length>0;for(const b in _mods)Object.prototype.hasOwnProperty.call(_mods,b)&&(!_mods[b]&&h.mods.indexOf(+b)>-1||_mods[b]&&h.mods.indexOf(+b)===-1)&&(g=!1);(h.mods.length===0&&!_mods[16]&&!_mods[18]&&!_mods[17]&&!_mods[91]||g||h.shortcut==="*")&&(h.keys=[],h.keys=h.keys.concat(_downKeys),h.method(d,h)===!1&&(d.preventDefault?d.preventDefault():d.returnValue=!1,d.stopPropagation&&d.stopPropagation(),d.cancelBubble&&(d.cancelBubble=!0)))}}function dispatch(d,h){const f=_handlers["*"];let y=d.keyCode||d.which||d.charCode;if(d.key&&d.key.toLowerCase()==="capslock"||!hotkeys.filter.call(this,d))return;if((y===93||y===224)&&(y=91),_downKeys.indexOf(y)===-1&&y!==229&&_downKeys.push(y),["metaKey","ctrlKey","altKey","shiftKey"].forEach(S=>{const O=modifierMap[S];d[S]&&_downKeys.indexOf(O)===-1?_downKeys.push(O):!d[S]&&_downKeys.indexOf(O)>-1?_downKeys.splice(_downKeys.indexOf(O),1):S==="metaKey"&&d[S]&&(_downKeys=_downKeys.filter(w=>w in modifierMap||w===y))}),y in _mods){_mods[y]=!0;for(const S in _modifier)if(Object.prototype.hasOwnProperty.call(_modifier,S)){const O=modifierMap[_modifier[S]];hotkeys[S]=d[O]}if(!f)return}for(const S in _mods)Object.prototype.hasOwnProperty.call(_mods,S)&&(_mods[S]=d[modifierMap[S]]);d.getModifierState&&!(d.altKey&&!d.ctrlKey)&&d.getModifierState("AltGraph")&&(_downKeys.indexOf(17)===-1&&_downKeys.push(17),_downKeys.indexOf(18)===-1&&_downKeys.push(18),_mods[17]=!0,_mods[18]=!0);const g=getScope();if(f)for(let S=0;S<f.length;S++)f[S].scope===g&&(d.type==="keydown"&&f[S].keydown||d.type==="keyup"&&f[S].keyup)&&eventHandler(d,f[S],g,h);if(!(y in _handlers))return;const b=_handlers[y],v=b.length;for(let S=0;S<v;S++)if((d.type==="keydown"&&b[S].keydown||d.type==="keyup"&&b[S].keyup)&&b[S].key){const O=b[S],{splitKey:w}=O,T=O.key.split(w),E=[];for(let k=0;k<T.length;k++)E.push(code$2(T[k]));E.sort().join("")===_downKeys.sort().join("")&&eventHandler(d,O,g,h)}}function hotkeys(d,h,f){_downKeys=[];const y=getKeys(d);let g=[],b="all",v=document,S=0,O=!1,w=!0,T="+",E=!1,k=!1;for(f===void 0&&typeof h=="function"&&(f=h),Object.prototype.toString.call(h)==="[object Object]"&&(h.scope&&(b=h.scope),h.element&&(v=h.element),h.keyup&&(O=h.keyup),h.keydown!==void 0&&(w=h.keydown),h.capture!==void 0&&(E=h.capture),typeof h.splitKey=="string"&&(T=h.splitKey),h.single===!0&&(k=!0)),typeof h=="string"&&(b=h),k&&unbind(d,b);S<y.length;S++)d=y[S].split(T),g=[],d.length>1&&(g=getMods(_modifier,d)),d=d[d.length-1],d=d==="*"?"*":code$2(d),d in _handlers||(_handlers[d]=[]),_handlers[d].push({keyup:O,keydown:w,scope:b,mods:g,shortcut:y[S],method:f,key:y[S],splitKey:T,element:v});if(typeof v!="undefined"&&window){if(!elementEventMap.has(v)){const C=function(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;return dispatch(M,v)},P=function(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;dispatch(M,v),clearModifier(M)};elementEventMap.set(v,{keydownListener:C,keyupListenr:P,capture:E}),addEvent(v,"keydown",C,E),addEvent(v,"keyup",P,E)}if(!winListendFocus){const C=()=>{_downKeys=[]};winListendFocus={listener:C,capture:E},addEvent(window,"focus",C,E)}}}function trigger(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(_handlers).forEach(f=>{_handlers[f].filter(g=>g.scope===h&&g.shortcut===d).forEach(g=>{g&&g.method&&g.method()})})}function removeKeyEvent(d){const h=Object.values(_handlers).flat();if(h.findIndex(y=>{let{element:g}=y;return g===d})<0){const{keydownListener:y,keyupListenr:g,capture:b}=elementEventMap.get(d)||{};y&&g&&(removeEvent(d,"keyup",g,b),removeEvent(d,"keydown",y,b),elementEventMap.delete(d))}if((h.length<=0||elementEventMap.size<=0)&&(Object.keys(elementEventMap).forEach(g=>{const{keydownListener:b,keyupListenr:v,capture:S}=elementEventMap.get(g)||{};b&&v&&(removeEvent(g,"keyup",v,S),removeEvent(g,"keydown",b,S),elementEventMap.delete(g))}),elementEventMap.clear(),Object.keys(_handlers).forEach(g=>delete _handlers[g]),winListendFocus)){const{listener:g,capture:b}=winListendFocus;removeEvent(window,"focus",g,b),winListendFocus=null}}const _api={getPressedKeyString,setScope,getScope,deleteScope,getPressedKeyCodes,getAllKeyCodes,isPressed,filter,trigger,unbind,keyMap:_keyMap,modifier:_modifier,modifierMap};for(const d in _api)Object.prototype.hasOwnProperty.call(_api,d)&&(hotkeys[d]=_api[d]);if(typeof window!="undefined"){const d=window.hotkeys;hotkeys.noConflict=h=>(h&&window.hotkeys===hotkeys&&(window.hotkeys=d),hotkeys),window.hotkeys=hotkeys}var __defProp=Object.defineProperty,__defNormalProp=(d,h,f)=>h in d?__defProp(d,h,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[h]=f,__publicField=(d,h,f)=>__defNormalProp(d,typeof h!="symbol"?h+"":h,f);const type$4="BINARY",exts$2=["fnt"];class BMFontBinaryWriter{constructor(h){__publicField(this,"buffer"),__publicField(this,"view"),__publicField(this,"offset",0),this.buffer=new ArrayBuffer(h),this.view=new DataView(this.buffer)}writeUint8(h){this.view.setUint8(this.offset,h),this.offset+=1}writeUint16(h){this.view.setUint16(this.offset,h,!0),this.offset+=2}writeUint32(h){this.view.setUint32(this.offset,h,!0),this.offset+=4}writeInt16(h){this.view.setInt16(this.offset,h,!0),this.offset+=2}writeHeader(){this.writeUint8(66),this.writeUint8(77),this.writeUint8(70),this.writeUint8(3)}writeBlockHeader(h,f){this.writeUint8(h),this.writeUint32(f)}getBuffer(){return this.buffer.slice(0,this.offset)}getCurrentOffset(){return this.offset}}function calculateBufferSize(d){const{info:h,pages:f,chars:y,kernings:g}=d;let b=4;if(b+=19+new TextEncoder().encode(h.face||"").length+1,b+=20,b+=5,f.length>0){const v=Math.max(...f.map(S=>new TextEncoder().encode(S.file||"").length));b+=f.length*(v+1)}return b+=5+y.list.length*20,g.count>0&&(b+=5+g.list.length*10),b}const getContent$2=d=>{const{info:h,common:f,pages:y,chars:g,kernings:b}=d,v=calculateBufferSize(d),S=new BMFontBinaryWriter(v);S.writeHeader();const w=14+new TextEncoder().encode(h.face||"").length+1;S.writeBlockHeader(1,w),S.writeUint16(Math.abs(h.size)||16);let T=0;h.smooth&&(T|=1),h.unicode&&(T|=2),h.italic&&(T|=4),h.bold&&(T|=8),S.writeUint8(T),S.writeUint8(Number(h.charset)||0),S.writeUint16(Number(h.stretchH)||100),S.writeUint8(Number(h.aa)||1);const E=Array.isArray(h.padding)?h.padding:[0,0,0,0];S.writeUint8(E[0]||0),S.writeUint8(E[1]||0),S.writeUint8(E[2]||0),S.writeUint8(E[3]||0);const k=Array.isArray(h.spacing)?h.spacing:[0,0];S.writeUint8(k[0]||0),S.writeUint8(k[1]||0),S.writeUint8(Number(h.outline)||0);const C=new TextEncoder().encode(h.face||"");for(let j=0;j<C.length;j++)S.writeUint8(C[j]);S.writeUint8(0),S.writeBlockHeader(2,15),S.writeUint16(f.lineHeight||0),S.writeUint16(f.base||0),S.writeUint16(f.scaleW||0),S.writeUint16(f.scaleH||0),S.writeUint16(f.pages||1);let P=0;f.packed&&(P|=1),S.writeUint8(P),S.writeUint8(f.alphaChnl||0),S.writeUint8(f.redChnl||4),S.writeUint8(f.greenChnl||2),S.writeUint8(f.blueChnl||1);let M=0,A=0;y.length>0&&(A=Math.max(...y.map(j=>new TextEncoder().encode(j.file||"").length)),M=y.length*(A+1)),S.writeBlockHeader(3,M),y.forEach(j=>{const q=j.file||"",F=new TextEncoder().encode(q);for(let L=0;L<F.length;L++)S.writeUint8(F[L]);for(let L=F.length;L<A;L++)S.writeUint8(0);S.writeUint8(0)});const D=g.list.length*20;if(S.writeBlockHeader(4,D),g.list.forEach(j=>{S.writeUint32(j.id||0),S.writeUint16(j.x||0),S.writeUint16(j.y||0),S.writeUint16(j.width||0),S.writeUint16(j.height||0),S.writeInt16(j.xoffset||0),S.writeInt16(j.yoffset||0),S.writeInt16(j.xadvance||0),S.writeUint8(j.page||0),S.writeUint8(j.chnl||15)}),b.count>0&&b.list.length>0){const j=b.list.length*10;S.writeBlockHeader(5,j),b.list.forEach(q=>{S.writeUint32(q.first||0),S.writeUint32(q.second||0),S.writeInt16(q.amount||0)})}const N=S.getBuffer();return new Uint8Array(N)},outputConfig$2={type:type$4,exts:exts$2,getContent:getContent$2};function replaceVariables(d,h){return d.replace(/\$\w+\$/gi,f=>{const y=f.replace(/\$/g,""),g=h[y];return g===void 0?"":String(g)})}const TEMP_INFO$1=`info face="$face$" size=$size$ bold=$bold$ italic=$italic$ charset=$charset$ unicode=$unicode$ stretchH=$stretchH$ smooth=$smooth$ aa=$aa$ padding=$padding$ spacing=$spacing$ outline=$outline$
`,TEMP_COMMON$1=`common lineHeight=$lineHeight$ base=$base$ scaleW=$scaleW$ scaleH=$scaleH$ pages=$pages$ packed=$packed$ alphaChnl=$alphaChnl$ redChnl=$redChnl$ greenChnl=$greenChnl$ blueChnl=$blueChnl$
`,TEMP_PAGE$1=`page id=$id$ file="$file$"
`,TEMP_CHARS$1=`chars count=$count$
`,TEMP_CHAR$1=`char id=$id$ x=$x$ y=$y$ width=$width$ height=$height$ xoffset=$xoffset$ yoffset=$yoffset$ xadvance=$xadvance$ page=$page$ chnl=$chnl$
`,TEMP_KERNINGS$1=`kernings count=$count$
`,TEMP_KERNING$1=`kerning first=$first$ second=$second$ amount=$amount$
`,type$3="TEXT",exts$1=["fnt","txt"],getContent$1=d=>{const{info:h,common:f,pages:y,chars:g,kernings:b}=d,v=()=>{if(g.list.length===0)return'""';const O=g.list.map(k=>k.id).sort((k,C)=>k-C),w=[];let T=O[0],E=O[0];for(let k=1;k<O.length;k++)O[k]===E+1?E=O[k]:(w.push(T===E?`${T}`:`${T}-${E}`),T=E=O[k]);return w.push(T===E?`${T}`:`${T}-${E}`),`"${w.join(",")}"`};let S="";return S+=replaceVariables(TEMP_INFO$1,Re(X({},h),{charset:h.charset||v()})),S+=replaceVariables(TEMP_COMMON$1,f),y.forEach(O=>{S+=replaceVariables(TEMP_PAGE$1,O)}),S+=replaceVariables(TEMP_CHARS$1,g),g.list.forEach(O=>{S+=replaceVariables(TEMP_CHAR$1,O)}),b.count&&(S+=replaceVariables(TEMP_KERNINGS$1,b),b.list.forEach(O=>{S+=replaceVariables(TEMP_KERNING$1,O)})),S},outputConfig$1={type:type$3,exts:exts$1,getContent:getContent$1},TEMP_INFO='<info face="$face$" size="$size$" bold="$bold$" italic="$italic$" charset="$charset$" unicode="$unicode$" stretchH="$stretchH$" smooth="$smooth$" aa="$aa$" padding="$padding$" spacing="$spacing$" outline="$outline$" />',TEMP_COMMON='<common lineHeight="$lineHeight$" base="$base$" scaleW="$scaleW$" scaleH="$scaleH$" pages="$pages$" packed="$packed$" alphaChnl="$alphaChnl$" redChnl="$redChnl$" greenChnl="$greenChnl$" blueChnl="$blueChnl$" />',TEMP_PAGE='<page id="$id$" file="$file$" />',TEMP_CHARS='<chars count="$count$" />',TEMP_CHAR='<char id="$id$" x="$x$" y="$y$" width="$width$" height="$height$" xoffset="$xoffset$" yoffset="$yoffset$" xadvance="$xadvance$" page="$page$" chnl="$chnl$" />',TEMP_KERNINGS='<kernings count="$count$" />',TEMP_KERNING='<kerning first="$first$" second="$second$" amount="$amount$" />',type$2="XML",exts=["xml","fnt"],getContent=d=>{const{info:h,common:f,pages:y,chars:g,kernings:b}=d,v=new DOMParser,S=document.implementation.createDocument("","font",null),O=v.parseFromString(replaceVariables(TEMP_INFO,h),"text/xml");S.documentElement.appendChild(O.childNodes[0]);const w=v.parseFromString(replaceVariables(TEMP_COMMON,f),"text/xml");S.documentElement.appendChild(w.childNodes[0]);const T=v.parseFromString(`<pages>${y.map(k=>replaceVariables(TEMP_PAGE,k))}</pages>`,"text/xml");S.documentElement.appendChild(T.childNodes[0]);const E=v.parseFromString(replaceVariables(TEMP_CHARS,g),"text/xml");if(g.list.forEach(k=>{E.childNodes[0].appendChild(new Comment(` ${k.letter} `));const C=v.parseFromString(replaceVariables(TEMP_CHAR,k),"text/xml");E.childNodes[0].appendChild(C.childNodes[0])}),S.documentElement.appendChild(E.childNodes[0]),b.count){const k=v.parseFromString(replaceVariables(TEMP_KERNINGS,b),"text/xml");b.list.forEach(C=>{const P=v.parseFromString(replaceVariables(TEMP_KERNING,C),"text/xml");k.childNodes[0].appendChild(P.childNodes[0])}),S.documentElement.appendChild(k.childNodes[0])}return`<?xml version="1.0" encoding="UTF-8"?>${new XMLSerializer().serializeToString(S)}`},outputConfig={type:type$2,exts,getContent};var FileSaver_minExports=requireFileSaver_min(),jszip_minExports=requireJszip_min();const JSZip=getDefaultExportFromCjs(jszip_minExports),version="1.2.0",homepage="https://snowb.org/",packageInfo={version,homepage};function toBmfInfo(d,h="",f){var z,V,Y;const{name:y,style:g,layout:b,globalAdjustMetric:v,glyphList:S,ui:{width:O,height:w}}=d,{opentype:T,size:E}=g.font;let k=1;T&&(k=1/T.unitsPerEm*E);let C=0,P=0;if(T){const W=T.tables.os2;if(W&&(C=W.usWeightClass>=700?1:0,P=W.fsSelection&1?1:0),!C&&!P&&T.names){const K=((z=T.names.fontFamily)==null?void 0:z.en)||((V=T.names.fullName)==null?void 0:V.en)||"",re=((Y=T.names.fontSubfamily)==null?void 0:Y.en)||"",fe=`${K} ${re}`.toLowerCase();C=/bold|black|heavy|extra/.test(fe)?1:0,P=/italic|oblique|slant/.test(fe)?1:0}}const M={face:h||g.font.mainFamily,size:g.font.size,bold:C,italic:P,charset:"",unicode:1,stretchH:100,smooth:1,aa:1,padding:[b.padding,b.padding,b.padding,b.padding],spacing:[b.spacing,b.spacing],outline:0},A=()=>{const W=g.font.alphabetic-g.font.top,K=Math.max(0,Math.round(W)),re=Math.round(g.font.size*g.font.lineHeight);return Math.min(K,re)},D={lineHeight:Math.round(g.font.size*g.font.lineHeight),base:A(),scaleW:O,scaleH:w,pages:b.page,packed:0,alphaChnl:0,redChnl:4,greenChnl:4,blueChnl:4},N=f||y,j=Array.from({length:b.page},(W,K)=>{if(b.page===1)return{id:K,file:`${N}.png`};{const fe=(b.page-1).toString().length,se=K.toString().padStart(fe,"0");return{id:K,file:`${N}_${se}.png`}}}),q={count:S.length,list:[]},F={count:0,list:[]};S.forEach(W=>{const K=!!(W.width&&W.height),re={letter:W.letter,id:W.letter.codePointAt(0)||0,x:W.x,y:W.y,width:K?W.width+b.padding*2:0,height:K?W.height+b.padding*2:0,xoffset:v.xOffset+W.adjustMetric.xOffset-(K?W.trimOffsetLeft:0)-(K?b.padding:0),yoffset:v.yOffset+W.adjustMetric.yOffset-(K?W.trimOffsetTop:0)-(K?b.padding:0),xadvance:Math.ceil(W.fontWidth)+v.xAdvance+W.adjustMetric.xAdvance,page:W.page||0,chnl:15};q.list.push(re)});const L=new Map;if(T){const W=[];S.forEach(K=>{const re=T.charToGlyphIndex(K.letter);re!==0&&W.push({glyph:K,index:re,id:K.letter.codePointAt(0)||0})});for(let K=0;K<W.length;K++){const re=W[K];for(let fe=0;fe<W.length;fe++){const se=W[fe],J=T.getKerningValue(re.index,se.index),ie=re.glyph.kerning.get(se.glyph.letter)||0;if(J===0&&ie===0)continue;const ue=Math.round(J*k+ie);if(ue){const ke=`${re.id}-${se.id}`;L.set(ke,ue)}}}}else S.forEach(W=>{W.kerning.forEach((K,re)=>{if(K){const fe=W.letter.codePointAt(0)||0,se=re.codePointAt(0)||0,J=`${fe}-${se}`;L.set(J,K)}})});return L.forEach((W,K)=>{const[re,fe]=K.split("-").map(Number);F.list.push({first:re,second:fe,amount:W})}),F.count=F.list.length,q.list.sort((W,K)=>W.id-K.id),F.list.sort((W,K)=>W.first-K.first||W.second-K.second),{version:3,metadata:{generatorName:"SnowBamboo BMF",generatorVersion:packageInfo.version,generatorUrl:packageInfo.homepage,generatedAt:new Date().toISOString(),formatVersion:3,characterCount:q.count,kerningPairCount:F.count,fontFamily:h||g.font.mainFamily,fontSize:g.font.size,padding:b.padding,spacing:b.spacing},info:M,common:D,pages:j,chars:q,kernings:F}}function exportFile(d,h,f,y){const g=new JSZip,{packCanvases:b,layout:v}=d,S=y||d.name,O=toBmfInfo(d,f,S),w=h.getContent(O);g.file(`${S}.${h.ext}`,w);const T=[];for(let E=0;E<v.page;E++){let k=null;if(b&&b[E]&&(k=b[E]),!k)continue;const C=new Promise(P=>{k.toBlob(M=>{if(M){const A=v.page>1?`${S}_${E}.png`:`${S}.png`;g.file(A,M)}P()})});T.push(C)}Promise.all(T).then(()=>{g.generateAsync({type:"blob"}).then(E=>FileSaver_minExports.saveAs(E,`${S}.zip`))})}const list=[outputConfig$1,outputConfig,outputConfig$2],configList=[];list.forEach(({type:d,exts:h,getContent:f})=>{h.forEach(y=>{configList.push({id:d+y,ext:y,type:d,getContent:f})})});const ButtonExport=d=>{const{sx:h}=d,f=useProject(),{setShowPreview:y}=f.ui,[g,b]=reactExports.useState(!1),[v]=reactExports.useState(configList),[S,O]=reactExports.useState(0),[w,T]=reactExports.useState(f.style.font.mainFamily),[E,k]=reactExports.useState(f.name),C=reactExports.useCallback(()=>{T(f.style.font.mainFamily),k(f.name),y(!1),b(!0)},[f.name,f.style.font.mainFamily,y]),P=()=>{b(!1)},M=j=>{T(j.target.value)},A=j=>{k(j.target.value)},D=j=>{O(j.target.value)},N=reactExports.useCallback(()=>{exportFile(f,v[S],w,E),P()},[E,w,v,f,S]);return reactExports.useEffect(()=>(hotkeys.unbind("ctrl+shift+s,command+shift+s"),hotkeys("ctrl+shift+s,command+shift+s",C),()=>{hotkeys.unbind("ctrl+shift+s,command+shift+s")}),[C]),jsxs(Fragment,{children:[jsx(Button,{sx:h,title:"Export BitmapFont ( + S)",onClick:C,children:"Export"}),jsxs(Dialog,{onClose:P,open:g,fullWidth:!0,maxWidth:"xs",children:[jsx(DialogTitle,{children:"Export Config"}),jsxs(DialogContent,{dividers:!0,children:[jsx(Box,{sx:{px:2,my:4},children:jsx(GridInput,{before:"Font Name:",childrenWidth:6,children:jsx(Input,{fullWidth:!0,type:"text",value:w,placeholder:f.style.font.mainFamily,onChange:M})})}),jsx(Box,{sx:{px:2,my:4},children:jsx(GridInput,{before:"File Name:",after:".zip",childrenWidth:6,children:jsx(Input,{fullWidth:!0,type:"text",value:E,placeholder:f.name,onChange:A})})}),jsx(Box,{sx:{px:2,my:4},children:jsx(GridInput,{before:"Export Type:",childrenWidth:6,children:jsx(Select,{displayEmpty:!0,value:S,onChange:D,fullWidth:!0,children:v.map((j,q)=>jsx(MenuItem,{value:q,children:`${E||f.name}.${j.ext} (BMFont ${j.type.toUpperCase()})`},j.id))})})})]}),jsx(DialogActions,{children:jsx(Button,{autoFocus:!0,onClick:N,color:"inherit",children:"Save"})})]})]})},ButtonExport$1=observer(ButtonExport),ButtonNew=d=>{const{sx:h}=d,f=useWorkspace(),{addProject:y}=f,g=reactExports.useCallback(b=>(b.preventDefault(),y(),!1),[y]);return reactExports.useEffect(()=>(hotkeys.unbind("alt+n,control+n"),hotkeys("alt+n,control+n",g),()=>{hotkeys.unbind("alt+n,control+n")}),[g]),jsx(Button,{sx:h,title:"New Project (ALT + N)",onClick:g,children:"New"})},ButtonNew$1=observer(ButtonNew);var jtd$1={exports:{}},core={},validate$1={},boolSchema={},errors={},codegen={},code$1={},hasRequiredCode$1;function requireCode$1(){return hasRequiredCode$1||(hasRequiredCode$1=1,(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.regexpCode=d.getEsmExportName=d.getProperty=d.safeStringify=d.stringify=d.strConcat=d.addCodeArg=d.str=d._=d.nil=d._Code=d.Name=d.IDENTIFIER=d._CodeOrName=void 0;class h{}d._CodeOrName=h,d.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class f extends h{constructor(N){if(super(),!d.IDENTIFIER.test(N))throw new Error("CodeGen: name must be a valid identifier");this.str=N}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}d.Name=f;class y extends h{constructor(N){super(),this._items=typeof N=="string"?[N]:N}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const N=this._items[0];return N===""||N==='""'}get str(){var N;return(N=this._str)!==null&&N!==void 0?N:this._str=this._items.reduce((j,q)=>`${j}${q}`,"")}get names(){var N;return(N=this._names)!==null&&N!==void 0?N:this._names=this._items.reduce((j,q)=>(q instanceof f&&(j[q.str]=(j[q.str]||0)+1),j),{})}}d._Code=y,d.nil=new y("");function g(D,...N){const j=[D[0]];let q=0;for(;q<N.length;)S(j,N[q]),j.push(D[++q]);return new y(j)}d._=g;const b=new y("+");function v(D,...N){const j=[C(D[0])];let q=0;for(;q<N.length;)j.push(b),S(j,N[q]),j.push(b,C(D[++q]));return O(j),new y(j)}d.str=v;function S(D,N){N instanceof y?D.push(...N._items):N instanceof f?D.push(N):D.push(E(N))}d.addCodeArg=S;function O(D){let N=1;for(;N<D.length-1;){if(D[N]===b){const j=w(D[N-1],D[N+1]);if(j!==void 0){D.splice(N-1,3,j);continue}D[N++]="+"}N++}}function w(D,N){if(N==='""')return D;if(D==='""')return N;if(typeof D=="string")return N instanceof f||D[D.length-1]!=='"'?void 0:typeof N!="string"?`${D.slice(0,-1)}${N}"`:N[0]==='"'?D.slice(0,-1)+N.slice(1):void 0;if(typeof N=="string"&&N[0]==='"'&&!(D instanceof f))return`"${D}${N.slice(1)}`}function T(D,N){return N.emptyStr()?D:D.emptyStr()?N:v`${D}${N}`}d.strConcat=T;function E(D){return typeof D=="number"||typeof D=="boolean"||D===null?D:C(Array.isArray(D)?D.join(","):D)}function k(D){return new y(C(D))}d.stringify=k;function C(D){return JSON.stringify(D).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}d.safeStringify=C;function P(D){return typeof D=="string"&&d.IDENTIFIER.test(D)?new y(`.${D}`):g`[${D}]`}d.getProperty=P;function M(D){if(typeof D=="string"&&d.IDENTIFIER.test(D))return new y(`${D}`);throw new Error(`CodeGen: invalid export name: ${D}, use explicit $id name mapping`)}d.getEsmExportName=M;function A(D){return new y(D.toString())}d.regexpCode=A})(code$1)),code$1}var scope={},hasRequiredScope;function requireScope(){return hasRequiredScope||(hasRequiredScope=1,(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.ValueScope=d.ValueScopeName=d.Scope=d.varKinds=d.UsedValueState=void 0;const h=requireCode$1();class f extends Error{constructor(w){super(`CodeGen: "code" for ${w} not defined`),this.value=w.value}}var y;(function(O){O[O.Started=0]="Started",O[O.Completed=1]="Completed"})(y||(d.UsedValueState=y={})),d.varKinds={const:new h.Name("const"),let:new h.Name("let"),var:new h.Name("var")};class g{constructor({prefixes:w,parent:T}={}){this._names={},this._prefixes=w,this._parent=T}toName(w){return w instanceof h.Name?w:this.name(w)}name(w){return new h.Name(this._newName(w))}_newName(w){const T=this._names[w]||this._nameGroup(w);return`${w}${T.index++}`}_nameGroup(w){var T,E;if(!((E=(T=this._parent)===null||T===void 0?void 0:T._prefixes)===null||E===void 0)&&E.has(w)||this._prefixes&&!this._prefixes.has(w))throw new Error(`CodeGen: prefix "${w}" is not allowed in this scope`);return this._names[w]={prefix:w,index:0}}}d.Scope=g;class b extends h.Name{constructor(w,T){super(T),this.prefix=w}setValue(w,{property:T,itemIndex:E}){this.value=w,this.scopePath=(0,h._)`.${new h.Name(T)}[${E}]`}}d.ValueScopeName=b;const v=(0,h._)`\n`;class S extends g{constructor(w){super(w),this._values={},this._scope=w.scope,this.opts=Re(X({},w),{_n:w.lines?v:h.nil})}get(){return this._scope}name(w){return new b(w,this._newName(w))}value(w,T){var E;if(T.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const k=this.toName(w),{prefix:C}=k,P=(E=T.key)!==null&&E!==void 0?E:T.ref;let M=this._values[C];if(M){const N=M.get(P);if(N)return N}else M=this._values[C]=new Map;M.set(P,k);const A=this._scope[C]||(this._scope[C]=[]),D=A.length;return A[D]=T.ref,k.setValue(T,{property:C,itemIndex:D}),k}getValue(w,T){const E=this._values[w];if(E)return E.get(T)}scopeRefs(w,T=this._values){return this._reduceValues(T,E=>{if(E.scopePath===void 0)throw new Error(`CodeGen: name "${E}" has no value`);return(0,h._)`${w}${E.scopePath}`})}scopeCode(w=this._values,T,E){return this._reduceValues(w,k=>{if(k.value===void 0)throw new Error(`CodeGen: name "${k}" has no value`);return k.value.code},T,E)}_reduceValues(w,T,E={},k){let C=h.nil;for(const P in w){const M=w[P];if(!M)continue;const A=E[P]=E[P]||new Map;M.forEach(D=>{if(A.has(D))return;A.set(D,y.Started);let N=T(D);if(N){const j=this.opts.es5?d.varKinds.var:d.varKinds.const;C=(0,h._)`${C}${j} ${D} = ${N};${this.opts._n}`}else if(N=k==null?void 0:k(D))C=(0,h._)`${C}${N}${this.opts._n}`;else throw new f(D);A.set(D,y.Completed)})}return C}}d.ValueScope=S})(scope)),scope}var hasRequiredCodegen;function requireCodegen(){return hasRequiredCodegen||(hasRequiredCodegen=1,(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.or=d.and=d.not=d.CodeGen=d.operators=d.varKinds=d.ValueScopeName=d.ValueScope=d.Scope=d.Name=d.regexpCode=d.stringify=d.getProperty=d.nil=d.strConcat=d.str=d._=void 0;const h=requireCode$1(),f=requireScope();var y=requireCode$1();Object.defineProperty(d,"_",{enumerable:!0,get:function(){return y._}}),Object.defineProperty(d,"str",{enumerable:!0,get:function(){return y.str}}),Object.defineProperty(d,"strConcat",{enumerable:!0,get:function(){return y.strConcat}}),Object.defineProperty(d,"nil",{enumerable:!0,get:function(){return y.nil}}),Object.defineProperty(d,"getProperty",{enumerable:!0,get:function(){return y.getProperty}}),Object.defineProperty(d,"stringify",{enumerable:!0,get:function(){return y.stringify}}),Object.defineProperty(d,"regexpCode",{enumerable:!0,get:function(){return y.regexpCode}}),Object.defineProperty(d,"Name",{enumerable:!0,get:function(){return y.Name}});var g=requireScope();Object.defineProperty(d,"Scope",{enumerable:!0,get:function(){return g.Scope}}),Object.defineProperty(d,"ValueScope",{enumerable:!0,get:function(){return g.ValueScope}}),Object.defineProperty(d,"ValueScopeName",{enumerable:!0,get:function(){return g.ValueScopeName}}),Object.defineProperty(d,"varKinds",{enumerable:!0,get:function(){return g.varKinds}}),d.operators={GT:new h._Code(">"),GTE:new h._Code(">="),LT:new h._Code("<"),LTE:new h._Code("<="),EQ:new h._Code("==="),NEQ:new h._Code("!=="),NOT:new h._Code("!"),OR:new h._Code("||"),AND:new h._Code("&&"),ADD:new h._Code("+")};class b{optimizeNodes(){return this}optimizeNames(H,Z){return this}}class v extends b{constructor(H,Z,ve){super(),this.varKind=H,this.name=Z,this.rhs=ve}render({es5:H,_n:Z}){const ve=H?f.varKinds.var:this.varKind,Te=this.rhs===void 0?"":` = ${this.rhs}`;return`${ve} ${this.name}${Te};`+Z}optimizeNames(H,Z){if(H[this.name.str])return this.rhs&&(this.rhs=fe(this.rhs,H,Z)),this}get names(){return this.rhs instanceof h._CodeOrName?this.rhs.names:{}}}class S extends b{constructor(H,Z,ve){super(),this.lhs=H,this.rhs=Z,this.sideEffects=ve}render({_n:H}){return`${this.lhs} = ${this.rhs};`+H}optimizeNames(H,Z){if(!(this.lhs instanceof h.Name&&!H[this.lhs.str]&&!this.sideEffects))return this.rhs=fe(this.rhs,H,Z),this}get names(){const H=this.lhs instanceof h.Name?{}:X({},this.lhs.names);return re(H,this.rhs)}}class O extends S{constructor(H,Z,ve,Te){super(H,ve,Te),this.op=Z}render({_n:H}){return`${this.lhs} ${this.op}= ${this.rhs};`+H}}class w extends b{constructor(H){super(),this.label=H,this.names={}}render({_n:H}){return`${this.label}:`+H}}class T extends b{constructor(H){super(),this.label=H,this.names={}}render({_n:H}){return`break${this.label?` ${this.label}`:""};`+H}}class E extends b{constructor(H){super(),this.error=H}render({_n:H}){return`throw ${this.error};`+H}get names(){return this.error.names}}class k extends b{constructor(H){super(),this.code=H}render({_n:H}){return`${this.code};`+H}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(H,Z){return this.code=fe(this.code,H,Z),this}get names(){return this.code instanceof h._CodeOrName?this.code.names:{}}}class C extends b{constructor(H=[]){super(),this.nodes=H}render(H){return this.nodes.reduce((Z,ve)=>Z+ve.render(H),"")}optimizeNodes(){const{nodes:H}=this;let Z=H.length;for(;Z--;){const ve=H[Z].optimizeNodes();Array.isArray(ve)?H.splice(Z,1,...ve):ve?H[Z]=ve:H.splice(Z,1)}return H.length>0?this:void 0}optimizeNames(H,Z){const{nodes:ve}=this;let Te=ve.length;for(;Te--;){const te=ve[Te];te.optimizeNames(H,Z)||(se(H,te.names),ve.splice(Te,1))}return ve.length>0?this:void 0}get names(){return this.nodes.reduce((H,Z)=>K(H,Z.names),{})}}class P extends C{render(H){return"{"+H._n+super.render(H)+"}"+H._n}}class M extends C{}class A extends P{}A.kind="else";class D extends P{constructor(H,Z){super(Z),this.condition=H}render(H){let Z=`if(${this.condition})`+super.render(H);return this.else&&(Z+="else "+this.else.render(H)),Z}optimizeNodes(){super.optimizeNodes();const H=this.condition;if(H===!0)return this.nodes;let Z=this.else;if(Z){const ve=Z.optimizeNodes();Z=this.else=Array.isArray(ve)?new A(ve):ve}if(Z)return H===!1?Z instanceof D?Z:Z.nodes:this.nodes.length?this:new D(J(H),Z instanceof D?[Z]:Z.nodes);if(!(H===!1||!this.nodes.length))return this}optimizeNames(H,Z){var ve;if(this.else=(ve=this.else)===null||ve===void 0?void 0:ve.optimizeNames(H,Z),!!(super.optimizeNames(H,Z)||this.else))return this.condition=fe(this.condition,H,Z),this}get names(){const H=super.names;return re(H,this.condition),this.else&&K(H,this.else.names),H}}D.kind="if";class N extends P{}N.kind="for";class j extends N{constructor(H){super(),this.iteration=H}render(H){return`for(${this.iteration})`+super.render(H)}optimizeNames(H,Z){if(super.optimizeNames(H,Z))return this.iteration=fe(this.iteration,H,Z),this}get names(){return K(super.names,this.iteration.names)}}class q extends N{constructor(H,Z,ve,Te){super(),this.varKind=H,this.name=Z,this.from=ve,this.to=Te}render(H){const Z=H.es5?f.varKinds.var:this.varKind,{name:ve,from:Te,to:te}=this;return`for(${Z} ${ve}=${Te}; ${ve}<${te}; ${ve}++)`+super.render(H)}get names(){const H=re(super.names,this.from);return re(H,this.to)}}class F extends N{constructor(H,Z,ve,Te){super(),this.loop=H,this.varKind=Z,this.name=ve,this.iterable=Te}render(H){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(H)}optimizeNames(H,Z){if(super.optimizeNames(H,Z))return this.iterable=fe(this.iterable,H,Z),this}get names(){return K(super.names,this.iterable.names)}}class L extends P{constructor(H,Z,ve){super(),this.name=H,this.args=Z,this.async=ve}render(H){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(H)}}L.kind="func";class U extends C{render(H){return"return "+super.render(H)}}U.kind="return";class z extends P{render(H){let Z="try"+super.render(H);return this.catch&&(Z+=this.catch.render(H)),this.finally&&(Z+=this.finally.render(H)),Z}optimizeNodes(){var H,Z;return super.optimizeNodes(),(H=this.catch)===null||H===void 0||H.optimizeNodes(),(Z=this.finally)===null||Z===void 0||Z.optimizeNodes(),this}optimizeNames(H,Z){var ve,Te;return super.optimizeNames(H,Z),(ve=this.catch)===null||ve===void 0||ve.optimizeNames(H,Z),(Te=this.finally)===null||Te===void 0||Te.optimizeNames(H,Z),this}get names(){const H=super.names;return this.catch&&K(H,this.catch.names),this.finally&&K(H,this.finally.names),H}}class V extends P{constructor(H){super(),this.error=H}render(H){return`catch(${this.error})`+super.render(H)}}V.kind="catch";class Y extends P{render(H){return"finally"+super.render(H)}}Y.kind="finally";class W{constructor(H,Z={}){this._values={},this._blockStarts=[],this._constants={},this.opts=Re(X({},Z),{_n:Z.lines?`
`:""}),this._extScope=H,this._scope=new f.Scope({parent:H}),this._nodes=[new M]}toString(){return this._root.render(this.opts)}name(H){return this._scope.name(H)}scopeName(H){return this._extScope.name(H)}scopeValue(H,Z){const ve=this._extScope.value(H,Z);return(this._values[ve.prefix]||(this._values[ve.prefix]=new Set)).add(ve),ve}getScopeValue(H,Z){return this._extScope.getValue(H,Z)}scopeRefs(H){return this._extScope.scopeRefs(H,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(H,Z,ve,Te){const te=this._scope.toName(Z);return ve!==void 0&&Te&&(this._constants[te.str]=ve),this._leafNode(new v(H,te,ve)),te}const(H,Z,ve){return this._def(f.varKinds.const,H,Z,ve)}let(H,Z,ve){return this._def(f.varKinds.let,H,Z,ve)}var(H,Z,ve){return this._def(f.varKinds.var,H,Z,ve)}assign(H,Z,ve){return this._leafNode(new S(H,Z,ve))}add(H,Z){return this._leafNode(new O(H,d.operators.ADD,Z))}code(H){return typeof H=="function"?H():H!==h.nil&&this._leafNode(new k(H)),this}object(...H){const Z=["{"];for(const[ve,Te]of H)Z.length>1&&Z.push(","),Z.push(ve),(ve!==Te||this.opts.es5)&&(Z.push(":"),(0,h.addCodeArg)(Z,Te));return Z.push("}"),new h._Code(Z)}if(H,Z,ve){if(this._blockNode(new D(H)),Z&&ve)this.code(Z).else().code(ve).endIf();else if(Z)this.code(Z).endIf();else if(ve)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(H){return this._elseNode(new D(H))}else(){return this._elseNode(new A)}endIf(){return this._endBlockNode(D,A)}_for(H,Z){return this._blockNode(H),Z&&this.code(Z).endFor(),this}for(H,Z){return this._for(new j(H),Z)}forRange(H,Z,ve,Te,te=this.opts.es5?f.varKinds.var:f.varKinds.let){const ge=this._scope.toName(H);return this._for(new q(te,ge,Z,ve),()=>Te(ge))}forOf(H,Z,ve,Te=f.varKinds.const){const te=this._scope.toName(H);if(this.opts.es5){const ge=Z instanceof h.Name?Z:this.var("_arr",Z);return this.forRange("_i",0,(0,h._)`${ge}.length`,$e=>{this.var(te,(0,h._)`${ge}[${$e}]`),ve(te)})}return this._for(new F("of",Te,te,Z),()=>ve(te))}forIn(H,Z,ve,Te=this.opts.es5?f.varKinds.var:f.varKinds.const){if(this.opts.ownProperties)return this.forOf(H,(0,h._)`Object.keys(${Z})`,ve);const te=this._scope.toName(H);return this._for(new F("in",Te,te,Z),()=>ve(te))}endFor(){return this._endBlockNode(N)}label(H){return this._leafNode(new w(H))}break(H){return this._leafNode(new T(H))}return(H){const Z=new U;if(this._blockNode(Z),this.code(H),Z.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(U)}try(H,Z,ve){if(!Z&&!ve)throw new Error('CodeGen: "try" without "catch" and "finally"');const Te=new z;if(this._blockNode(Te),this.code(H),Z){const te=this.name("e");this._currNode=Te.catch=new V(te),Z(te)}return ve&&(this._currNode=Te.finally=new Y,this.code(ve)),this._endBlockNode(V,Y)}throw(H){return this._leafNode(new E(H))}block(H,Z){return this._blockStarts.push(this._nodes.length),H&&this.code(H).endBlock(Z),this}endBlock(H){const Z=this._blockStarts.pop();if(Z===void 0)throw new Error("CodeGen: not in self-balancing block");const ve=this._nodes.length-Z;if(ve<0||H!==void 0&&ve!==H)throw new Error(`CodeGen: wrong number of nodes: ${ve} vs ${H} expected`);return this._nodes.length=Z,this}func(H,Z=h.nil,ve,Te){return this._blockNode(new L(H,Z,ve)),Te&&this.code(Te).endFunc(),this}endFunc(){return this._endBlockNode(L)}optimize(H=1){for(;H-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(H){return this._currNode.nodes.push(H),this}_blockNode(H){this._currNode.nodes.push(H),this._nodes.push(H)}_endBlockNode(H,Z){const ve=this._currNode;if(ve instanceof H||Z&&ve instanceof Z)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${Z?`${H.kind}/${Z.kind}`:H.kind}"`)}_elseNode(H){const Z=this._currNode;if(!(Z instanceof D))throw new Error('CodeGen: "else" without "if"');return this._currNode=Z.else=H,this}get _root(){return this._nodes[0]}get _currNode(){const H=this._nodes;return H[H.length-1]}set _currNode(H){const Z=this._nodes;Z[Z.length-1]=H}}d.CodeGen=W;function K(ae,H){for(const Z in H)ae[Z]=(ae[Z]||0)+(H[Z]||0);return ae}function re(ae,H){return H instanceof h._CodeOrName?K(ae,H.names):ae}function fe(ae,H,Z){if(ae instanceof h.Name)return ve(ae);if(!Te(ae))return ae;return new h._Code(ae._items.reduce((te,ge)=>(ge instanceof h.Name&&(ge=ve(ge)),ge instanceof h._Code?te.push(...ge._items):te.push(ge),te),[]));function ve(te){const ge=Z[te.str];return ge===void 0||H[te.str]!==1?te:(delete H[te.str],ge)}function Te(te){return te instanceof h._Code&&te._items.some(ge=>ge instanceof h.Name&&H[ge.str]===1&&Z[ge.str]!==void 0)}}function se(ae,H){for(const Z in H)ae[Z]=(ae[Z]||0)-(H[Z]||0)}function J(ae){return typeof ae=="boolean"||typeof ae=="number"||ae===null?!ae:(0,h._)`!${de(ae)}`}d.not=J;const ie=ne(d.operators.AND);function ue(...ae){return ae.reduce(ie)}d.and=ue;const ke=ne(d.operators.OR);function pe(...ae){return ae.reduce(ke)}d.or=pe;function ne(ae){return(H,Z)=>H===h.nil?Z:Z===h.nil?H:(0,h._)`${de(H)} ${ae} ${de(Z)}`}function de(ae){return ae instanceof h.Name?ae:(0,h._)`(${ae})`}})(codegen)),codegen}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1,Object.defineProperty(util,"__esModule",{value:!0}),util.checkStrictMode=util.getErrorPath=util.Type=util.useFunc=util.setEvaluated=util.evaluatedPropsToName=util.mergeEvaluated=util.eachItem=util.unescapeJsonPointer=util.escapeJsonPointer=util.escapeFragment=util.unescapeFragment=util.schemaRefOrVal=util.schemaHasRulesButRef=util.schemaHasRules=util.checkUnknownRules=util.alwaysValidSchema=util.toHash=void 0;const d=requireCodegen(),h=requireCode$1();function f(F){const L={};for(const U of F)L[U]=!0;return L}util.toHash=f;function y(F,L){return typeof L=="boolean"?L:Object.keys(L).length===0?!0:(g(F,L),!b(L,F.self.RULES.all))}util.alwaysValidSchema=y;function g(F,L=F.schema){const{opts:U,self:z}=F;if(!U.strictSchema||typeof L=="boolean")return;const V=z.RULES.keywords;for(const Y in L)V[Y]||q(F,`unknown keyword: "${Y}"`)}util.checkUnknownRules=g;function b(F,L){if(typeof F=="boolean")return!F;for(const U in F)if(L[U])return!0;return!1}util.schemaHasRules=b;function v(F,L){if(typeof F=="boolean")return!F;for(const U in F)if(U!=="$ref"&&L.all[U])return!0;return!1}util.schemaHasRulesButRef=v;function S({topSchemaRef:F,schemaPath:L},U,z,V){if(!V){if(typeof U=="number"||typeof U=="boolean")return U;if(typeof U=="string")return(0,d._)`${U}`}return(0,d._)`${F}${L}${(0,d.getProperty)(z)}`}util.schemaRefOrVal=S;function O(F){return E(decodeURIComponent(F))}util.unescapeFragment=O;function w(F){return encodeURIComponent(T(F))}util.escapeFragment=w;function T(F){return typeof F=="number"?`${F}`:F.replace(/~/g,"~0").replace(/\//g,"~1")}util.escapeJsonPointer=T;function E(F){return F.replace(/~1/g,"/").replace(/~0/g,"~")}util.unescapeJsonPointer=E;function k(F,L){if(Array.isArray(F))for(const U of F)L(U);else L(F)}util.eachItem=k;function C({mergeNames:F,mergeToName:L,mergeValues:U,resultToName:z}){return(V,Y,W,K)=>{const re=W===void 0?Y:W instanceof d.Name?(Y instanceof d.Name?F(V,Y,W):L(V,Y,W),W):Y instanceof d.Name?(L(V,W,Y),Y):U(Y,W);return K===d.Name&&!(re instanceof d.Name)?z(V,re):re}}util.mergeEvaluated={props:C({mergeNames:(F,L,U)=>F.if((0,d._)`${U} !== true && ${L} !== undefined`,()=>{F.if((0,d._)`${L} === true`,()=>F.assign(U,!0),()=>F.assign(U,(0,d._)`${U} || {}`).code((0,d._)`Object.assign(${U}, ${L})`))}),mergeToName:(F,L,U)=>F.if((0,d._)`${U} !== true`,()=>{L===!0?F.assign(U,!0):(F.assign(U,(0,d._)`${U} || {}`),M(F,U,L))}),mergeValues:(F,L)=>F===!0?!0:X(X({},F),L),resultToName:P}),items:C({mergeNames:(F,L,U)=>F.if((0,d._)`${U} !== true && ${L} !== undefined`,()=>F.assign(U,(0,d._)`${L} === true ? true : ${U} > ${L} ? ${U} : ${L}`)),mergeToName:(F,L,U)=>F.if((0,d._)`${U} !== true`,()=>F.assign(U,L===!0?!0:(0,d._)`${U} > ${L} ? ${U} : ${L}`)),mergeValues:(F,L)=>F===!0?!0:Math.max(F,L),resultToName:(F,L)=>F.var("items",L)})};function P(F,L){if(L===!0)return F.var("props",!0);const U=F.var("props",(0,d._)`{}`);return L!==void 0&&M(F,U,L),U}util.evaluatedPropsToName=P;function M(F,L,U){Object.keys(U).forEach(z=>F.assign((0,d._)`${L}${(0,d.getProperty)(z)}`,!0))}util.setEvaluated=M;const A={};function D(F,L){return F.scopeValue("func",{ref:L,code:A[L.code]||(A[L.code]=new h._Code(L.code))})}util.useFunc=D;var N;(function(F){F[F.Num=0]="Num",F[F.Str=1]="Str"})(N||(util.Type=N={}));function j(F,L,U){if(F instanceof d.Name){const z=L===N.Num;return U?z?(0,d._)`"[" + ${F} + "]"`:(0,d._)`"['" + ${F} + "']"`:z?(0,d._)`"/" + ${F}`:(0,d._)`"/" + ${F}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return U?(0,d.getProperty)(F).toString():"/"+T(F)}util.getErrorPath=j;function q(F,L,U=F.opts.strictSchema){if(U){if(L=`strict mode: ${L}`,U===!0)throw new Error(L);F.self.logger.warn(L)}}return util.checkStrictMode=q,util}var names={},hasRequiredNames;function requireNames(){if(hasRequiredNames)return names;hasRequiredNames=1,Object.defineProperty(names,"__esModule",{value:!0});const d=requireCodegen(),h={data:new d.Name("data"),valCxt:new d.Name("valCxt"),instancePath:new d.Name("instancePath"),parentData:new d.Name("parentData"),parentDataProperty:new d.Name("parentDataProperty"),rootData:new d.Name("rootData"),dynamicAnchors:new d.Name("dynamicAnchors"),vErrors:new d.Name("vErrors"),errors:new d.Name("errors"),this:new d.Name("this"),self:new d.Name("self"),scope:new d.Name("scope"),json:new d.Name("json"),jsonPos:new d.Name("jsonPos"),jsonLen:new d.Name("jsonLen"),jsonPart:new d.Name("jsonPart")};return names.default=h,names}var hasRequiredErrors;function requireErrors(){return hasRequiredErrors||(hasRequiredErrors=1,(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.extendErrors=d.resetErrorsCount=d.reportExtraError=d.reportError=d.keyword$DataError=d.keywordError=void 0;const h=requireCodegen(),f=requireUtil(),y=requireNames();d.keywordError={message:({keyword:A})=>(0,h.str)`must pass "${A}" keyword validation`},d.keyword$DataError={message:({keyword:A,schemaType:D})=>D?(0,h.str)`"${A}" keyword must be ${D} ($data)`:(0,h.str)`"${A}" keyword is invalid ($data)`};function g(A,D=d.keywordError,N,j){const{it:q}=A,{gen:F,compositeRule:L,allErrors:U}=q,z=E(A,D,N);(j!=null?j:L||U)?O(F,z):w(q,(0,h._)`[${z}]`)}d.reportError=g;function b(A,D=d.keywordError,N){const{it:j}=A,{gen:q,compositeRule:F,allErrors:L}=j,U=E(A,D,N);O(q,U),F||L||w(j,y.default.vErrors)}d.reportExtraError=b;function v(A,D){A.assign(y.default.errors,D),A.if((0,h._)`${y.default.vErrors} !== null`,()=>A.if(D,()=>A.assign((0,h._)`${y.default.vErrors}.length`,D),()=>A.assign(y.default.vErrors,null)))}d.resetErrorsCount=v;function S({gen:A,keyword:D,schemaValue:N,data:j,errsCount:q,it:F}){if(q===void 0)throw new Error("ajv implementation error");const L=A.name("err");A.forRange("i",q,y.default.errors,U=>{A.const(L,(0,h._)`${y.default.vErrors}[${U}]`),A.if((0,h._)`${L}.instancePath === undefined`,()=>A.assign((0,h._)`${L}.instancePath`,(0,h.strConcat)(y.default.instancePath,F.errorPath))),A.assign((0,h._)`${L}.schemaPath`,(0,h.str)`${F.errSchemaPath}/${D}`),F.opts.verbose&&(A.assign((0,h._)`${L}.schema`,N),A.assign((0,h._)`${L}.data`,j))})}d.extendErrors=S;function O(A,D){const N=A.const("err",D);A.if((0,h._)`${y.default.vErrors} === null`,()=>A.assign(y.default.vErrors,(0,h._)`[${N}]`),(0,h._)`${y.default.vErrors}.push(${N})`),A.code((0,h._)`${y.default.errors}++`)}function w(A,D){const{gen:N,validateName:j,schemaEnv:q}=A;q.$async?N.throw((0,h._)`new ${A.ValidationError}(${D})`):(N.assign((0,h._)`${j}.errors`,D),N.return(!1))}const T={keyword:new h.Name("keyword"),schemaPath:new h.Name("schemaPath"),params:new h.Name("params"),propertyName:new h.Name("propertyName"),message:new h.Name("message"),schema:new h.Name("schema"),parentSchema:new h.Name("parentSchema")};function E(A,D,N){const{createErrors:j}=A.it;return j===!1?(0,h._)`{}`:k(A,D,N)}function k(A,D,N={}){const{gen:j,it:q}=A,F=[C(q,N),P(A,N)];return M(A,D,F),j.object(...F)}function C({errorPath:A},{instancePath:D}){const N=D?(0,h.str)`${A}${(0,f.getErrorPath)(D,f.Type.Str)}`:A;return[y.default.instancePath,(0,h.strConcat)(y.default.instancePath,N)]}function P({keyword:A,it:{errSchemaPath:D}},{schemaPath:N,parentSchema:j}){let q=j?D:(0,h.str)`${D}/${A}`;return N&&(q=(0,h.str)`${q}${(0,f.getErrorPath)(N,f.Type.Str)}`),[T.schemaPath,q]}function M(A,{params:D,message:N},j){const{keyword:q,data:F,schemaValue:L,it:U}=A,{opts:z,propertyName:V,topSchemaRef:Y,schemaPath:W}=U;j.push([T.keyword,q],[T.params,typeof D=="function"?D(A):D||(0,h._)`{}`]),z.messages&&j.push([T.message,typeof N=="function"?N(A):N]),z.verbose&&j.push([T.schema,L],[T.parentSchema,(0,h._)`${Y}${W}`],[y.default.data,F]),V&&j.push([T.propertyName,V])}})(errors)),errors}var hasRequiredBoolSchema;function requireBoolSchema(){if(hasRequiredBoolSchema)return boolSchema;hasRequiredBoolSchema=1,Object.defineProperty(boolSchema,"__esModule",{value:!0}),boolSchema.boolOrEmptySchema=boolSchema.topBoolOrEmptySchema=void 0;const d=requireErrors(),h=requireCodegen(),f=requireNames(),y={message:"boolean schema is false"};function g(S){const{gen:O,schema:w,validateName:T}=S;w===!1?v(S,!1):typeof w=="object"&&w.$async===!0?O.return(f.default.data):(O.assign((0,h._)`${T}.errors`,null),O.return(!0))}boolSchema.topBoolOrEmptySchema=g;function b(S,O){const{gen:w,schema:T}=S;T===!1?(w.var(O,!1),v(S)):w.var(O,!0)}boolSchema.boolOrEmptySchema=b;function v(S,O){const{gen:w,data:T}=S,E={gen:w,keyword:"false schema",data:T,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:S};(0,d.reportError)(E,y,void 0,O)}return boolSchema}var dataType={},rules={},hasRequiredRules;function requireRules(){if(hasRequiredRules)return rules;hasRequiredRules=1,Object.defineProperty(rules,"__esModule",{value:!0}),rules.getRules=rules.isJSONType=void 0;const d=["string","number","integer","boolean","null","object","array"],h=new Set(d);function f(g){return typeof g=="string"&&h.has(g)}rules.isJSONType=f;function y(){const g={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:Re(X({},g),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},g.number,g.string,g.array,g.object],post:{rules:[]},all:{},keywords:{}}}return rules.getRules=y,rules}var applicability={},hasRequiredApplicability;function requireApplicability(){if(hasRequiredApplicability)return applicability;hasRequiredApplicability=1,Object.defineProperty(applicability,"__esModule",{value:!0}),applicability.shouldUseRule=applicability.shouldUseGroup=applicability.schemaHasRulesForType=void 0;function d({schema:y,self:g},b){const v=g.RULES.types[b];return v&&v!==!0&&h(y,v)}applicability.schemaHasRulesForType=d;function h(y,g){return g.rules.some(b=>f(y,b))}applicability.shouldUseGroup=h;function f(y,g){var b;return y[g.keyword]!==void 0||((b=g.definition.implements)===null||b===void 0?void 0:b.some(v=>y[v]!==void 0))}return applicability.shouldUseRule=f,applicability}var hasRequiredDataType;function requireDataType(){if(hasRequiredDataType)return dataType;hasRequiredDataType=1,Object.defineProperty(dataType,"__esModule",{value:!0}),dataType.reportTypeError=dataType.checkDataTypes=dataType.checkDataType=dataType.coerceAndCheckDataType=dataType.getJSONTypes=dataType.getSchemaTypes=dataType.DataType=void 0;const d=requireRules(),h=requireApplicability(),f=requireErrors(),y=requireCodegen(),g=requireUtil();var b;(function(N){N[N.Correct=0]="Correct",N[N.Wrong=1]="Wrong"})(b||(dataType.DataType=b={}));function v(N){const j=S(N.type);if(j.includes("null")){if(N.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!j.length&&N.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');N.nullable===!0&&j.push("null")}return j}dataType.getSchemaTypes=v;function S(N){const j=Array.isArray(N)?N:N?[N]:[];if(j.every(d.isJSONType))return j;throw new Error("type must be JSONType or JSONType[]: "+j.join(","))}dataType.getJSONTypes=S;function O(N,j){const{gen:q,data:F,opts:L}=N,U=T(j,L.coerceTypes),z=j.length>0&&!(U.length===0&&j.length===1&&(0,h.schemaHasRulesForType)(N,j[0]));if(z){const V=P(j,F,L.strictNumbers,b.Wrong);q.if(V,()=>{U.length?E(N,j,U):A(N)})}return z}dataType.coerceAndCheckDataType=O;const w=new Set(["string","number","integer","boolean","null"]);function T(N,j){return j?N.filter(q=>w.has(q)||j==="array"&&q==="array"):[]}function E(N,j,q){const{gen:F,data:L,opts:U}=N,z=F.let("dataType",(0,y._)`typeof ${L}`),V=F.let("coerced",(0,y._)`undefined`);U.coerceTypes==="array"&&F.if((0,y._)`${z} == 'object' && Array.isArray(${L}) && ${L}.length == 1`,()=>F.assign(L,(0,y._)`${L}[0]`).assign(z,(0,y._)`typeof ${L}`).if(P(j,L,U.strictNumbers),()=>F.assign(V,L))),F.if((0,y._)`${V} !== undefined`);for(const W of q)(w.has(W)||W==="array"&&U.coerceTypes==="array")&&Y(W);F.else(),A(N),F.endIf(),F.if((0,y._)`${V} !== undefined`,()=>{F.assign(L,V),k(N,V)});function Y(W){switch(W){case"string":F.elseIf((0,y._)`${z} == "number" || ${z} == "boolean"`).assign(V,(0,y._)`"" + ${L}`).elseIf((0,y._)`${L} === null`).assign(V,(0,y._)`""`);return;case"number":F.elseIf((0,y._)`${z} == "boolean" || ${L} === null
              || (${z} == "string" && ${L} && ${L} == +${L})`).assign(V,(0,y._)`+${L}`);return;case"integer":F.elseIf((0,y._)`${z} === "boolean" || ${L} === null
              || (${z} === "string" && ${L} && ${L} == +${L} && !(${L} % 1))`).assign(V,(0,y._)`+${L}`);return;case"boolean":F.elseIf((0,y._)`${L} === "false" || ${L} === 0 || ${L} === null`).assign(V,!1).elseIf((0,y._)`${L} === "true" || ${L} === 1`).assign(V,!0);return;case"null":F.elseIf((0,y._)`${L} === "" || ${L} === 0 || ${L} === false`),F.assign(V,null);return;case"array":F.elseIf((0,y._)`${z} === "string" || ${z} === "number"
              || ${z} === "boolean" || ${L} === null`).assign(V,(0,y._)`[${L}]`)}}}function k({gen:N,parentData:j,parentDataProperty:q},F){N.if((0,y._)`${j} !== undefined`,()=>N.assign((0,y._)`${j}[${q}]`,F))}function C(N,j,q,F=b.Correct){const L=F===b.Correct?y.operators.EQ:y.operators.NEQ;let U;switch(N){case"null":return(0,y._)`${j} ${L} null`;case"array":U=(0,y._)`Array.isArray(${j})`;break;case"object":U=(0,y._)`${j} && typeof ${j} == "object" && !Array.isArray(${j})`;break;case"integer":U=z((0,y._)`!(${j} % 1) && !isNaN(${j})`);break;case"number":U=z();break;default:return(0,y._)`typeof ${j} ${L} ${N}`}return F===b.Correct?U:(0,y.not)(U);function z(V=y.nil){return(0,y.and)((0,y._)`typeof ${j} == "number"`,V,q?(0,y._)`isFinite(${j})`:y.nil)}}dataType.checkDataType=C;function P(N,j,q,F){if(N.length===1)return C(N[0],j,q,F);let L;const U=(0,g.toHash)(N);if(U.array&&U.object){const z=(0,y._)`typeof ${j} != "object"`;L=U.null?z:(0,y._)`!${j} || ${z}`,delete U.null,delete U.array,delete U.object}else L=y.nil;U.number&&delete U.integer;for(const z in U)L=(0,y.and)(L,C(z,j,q,F));return L}dataType.checkDataTypes=P;const M={message:({schema:N})=>`must be ${N}`,params:({schema:N,schemaValue:j})=>typeof N=="string"?(0,y._)`{type: ${N}}`:(0,y._)`{type: ${j}}`};function A(N){const j=D(N);(0,f.reportError)(j,M)}dataType.reportTypeError=A;function D(N){const{gen:j,data:q,schema:F}=N,L=(0,g.schemaRefOrVal)(N,F,"type");return{gen:j,keyword:"type",data:q,schema:F.type,schemaCode:L,schemaValue:L,parentSchema:F,params:{},it:N}}return dataType}var defaults={},hasRequiredDefaults;function requireDefaults(){if(hasRequiredDefaults)return defaults;hasRequiredDefaults=1,Object.defineProperty(defaults,"__esModule",{value:!0}),defaults.assignDefaults=void 0;const d=requireCodegen(),h=requireUtil();function f(g,b){const{properties:v,items:S}=g.schema;if(b==="object"&&v)for(const O in v)y(g,O,v[O].default);else b==="array"&&Array.isArray(S)&&S.forEach((O,w)=>y(g,w,O.default))}defaults.assignDefaults=f;function y(g,b,v){const{gen:S,compositeRule:O,data:w,opts:T}=g;if(v===void 0)return;const E=(0,d._)`${w}${(0,d.getProperty)(b)}`;if(O){(0,h.checkStrictMode)(g,`default is ignored for: ${E}`);return}let k=(0,d._)`${E} === undefined`;T.useDefaults==="empty"&&(k=(0,d._)`${k} || ${E} === null || ${E} === ""`),S.if(k,(0,d._)`${E} = ${(0,d.stringify)(v)}`)}return defaults}var keyword={},code={},hasRequiredCode;function requireCode(){if(hasRequiredCode)return code;hasRequiredCode=1,Object.defineProperty(code,"__esModule",{value:!0}),code.validateUnion=code.validateArray=code.usePattern=code.callValidateCode=code.schemaProperties=code.allSchemaProperties=code.noPropertyInData=code.propertyInData=code.isOwnProperty=code.hasPropFunc=code.reportMissingProp=code.checkMissingProp=code.checkReportMissingProp=void 0;const d=requireCodegen(),h=requireUtil(),f=requireNames(),y=requireUtil();function g(N,j){const{gen:q,data:F,it:L}=N;q.if(T(q,F,j,L.opts.ownProperties),()=>{N.setParams({missingProperty:(0,d._)`${j}`},!0),N.error()})}code.checkReportMissingProp=g;function b({gen:N,data:j,it:{opts:q}},F,L){return(0,d.or)(...F.map(U=>(0,d.and)(T(N,j,U,q.ownProperties),(0,d._)`${L} = ${U}`)))}code.checkMissingProp=b;function v(N,j){N.setParams({missingProperty:j},!0),N.error()}code.reportMissingProp=v;function S(N){return N.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,d._)`Object.prototype.hasOwnProperty`})}code.hasPropFunc=S;function O(N,j,q){return(0,d._)`${S(N)}.call(${j}, ${q})`}code.isOwnProperty=O;function w(N,j,q,F){const L=(0,d._)`${j}${(0,d.getProperty)(q)} !== undefined`;return F?(0,d._)`${L} && ${O(N,j,q)}`:L}code.propertyInData=w;function T(N,j,q,F){const L=(0,d._)`${j}${(0,d.getProperty)(q)} === undefined`;return F?(0,d.or)(L,(0,d.not)(O(N,j,q))):L}code.noPropertyInData=T;function E(N){return N?Object.keys(N).filter(j=>j!=="__proto__"):[]}code.allSchemaProperties=E;function k(N,j){return E(j).filter(q=>!(0,h.alwaysValidSchema)(N,j[q]))}code.schemaProperties=k;function C({schemaCode:N,data:j,it:{gen:q,topSchemaRef:F,schemaPath:L,errorPath:U},it:z},V,Y,W){const K=W?(0,d._)`${N}, ${j}, ${F}${L}`:j,re=[[f.default.instancePath,(0,d.strConcat)(f.default.instancePath,U)],[f.default.parentData,z.parentData],[f.default.parentDataProperty,z.parentDataProperty],[f.default.rootData,f.default.rootData]];z.opts.dynamicRef&&re.push([f.default.dynamicAnchors,f.default.dynamicAnchors]);const fe=(0,d._)`${K}, ${q.object(...re)}`;return Y!==d.nil?(0,d._)`${V}.call(${Y}, ${fe})`:(0,d._)`${V}(${fe})`}code.callValidateCode=C;const P=(0,d._)`new RegExp`;function M({gen:N,it:{opts:j}},q){const F=j.unicodeRegExp?"u":"",{regExp:L}=j.code,U=L(q,F);return N.scopeValue("pattern",{key:U.toString(),ref:U,code:(0,d._)`${L.code==="new RegExp"?P:(0,y.useFunc)(N,L)}(${q}, ${F})`})}code.usePattern=M;function A(N){const{gen:j,data:q,keyword:F,it:L}=N,U=j.name("valid");if(L.allErrors){const V=j.let("valid",!0);return z(()=>j.assign(V,!1)),V}return j.var(U,!0),z(()=>j.break()),U;function z(V){const Y=j.const("len",(0,d._)`${q}.length`);j.forRange("i",0,Y,W=>{N.subschema({keyword:F,dataProp:W,dataPropType:h.Type.Num},U),j.if((0,d.not)(U),V)})}}code.validateArray=A;function D(N){const{gen:j,schema:q,keyword:F,it:L}=N;if(!Array.isArray(q))throw new Error("ajv implementation error");if(q.some(Y=>(0,h.alwaysValidSchema)(L,Y))&&!L.opts.unevaluated)return;const z=j.let("valid",!1),V=j.name("_valid");j.block(()=>q.forEach((Y,W)=>{const K=N.subschema({keyword:F,schemaProp:W,compositeRule:!0},V);j.assign(z,(0,d._)`${z} || ${V}`),N.mergeValidEvaluated(K,V)||j.if((0,d.not)(z))})),N.result(z,()=>N.reset(),()=>N.error(!0))}return code.validateUnion=D,code}var hasRequiredKeyword;function requireKeyword(){if(hasRequiredKeyword)return keyword;hasRequiredKeyword=1,Object.defineProperty(keyword,"__esModule",{value:!0}),keyword.validateKeywordUsage=keyword.validSchemaType=keyword.funcKeywordCode=keyword.macroKeywordCode=void 0;const d=requireCodegen(),h=requireNames(),f=requireCode(),y=requireErrors();function g(k,C){const{gen:P,keyword:M,schema:A,parentSchema:D,it:N}=k,j=C.macro.call(N.self,A,D,N),q=w(P,M,j);N.opts.validateSchema!==!1&&N.self.validateSchema(j,!0);const F=P.name("valid");k.subschema({schema:j,schemaPath:d.nil,errSchemaPath:`${N.errSchemaPath}/${M}`,topSchemaRef:q,compositeRule:!0},F),k.pass(F,()=>k.error(!0))}keyword.macroKeywordCode=g;function b(k,C){var P;const{gen:M,keyword:A,schema:D,parentSchema:N,$data:j,it:q}=k;O(q,C);const F=!j&&C.compile?C.compile.call(q.self,D,N,q):C.validate,L=w(M,A,F),U=M.let("valid");k.block$data(U,z),k.ok((P=C.valid)!==null&&P!==void 0?P:U);function z(){if(C.errors===!1)W(),C.modifying&&v(k),K(()=>k.error());else{const re=C.async?V():Y();C.modifying&&v(k),K(()=>S(k,re))}}function V(){const re=M.let("ruleErrs",null);return M.try(()=>W((0,d._)`await `),fe=>M.assign(U,!1).if((0,d._)`${fe} instanceof ${q.ValidationError}`,()=>M.assign(re,(0,d._)`${fe}.errors`),()=>M.throw(fe))),re}function Y(){const re=(0,d._)`${L}.errors`;return M.assign(re,null),W(d.nil),re}function W(re=C.async?(0,d._)`await `:d.nil){const fe=q.opts.passContext?h.default.this:h.default.self,se=!("compile"in C&&!j||C.schema===!1);M.assign(U,(0,d._)`${re}${(0,f.callValidateCode)(k,L,fe,se)}`,C.modifying)}function K(re){var fe;M.if((0,d.not)((fe=C.valid)!==null&&fe!==void 0?fe:U),re)}}keyword.funcKeywordCode=b;function v(k){const{gen:C,data:P,it:M}=k;C.if(M.parentData,()=>C.assign(P,(0,d._)`${M.parentData}[${M.parentDataProperty}]`))}function S(k,C){const{gen:P}=k;P.if((0,d._)`Array.isArray(${C})`,()=>{P.assign(h.default.vErrors,(0,d._)`${h.default.vErrors} === null ? ${C} : ${h.default.vErrors}.concat(${C})`).assign(h.default.errors,(0,d._)`${h.default.vErrors}.length`),(0,y.extendErrors)(k)},()=>k.error())}function O({schemaEnv:k},C){if(C.async&&!k.$async)throw new Error("async keyword in sync schema")}function w(k,C,P){if(P===void 0)throw new Error(`keyword "${C}" failed to compile`);return k.scopeValue("keyword",typeof P=="function"?{ref:P}:{ref:P,code:(0,d.stringify)(P)})}function T(k,C,P=!1){return!C.length||C.some(M=>M==="array"?Array.isArray(k):M==="object"?k&&typeof k=="object"&&!Array.isArray(k):typeof k==M||P&&typeof k=="undefined")}keyword.validSchemaType=T;function E({schema:k,opts:C,self:P,errSchemaPath:M},A,D){if(Array.isArray(A.keyword)?!A.keyword.includes(D):A.keyword!==D)throw new Error("ajv implementation error");const N=A.dependencies;if(N!=null&&N.some(j=>!Object.prototype.hasOwnProperty.call(k,j)))throw new Error(`parent schema must have dependencies of ${D}: ${N.join(",")}`);if(A.validateSchema&&!A.validateSchema(k[D])){const q=`keyword "${D}" value is invalid at path "${M}": `+P.errorsText(A.validateSchema.errors);if(C.validateSchema==="log")P.logger.error(q);else throw new Error(q)}}return keyword.validateKeywordUsage=E,keyword}var subschema={},hasRequiredSubschema;function requireSubschema(){if(hasRequiredSubschema)return subschema;hasRequiredSubschema=1,Object.defineProperty(subschema,"__esModule",{value:!0}),subschema.extendSubschemaMode=subschema.extendSubschemaData=subschema.getSubschema=void 0;const d=requireCodegen(),h=requireUtil();function f(b,{keyword:v,schemaProp:S,schema:O,schemaPath:w,errSchemaPath:T,topSchemaRef:E}){if(v!==void 0&&O!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(v!==void 0){const k=b.schema[v];return S===void 0?{schema:k,schemaPath:(0,d._)`${b.schemaPath}${(0,d.getProperty)(v)}`,errSchemaPath:`${b.errSchemaPath}/${v}`}:{schema:k[S],schemaPath:(0,d._)`${b.schemaPath}${(0,d.getProperty)(v)}${(0,d.getProperty)(S)}`,errSchemaPath:`${b.errSchemaPath}/${v}/${(0,h.escapeFragment)(S)}`}}if(O!==void 0){if(w===void 0||T===void 0||E===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:O,schemaPath:w,topSchemaRef:E,errSchemaPath:T}}throw new Error('either "keyword" or "schema" must be passed')}subschema.getSubschema=f;function y(b,v,{dataProp:S,dataPropType:O,data:w,dataTypes:T,propertyName:E}){if(w!==void 0&&S!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:k}=v;if(S!==void 0){const{errorPath:P,dataPathArr:M,opts:A}=v,D=k.let("data",(0,d._)`${v.data}${(0,d.getProperty)(S)}`,!0);C(D),b.errorPath=(0,d.str)`${P}${(0,h.getErrorPath)(S,O,A.jsPropertySyntax)}`,b.parentDataProperty=(0,d._)`${S}`,b.dataPathArr=[...M,b.parentDataProperty]}if(w!==void 0){const P=w instanceof d.Name?w:k.let("data",w,!0);C(P),E!==void 0&&(b.propertyName=E)}T&&(b.dataTypes=T);function C(P){b.data=P,b.dataLevel=v.dataLevel+1,b.dataTypes=[],v.definedProperties=new Set,b.parentData=v.data,b.dataNames=[...v.dataNames,P]}}subschema.extendSubschemaData=y;function g(b,{jtdDiscriminator:v,jtdMetadata:S,compositeRule:O,createErrors:w,allErrors:T}){O!==void 0&&(b.compositeRule=O),w!==void 0&&(b.createErrors=w),T!==void 0&&(b.allErrors=T),b.jtdDiscriminator=v,b.jtdMetadata=S}return subschema.extendSubschemaMode=g,subschema}var resolve={},fastDeepEqual,hasRequiredFastDeepEqual;function requireFastDeepEqual(){return hasRequiredFastDeepEqual||(hasRequiredFastDeepEqual=1,fastDeepEqual=function d(h,f){if(h===f)return!0;if(h&&f&&typeof h=="object"&&typeof f=="object"){if(h.constructor!==f.constructor)return!1;var y,g,b;if(Array.isArray(h)){if(y=h.length,y!=f.length)return!1;for(g=y;g--!==0;)if(!d(h[g],f[g]))return!1;return!0}if(h.constructor===RegExp)return h.source===f.source&&h.flags===f.flags;if(h.valueOf!==Object.prototype.valueOf)return h.valueOf()===f.valueOf();if(h.toString!==Object.prototype.toString)return h.toString()===f.toString();if(b=Object.keys(h),y=b.length,y!==Object.keys(f).length)return!1;for(g=y;g--!==0;)if(!Object.prototype.hasOwnProperty.call(f,b[g]))return!1;for(g=y;g--!==0;){var v=b[g];if(!d(h[v],f[v]))return!1}return!0}return h!==h&&f!==f}),fastDeepEqual}var jsonSchemaTraverse={exports:{}},hasRequiredJsonSchemaTraverse;function requireJsonSchemaTraverse(){if(hasRequiredJsonSchemaTraverse)return jsonSchemaTraverse.exports;hasRequiredJsonSchemaTraverse=1;var d=jsonSchemaTraverse.exports=function(y,g,b){typeof g=="function"&&(b=g,g={}),b=g.cb||b;var v=typeof b=="function"?b:b.pre||function(){},S=b.post||function(){};h(g,v,S,y,"",y)};d.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},d.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},d.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},d.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function h(y,g,b,v,S,O,w,T,E,k){if(v&&typeof v=="object"&&!Array.isArray(v)){g(v,S,O,w,T,E,k);for(var C in v){var P=v[C];if(Array.isArray(P)){if(C in d.arrayKeywords)for(var M=0;M<P.length;M++)h(y,g,b,P[M],S+"/"+C+"/"+M,O,S,C,v,M)}else if(C in d.propsKeywords){if(P&&typeof P=="object")for(var A in P)h(y,g,b,P[A],S+"/"+C+"/"+f(A),O,S,C,v,A)}else(C in d.keywords||y.allKeys&&!(C in d.skipKeywords))&&h(y,g,b,P,S+"/"+C,O,S,C,v)}b(v,S,O,w,T,E,k)}}function f(y){return y.replace(/~/g,"~0").replace(/\//g,"~1")}return jsonSchemaTraverse.exports}var hasRequiredResolve;function requireResolve(){if(hasRequiredResolve)return resolve;hasRequiredResolve=1,Object.defineProperty(resolve,"__esModule",{value:!0}),resolve.getSchemaRefs=resolve.resolveUrl=resolve.normalizeId=resolve._getFullPath=resolve.getFullPath=resolve.inlineRef=void 0;const d=requireUtil(),h=requireFastDeepEqual(),f=requireJsonSchemaTraverse(),y=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function g(M,A=!0){return typeof M=="boolean"?!0:A===!0?!v(M):A?S(M)<=A:!1}resolve.inlineRef=g;const b=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function v(M){for(const A in M){if(b.has(A))return!0;const D=M[A];if(Array.isArray(D)&&D.some(v)||typeof D=="object"&&v(D))return!0}return!1}function S(M){let A=0;for(const D in M){if(D==="$ref")return 1/0;if(A++,!y.has(D)&&(typeof M[D]=="object"&&(0,d.eachItem)(M[D],N=>A+=S(N)),A===1/0))return 1/0}return A}function O(M,A="",D){D!==!1&&(A=E(A));const N=M.parse(A);return w(M,N)}resolve.getFullPath=O;function w(M,A){return M.serialize(A).split("#")[0]+"#"}resolve._getFullPath=w;const T=/#\/?$/;function E(M){return M?M.replace(T,""):""}resolve.normalizeId=E;function k(M,A,D){return D=E(D),M.resolve(A,D)}resolve.resolveUrl=k;const C=/^[a-z_][-a-z0-9._]*$/i;function P(M,A){if(typeof M=="boolean")return{};const{schemaId:D,uriResolver:N}=this.opts,j=E(M[D]||A),q={"":j},F=O(N,j,!1),L={},U=new Set;return f(M,{allKeys:!0},(Y,W,K,re)=>{if(re===void 0)return;const fe=F+W;let se=q[re];typeof Y[D]=="string"&&(se=J.call(this,Y[D])),ie.call(this,Y.$anchor),ie.call(this,Y.$dynamicAnchor),q[W]=se;function J(ue){const ke=this.opts.uriResolver.resolve;if(ue=E(se?ke(se,ue):ue),U.has(ue))throw V(ue);U.add(ue);let pe=this.refs[ue];return typeof pe=="string"&&(pe=this.refs[pe]),typeof pe=="object"?z(Y,pe.schema,ue):ue!==E(fe)&&(ue[0]==="#"?(z(Y,L[ue],ue),L[ue]=Y):this.refs[ue]=fe),ue}function ie(ue){if(typeof ue=="string"){if(!C.test(ue))throw new Error(`invalid anchor "${ue}"`);J.call(this,`#${ue}`)}}}),L;function z(Y,W,K){if(W!==void 0&&!h(Y,W))throw V(K)}function V(Y){return new Error(`reference "${Y}" resolves to more than one schema`)}}return resolve.getSchemaRefs=P,resolve}var hasRequiredValidate;function requireValidate(){if(hasRequiredValidate)return validate$1;hasRequiredValidate=1,Object.defineProperty(validate$1,"__esModule",{value:!0}),validate$1.getData=validate$1.KeywordCxt=validate$1.validateFunctionCode=void 0;const d=requireBoolSchema(),h=requireDataType(),f=requireApplicability(),y=requireDataType(),g=requireDefaults(),b=requireKeyword(),v=requireSubschema(),S=requireCodegen(),O=requireNames(),w=requireResolve(),T=requireUtil(),E=requireErrors();function k(Q){if(F(Q)&&(U(Q),q(Q))){A(Q);return}C(Q,()=>(0,d.topBoolOrEmptySchema)(Q))}validate$1.validateFunctionCode=k;function C({gen:Q,validateName:le,schema:Se,schemaEnv:Oe,opts:xe},Pe){xe.code.es5?Q.func(le,(0,S._)`${O.default.data}, ${O.default.valCxt}`,Oe.$async,()=>{Q.code((0,S._)`"use strict"; ${N(Se,xe)}`),M(Q,xe),Q.code(Pe)}):Q.func(le,(0,S._)`${O.default.data}, ${P(xe)}`,Oe.$async,()=>Q.code(N(Se,xe)).code(Pe))}function P(Q){return(0,S._)`{${O.default.instancePath}="", ${O.default.parentData}, ${O.default.parentDataProperty}, ${O.default.rootData}=${O.default.data}${Q.dynamicRef?(0,S._)`, ${O.default.dynamicAnchors}={}`:S.nil}}={}`}function M(Q,le){Q.if(O.default.valCxt,()=>{Q.var(O.default.instancePath,(0,S._)`${O.default.valCxt}.${O.default.instancePath}`),Q.var(O.default.parentData,(0,S._)`${O.default.valCxt}.${O.default.parentData}`),Q.var(O.default.parentDataProperty,(0,S._)`${O.default.valCxt}.${O.default.parentDataProperty}`),Q.var(O.default.rootData,(0,S._)`${O.default.valCxt}.${O.default.rootData}`),le.dynamicRef&&Q.var(O.default.dynamicAnchors,(0,S._)`${O.default.valCxt}.${O.default.dynamicAnchors}`)},()=>{Q.var(O.default.instancePath,(0,S._)`""`),Q.var(O.default.parentData,(0,S._)`undefined`),Q.var(O.default.parentDataProperty,(0,S._)`undefined`),Q.var(O.default.rootData,O.default.data),le.dynamicRef&&Q.var(O.default.dynamicAnchors,(0,S._)`{}`)})}function A(Q){const{schema:le,opts:Se,gen:Oe}=Q;C(Q,()=>{Se.$comment&&le.$comment&&re(Q),Y(Q),Oe.let(O.default.vErrors,null),Oe.let(O.default.errors,0),Se.unevaluated&&D(Q),z(Q),fe(Q)})}function D(Q){const{gen:le,validateName:Se}=Q;Q.evaluated=le.const("evaluated",(0,S._)`${Se}.evaluated`),le.if((0,S._)`${Q.evaluated}.dynamicProps`,()=>le.assign((0,S._)`${Q.evaluated}.props`,(0,S._)`undefined`)),le.if((0,S._)`${Q.evaluated}.dynamicItems`,()=>le.assign((0,S._)`${Q.evaluated}.items`,(0,S._)`undefined`))}function N(Q,le){const Se=typeof Q=="object"&&Q[le.schemaId];return Se&&(le.code.source||le.code.process)?(0,S._)`/*# sourceURL=${Se} */`:S.nil}function j(Q,le){if(F(Q)&&(U(Q),q(Q))){L(Q,le);return}(0,d.boolOrEmptySchema)(Q,le)}function q({schema:Q,self:le}){if(typeof Q=="boolean")return!Q;for(const Se in Q)if(le.RULES.all[Se])return!0;return!1}function F(Q){return typeof Q.schema!="boolean"}function L(Q,le){const{schema:Se,gen:Oe,opts:xe}=Q;xe.$comment&&Se.$comment&&re(Q),W(Q),K(Q);const Pe=Oe.const("_errs",O.default.errors);z(Q,Pe),Oe.var(le,(0,S._)`${Pe} === ${O.default.errors}`)}function U(Q){(0,T.checkUnknownRules)(Q),V(Q)}function z(Q,le){if(Q.opts.jtd)return J(Q,[],!1,le);const Se=(0,h.getSchemaTypes)(Q.schema),Oe=(0,h.coerceAndCheckDataType)(Q,Se);J(Q,Se,!Oe,le)}function V(Q){const{schema:le,errSchemaPath:Se,opts:Oe,self:xe}=Q;le.$ref&&Oe.ignoreKeywordsWithRef&&(0,T.schemaHasRulesButRef)(le,xe.RULES)&&xe.logger.warn(`$ref: keywords ignored in schema at path "${Se}"`)}function Y(Q){const{schema:le,opts:Se}=Q;le.default!==void 0&&Se.useDefaults&&Se.strictSchema&&(0,T.checkStrictMode)(Q,"default is ignored in the schema root")}function W(Q){const le=Q.schema[Q.opts.schemaId];le&&(Q.baseId=(0,w.resolveUrl)(Q.opts.uriResolver,Q.baseId,le))}function K(Q){if(Q.schema.$async&&!Q.schemaEnv.$async)throw new Error("async schema in sync schema")}function re({gen:Q,schemaEnv:le,schema:Se,errSchemaPath:Oe,opts:xe}){const Pe=Se.$comment;if(xe.$comment===!0)Q.code((0,S._)`${O.default.self}.logger.log(${Pe})`);else if(typeof xe.$comment=="function"){const Ce=(0,S.str)`${Oe}/$comment`,Ye=Q.scopeValue("root",{ref:le.root});Q.code((0,S._)`${O.default.self}.opts.$comment(${Pe}, ${Ce}, ${Ye}.schema)`)}}function fe(Q){const{gen:le,schemaEnv:Se,validateName:Oe,ValidationError:xe,opts:Pe}=Q;Se.$async?le.if((0,S._)`${O.default.errors} === 0`,()=>le.return(O.default.data),()=>le.throw((0,S._)`new ${xe}(${O.default.vErrors})`)):(le.assign((0,S._)`${Oe}.errors`,O.default.vErrors),Pe.unevaluated&&se(Q),le.return((0,S._)`${O.default.errors} === 0`))}function se({gen:Q,evaluated:le,props:Se,items:Oe}){Se instanceof S.Name&&Q.assign((0,S._)`${le}.props`,Se),Oe instanceof S.Name&&Q.assign((0,S._)`${le}.items`,Oe)}function J(Q,le,Se,Oe){const{gen:xe,schema:Pe,data:Ce,allErrors:Ye,opts:Ke,self:Me}=Q,{RULES:Ue}=Me;if(Pe.$ref&&(Ke.ignoreKeywordsWithRef||!(0,T.schemaHasRulesButRef)(Pe,Ue))){xe.block(()=>Te(Q,"$ref",Ue.all.$ref.definition));return}Ke.jtd||ue(Q,le),xe.block(()=>{for(const Be of Ue.rules)Ne(Be);Ne(Ue.post)});function Ne(Be){(0,f.shouldUseGroup)(Pe,Be)&&(Be.type?(xe.if((0,y.checkDataType)(Be.type,Ce,Ke.strictNumbers)),ie(Q,Be),le.length===1&&le[0]===Be.type&&Se&&(xe.else(),(0,y.reportTypeError)(Q)),xe.endIf()):ie(Q,Be),Ye||xe.if((0,S._)`${O.default.errors} === ${Oe||0}`))}}function ie(Q,le){const{gen:Se,schema:Oe,opts:{useDefaults:xe}}=Q;xe&&(0,g.assignDefaults)(Q,le.type),Se.block(()=>{for(const Pe of le.rules)(0,f.shouldUseRule)(Oe,Pe)&&Te(Q,Pe.keyword,Pe.definition,le.type)})}function ue(Q,le){Q.schemaEnv.meta||!Q.opts.strictTypes||(ke(Q,le),Q.opts.allowUnionTypes||pe(Q,le),ne(Q,Q.dataTypes))}function ke(Q,le){if(le.length){if(!Q.dataTypes.length){Q.dataTypes=le;return}le.forEach(Se=>{ae(Q.dataTypes,Se)||Z(Q,`type "${Se}" not allowed by context "${Q.dataTypes.join(",")}"`)}),H(Q,le)}}function pe(Q,le){le.length>1&&!(le.length===2&&le.includes("null"))&&Z(Q,"use allowUnionTypes to allow union type keyword")}function ne(Q,le){const Se=Q.self.RULES.all;for(const Oe in Se){const xe=Se[Oe];if(typeof xe=="object"&&(0,f.shouldUseRule)(Q.schema,xe)){const{type:Pe}=xe.definition;Pe.length&&!Pe.some(Ce=>de(le,Ce))&&Z(Q,`missing type "${Pe.join(",")}" for keyword "${Oe}"`)}}}function de(Q,le){return Q.includes(le)||le==="number"&&Q.includes("integer")}function ae(Q,le){return Q.includes(le)||le==="integer"&&Q.includes("number")}function H(Q,le){const Se=[];for(const Oe of Q.dataTypes)ae(le,Oe)?Se.push(Oe):le.includes("integer")&&Oe==="number"&&Se.push("integer");Q.dataTypes=Se}function Z(Q,le){const Se=Q.schemaEnv.baseId+Q.errSchemaPath;le+=` at "${Se}" (strictTypes)`,(0,T.checkStrictMode)(Q,le,Q.opts.strictTypes)}class ve{constructor(le,Se,Oe){if((0,b.validateKeywordUsage)(le,Se,Oe),this.gen=le.gen,this.allErrors=le.allErrors,this.keyword=Oe,this.data=le.data,this.schema=le.schema[Oe],this.$data=Se.$data&&le.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,T.schemaRefOrVal)(le,this.schema,Oe,this.$data),this.schemaType=Se.schemaType,this.parentSchema=le.schema,this.params={},this.it=le,this.def=Se,this.$data)this.schemaCode=le.gen.const("vSchema",$e(this.$data,le));else if(this.schemaCode=this.schemaValue,!(0,b.validSchemaType)(this.schema,Se.schemaType,Se.allowUndefined))throw new Error(`${Oe} value must be ${JSON.stringify(Se.schemaType)}`);("code"in Se?Se.trackErrors:Se.errors!==!1)&&(this.errsCount=le.gen.const("_errs",O.default.errors))}result(le,Se,Oe){this.failResult((0,S.not)(le),Se,Oe)}failResult(le,Se,Oe){this.gen.if(le),Oe?Oe():this.error(),Se?(this.gen.else(),Se(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(le,Se){this.failResult((0,S.not)(le),void 0,Se)}fail(le){if(le===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(le),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(le){if(!this.$data)return this.fail(le);const{schemaCode:Se}=this;this.fail((0,S._)`${Se} !== undefined && (${(0,S.or)(this.invalid$data(),le)})`)}error(le,Se,Oe){if(Se){this.setParams(Se),this._error(le,Oe),this.setParams({});return}this._error(le,Oe)}_error(le,Se){(le?E.reportExtraError:E.reportError)(this,this.def.error,Se)}$dataError(){(0,E.reportError)(this,this.def.$dataError||E.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,E.resetErrorsCount)(this.gen,this.errsCount)}ok(le){this.allErrors||this.gen.if(le)}setParams(le,Se){Se?Object.assign(this.params,le):this.params=le}block$data(le,Se,Oe=S.nil){this.gen.block(()=>{this.check$data(le,Oe),Se()})}check$data(le=S.nil,Se=S.nil){if(!this.$data)return;const{gen:Oe,schemaCode:xe,schemaType:Pe,def:Ce}=this;Oe.if((0,S.or)((0,S._)`${xe} === undefined`,Se)),le!==S.nil&&Oe.assign(le,!0),(Pe.length||Ce.validateSchema)&&(Oe.elseIf(this.invalid$data()),this.$dataError(),le!==S.nil&&Oe.assign(le,!1)),Oe.else()}invalid$data(){const{gen:le,schemaCode:Se,schemaType:Oe,def:xe,it:Pe}=this;return(0,S.or)(Ce(),Ye());function Ce(){if(Oe.length){if(!(Se instanceof S.Name))throw new Error("ajv implementation error");const Ke=Array.isArray(Oe)?Oe:[Oe];return(0,S._)`${(0,y.checkDataTypes)(Ke,Se,Pe.opts.strictNumbers,y.DataType.Wrong)}`}return S.nil}function Ye(){if(xe.validateSchema){const Ke=le.scopeValue("validate$data",{ref:xe.validateSchema});return(0,S._)`!${Ke}(${Se})`}return S.nil}}subschema(le,Se){const Oe=(0,v.getSubschema)(this.it,le);(0,v.extendSubschemaData)(Oe,this.it,le),(0,v.extendSubschemaMode)(Oe,le);const xe=Re(X(X({},this.it),Oe),{items:void 0,props:void 0});return j(xe,Se),xe}mergeEvaluated(le,Se){const{it:Oe,gen:xe}=this;Oe.opts.unevaluated&&(Oe.props!==!0&&le.props!==void 0&&(Oe.props=T.mergeEvaluated.props(xe,le.props,Oe.props,Se)),Oe.items!==!0&&le.items!==void 0&&(Oe.items=T.mergeEvaluated.items(xe,le.items,Oe.items,Se)))}mergeValidEvaluated(le,Se){const{it:Oe,gen:xe}=this;if(Oe.opts.unevaluated&&(Oe.props!==!0||Oe.items!==!0))return xe.if(Se,()=>this.mergeEvaluated(le,S.Name)),!0}}validate$1.KeywordCxt=ve;function Te(Q,le,Se,Oe){const xe=new ve(Q,Se,le);"code"in Se?Se.code(xe,Oe):xe.$data&&Se.validate?(0,b.funcKeywordCode)(xe,Se):"macro"in Se?(0,b.macroKeywordCode)(xe,Se):(Se.compile||Se.validate)&&(0,b.funcKeywordCode)(xe,Se)}const te=/^\/(?:[^~]|~0|~1)*$/,ge=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function $e(Q,{dataLevel:le,dataNames:Se,dataPathArr:Oe}){let xe,Pe;if(Q==="")return O.default.rootData;if(Q[0]==="/"){if(!te.test(Q))throw new Error(`Invalid JSON-pointer: ${Q}`);xe=Q,Pe=O.default.rootData}else{const Me=ge.exec(Q);if(!Me)throw new Error(`Invalid JSON-pointer: ${Q}`);const Ue=+Me[1];if(xe=Me[2],xe==="#"){if(Ue>=le)throw new Error(Ke("property/index",Ue));return Oe[le-Ue]}if(Ue>le)throw new Error(Ke("data",Ue));if(Pe=Se[le-Ue],!xe)return Pe}let Ce=Pe;const Ye=xe.split("/");for(const Me of Ye)Me&&(Pe=(0,S._)`${Pe}${(0,S.getProperty)((0,T.unescapeJsonPointer)(Me))}`,Ce=(0,S._)`${Ce} && ${Pe}`);return Ce;function Ke(Me,Ue){return`Cannot access ${Me} ${Ue} levels up, current level is ${le}`}}return validate$1.getData=$e,validate$1}var validation_error={},hasRequiredValidation_error;function requireValidation_error(){if(hasRequiredValidation_error)return validation_error;hasRequiredValidation_error=1,Object.defineProperty(validation_error,"__esModule",{value:!0});class d extends Error{constructor(f){super("validation failed"),this.errors=f,this.ajv=this.validation=!0}}return validation_error.default=d,validation_error}var ref_error={},hasRequiredRef_error;function requireRef_error(){if(hasRequiredRef_error)return ref_error;hasRequiredRef_error=1,Object.defineProperty(ref_error,"__esModule",{value:!0});const d=requireResolve();class h extends Error{constructor(y,g,b,v){super(v||`can't resolve reference ${b} from id ${g}`),this.missingRef=(0,d.resolveUrl)(y,g,b),this.missingSchema=(0,d.normalizeId)((0,d.getFullPath)(y,this.missingRef))}}return ref_error.default=h,ref_error}var compile={},hasRequiredCompile;function requireCompile(){if(hasRequiredCompile)return compile;hasRequiredCompile=1,Object.defineProperty(compile,"__esModule",{value:!0}),compile.resolveSchema=compile.getCompilingSchema=compile.resolveRef=compile.compileSchema=compile.SchemaEnv=void 0;const d=requireCodegen(),h=requireValidation_error(),f=requireNames(),y=requireResolve(),g=requireUtil(),b=requireValidate();class v{constructor(D){var N;this.refs={},this.dynamicAnchors={};let j;typeof D.schema=="object"&&(j=D.schema),this.schema=D.schema,this.schemaId=D.schemaId,this.root=D.root||this,this.baseId=(N=D.baseId)!==null&&N!==void 0?N:(0,y.normalizeId)(j==null?void 0:j[D.schemaId||"$id"]),this.schemaPath=D.schemaPath,this.localRefs=D.localRefs,this.meta=D.meta,this.$async=j==null?void 0:j.$async,this.refs={}}}compile.SchemaEnv=v;function S(A){const D=T.call(this,A);if(D)return D;const N=(0,y.getFullPath)(this.opts.uriResolver,A.root.baseId),{es5:j,lines:q}=this.opts.code,{ownProperties:F}=this.opts,L=new d.CodeGen(this.scope,{es5:j,lines:q,ownProperties:F});let U;A.$async&&(U=L.scopeValue("Error",{ref:h.default,code:(0,d._)`require("ajv/dist/runtime/validation_error").default`}));const z=L.scopeName("validate");A.validateName=z;const V={gen:L,allErrors:this.opts.allErrors,data:f.default.data,parentData:f.default.parentData,parentDataProperty:f.default.parentDataProperty,dataNames:[f.default.data],dataPathArr:[d.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:L.scopeValue("schema",this.opts.code.source===!0?{ref:A.schema,code:(0,d.stringify)(A.schema)}:{ref:A.schema}),validateName:z,ValidationError:U,schema:A.schema,schemaEnv:A,rootId:N,baseId:A.baseId||N,schemaPath:d.nil,errSchemaPath:A.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,d._)`""`,opts:this.opts,self:this};let Y;try{this._compilations.add(A),(0,b.validateFunctionCode)(V),L.optimize(this.opts.code.optimize);const W=L.toString();Y=`${L.scopeRefs(f.default.scope)}return ${W}`,this.opts.code.process&&(Y=this.opts.code.process(Y,A));const re=new Function(`${f.default.self}`,`${f.default.scope}`,Y)(this,this.scope.get());if(this.scope.value(z,{ref:re}),re.errors=null,re.schema=A.schema,re.schemaEnv=A,A.$async&&(re.$async=!0),this.opts.code.source===!0&&(re.source={validateName:z,validateCode:W,scopeValues:L._values}),this.opts.unevaluated){const{props:fe,items:se}=V;re.evaluated={props:fe instanceof d.Name?void 0:fe,items:se instanceof d.Name?void 0:se,dynamicProps:fe instanceof d.Name,dynamicItems:se instanceof d.Name},re.source&&(re.source.evaluated=(0,d.stringify)(re.evaluated))}return A.validate=re,A}catch(W){throw delete A.validate,delete A.validateName,Y&&this.logger.error("Error compiling schema, function code:",Y),W}finally{this._compilations.delete(A)}}compile.compileSchema=S;function O(A,D,N){var j;N=(0,y.resolveUrl)(this.opts.uriResolver,D,N);const q=A.refs[N];if(q)return q;let F=k.call(this,A,N);if(F===void 0){const L=(j=A.localRefs)===null||j===void 0?void 0:j[N],{schemaId:U}=this.opts;L&&(F=new v({schema:L,schemaId:U,root:A,baseId:D}))}if(F!==void 0)return A.refs[N]=w.call(this,F)}compile.resolveRef=O;function w(A){return(0,y.inlineRef)(A.schema,this.opts.inlineRefs)?A.schema:A.validate?A:S.call(this,A)}function T(A){for(const D of this._compilations)if(E(D,A))return D}compile.getCompilingSchema=T;function E(A,D){return A.schema===D.schema&&A.root===D.root&&A.baseId===D.baseId}function k(A,D){let N;for(;typeof(N=this.refs[D])=="string";)D=N;return N||this.schemas[D]||C.call(this,A,D)}function C(A,D){const N=this.opts.uriResolver.parse(D),j=(0,y._getFullPath)(this.opts.uriResolver,N);let q=(0,y.getFullPath)(this.opts.uriResolver,A.baseId,void 0);if(Object.keys(A.schema).length>0&&j===q)return M.call(this,N,A);const F=(0,y.normalizeId)(j),L=this.refs[F]||this.schemas[F];if(typeof L=="string"){const U=C.call(this,A,L);return typeof(U==null?void 0:U.schema)!="object"?void 0:M.call(this,N,U)}if(typeof(L==null?void 0:L.schema)=="object"){if(L.validate||S.call(this,L),F===(0,y.normalizeId)(D)){const{schema:U}=L,{schemaId:z}=this.opts,V=U[z];return V&&(q=(0,y.resolveUrl)(this.opts.uriResolver,q,V)),new v({schema:U,schemaId:z,root:A,baseId:q})}return M.call(this,N,L)}}compile.resolveSchema=C;const P=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function M(A,{baseId:D,schema:N,root:j}){var q;if(((q=A.fragment)===null||q===void 0?void 0:q[0])!=="/")return;for(const U of A.fragment.slice(1).split("/")){if(typeof N=="boolean")return;const z=N[(0,g.unescapeFragment)(U)];if(z===void 0)return;N=z;const V=typeof N=="object"&&N[this.opts.schemaId];!P.has(U)&&V&&(D=(0,y.resolveUrl)(this.opts.uriResolver,D,V))}let F;if(typeof N!="boolean"&&N.$ref&&!(0,g.schemaHasRulesButRef)(N,this.RULES)){const U=(0,y.resolveUrl)(this.opts.uriResolver,D,N.$ref);F=C.call(this,j,U)}const{schemaId:L}=this.opts;if(F=F||new v({schema:N,schemaId:L,root:j,baseId:D}),F.schema!==F.root.schema)return F}return compile}const $id="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description="Meta-schema for $data reference (JSON AnySchema extension proposal)",type$1="object",required=["$data"],properties$1={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties=!1,require$$9={$id,description,type:type$1,required,properties:properties$1,additionalProperties};var uri={},fastUri={exports:{}},utils,hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;const d=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),h=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function f(k){let C="",P=0,M=0;for(M=0;M<k.length;M++)if(P=k[M].charCodeAt(0),P!==48){if(!(P>=48&&P<=57||P>=65&&P<=70||P>=97&&P<=102))return"";C+=k[M];break}for(M+=1;M<k.length;M++){if(P=k[M].charCodeAt(0),!(P>=48&&P<=57||P>=65&&P<=70||P>=97&&P<=102))return"";C+=k[M]}return C}const y=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function g(k){return k.length=0,!0}function b(k,C,P){if(k.length){const M=f(k);if(M!=="")C.push(M);else return P.error=!0,!1;k.length=0}return!0}function v(k){let C=0;const P={error:!1,address:"",zone:""},M=[],A=[];let D=!1,N=!1,j=b;for(let q=0;q<k.length;q++){const F=k[q];if(!(F==="["||F==="]"))if(F===":"){if(D===!0&&(N=!0),!j(A,M,P))break;if(++C>7){P.error=!0;break}q>0&&k[q-1]===":"&&(D=!0),M.push(":");continue}else if(F==="%"){if(!j(A,M,P))break;j=g}else{A.push(F);continue}}return A.length&&(j===g?P.zone=A.join(""):N?M.push(A.join("")):M.push(f(A))),P.address=M.join(""),P}function S(k){if(O(k,":")<2)return{host:k,isIPV6:!1};const C=v(k);if(C.error)return{host:k,isIPV6:!1};{let P=C.address,M=C.address;return C.zone&&(P+="%"+C.zone,M+="%25"+C.zone),{host:P,isIPV6:!0,escapedHost:M}}}function O(k,C){let P=0;for(let M=0;M<k.length;M++)k[M]===C&&P++;return P}function w(k){let C=k;const P=[];let M=-1,A=0;for(;A=C.length;){if(A===1){if(C===".")break;if(C==="/"){P.push("/");break}else{P.push(C);break}}else if(A===2){if(C[0]==="."){if(C[1]===".")break;if(C[1]==="/"){C=C.slice(2);continue}}else if(C[0]==="/"&&(C[1]==="."||C[1]==="/")){P.push("/");break}}else if(A===3&&C==="/.."){P.length!==0&&P.pop(),P.push("/");break}if(C[0]==="."){if(C[1]==="."){if(C[2]==="/"){C=C.slice(3);continue}}else if(C[1]==="/"){C=C.slice(2);continue}}else if(C[0]==="/"&&C[1]==="."){if(C[2]==="/"){C=C.slice(2);continue}else if(C[2]==="."&&C[3]==="/"){C=C.slice(3),P.length!==0&&P.pop();continue}}if((M=C.indexOf("/",1))===-1){P.push(C);break}else P.push(C.slice(0,M)),C=C.slice(M)}return P.join("")}function T(k,C){const P=C!==!0?escape:unescape;return k.scheme!==void 0&&(k.scheme=P(k.scheme)),k.userinfo!==void 0&&(k.userinfo=P(k.userinfo)),k.host!==void 0&&(k.host=P(k.host)),k.path!==void 0&&(k.path=P(k.path)),k.query!==void 0&&(k.query=P(k.query)),k.fragment!==void 0&&(k.fragment=P(k.fragment)),k}function E(k){const C=[];if(k.userinfo!==void 0&&(C.push(k.userinfo),C.push("@")),k.host!==void 0){let P=unescape(k.host);if(!h(P)){const M=S(P);M.isIPV6===!0?P=`[${M.escapedHost}]`:P=k.host}C.push(P)}return(typeof k.port=="number"||typeof k.port=="string")&&(C.push(":"),C.push(String(k.port))),C.length?C.join(""):void 0}return utils={nonSimpleDomain:y,recomposeAuthority:E,normalizeComponentEncoding:T,removeDotSegments:w,isIPv4:h,isUUID:d,normalizeIPv6:S,stringArrayToHexStripped:f},utils}var schemes,hasRequiredSchemes;function requireSchemes(){if(hasRequiredSchemes)return schemes;hasRequiredSchemes=1;const{isUUID:d}=requireUtils(),h=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,f=["http","https","ws","wss","urn","urn:uuid"];function y(F){return f.indexOf(F)!==-1}function g(F){return F.secure===!0?!0:F.secure===!1?!1:F.scheme?F.scheme.length===3&&(F.scheme[0]==="w"||F.scheme[0]==="W")&&(F.scheme[1]==="s"||F.scheme[1]==="S")&&(F.scheme[2]==="s"||F.scheme[2]==="S"):!1}function b(F){return F.host||(F.error=F.error||"HTTP URIs must have a host."),F}function v(F){const L=String(F.scheme).toLowerCase()==="https";return(F.port===(L?443:80)||F.port==="")&&(F.port=void 0),F.path||(F.path="/"),F}function S(F){return F.secure=g(F),F.resourceName=(F.path||"/")+(F.query?"?"+F.query:""),F.path=void 0,F.query=void 0,F}function O(F){if((F.port===(g(F)?443:80)||F.port==="")&&(F.port=void 0),typeof F.secure=="boolean"&&(F.scheme=F.secure?"wss":"ws",F.secure=void 0),F.resourceName){const[L,U]=F.resourceName.split("?");F.path=L&&L!=="/"?L:void 0,F.query=U,F.resourceName=void 0}return F.fragment=void 0,F}function w(F,L){if(!F.path)return F.error="URN can not be parsed",F;const U=F.path.match(h);if(U){const z=L.scheme||F.scheme||"urn";F.nid=U[1].toLowerCase(),F.nss=U[2];const V=`${z}:${L.nid||F.nid}`,Y=q(V);F.path=void 0,Y&&(F=Y.parse(F,L))}else F.error=F.error||"URN can not be parsed.";return F}function T(F,L){if(F.nid===void 0)throw new Error("URN without nid cannot be serialized");const U=L.scheme||F.scheme||"urn",z=F.nid.toLowerCase(),V=`${U}:${L.nid||z}`,Y=q(V);Y&&(F=Y.serialize(F,L));const W=F,K=F.nss;return W.path=`${z||L.nid}:${K}`,L.skipEscape=!0,W}function E(F,L){const U=F;return U.uuid=U.nss,U.nss=void 0,!L.tolerant&&(!U.uuid||!d(U.uuid))&&(U.error=U.error||"UUID is not valid."),U}function k(F){const L=F;return L.nss=(F.uuid||"").toLowerCase(),L}const C={scheme:"http",domainHost:!0,parse:b,serialize:v},P={scheme:"https",domainHost:C.domainHost,parse:b,serialize:v},M={scheme:"ws",domainHost:!0,parse:S,serialize:O},A={scheme:"wss",domainHost:M.domainHost,parse:M.parse,serialize:M.serialize},j={http:C,https:P,ws:M,wss:A,urn:{scheme:"urn",parse:w,serialize:T,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:E,serialize:k,skipNormalize:!0}};Object.setPrototypeOf(j,null);function q(F){return F&&(j[F]||j[F.toLowerCase()])||void 0}return schemes={wsIsSecure:g,SCHEMES:j,isValidSchemeName:y,getSchemeHandler:q},schemes}var hasRequiredFastUri;function requireFastUri(){if(hasRequiredFastUri)return fastUri.exports;hasRequiredFastUri=1;const{normalizeIPv6:d,removeDotSegments:h,recomposeAuthority:f,normalizeComponentEncoding:y,isIPv4:g,nonSimpleDomain:b}=requireUtils(),{SCHEMES:v,getSchemeHandler:S}=requireSchemes();function O(A,D){return typeof A=="string"?A=k(P(A,D),D):typeof A=="object"&&(A=P(k(A,D),D)),A}function w(A,D,N){const j=N?Object.assign({scheme:"null"},N):{scheme:"null"},q=T(P(A,j),P(D,j),j,!0);return j.skipEscape=!0,k(q,j)}function T(A,D,N,j){const q={};return j||(A=P(k(A,N),N),D=P(k(D,N),N)),N=N||{},!N.tolerant&&D.scheme?(q.scheme=D.scheme,q.userinfo=D.userinfo,q.host=D.host,q.port=D.port,q.path=h(D.path||""),q.query=D.query):(D.userinfo!==void 0||D.host!==void 0||D.port!==void 0?(q.userinfo=D.userinfo,q.host=D.host,q.port=D.port,q.path=h(D.path||""),q.query=D.query):(D.path?(D.path[0]==="/"?q.path=h(D.path):((A.userinfo!==void 0||A.host!==void 0||A.port!==void 0)&&!A.path?q.path="/"+D.path:A.path?q.path=A.path.slice(0,A.path.lastIndexOf("/")+1)+D.path:q.path=D.path,q.path=h(q.path)),q.query=D.query):(q.path=A.path,D.query!==void 0?q.query=D.query:q.query=A.query),q.userinfo=A.userinfo,q.host=A.host,q.port=A.port),q.scheme=A.scheme),q.fragment=D.fragment,q}function E(A,D,N){return typeof A=="string"?(A=unescape(A),A=k(y(P(A,N),!0),Re(X({},N),{skipEscape:!0}))):typeof A=="object"&&(A=k(y(A,!0),Re(X({},N),{skipEscape:!0}))),typeof D=="string"?(D=unescape(D),D=k(y(P(D,N),!0),Re(X({},N),{skipEscape:!0}))):typeof D=="object"&&(D=k(y(D,!0),Re(X({},N),{skipEscape:!0}))),A.toLowerCase()===D.toLowerCase()}function k(A,D){const N={host:A.host,scheme:A.scheme,userinfo:A.userinfo,port:A.port,path:A.path,query:A.query,nid:A.nid,nss:A.nss,uuid:A.uuid,fragment:A.fragment,reference:A.reference,resourceName:A.resourceName,secure:A.secure,error:""},j=Object.assign({},D),q=[],F=S(j.scheme||N.scheme);F&&F.serialize&&F.serialize(N,j),N.path!==void 0&&(j.skipEscape?N.path=unescape(N.path):(N.path=escape(N.path),N.scheme!==void 0&&(N.path=N.path.split("%3A").join(":")))),j.reference!=="suffix"&&N.scheme&&q.push(N.scheme,":");const L=f(N);if(L!==void 0&&(j.reference!=="suffix"&&q.push("//"),q.push(L),N.path&&N.path[0]!=="/"&&q.push("/")),N.path!==void 0){let U=N.path;!j.absolutePath&&(!F||!F.absolutePath)&&(U=h(U)),L===void 0&&U[0]==="/"&&U[1]==="/"&&(U="/%2F"+U.slice(2)),q.push(U)}return N.query!==void 0&&q.push("?",N.query),N.fragment!==void 0&&q.push("#",N.fragment),q.join("")}const C=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function P(A,D){const N=Object.assign({},D),j={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let q=!1;N.reference==="suffix"&&(N.scheme?A=N.scheme+":"+A:A="//"+A);const F=A.match(C);if(F){if(j.scheme=F[1],j.userinfo=F[3],j.host=F[4],j.port=parseInt(F[5],10),j.path=F[6]||"",j.query=F[7],j.fragment=F[8],isNaN(j.port)&&(j.port=F[5]),j.host)if(g(j.host)===!1){const z=d(j.host);j.host=z.host.toLowerCase(),q=z.isIPV6}else q=!0;j.scheme===void 0&&j.userinfo===void 0&&j.host===void 0&&j.port===void 0&&j.query===void 0&&!j.path?j.reference="same-document":j.scheme===void 0?j.reference="relative":j.fragment===void 0?j.reference="absolute":j.reference="uri",N.reference&&N.reference!=="suffix"&&N.reference!==j.reference&&(j.error=j.error||"URI is not a "+N.reference+" reference.");const L=S(N.scheme||j.scheme);if(!N.unicodeSupport&&(!L||!L.unicodeSupport)&&j.host&&(N.domainHost||L&&L.domainHost)&&q===!1&&b(j.host))try{j.host=URL.domainToASCII(j.host.toLowerCase())}catch(U){j.error=j.error||"Host's domain name can not be converted to ASCII: "+U}(!L||L&&!L.skipNormalize)&&(A.indexOf("%")!==-1&&(j.scheme!==void 0&&(j.scheme=unescape(j.scheme)),j.host!==void 0&&(j.host=unescape(j.host))),j.path&&(j.path=escape(unescape(j.path))),j.fragment&&(j.fragment=encodeURI(decodeURIComponent(j.fragment)))),L&&L.parse&&L.parse(j,N)}else j.error=j.error||"URI can not be parsed.";return j}const M={SCHEMES:v,normalize:O,resolve:w,resolveComponent:T,equal:E,serialize:k,parse:P};return fastUri.exports=M,fastUri.exports.default=M,fastUri.exports.fastUri=M,fastUri.exports}var hasRequiredUri;function requireUri(){if(hasRequiredUri)return uri;hasRequiredUri=1,Object.defineProperty(uri,"__esModule",{value:!0});const d=requireFastUri();return d.code='require("ajv/dist/runtime/uri").default',uri.default=d,uri}var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.CodeGen=d.Name=d.nil=d.stringify=d.str=d._=d.KeywordCxt=void 0;var h=requireValidate();Object.defineProperty(d,"KeywordCxt",{enumerable:!0,get:function(){return h.KeywordCxt}});var f=requireCodegen();Object.defineProperty(d,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(d,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(d,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(d,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(d,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(d,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});const y=requireValidation_error(),g=requireRef_error(),b=requireRules(),v=requireCompile(),S=requireCodegen(),O=requireResolve(),w=requireDataType(),T=requireUtil(),E=require$$9,k=requireUri(),C=(pe,ne)=>new RegExp(pe,ne);C.code="new RegExp";const P=["removeAdditional","useDefaults","coerceTypes"],M=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),A={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},D={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},N=200;function j(pe){var ne,de,ae,H,Z,ve,Te,te,ge,$e,Q,le,Se,Oe,xe,Pe,Ce,Ye,Ke,Me,Ue,Ne,Be,ut,Ge;const $t=pe.strict,dt=(ne=pe.code)===null||ne===void 0?void 0:ne.optimize,vt=dt===!0||dt===void 0?1:dt||0,yt=(ae=(de=pe.code)===null||de===void 0?void 0:de.regExp)!==null&&ae!==void 0?ae:C,fr=(H=pe.uriResolver)!==null&&H!==void 0?H:k.default;return{strictSchema:(ve=(Z=pe.strictSchema)!==null&&Z!==void 0?Z:$t)!==null&&ve!==void 0?ve:!0,strictNumbers:(te=(Te=pe.strictNumbers)!==null&&Te!==void 0?Te:$t)!==null&&te!==void 0?te:!0,strictTypes:($e=(ge=pe.strictTypes)!==null&&ge!==void 0?ge:$t)!==null&&$e!==void 0?$e:"log",strictTuples:(le=(Q=pe.strictTuples)!==null&&Q!==void 0?Q:$t)!==null&&le!==void 0?le:"log",strictRequired:(Oe=(Se=pe.strictRequired)!==null&&Se!==void 0?Se:$t)!==null&&Oe!==void 0?Oe:!1,code:pe.code?Re(X({},pe.code),{optimize:vt,regExp:yt}):{optimize:vt,regExp:yt},loopRequired:(xe=pe.loopRequired)!==null&&xe!==void 0?xe:N,loopEnum:(Pe=pe.loopEnum)!==null&&Pe!==void 0?Pe:N,meta:(Ce=pe.meta)!==null&&Ce!==void 0?Ce:!0,messages:(Ye=pe.messages)!==null&&Ye!==void 0?Ye:!0,inlineRefs:(Ke=pe.inlineRefs)!==null&&Ke!==void 0?Ke:!0,schemaId:(Me=pe.schemaId)!==null&&Me!==void 0?Me:"$id",addUsedSchema:(Ue=pe.addUsedSchema)!==null&&Ue!==void 0?Ue:!0,validateSchema:(Ne=pe.validateSchema)!==null&&Ne!==void 0?Ne:!0,validateFormats:(Be=pe.validateFormats)!==null&&Be!==void 0?Be:!0,unicodeRegExp:(ut=pe.unicodeRegExp)!==null&&ut!==void 0?ut:!0,int32range:(Ge=pe.int32range)!==null&&Ge!==void 0?Ge:!0,uriResolver:fr}}class q{constructor(ne={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,ne=this.opts=X(X({},ne),j(ne));const{es5:de,lines:ae}=this.opts.code;this.scope=new S.ValueScope({scope:{},prefixes:M,es5:de,lines:ae}),this.logger=K(ne.logger);const H=ne.validateFormats;ne.validateFormats=!1,this.RULES=(0,b.getRules)(),F.call(this,A,ne,"NOT SUPPORTED"),F.call(this,D,ne,"DEPRECATED","warn"),this._metaOpts=Y.call(this),ne.formats&&z.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),ne.keywords&&V.call(this,ne.keywords),typeof ne.meta=="object"&&this.addMetaSchema(ne.meta),U.call(this),ne.validateFormats=H}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:ne,meta:de,schemaId:ae}=this.opts;let H=E;ae==="id"&&(H=X({},E),H.id=H.$id,delete H.$id),de&&ne&&this.addMetaSchema(H,H[ae],!1)}defaultMeta(){const{meta:ne,schemaId:de}=this.opts;return this.opts.defaultMeta=typeof ne=="object"?ne[de]||ne:void 0}validate(ne,de){let ae;if(typeof ne=="string"){if(ae=this.getSchema(ne),!ae)throw new Error(`no schema with key or ref "${ne}"`)}else ae=this.compile(ne);const H=ae(de);return"$async"in ae||(this.errors=ae.errors),H}compile(ne,de){const ae=this._addSchema(ne,de);return ae.validate||this._compileSchemaEnv(ae)}compileAsync(ne,de){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:ae}=this.opts;return H.call(this,ne,de);function H($e,Q){return De(this,null,function*(){yield Z.call(this,$e.$schema);const le=this._addSchema($e,Q);return le.validate||ve.call(this,le)})}function Z($e){return De(this,null,function*(){$e&&!this.getSchema($e)&&(yield H.call(this,{$ref:$e},!0))})}function ve($e){return De(this,null,function*(){try{return this._compileSchemaEnv($e)}catch(Q){if(!(Q instanceof g.default))throw Q;return Te.call(this,Q),yield te.call(this,Q.missingSchema),ve.call(this,$e)}})}function Te({missingSchema:$e,missingRef:Q}){if(this.refs[$e])throw new Error(`AnySchema ${$e} is loaded but ${Q} cannot be resolved`)}function te($e){return De(this,null,function*(){const Q=yield ge.call(this,$e);this.refs[$e]||(yield Z.call(this,Q.$schema)),this.refs[$e]||this.addSchema(Q,$e,de)})}function ge($e){return De(this,null,function*(){const Q=this._loading[$e];if(Q)return Q;try{return yield this._loading[$e]=ae($e)}finally{delete this._loading[$e]}})}}addSchema(ne,de,ae,H=this.opts.validateSchema){if(Array.isArray(ne)){for(const ve of ne)this.addSchema(ve,void 0,ae,H);return this}let Z;if(typeof ne=="object"){const{schemaId:ve}=this.opts;if(Z=ne[ve],Z!==void 0&&typeof Z!="string")throw new Error(`schema ${ve} must be string`)}return de=(0,O.normalizeId)(de||Z),this._checkUnique(de),this.schemas[de]=this._addSchema(ne,ae,de,H,!0),this}addMetaSchema(ne,de,ae=this.opts.validateSchema){return this.addSchema(ne,de,!0,ae),this}validateSchema(ne,de){if(typeof ne=="boolean")return!0;let ae;if(ae=ne.$schema,ae!==void 0&&typeof ae!="string")throw new Error("$schema must be a string");if(ae=ae||this.opts.defaultMeta||this.defaultMeta(),!ae)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const H=this.validate(ae,ne);if(!H&&de){const Z="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(Z);else throw new Error(Z)}return H}getSchema(ne){let de;for(;typeof(de=L.call(this,ne))=="string";)ne=de;if(de===void 0){const{schemaId:ae}=this.opts,H=new v.SchemaEnv({schema:{},schemaId:ae});if(de=v.resolveSchema.call(this,H,ne),!de)return;this.refs[ne]=de}return de.validate||this._compileSchemaEnv(de)}removeSchema(ne){if(ne instanceof RegExp)return this._removeAllSchemas(this.schemas,ne),this._removeAllSchemas(this.refs,ne),this;switch(typeof ne){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const de=L.call(this,ne);return typeof de=="object"&&this._cache.delete(de.schema),delete this.schemas[ne],delete this.refs[ne],this}case"object":{const de=ne;this._cache.delete(de);let ae=ne[this.opts.schemaId];return ae&&(ae=(0,O.normalizeId)(ae),delete this.schemas[ae],delete this.refs[ae]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(ne){for(const de of ne)this.addKeyword(de);return this}addKeyword(ne,de){let ae;if(typeof ne=="string")ae=ne,typeof de=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),de.keyword=ae);else if(typeof ne=="object"&&de===void 0){if(de=ne,ae=de.keyword,Array.isArray(ae)&&!ae.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(fe.call(this,ae,de),!de)return(0,T.eachItem)(ae,Z=>se.call(this,Z)),this;ie.call(this,de);const H=Re(X({},de),{type:(0,w.getJSONTypes)(de.type),schemaType:(0,w.getJSONTypes)(de.schemaType)});return(0,T.eachItem)(ae,H.type.length===0?Z=>se.call(this,Z,H):Z=>H.type.forEach(ve=>se.call(this,Z,H,ve))),this}getKeyword(ne){const de=this.RULES.all[ne];return typeof de=="object"?de.definition:!!de}removeKeyword(ne){const{RULES:de}=this;delete de.keywords[ne],delete de.all[ne];for(const ae of de.rules){const H=ae.rules.findIndex(Z=>Z.keyword===ne);H>=0&&ae.rules.splice(H,1)}return this}addFormat(ne,de){return typeof de=="string"&&(de=new RegExp(de)),this.formats[ne]=de,this}errorsText(ne=this.errors,{separator:de=", ",dataVar:ae="data"}={}){return!ne||ne.length===0?"No errors":ne.map(H=>`${ae}${H.instancePath} ${H.message}`).reduce((H,Z)=>H+de+Z)}$dataMetaSchema(ne,de){const ae=this.RULES.all;ne=JSON.parse(JSON.stringify(ne));for(const H of de){const Z=H.split("/").slice(1);let ve=ne;for(const Te of Z)ve=ve[Te];for(const Te in ae){const te=ae[Te];if(typeof te!="object")continue;const{$data:ge}=te.definition,$e=ve[Te];ge&&$e&&(ve[Te]=ke($e))}}return ne}_removeAllSchemas(ne,de){for(const ae in ne){const H=ne[ae];(!de||de.test(ae))&&(typeof H=="string"?delete ne[ae]:H&&!H.meta&&(this._cache.delete(H.schema),delete ne[ae]))}}_addSchema(ne,de,ae,H=this.opts.validateSchema,Z=this.opts.addUsedSchema){let ve;const{schemaId:Te}=this.opts;if(typeof ne=="object")ve=ne[Te];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof ne!="boolean")throw new Error("schema must be object or boolean")}let te=this._cache.get(ne);if(te!==void 0)return te;ae=(0,O.normalizeId)(ve||ae);const ge=O.getSchemaRefs.call(this,ne,ae);return te=new v.SchemaEnv({schema:ne,schemaId:Te,meta:de,baseId:ae,localRefs:ge}),this._cache.set(te.schema,te),Z&&!ae.startsWith("#")&&(ae&&this._checkUnique(ae),this.refs[ae]=te),H&&this.validateSchema(ne,!0),te}_checkUnique(ne){if(this.schemas[ne]||this.refs[ne])throw new Error(`schema with key or id "${ne}" already exists`)}_compileSchemaEnv(ne){if(ne.meta?this._compileMetaSchema(ne):v.compileSchema.call(this,ne),!ne.validate)throw new Error("ajv implementation error");return ne.validate}_compileMetaSchema(ne){const de=this.opts;this.opts=this._metaOpts;try{v.compileSchema.call(this,ne)}finally{this.opts=de}}}q.ValidationError=y.default,q.MissingRefError=g.default,d.default=q;function F(pe,ne,de,ae="error"){for(const H in pe){const Z=H;Z in ne&&this.logger[ae](`${de}: option ${H}. ${pe[Z]}`)}}function L(pe){return pe=(0,O.normalizeId)(pe),this.schemas[pe]||this.refs[pe]}function U(){const pe=this.opts.schemas;if(pe)if(Array.isArray(pe))this.addSchema(pe);else for(const ne in pe)this.addSchema(pe[ne],ne)}function z(){for(const pe in this.opts.formats){const ne=this.opts.formats[pe];ne&&this.addFormat(pe,ne)}}function V(pe){if(Array.isArray(pe)){this.addVocabulary(pe);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const ne in pe){const de=pe[ne];de.keyword||(de.keyword=ne),this.addKeyword(de)}}function Y(){const pe=X({},this.opts);for(const ne of P)delete pe[ne];return pe}const W={log(){},warn(){},error(){}};function K(pe){if(pe===!1)return W;if(pe===void 0)return console;if(pe.log&&pe.warn&&pe.error)return pe;throw new Error("logger must implement log, warn and error methods")}const re=/^[a-z_$][a-z0-9_$:-]*$/i;function fe(pe,ne){const{RULES:de}=this;if((0,T.eachItem)(pe,ae=>{if(de.keywords[ae])throw new Error(`Keyword ${ae} is already defined`);if(!re.test(ae))throw new Error(`Keyword ${ae} has invalid name`)}),!!ne&&ne.$data&&!("code"in ne||"validate"in ne))throw new Error('$data keyword must have "code" or "validate" function')}function se(pe,ne,de){var ae;const H=ne==null?void 0:ne.post;if(de&&H)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:Z}=this;let ve=H?Z.post:Z.rules.find(({type:te})=>te===de);if(ve||(ve={type:de,rules:[]},Z.rules.push(ve)),Z.keywords[pe]=!0,!ne)return;const Te={keyword:pe,definition:Re(X({},ne),{type:(0,w.getJSONTypes)(ne.type),schemaType:(0,w.getJSONTypes)(ne.schemaType)})};ne.before?J.call(this,ve,Te,ne.before):ve.rules.push(Te),Z.all[pe]=Te,(ae=ne.implements)===null||ae===void 0||ae.forEach(te=>this.addKeyword(te))}function J(pe,ne,de){const ae=pe.rules.findIndex(H=>H.keyword===de);ae>=0?pe.rules.splice(ae,0,ne):(pe.rules.push(ne),this.logger.warn(`rule ${de} is not defined`))}function ie(pe){let{metaSchema:ne}=pe;ne!==void 0&&(pe.$data&&this.opts.$data&&(ne=ke(ne)),pe.validateSchema=this.compile(ne,!0))}const ue={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ke(pe){return{anyOf:[pe,ue]}}})(core)),core}var jtd={},ref$1={},ref={},hasRequiredRef$1;function requireRef$1(){if(hasRequiredRef$1)return ref;hasRequiredRef$1=1,Object.defineProperty(ref,"__esModule",{value:!0}),ref.callRef=ref.getValidate=void 0;const d=requireRef_error(),h=requireCode(),f=requireCodegen(),y=requireNames(),g=requireCompile(),b=requireUtil(),v={keyword:"$ref",schemaType:"string",code(w){const{gen:T,schema:E,it:k}=w,{baseId:C,schemaEnv:P,validateName:M,opts:A,self:D}=k,{root:N}=P;if((E==="#"||E==="#/")&&C===N.baseId)return q();const j=g.resolveRef.call(D,N,C,E);if(j===void 0)throw new d.default(k.opts.uriResolver,C,E);if(j instanceof g.SchemaEnv)return F(j);return L(j);function q(){if(P===N)return O(w,M,P,P.$async);const U=T.scopeValue("root",{ref:N});return O(w,(0,f._)`${U}.validate`,N,N.$async)}function F(U){const z=S(w,U);O(w,z,U,U.$async)}function L(U){const z=T.scopeValue("schema",A.code.source===!0?{ref:U,code:(0,f.stringify)(U)}:{ref:U}),V=T.name("valid"),Y=w.subschema({schema:U,dataTypes:[],schemaPath:f.nil,topSchemaRef:z,errSchemaPath:E},V);w.mergeEvaluated(Y),w.ok(V)}}};function S(w,T){const{gen:E}=w;return T.validate?E.scopeValue("validate",{ref:T.validate}):(0,f._)`${E.scopeValue("wrapper",{ref:T})}.validate`}ref.getValidate=S;function O(w,T,E,k){const{gen:C,it:P}=w,{allErrors:M,schemaEnv:A,opts:D}=P,N=D.passContext?y.default.this:f.nil;k?j():q();function j(){if(!A.$async)throw new Error("async schema referenced by sync schema");const U=C.let("valid");C.try(()=>{C.code((0,f._)`await ${(0,h.callValidateCode)(w,T,N)}`),L(T),M||C.assign(U,!0)},z=>{C.if((0,f._)`!(${z} instanceof ${P.ValidationError})`,()=>C.throw(z)),F(z),M||C.assign(U,!1)}),w.ok(U)}function q(){w.result((0,h.callValidateCode)(w,T,N),()=>L(T),()=>F(T))}function F(U){const z=(0,f._)`${U}.errors`;C.assign(y.default.vErrors,(0,f._)`${y.default.vErrors} === null ? ${z} : ${y.default.vErrors}.concat(${z})`),C.assign(y.default.errors,(0,f._)`${y.default.vErrors}.length`)}function L(U){var z;if(!P.opts.unevaluated)return;const V=(z=E==null?void 0:E.validate)===null||z===void 0?void 0:z.evaluated;if(P.props!==!0)if(V&&!V.dynamicProps)V.props!==void 0&&(P.props=b.mergeEvaluated.props(C,V.props,P.props));else{const Y=C.var("props",(0,f._)`${U}.evaluated.props`);P.props=b.mergeEvaluated.props(C,Y,P.props,f.Name)}if(P.items!==!0)if(V&&!V.dynamicItems)V.items!==void 0&&(P.items=b.mergeEvaluated.items(C,V.items,P.items));else{const Y=C.var("items",(0,f._)`${U}.evaluated.items`);P.items=b.mergeEvaluated.items(C,Y,P.items,f.Name)}}}return ref.callRef=O,ref.default=v,ref}var metadata={},hasRequiredMetadata;function requireMetadata(){if(hasRequiredMetadata)return metadata;hasRequiredMetadata=1,Object.defineProperty(metadata,"__esModule",{value:!0}),metadata.checkMetadata=void 0;const d=requireUtil(),h={keyword:"metadata",schemaType:"object",code(y){f(y);const{gen:g,schema:b,it:v}=y;if((0,d.alwaysValidSchema)(v,b))return;const S=g.name("valid");y.subschema({keyword:"metadata",jtdMetadata:!0},S),y.ok(S)}};function f({it:y,keyword:g},b){if(y.jtdMetadata!==b)throw new Error(`JTD: "${g}" cannot be used in this schema location`)}return metadata.checkMetadata=f,metadata.default=h,metadata}var hasRequiredRef;function requireRef(){if(hasRequiredRef)return ref$1;hasRequiredRef=1,Object.defineProperty(ref$1,"__esModule",{value:!0}),ref$1.hasRef=void 0;const d=requireCompile(),h=requireCodegen(),f=requireRef_error(),y=requireNames(),g=requireRef$1(),b=requireMetadata(),v={keyword:"ref",schemaType:"string",code(O){(0,b.checkMetadata)(O);const{gen:w,data:T,schema:E,parentSchema:k,it:C}=O,{schemaEnv:{root:P}}=C,M=w.name("valid");k.nullable?(w.var(M,(0,h._)`${T} === null`),w.if((0,h.not)(M),A)):(w.var(M,!1),A()),O.ok(M);function A(){var j;const q=(j=P.schema.definitions)===null||j===void 0?void 0:j[E];if(!q)throw new f.default(C.opts.uriResolver,"",E,`No definition ${E}`);S(q)||!C.opts.inlineRefs?D(q):N(q)}function D(j){const q=d.compileSchema.call(C.self,new d.SchemaEnv({schema:j,root:P,schemaPath:`/definitions/${E}`})),F=(0,g.getValidate)(O,q),L=w.const("_errs",y.default.errors);(0,g.callRef)(O,F,q,q.$async),w.assign(M,(0,h._)`${L} === ${y.default.errors}`)}function N(j){const q=w.scopeValue("schema",C.opts.code.source===!0?{ref:j,code:(0,h.stringify)(j)}:{ref:j});O.subschema({schema:j,dataTypes:[],schemaPath:h.nil,topSchemaRef:q,errSchemaPath:`/definitions/${E}`},M)}}};function S(O){for(const w in O){let T;if(w==="ref"||typeof(T=O[w])=="object"&&S(T))return!0}return!1}return ref$1.hasRef=S,ref$1.default=v,ref$1}var type={},timestamp={},hasRequiredTimestamp;function requireTimestamp(){if(hasRequiredTimestamp)return timestamp;hasRequiredTimestamp=1,Object.defineProperty(timestamp,"__esModule",{value:!0});const d=/t|\s/i,h=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,f=/^(\d\d):(\d\d):(\d\d)(?:\.\d+)?(?:z|([+-]\d\d)(?::?(\d\d))?)$/i,y=[0,31,28,31,30,31,30,31,31,30,31,30,31];function g(S,O){const w=S.split(d);return w.length===2&&b(w[0])&&v(w[1])||O&&w.length===1&&b(w[0])}timestamp.default=g;function b(S){const O=h.exec(S);if(!O)return!1;const w=+O[1],T=+O[2],E=+O[3];return T>=1&&T<=12&&E>=1&&(E<=y[T]||T===2&&E===29&&(w%100===0?w%400===0:w%4===0))}function v(S){const O=f.exec(S);if(!O)return!1;const w=+O[1],T=+O[2],E=+O[3],k=+(O[4]||0),C=+(O[5]||0);return w<=23&&T<=59&&E<=59||w-k===23&&T-C===59&&E===60}return g.code='require("ajv/dist/runtime/timestamp").default',timestamp}var error={},hasRequiredError;function requireError(){if(hasRequiredError)return error;hasRequiredError=1,Object.defineProperty(error,"__esModule",{value:!0}),error.typeErrorParams=error.typeErrorMessage=error.typeError=void 0;const d=requireCodegen();function h(g){return{message:b=>f(b,g),params:b=>y(b,g)}}error.typeError=h;function f({parentSchema:g},b){return g!=null&&g.nullable?`must be ${b} or null`:`must be ${b}`}error.typeErrorMessage=f;function y({parentSchema:g},b){return(0,d._)`{type: ${b}, nullable: ${!!(g!=null&&g.nullable)}}`}return error.typeErrorParams=y,error}var hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.intRange=void 0;const h=requireCodegen(),f=requireTimestamp(),y=requireUtil(),g=requireMetadata(),b=requireError();d.intRange={int8:[-128,127,3],uint8:[0,255,3],int16:[-32768,32767,5],uint16:[0,65535,5],int32:[-2147483648,2147483647,10],uint32:[0,4294967295,10]};const v={message:w=>(0,b.typeErrorMessage)(w,w.schema),params:w=>(0,b.typeErrorParams)(w,w.schema)};function S(w){const{gen:T,data:E,it:k}=w,{timestamp:C,allowDate:P}=k.opts;if(C==="date")return(0,h._)`${E} instanceof Date `;const M=(0,y.useFunc)(T,f.default),A=P?(0,h._)`, true`:h.nil,D=(0,h._)`typeof ${E} == "string" && ${M}(${E}${A})`;return C==="string"?D:(0,h.or)((0,h._)`${E} instanceof Date`,D)}const O={keyword:"type",schemaType:"string",error:v,code(w){(0,g.checkMetadata)(w);const{data:T,schema:E,parentSchema:k,it:C}=w;let P;switch(E){case"boolean":case"string":P=(0,h._)`typeof ${T} == ${E}`;break;case"timestamp":{P=S(w);break}case"float32":case"float64":P=(0,h._)`typeof ${T} == "number"`;break;default:{const M=E;if(P=(0,h._)`typeof ${T} == "number" && isFinite(${T}) && !(${T} % 1)`,!C.opts.int32range&&(M==="int32"||M==="uint32"))M==="uint32"&&(P=(0,h._)`${P} && ${T} >= 0`);else{const[A,D]=d.intRange[M];P=(0,h._)`${P} && ${T} >= ${A} && ${T} <= ${D}`}}}w.pass(k.nullable?(0,h.or)((0,h._)`${T} === null`,P):P)}};d.default=O})(type)),type}var _enum={},nullable={},hasRequiredNullable;function requireNullable(){if(hasRequiredNullable)return nullable;hasRequiredNullable=1,Object.defineProperty(nullable,"__esModule",{value:!0}),nullable.checkNullableObject=nullable.checkNullable=void 0;const d=requireCodegen();function h({gen:y,data:g,parentSchema:b},v=d.nil){const S=y.name("valid");return b.nullable?(y.let(S,(0,d._)`${g} === null`),v=(0,d.not)(S)):y.let(S,!1),[S,v]}nullable.checkNullable=h;function f(y,g){const[b,v]=h(y,g);return[b,(0,d._)`${v} && typeof ${y.data} == "object" && !Array.isArray(${y.data})`]}return nullable.checkNullableObject=f,nullable}var hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,Object.defineProperty(_enum,"__esModule",{value:!0});const d=requireCodegen(),h=requireMetadata(),f=requireNullable(),g={keyword:"enum",schemaType:"array",error:{message:"must be equal to one of the allowed values",params:({schemaCode:b})=>(0,d._)`{allowedValues: ${b}}`},code(b){(0,h.checkMetadata)(b);const{gen:v,data:S,schema:O,schemaValue:w,parentSchema:T,it:E}=b;if(O.length===0)throw new Error("enum must have non-empty array");if(O.length!==new Set(O).size)throw new Error("enum items must be unique");let k;const C=(0,d._)`typeof ${S} == "string"`;if(O.length>=E.opts.loopEnum){let M;[k,M]=(0,f.checkNullable)(b,C),v.if(M,P)}else{if(!Array.isArray(O))throw new Error("ajv implementation error");k=(0,d.and)(C,(0,d.or)(...O.map(M=>(0,d._)`${S} === ${M}`))),T.nullable&&(k=(0,d.or)((0,d._)`${S} === null`,k))}b.pass(k);function P(){v.forOf("v",w,M=>v.if((0,d._)`${k} = ${S} === ${M}`,()=>v.break()))}}};return _enum.default=g,_enum}var elements={},hasRequiredElements;function requireElements(){if(hasRequiredElements)return elements;hasRequiredElements=1,Object.defineProperty(elements,"__esModule",{value:!0});const d=requireUtil(),h=requireCode(),f=requireCodegen(),y=requireMetadata(),g=requireNullable(),v={keyword:"elements",schemaType:"object",error:(0,requireError().typeError)("array"),code(S){(0,y.checkMetadata)(S);const{gen:O,data:w,schema:T,it:E}=S;if((0,d.alwaysValidSchema)(E,T))return;const[k]=(0,g.checkNullable)(S);O.if((0,f.not)(k),()=>O.if((0,f._)`Array.isArray(${w})`,()=>O.assign(k,(0,h.validateArray)(S)),()=>S.error())),S.ok(k)}};return elements.default=v,elements}var properties={},hasRequiredProperties;function requireProperties(){return hasRequiredProperties||(hasRequiredProperties=1,(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.validateProperties=d.error=void 0;const h=requireCode(),f=requireUtil(),y=requireCodegen(),g=requireMetadata(),b=requireNullable(),v=requireError();var S;(function(T){T.Additional="additional",T.Missing="missing"})(S||(S={})),d.error={message:T=>{const{params:E}=T;return E.propError?E.propError===S.Additional?"must NOT have additional properties":`must have property '${E.missingProperty}'`:(0,v.typeErrorMessage)(T,"object")},params:T=>{const{params:E}=T;return E.propError?E.propError===S.Additional?(0,y._)`{error: ${E.propError}, additionalProperty: ${E.additionalProperty}}`:(0,y._)`{error: ${E.propError}, missingProperty: ${E.missingProperty}}`:(0,v.typeErrorParams)(T,"object")}};const O={keyword:"properties",schemaType:"object",error:d.error,code:w};function w(T){(0,g.checkMetadata)(T);const{gen:E,data:k,parentSchema:C,it:P}=T,{additionalProperties:M,nullable:A}=C;if(P.jtdDiscriminator&&A)throw new Error("JTD: nullable inside discriminator mapping");if(U())throw new Error("JTD: properties and optionalProperties have common members");const[D,N]=z("properties"),[j,q]=z("optionalProperties");if(N.length===0&&q.length===0&&M)return;const[F,L]=P.jtdDiscriminator===void 0?(0,b.checkNullableObject)(T,k):[E.let("valid",!1),!0];E.if(L,()=>E.assign(F,!0).block(()=>{V(N,"properties",!0),V(q,"optionalProperties"),M||W()})),T.pass(F);function U(){const re=C.properties,fe=C.optionalProperties;if(!(re&&fe))return!1;for(const se in re)if(Object.prototype.hasOwnProperty.call(fe,se))return!0;return!1}function z(re){const fe=C[re],se=fe?(0,h.allSchemaProperties)(fe):[];if(P.jtdDiscriminator&&se.some(ie=>ie===P.jtdDiscriminator))throw new Error(`JTD: discriminator tag used in ${re}`);const J=se.filter(ie=>!(0,f.alwaysValidSchema)(P,fe[ie]));return[se,J]}function V(re,fe,se){const J=E.var("valid");for(const ue of re)E.if((0,h.propertyInData)(E,k,ue,P.opts.ownProperties),()=>Y(ue,fe,J),()=>ie(ue)),T.ok(J);function ie(ue){se?(E.assign(J,!1),T.error(!1,{propError:S.Missing,missingProperty:ue},{schemaPath:ue})):E.assign(J,!0)}}function Y(re,fe,se){T.subschema({keyword:fe,schemaProp:re,dataProp:re},se)}function W(){E.forIn("key",k,re=>{const fe=K(re,D,"properties",P.jtdDiscriminator),se=K(re,j,"optionalProperties"),J=fe===!0?se:se===!0?fe:(0,y.and)(fe,se);E.if(J,()=>{P.opts.removeAdditional?E.code((0,y._)`delete ${k}[${re}]`):(T.error(!1,{propError:S.Additional,additionalProperty:re},{instancePath:re,parentSchema:!0}),P.opts.allErrors||E.break())})})}function K(re,fe,se,J){let ie;if(fe.length>8){const ue=(0,f.schemaRefOrVal)(P,C[se],se);ie=(0,y.not)((0,h.isOwnProperty)(E,ue,re)),J!==void 0&&(ie=(0,y.and)(ie,(0,y._)`${re} !== ${J}`))}else if(fe.length||J!==void 0){const ue=J===void 0?fe:[J].concat(fe);ie=(0,y.and)(...ue.map(ke=>(0,y._)`${re} !== ${ke}`))}else ie=!0;return ie}}d.validateProperties=w,d.default=O})(properties)),properties}var optionalProperties={},hasRequiredOptionalProperties;function requireOptionalProperties(){if(hasRequiredOptionalProperties)return optionalProperties;hasRequiredOptionalProperties=1,Object.defineProperty(optionalProperties,"__esModule",{value:!0});const d=requireProperties(),h={keyword:"optionalProperties",schemaType:"object",error:d.error,code(f){f.parentSchema.properties||(0,d.validateProperties)(f)}};return optionalProperties.default=h,optionalProperties}var discriminator={},types$1={},hasRequiredTypes$1;function requireTypes$1(){if(hasRequiredTypes$1)return types$1;hasRequiredTypes$1=1,Object.defineProperty(types$1,"__esModule",{value:!0}),types$1.DiscrError=void 0;var d;return(function(h){h.Tag="tag",h.Mapping="mapping"})(d||(types$1.DiscrError=d={})),types$1}var hasRequiredDiscriminator;function requireDiscriminator(){if(hasRequiredDiscriminator)return discriminator;hasRequiredDiscriminator=1,Object.defineProperty(discriminator,"__esModule",{value:!0});const d=requireCodegen(),h=requireMetadata(),f=requireNullable(),y=requireError(),g=requireTypes$1(),v={keyword:"discriminator",schemaType:"string",implements:["mapping"],error:{message:S=>{const{schema:O,params:w}=S;return w.discrError?w.discrError===g.DiscrError.Tag?`tag "${O}" must be string`:`value of tag "${O}" must be in mapping`:(0,y.typeErrorMessage)(S,"object")},params:S=>{const{schema:O,params:w}=S;return w.discrError?(0,d._)`{error: ${w.discrError}, tag: ${O}, tagValue: ${w.tag}}`:(0,y.typeErrorParams)(S,"object")}},code(S){(0,h.checkMetadata)(S);const{gen:O,data:w,schema:T,parentSchema:E}=S,[k,C]=(0,f.checkNullableObject)(S,w);O.if(C),P(),O.elseIf((0,d.not)(k)),S.error(),O.endIf(),S.ok(k);function P(){const D=O.const("tag",(0,d._)`${w}${(0,d.getProperty)(T)}`);O.if((0,d._)`${D} === undefined`),S.error(!1,{discrError:g.DiscrError.Tag,tag:D}),O.elseIf((0,d._)`typeof ${D} == "string"`),M(D),O.else(),S.error(!1,{discrError:g.DiscrError.Tag,tag:D},{instancePath:T}),O.endIf()}function M(D){O.if(!1);for(const N in E.mapping)O.elseIf((0,d._)`${D} === ${N}`),O.assign(k,A(N));O.else(),S.error(!1,{discrError:g.DiscrError.Mapping,tag:D},{instancePath:T,schemaPath:"mapping",parentSchema:!0}),O.endIf()}function A(D){const N=O.name("valid");return S.subschema({keyword:"mapping",schemaProp:D,jtdDiscriminator:T},N),N}}};return discriminator.default=v,discriminator}var values={},hasRequiredValues;function requireValues(){if(hasRequiredValues)return values;hasRequiredValues=1,Object.defineProperty(values,"__esModule",{value:!0});const d=requireUtil(),h=requireCodegen(),f=requireMetadata(),y=requireNullable(),b={keyword:"values",schemaType:"object",error:(0,requireError().typeError)("object"),code(v){(0,f.checkMetadata)(v);const{gen:S,data:O,schema:w,it:T}=v,[E,k]=(0,y.checkNullableObject)(v,O);(0,d.alwaysValidSchema)(T,w)?S.if((0,h.not)((0,h.or)(k,E)),()=>v.error()):(S.if(k),S.assign(E,C()),S.elseIf((0,h.not)(E)),v.error(),S.endIf()),v.ok(E);function C(){const P=S.name("valid");if(T.allErrors){const A=S.let("valid",!0);return M(()=>S.assign(A,!1)),A}return S.var(P,!0),M(()=>S.break()),P;function M(A){S.forIn("key",O,D=>{v.subschema({keyword:"values",dataProp:D,dataPropType:d.Type.Str},P),S.if((0,h.not)(P),A)})}}}};return values.default=b,values}var union={},hasRequiredUnion;function requireUnion(){if(hasRequiredUnion)return union;hasRequiredUnion=1,Object.defineProperty(union,"__esModule",{value:!0});const h={keyword:"union",schemaType:"array",trackErrors:!0,code:requireCode().validateUnion,error:{message:"must match a schema in union"}};return union.default=h,union}var hasRequiredJtd$1;function requireJtd$1(){if(hasRequiredJtd$1)return jtd;hasRequiredJtd$1=1,Object.defineProperty(jtd,"__esModule",{value:!0});const d=requireRef(),h=requireType(),f=require_enum(),y=requireElements(),g=requireProperties(),b=requireOptionalProperties(),v=requireDiscriminator(),S=requireValues(),O=requireUnion(),w=requireMetadata(),T=["definitions",d.default,h.default,f.default,y.default,g.default,b.default,v.default,S.default,O.default,w.default,{keyword:"additionalProperties",schemaType:"boolean"},{keyword:"nullable",schemaType:"boolean"}];return jtd.default=T,jtd}var jtdSchema={},hasRequiredJtdSchema;function requireJtdSchema(){if(hasRequiredJtdSchema)return jtdSchema;hasRequiredJtdSchema=1,Object.defineProperty(jtdSchema,"__esModule",{value:!0});const d=k=>{const C={nullable:{type:"boolean"},metadata:{optionalProperties:{union:{elements:{ref:"schema"}}},additionalProperties:!0}};return k&&(C.definitions={values:{ref:"schema"}}),C},h=k=>({optionalProperties:d(k)}),f=k=>({properties:{ref:{type:"string"}},optionalProperties:d(k)}),y=k=>({properties:{type:{enum:["boolean","timestamp","string","float32","float64","int8","uint8","int16","uint16","int32","uint32"]}},optionalProperties:d(k)}),g=k=>({properties:{enum:{elements:{type:"string"}}},optionalProperties:d(k)}),b=k=>({properties:{elements:{ref:"schema"}},optionalProperties:d(k)}),v=k=>({properties:{properties:{values:{ref:"schema"}}},optionalProperties:X({optionalProperties:{values:{ref:"schema"}},additionalProperties:{type:"boolean"}},d(k))}),S=k=>({properties:{optionalProperties:{values:{ref:"schema"}}},optionalProperties:X({additionalProperties:{type:"boolean"}},d(k))}),O=k=>({properties:{discriminator:{type:"string"},mapping:{values:{metadata:{union:[v(!1),S(!1)]}}}},optionalProperties:d(k)}),w=k=>({properties:{values:{ref:"schema"}},optionalProperties:d(k)}),T=k=>({metadata:{union:[h,f,y,g,b,v,S,O,w].map(C=>C(k))}}),E=X({definitions:{schema:T(!1)}},T(!0));return jtdSchema.default=E,jtdSchema}var serialize={},types={},hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,Object.defineProperty(types,"__esModule",{value:!0}),types.jtdForms=void 0,types.jtdForms=["elements","values","discriminator","properties","optionalProperties","enum","type","ref"]),types}var quote={},hasRequiredQuote;function requireQuote(){if(hasRequiredQuote)return quote;hasRequiredQuote=1,Object.defineProperty(quote,"__esModule",{value:!0});const d=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function f(y){return d.lastIndex=0,'"'+(d.test(y)?y.replace(d,g=>{const b=h[g];return typeof b=="string"?b:"\\u"+("0000"+g.charCodeAt(0).toString(16)).slice(-4)}):y)+'"'}return quote.default=f,f.code='require("ajv/dist/runtime/quote").default',quote}var hasRequiredSerialize;function requireSerialize(){if(hasRequiredSerialize)return serialize;hasRequiredSerialize=1,Object.defineProperty(serialize,"__esModule",{value:!0});const d=requireTypes(),h=requireCompile(),f=requireCodegen(),y=requireRef_error(),g=requireNames(),b=requireCode(),v=requireRef(),S=requireUtil(),O=requireQuote(),w={elements:C,values:P,discriminator:A,properties:D,optionalProperties:D,enum:q,type:j,ref:L};function T(Y,W){const K=h.getCompilingSchema.call(this,Y);if(K)return K;const{es5:re,lines:fe}=this.opts.code,{ownProperties:se}=this.opts,J=new f.CodeGen(this.scope,{es5:re,lines:fe,ownProperties:se}),ie=J.scopeName("serialize"),ue={self:this,gen:J,schema:Y.schema,schemaEnv:Y,definitions:W,data:g.default.data};let ke;try{this._compilations.add(Y),Y.serializeName=ie,J.func(ie,g.default.data,!1,()=>{J.let(g.default.json,(0,f.str)``),E(ue),J.return(g.default.json)}),J.optimize(this.opts.code.optimize);const pe=J.toString();ke=`${J.scopeRefs(g.default.scope)}return ${pe}`;const de=new Function(`${g.default.scope}`,ke)(this.scope.get());this.scope.value(ie,{ref:de}),Y.serialize=de}catch(pe){throw ke&&this.logger.error("Error compiling serializer, function code:",ke),delete Y.serialize,delete Y.serializeName,pe}finally{this._compilations.delete(Y)}return Y}serialize.default=T;function E(Y){let W;for(const K of d.jtdForms)if(K in Y.schema){W=K;break}k(Y,W?w[W]:z)}function k(Y,W){const{gen:K,schema:re,data:fe}=Y;if(!re.nullable)return W(Y);K.if((0,f._)`${fe} === undefined || ${fe} === null`,()=>K.add(g.default.json,(0,f._)`"null"`),()=>W(Y))}function C(Y){const{gen:W,schema:K,data:re}=Y;W.add(g.default.json,(0,f.str)`[`);const fe=W.let("first",!0);W.forOf("el",re,se=>{V(Y,fe),E(Re(X({},Y),{schema:K.elements,data:se}))}),W.add(g.default.json,(0,f.str)`]`)}function P(Y){const{gen:W,schema:K,data:re}=Y;W.add(g.default.json,(0,f.str)`{`);const fe=W.let("first",!0);W.forIn("key",re,se=>M(Y,se,K.values,fe)),W.add(g.default.json,(0,f.str)`}`)}function M(Y,W,K,re){const{gen:fe,data:se}=Y;V(Y,re),q(Re(X({},Y),{data:W})),fe.add(g.default.json,(0,f.str)`:`);const J=fe.const("value",(0,f._)`${se}${(0,f.getProperty)(W)}`);E(Re(X({},Y),{schema:K,data:J}))}function A(Y){const{gen:W,schema:K,data:re}=Y,{discriminator:fe}=K;W.add(g.default.json,(0,f.str)`{${JSON.stringify(fe)}:`);const se=W.const("tag",(0,f._)`${re}${(0,f.getProperty)(fe)}`);q(Re(X({},Y),{data:se})),W.if(!1);for(const J in K.mapping){W.elseIf((0,f._)`${se} === ${J}`);const ie=K.mapping[J];N(Re(X({},Y),{schema:ie}),fe)}W.endIf(),W.add(g.default.json,(0,f.str)`}`)}function D(Y){const{gen:W}=Y;W.add(g.default.json,(0,f.str)`{`),N(Y),W.add(g.default.json,(0,f.str)`}`)}function N(Y,W){const{gen:K,schema:re,data:fe}=Y,{properties:se,optionalProperties:J}=re,ie=de(se),ue=de(J),ke=ae(ie.concat(ue));let pe=!W,ne;for(const Te of ie)pe?pe=!1:K.add(g.default.json,(0,f.str)`,`),Z(Te,se[Te],H(Te));pe&&(ne=K.let("first",!0));for(const Te of ue){const te=H(Te);K.if((0,f.and)((0,f._)`${te} !== undefined`,(0,b.isOwnProperty)(K,fe,Te)),()=>{V(Y,ne),Z(Te,J[Te],te)})}re.additionalProperties&&K.forIn("key",fe,Te=>K.if(ve(Te,ke),()=>M(Y,Te,{},ne)));function de(Te){return Te?Object.keys(Te):[]}function ae(Te){if(W&&Te.push(W),new Set(Te).size!==Te.length)throw new Error("JTD: properties/optionalProperties/disciminator overlap");return Te}function H(Te){return K.const("value",(0,f._)`${fe}${(0,f.getProperty)(Te)}`)}function Z(Te,te,ge){K.add(g.default.json,(0,f.str)`${JSON.stringify(Te)}:`),E(Re(X({},Y),{schema:te,data:ge}))}function ve(Te,te){return te.length?(0,f.and)(...te.map(ge=>(0,f._)`${Te} !== ${ge}`)):!0}}function j(Y){const{gen:W,schema:K,data:re}=Y;switch(K.type){case"boolean":W.add(g.default.json,(0,f._)`${re} ? "true" : "false"`);break;case"string":q(Y);break;case"timestamp":W.if((0,f._)`${re} instanceof Date`,()=>W.add(g.default.json,(0,f._)`'"' + ${re}.toISOString() + '"'`),()=>q(Y));break;default:F(Y)}}function q({gen:Y,data:W}){Y.add(g.default.json,(0,f._)`${(0,S.useFunc)(Y,O.default)}(${W})`)}function F({gen:Y,data:W}){Y.add(g.default.json,(0,f._)`"" + ${W}`)}function L(Y){const{gen:W,self:K,data:re,definitions:fe,schema:se,schemaEnv:J}=Y,{ref:ie}=se,ue=fe[ie];if(!ue)throw new y.default(K.opts.uriResolver,"",ie,`No definition ${ie}`);if(!(0,v.hasRef)(ue))return E(Re(X({},Y),{schema:ue}));const{root:ke}=J,pe=T.call(K,new h.SchemaEnv({schema:ue,root:ke}),fe);W.add(g.default.json,(0,f._)`${U(W,pe)}(${re})`)}function U(Y,W){return W.serialize?Y.scopeValue("serialize",{ref:W.serialize}):(0,f._)`${Y.scopeValue("wrapper",{ref:W})}.serialize`}function z({gen:Y,data:W}){Y.add(g.default.json,(0,f._)`JSON.stringify(${W})`)}function V({gen:Y},W){W?Y.if(W,()=>Y.assign(W,!1),()=>Y.add(g.default.json,(0,f.str)`,`)):Y.add(g.default.json,(0,f.str)`,`)}return serialize}var parse={},parseJson={},hasRequiredParseJson;function requireParseJson(){if(hasRequiredParseJson)return parseJson;hasRequiredParseJson=1,Object.defineProperty(parseJson,"__esModule",{value:!0}),parseJson.parseJsonString=parseJson.parseJsonNumber=parseJson.parseJson=void 0;const d=/position\s(\d+)(?: \(line \d+ column \d+\))?$/;function h(S,O){let w;h.message=void 0;let T;O&&(S=S.slice(O));try{return h.position=O+S.length,JSON.parse(S)}catch(E){if(T=d.exec(E.message),!T){h.message="unexpected end";return}w=+T[1];const k=S[w];S=S.slice(0,w),h.position=O+w;try{return JSON.parse(S)}catch(C){h.message=`unexpected token ${k}`;return}}}parseJson.parseJson=h,h.message=void 0,h.position=0,h.code='require("ajv/dist/runtime/parseJson").parseJson';function f(S,O,w){let T="",E;if(f.message=void 0,S[O]==="-"&&(T+="-",O++),S[O]==="0")T+="0",O++;else if(!k(w)){C();return}if(w)return f.position=O,+T;if(S[O]==="."&&(T+=".",O++,!k())){C();return}if(E=S[O],(E==="e"||E==="E")&&(T+="e",O++,E=S[O],(E==="+"||E==="-")&&(T+=E,O++),!k())){C();return}return f.position=O,+T;function k(P){let M=!1;for(;E=S[O],E>="0"&&E<="9"&&(P===void 0||P-- >0);)M=!0,T+=E,O++;return M}function C(){f.position=O,f.message=O<S.length?`unexpected token ${S[O]}`:"unexpected end"}}parseJson.parseJsonNumber=f,f.message=void 0,f.position=0,f.code='require("ajv/dist/runtime/parseJson").parseJsonNumber';const y={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},g=97,b=48;function v(S,O){let w="",T;for(v.message=void 0;T=S[O++],T!=='"';)if(T==="\\")if(T=S[O],T in y)w+=y[T],O++;else if(T==="u"){O++;let k=4,C=0;for(;k--;){if(C<<=4,T=S[O],T===void 0){E("unexpected end");return}if(T=T.toLowerCase(),T>="a"&&T<="f")C+=T.charCodeAt(0)-g+10;else if(T>="0"&&T<="9")C+=T.charCodeAt(0)-b;else{E(`unexpected token ${T}`);return}O++}w+=String.fromCharCode(C)}else{E(`unexpected token ${T}`);return}else if(T===void 0){E("unexpected end");return}else if(T.charCodeAt(0)>=32)w+=T;else{E(`unexpected token ${T}`);return}return v.position=O,w;function E(k){v.position=O,v.message=k}}return parseJson.parseJsonString=v,v.message=void 0,v.position=0,v.code='require("ajv/dist/runtime/parseJson").parseJsonString',parseJson}var hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse;hasRequiredParse=1,Object.defineProperty(parse,"__esModule",{value:!0});const d=requireTypes(),h=requireCompile(),f=requireCodegen(),y=requireRef_error(),g=requireNames(),b=requireCode(),v=requireRef(),S=requireType(),O=requireParseJson(),w=requireUtil(),T=requireTimestamp(),E={elements:N,values:j,discriminator:U,properties:z,optionalProperties:z,enum:fe,type:K,ref:ie};function k(te,ge){const $e=h.getCompilingSchema.call(this,te);if($e)return $e;const{es5:Q,lines:le}=this.opts.code,{ownProperties:Se}=this.opts,Oe=new f.CodeGen(this.scope,{es5:Q,lines:le,ownProperties:Se}),xe=Oe.scopeName("parse"),Pe={self:this,gen:Oe,schema:te.schema,schemaEnv:te,definitions:ge,data:g.default.data,parseName:xe,char:Oe.name("c")};let Ce;try{this._compilations.add(te),te.parseName=xe,P(Pe),Oe.optimize(this.opts.code.optimize);const Ye=Oe.toString();Ce=`${Oe.scopeRefs(g.default.scope)}return ${Ye}`;const Me=new Function(`${g.default.scope}`,Ce)(this.scope.get());this.scope.value(xe,{ref:Me}),te.parse=Me}catch(Ye){throw Ce&&this.logger.error("Error compiling parser, function code:",Ce),delete te.parse,delete te.parseName,Ye}finally{this._compilations.delete(te)}return te}parse.default=k;const C=(0,f._)`undefined`;function P(te){const{gen:ge,parseName:$e,char:Q}=te;ge.func($e,(0,f._)`${g.default.json}, ${g.default.jsonPos}, ${g.default.jsonPart}`,!1,()=>{ge.let(g.default.data),ge.let(Q),ge.assign((0,f._)`${$e}.message`,C),ge.assign((0,f._)`${$e}.position`,C),ge.assign(g.default.jsonPos,(0,f._)`${g.default.jsonPos} || 0`),ge.const(g.default.jsonLen,(0,f._)`${g.default.json}.length`),M(te),H(te),ge.if(g.default.jsonPart,()=>{ge.assign((0,f._)`${$e}.position`,g.default.jsonPos),ge.return(g.default.data)}),ge.if((0,f._)`${g.default.jsonPos} === ${g.default.jsonLen}`,()=>ge.return(g.default.data)),ve(te)})}function M(te){let ge;for(const $e of d.jtdForms)if($e in te.schema){ge=$e;break}ge?D(te,E[ge]):ke(te)}const A=J(!0,J(!1,ve));function D(te,ge){const{gen:$e,schema:Q,data:le}=te;if(!Q.nullable)return ge(te);ae(te,"null",ge,()=>$e.assign(le,null))}function N(te){const{gen:ge,schema:$e,data:Q}=te;de(te,"[");const le=ge.let("i",0);ge.assign(Q,(0,f._)`[]`),q(te,"]",()=>{const Se=ge.let("el");M(Re(X({},te),{schema:$e.elements,data:Se})),ge.assign((0,f._)`${Q}[${le}++]`,Se)})}function j(te){const{gen:ge,schema:$e,data:Q}=te;de(te,"{"),ge.assign(Q,(0,f._)`{}`),q(te,"}",()=>L(te,$e.values))}function q(te,ge,$e){F(te,ge,$e),de(te,ge)}function F(te,ge,$e){const{gen:Q}=te;Q.for((0,f._)`;${g.default.jsonPos}<${g.default.jsonLen} && ${Z(1)}!==${ge};`,()=>{$e(),ae(te,",",()=>Q.break(),le)});function le(){ae(te,ge,()=>{},ve)}}function L(te,ge){const{gen:$e}=te,Q=$e.let("key");re(Re(X({},te),{data:Q})),de(te,":"),W(te,Q,ge)}function U(te){const{gen:ge,data:$e,schema:Q}=te,{discriminator:le,mapping:Se}=Q;de(te,"{"),ge.assign($e,(0,f._)`{}`);const Oe=ge.const("pos",g.default.jsonPos),xe=ge.let("value"),Pe=ge.let("tag");F(te,"}",()=>{const Ce=ge.let("key");re(Re(X({},te),{data:Ce})),de(te,":"),ge.if((0,f._)`${Ce} === ${le}`,()=>{re(Re(X({},te),{data:Pe})),ge.assign((0,f._)`${$e}[${Ce}]`,Pe),ge.break()},()=>ke(Re(X({},te),{data:xe})))}),ge.assign(g.default.jsonPos,Oe),ge.if((0,f._)`${Pe} === undefined`),Te(te,(0,f.str)`discriminator tag not found`);for(const Ce in Se)ge.elseIf((0,f._)`${Pe} === ${Ce}`),V(Re(X({},te),{schema:Se[Ce]}),le);ge.else(),Te(te,(0,f.str)`discriminator value not in schema`),ge.endIf()}function z(te){const{gen:ge,data:$e}=te;de(te,"{"),ge.assign($e,(0,f._)`{}`),V(te)}function V(te,ge){const{gen:$e,schema:Q,data:le}=te,{properties:Se,optionalProperties:Oe,additionalProperties:xe}=Q;if(q(te,"}",()=>{const Pe=$e.let("key");if(re(Re(X({},te),{data:Pe})),de(te,":"),$e.if(!1),Y(te,Pe,Se),Y(te,Pe,Oe),ge){$e.elseIf((0,f._)`${Pe} === ${ge}`);const Ce=$e.let("tag");re(Re(X({},te),{data:Ce}))}$e.else(),xe?ke(Re(X({},te),{data:(0,f._)`${le}[${Pe}]`})):Te(te,(0,f.str)`property ${Pe} not allowed`),$e.endIf()}),Se){const Pe=(0,b.hasPropFunc)($e),Ce=(0,f.and)(...Object.keys(Se).map(Ye=>(0,f._)`${Pe}.call(${le}, ${Ye})`));$e.if((0,f.not)(Ce),()=>Te(te,(0,f.str)`missing required properties`))}}function Y(te,ge,$e={}){const{gen:Q}=te;for(const le in $e)Q.elseIf((0,f._)`${ge} === ${le}`),W(te,ge,$e[le])}function W(te,ge,$e){M(Re(X({},te),{schema:$e,data:(0,f._)`${te.data}[${ge}]`}))}function K(te){const{gen:ge,schema:$e,data:Q,self:le}=te;switch($e.type){case"boolean":A(te);break;case"string":re(te);break;case"timestamp":{re(te);const Se=(0,w.useFunc)(ge,T.default),{allowDate:Oe,parseDate:xe}=le.opts,Pe=Oe?(0,f._)`!${Se}(${Q}, true)`:(0,f._)`!${Se}(${Q})`,Ce=xe?(0,f.or)(Pe,(0,f._)`(${Q} = new Date(${Q}), false)`,(0,f._)`isNaN(${Q}.valueOf())`):Pe;ge.if(Ce,()=>Te(te,(0,f.str)`invalid timestamp`));break}case"float32":case"float64":se(te);break;default:{const Se=$e.type;if(!le.opts.int32range&&(Se==="int32"||Se==="uint32"))se(te,16),Se==="uint32"&&ge.if((0,f._)`${Q} < 0`,()=>Te(te,(0,f.str)`integer out of range`));else{const[Oe,xe,Pe]=S.intRange[Se];se(te,Pe),ge.if((0,f._)`${Q} < ${Oe} || ${Q} > ${xe}`,()=>Te(te,(0,f.str)`integer out of range`))}}}}function re(te){de(te,'"'),pe(te,O.parseJsonString)}function fe(te){const{gen:ge,data:$e,schema:Q}=te,le=Q.enum;de(te,'"'),ge.if(!1);for(const Se of le){const Oe=JSON.stringify(Se).slice(1);ge.elseIf((0,f._)`${Z(Oe.length)} === ${Oe}`),ge.assign($e,(0,f.str)`${Se}`),ge.add(g.default.jsonPos,Oe.length)}ge.else(),ve(te),ge.endIf()}function se(te,ge){const{gen:$e}=te;H(te),$e.if((0,f._)`"-0123456789".indexOf(${Z(1)}) < 0`,()=>ve(te),()=>pe(te,O.parseJsonNumber,ge))}function J(te,ge){return $e=>{const{gen:Q,data:le}=$e;ae($e,`${te}`,()=>ge($e),()=>Q.assign(le,te))}}function ie(te){const{gen:ge,self:$e,definitions:Q,schema:le,schemaEnv:Se}=te,{ref:Oe}=le,xe=Q[Oe];if(!xe)throw new y.default($e.opts.uriResolver,"",Oe,`No definition ${Oe}`);if(!(0,v.hasRef)(xe))return M(Re(X({},te),{schema:xe}));const{root:Pe}=Se,Ce=k.call($e,new h.SchemaEnv({schema:xe,root:Pe}),Q);ne(te,ue(ge,Ce),!0)}function ue(te,ge){return ge.parse?te.scopeValue("parse",{ref:ge.parse}):(0,f._)`${te.scopeValue("wrapper",{ref:ge})}.parse`}function ke(te){pe(te,O.parseJson)}function pe(te,ge,$e){ne(te,(0,w.useFunc)(te.gen,ge),$e)}function ne(te,ge,$e){const{gen:Q,data:le}=te;Q.assign(le,(0,f._)`${ge}(${g.default.json}, ${g.default.jsonPos}${$e?(0,f._)`, ${$e}`:f.nil})`),Q.assign(g.default.jsonPos,(0,f._)`${ge}.position`),Q.if((0,f._)`${le} === undefined`,()=>Te(te,(0,f._)`${ge}.message`))}function de(te,ge){ae(te,ge,ve)}function ae(te,ge,$e,Q){const{gen:le}=te,Se=ge.length;H(te),le.if((0,f._)`${Z(Se)} === ${ge}`,()=>{le.add(g.default.jsonPos,Se),Q==null||Q(te)},()=>$e(te))}function H({gen:te,char:ge}){te.code((0,f._)`while((${ge}=${g.default.json}[${g.default.jsonPos}],${ge}===" "||${ge}==="\\n"||${ge}==="\\r"||${ge}==="\\t"))${g.default.jsonPos}++;`)}function Z(te){return te===1?(0,f._)`${g.default.json}[${g.default.jsonPos}]`:(0,f._)`${g.default.json}.slice(${g.default.jsonPos}, ${g.default.jsonPos}+${te})`}function ve(te){Te(te,(0,f._)`"unexpected token " + ${g.default.json}[${g.default.jsonPos}]`)}function Te({gen:te,parseName:ge},$e){te.assign((0,f._)`${ge}.message`,$e),te.assign((0,f._)`${ge}.position`,g.default.jsonPos),te.return(C)}return parse}var hasRequiredJtd;function requireJtd(){return hasRequiredJtd||(hasRequiredJtd=1,(function(d,h){Object.defineProperty(h,"__esModule",{value:!0}),h.MissingRefError=h.ValidationError=h.CodeGen=h.Name=h.nil=h.stringify=h.str=h._=h.KeywordCxt=h.Ajv=void 0;const f=requireCore(),y=requireJtd$1(),g=requireJtdSchema(),b=requireSerialize(),v=requireParse(),S="JTD-meta-schema";class O extends f.default{constructor(P={}){super(Re(X({},P),{jtd:!0}))}_addVocabularies(){super._addVocabularies(),this.addVocabulary(y.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema(),this.opts.meta&&this.addMetaSchema(g.default,S,!1)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(S)?S:void 0)}compileSerializer(P){const M=this._addSchema(P);return M.serialize||this._compileSerializer(M)}compileParser(P){const M=this._addSchema(P);return M.parse||this._compileParser(M)}_compileSerializer(P){if(b.default.call(this,P,P.schema.definitions||{}),!P.serialize)throw new Error("ajv implementation error");return P.serialize}_compileParser(P){if(v.default.call(this,P,P.schema.definitions||{}),!P.parse)throw new Error("ajv implementation error");return P.parse}}h.Ajv=O,d.exports=h=O,d.exports.Ajv=O,Object.defineProperty(h,"__esModule",{value:!0}),h.default=O;var w=requireValidate();Object.defineProperty(h,"KeywordCxt",{enumerable:!0,get:function(){return w.KeywordCxt}});var T=requireCodegen();Object.defineProperty(h,"_",{enumerable:!0,get:function(){return T._}}),Object.defineProperty(h,"str",{enumerable:!0,get:function(){return T.str}}),Object.defineProperty(h,"stringify",{enumerable:!0,get:function(){return T.stringify}}),Object.defineProperty(h,"nil",{enumerable:!0,get:function(){return T.nil}}),Object.defineProperty(h,"Name",{enumerable:!0,get:function(){return T.Name}}),Object.defineProperty(h,"CodeGen",{enumerable:!0,get:function(){return T.CodeGen}});var E=requireValidation_error();Object.defineProperty(h,"ValidationError",{enumerable:!0,get:function(){return E.default}});var k=requireRef_error();Object.defineProperty(h,"MissingRefError",{enumerable:!0,get:function(){return k.default}})})(jtd$1,jtd$1.exports)),jtd$1.exports}var jtdExports=requireJtd();const Ajv=getDefaultExportFromCjs(jtdExports),background={properties:{color:{type:"float32"},alpha:{type:"float32"}}},bevel={properties:{bevelEnabled:{type:"boolean"},highlightColor:{type:"float32"},highlightAlpha:{type:"float32"},quality:{type:"float32"},angle:{type:"float32"},shadowColor:{type:"float32"},shadowAlpha:{type:"float32"},blurX:{type:"float32"},blurY:{type:"float32"},type:{enum:["inner","outer","full"]},strength:{type:"float32"},distance:{type:"float32"}}},fill={properties:{gradientAlphas:{elements:{type:"float32"}},yOffset:{type:"float32"},gradientType:{enum:["linear","radial"]},gradientRotation:{type:"float32"},fillType:{enum:["gradientFill","textureFill"]},textureScale:{type:"float32"},distanceFieldEnabled:{type:"boolean"},distanceFieldColor:{type:"float32"},gradientColors:{elements:{type:"float32"}},distanceFieldDownscale:{type:"float32"},distanceFieldSpread:{type:"float32"},distanceFieldType:{enum:["Type 1","Type 2"]},gradientRatios:{elements:{type:"float32"}},xOffset:{type:"float32"}},optionalProperties:{texture:{type:"string"}}},font={properties:{size:{type:"float32"},spacing:{type:"float32"}},optionalProperties:{data:{type:"string"}}},glow={properties:{quality:{type:"float32"},colors:{elements:{type:"float32"}},glowEnabled:{type:"boolean"},alphas:{elements:{type:"float32"}},ratios:{elements:{type:"float32"}},blurX:{type:"float32"},angle:{type:"float32"},blurY:{type:"float32"},strength:{type:"float32"},distance:{type:"float32"}}},glyphs={properties:{glyphs:{type:"string"},powerOfTwo:{type:"boolean"},canvasHeight:{type:"string"},padding:{type:"float32"},packMethod:{type:"float32"},canvasWidth:{type:"string"},roundValues:{type:"boolean"},descriptionFormat:{type:"float32"}}},settings={properties:{postfixes:{type:"string"},filename:{type:"string"},scalings:{type:"string"}}},shadow={properties:{quality:{type:"float32"},color:{type:"float32"},strength:{type:"float32"},blurX:{type:"float32"},angle:{type:"float32"},blurY:{type:"float32"},shadowEnabled:{type:"boolean"},alpha:{type:"float32"},distance:{type:"float32"}}},stroke={properties:{gradientAlphas:{elements:{type:"float32"}},yOffset:{type:"float32"},gradientType:{enum:["linear","radial"]},gradientRotation:{type:"float32"},fillType:{enum:["gradientFill","textureFill"]},pixelHinting:{type:"boolean"},textureScale:{type:"float32"},gradientColors:{elements:{type:"float32"}},strokeEnabled:{type:"boolean"},miterLimit:{type:"float32"},jointStyle:{enum:["miter","bevel","round"]},size:{type:"float32"},gradientRatios:{elements:{type:"float32"}},xOffset:{type:"float32"}},optionalProperties:{texture:{type:"string"}}},ajv=new Ajv,schema={properties:{glow,fill,settings,shadow,stroke,background,bevel,glyphs,font},optionalProperties:{fallbackfont:{type:"string"}}},validate=ajv.compile(schema),check$1=d=>{var y;let h;if(typeof d=="string")try{h=JSON.parse(d)}catch(g){return!1}if(typeof h!="object")return!1;const f=validate(h);return f||((y=validate.errors)==null||y.forEach(g=>{addBreadcrumb({category:"littera",message:"Littera validate error",level:"info",data:g})}),captureMessage("Littera validate error")),f};function transformFill(d){const h={};return d.fillType==="gradientFill"?d.gradientColors.length<2?(h.type=FillType.SOLID,h.color=Color(d.gradientColors[0]).alpha(d.gradientAlphas[0]).hex()):(h.type=FillType.GRADIENT,h.gradient={},h.gradient.palette=[],h.gradient.type=d.gradientType==="radial"?GradientType.RADIAL:GradientType.LINEAR,d.gradientColors.forEach((f,y)=>{h.gradient.palette.push({id:y+1,color:Color(f).alpha(d.gradientAlphas[y]).hex(),offset:d.gradientRatios[y]/255})}),h.gradient.angle=d.gradientRotation):(h.patternTexture={scale:d.textureScale},d.texture&&(h.patternTexture.buffer=base64ToArrayBuffer(d.texture))),h}const decode$1=d=>{if(!check$1(d))throw new Error("unknown file");typeof d=="string"&&(d=JSON.parse(d));const h=d,f={};f.text=h.glyphs.glyphs,f.glyphs=new Map,Array.from(h.glyphs.glyphs).forEach(S=>{var O;return(O=f.glyphs)==null?void 0:O.set(S,{letter:S})});const y={};y.size=h.font.size,h.font.data&&(y.fonts=[],y.fonts.push({font:base64ToArrayBuffer(h.font.data)}),h.fallbackfont&&y.fonts.push({font:base64ToArrayBuffer(h.fallbackfont)}));const g=transformFill(h.fill),b={};b.width=h.stroke.size,b.lineJoin=h.stroke.jointStyle,Object.assign(b,transformFill(h.stroke));const v={};return v.color=Color(h.shadow.color).alpha(h.shadow.alpha).hex(),v.blur=h.shadow.quality+h.shadow.blurX-h.shadow.strength,v.offsetX=Math.round(Math.cos(h.shadow.angle*Math.PI/180)*h.shadow.distance),v.offsetY=Math.round(Math.sin(h.shadow.angle*Math.PI/180)*h.shadow.distance),f.style={font:y,fill:g,useStroke:h.stroke.strokeEnabled,stroke:b,useShadow:h.shadow.shadowEnabled,shadow:v},f.layout={},f.layout.padding=h.glyphs.padding,isNaN(Number(h.glyphs.canvasWidth))||(f.layout.width=Number(h.glyphs.canvasWidth)),isNaN(Number(h.glyphs.canvasHeight))||(f.layout.width=Number(h.glyphs.canvasHeight)),f.layout.width&&f.layout.height&&(f.layout.auto=!1,f.layout.fixedSize=!0),f},litteraFile={ext:".ltr",check:check$1,decode:decode$1};var indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=d;function d(h,f){for(var y=new Array(arguments.length-1),g=0,b=2,v=!0;b<arguments.length;)y[g++]=arguments[b++];return new Promise(function(O,w){y[g]=function(E){if(v)if(v=!1,E)w(E);else{for(var k=new Array(arguments.length-1),C=0;C<k.length;)k[C++]=arguments[C];O.apply(null,k)}};try{h.apply(f||null,y)}catch(T){v&&(v=!1,w(T))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,(function(d){var h=d;h.length=function(S){var O=S.length;if(!O)return 0;for(var w=0;--O%4>1&&S.charAt(O)==="=";)++w;return Math.ceil(S.length*3)/4-w};for(var f=new Array(64),y=new Array(123),g=0;g<64;)y[f[g]=g<26?g+65:g<52?g+71:g<62?g-4:g-59|43]=g++;h.encode=function(S,O,w){for(var T=null,E=[],k=0,C=0,P;O<w;){var M=S[O++];switch(C){case 0:E[k++]=f[M>>2],P=(M&3)<<4,C=1;break;case 1:E[k++]=f[P|M>>4],P=(M&15)<<2,C=2;break;case 2:E[k++]=f[P|M>>6],E[k++]=f[M&63],C=0;break}k>8191&&((T||(T=[])).push(String.fromCharCode.apply(String,E)),k=0)}return C&&(E[k++]=f[P],E[k++]=61,C===1&&(E[k++]=61)),T?(k&&T.push(String.fromCharCode.apply(String,E.slice(0,k))),T.join("")):String.fromCharCode.apply(String,E.slice(0,k))};var b="invalid encoding";h.decode=function(S,O,w){for(var T=w,E=0,k,C=0;C<S.length;){var P=S.charCodeAt(C++);if(P===61&&E>1)break;if((P=y[P])===void 0)throw Error(b);switch(E){case 0:k=P,E=1;break;case 1:O[w++]=k<<2|(P&48)>>4,k=P,E=2;break;case 2:O[w++]=(k&15)<<4|(P&60)>>2,k=P,E=3;break;case 3:O[w++]=(k&3)<<6|P,E=0;break}}if(E===1)throw Error(b);return w-T},h.test=function(S){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(S)}})(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=d;function d(){this._listeners={}}return d.prototype.on=function(f,y,g){return(this._listeners[f]||(this._listeners[f]=[])).push({fn:y,ctx:g||this}),this},d.prototype.off=function(f,y){if(f===void 0)this._listeners={};else if(y===void 0)this._listeners[f]=[];else for(var g=this._listeners[f],b=0;b<g.length;)g[b].fn===y?g.splice(b,1):++b;return this},d.prototype.emit=function(f){var y=this._listeners[f];if(y){for(var g=[],b=1;b<arguments.length;)g.push(arguments[b++]);for(b=0;b<y.length;)y[b].fn.apply(y[b++].ctx,g)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=d(d);function d(b){return typeof Float32Array!="undefined"?(function(){var v=new Float32Array([-0]),S=new Uint8Array(v.buffer),O=S[3]===128;function w(C,P,M){v[0]=C,P[M]=S[0],P[M+1]=S[1],P[M+2]=S[2],P[M+3]=S[3]}function T(C,P,M){v[0]=C,P[M]=S[3],P[M+1]=S[2],P[M+2]=S[1],P[M+3]=S[0]}b.writeFloatLE=O?w:T,b.writeFloatBE=O?T:w;function E(C,P){return S[0]=C[P],S[1]=C[P+1],S[2]=C[P+2],S[3]=C[P+3],v[0]}function k(C,P){return S[3]=C[P],S[2]=C[P+1],S[1]=C[P+2],S[0]=C[P+3],v[0]}b.readFloatLE=O?E:k,b.readFloatBE=O?k:E})():(function(){function v(O,w,T,E){var k=w<0?1:0;if(k&&(w=-w),w===0)O(1/w>0?0:2147483648,T,E);else if(isNaN(w))O(2143289344,T,E);else if(w>34028234663852886e22)O((k<<31|2139095040)>>>0,T,E);else if(w<11754943508222875e-54)O((k<<31|Math.round(w/1401298464324817e-60))>>>0,T,E);else{var C=Math.floor(Math.log(w)/Math.LN2),P=Math.round(w*Math.pow(2,-C)*8388608)&8388607;O((k<<31|C+127<<23|P)>>>0,T,E)}}b.writeFloatLE=v.bind(null,h),b.writeFloatBE=v.bind(null,f);function S(O,w,T){var E=O(w,T),k=(E>>31)*2+1,C=E>>>23&255,P=E&8388607;return C===255?P?NaN:k*(1/0):C===0?k*1401298464324817e-60*P:k*Math.pow(2,C-150)*(P+8388608)}b.readFloatLE=S.bind(null,y),b.readFloatBE=S.bind(null,g)})(),typeof Float64Array!="undefined"?(function(){var v=new Float64Array([-0]),S=new Uint8Array(v.buffer),O=S[7]===128;function w(C,P,M){v[0]=C,P[M]=S[0],P[M+1]=S[1],P[M+2]=S[2],P[M+3]=S[3],P[M+4]=S[4],P[M+5]=S[5],P[M+6]=S[6],P[M+7]=S[7]}function T(C,P,M){v[0]=C,P[M]=S[7],P[M+1]=S[6],P[M+2]=S[5],P[M+3]=S[4],P[M+4]=S[3],P[M+5]=S[2],P[M+6]=S[1],P[M+7]=S[0]}b.writeDoubleLE=O?w:T,b.writeDoubleBE=O?T:w;function E(C,P){return S[0]=C[P],S[1]=C[P+1],S[2]=C[P+2],S[3]=C[P+3],S[4]=C[P+4],S[5]=C[P+5],S[6]=C[P+6],S[7]=C[P+7],v[0]}function k(C,P){return S[7]=C[P],S[6]=C[P+1],S[5]=C[P+2],S[4]=C[P+3],S[3]=C[P+4],S[2]=C[P+5],S[1]=C[P+6],S[0]=C[P+7],v[0]}b.readDoubleLE=O?E:k,b.readDoubleBE=O?k:E})():(function(){function v(O,w,T,E,k,C){var P=E<0?1:0;if(P&&(E=-E),E===0)O(0,k,C+w),O(1/E>0?0:2147483648,k,C+T);else if(isNaN(E))O(0,k,C+w),O(2146959360,k,C+T);else if(E>17976931348623157e292)O(0,k,C+w),O((P<<31|2146435072)>>>0,k,C+T);else{var M;if(E<22250738585072014e-324)M=E/5e-324,O(M>>>0,k,C+w),O((P<<31|M/4294967296)>>>0,k,C+T);else{var A=Math.floor(Math.log(E)/Math.LN2);A===1024&&(A=1023),M=E*Math.pow(2,-A),O(M*4503599627370496>>>0,k,C+w),O((P<<31|A+1023<<20|M*1048576&1048575)>>>0,k,C+T)}}}b.writeDoubleLE=v.bind(null,h,0,4),b.writeDoubleBE=v.bind(null,f,4,0);function S(O,w,T,E,k){var C=O(E,k+w),P=O(E,k+T),M=(P>>31)*2+1,A=P>>>20&2047,D=4294967296*(P&1048575)+C;return A===2047?D?NaN:M*(1/0):A===0?M*5e-324*D:M*Math.pow(2,A-1075)*(D+4503599627370496)}b.readDoubleLE=S.bind(null,y,0,4),b.readDoubleBE=S.bind(null,g,4,0)})(),b}function h(b,v,S){v[S]=b&255,v[S+1]=b>>>8&255,v[S+2]=b>>>16&255,v[S+3]=b>>>24}function f(b,v,S){v[S]=b>>>24,v[S+1]=b>>>16&255,v[S+2]=b>>>8&255,v[S+3]=b&255}function y(b,v){return(b[v]|b[v+1]<<8|b[v+2]<<16|b[v+3]<<24)>>>0}function g(b,v){return(b[v]<<24|b[v+1]<<16|b[v+2]<<8|b[v+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(d){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,(function(d){var h=d;h.length=function(y){for(var g=0,b=0,v=0;v<y.length;++v)b=y.charCodeAt(v),b<128?g+=1:b<2048?g+=2:(b&64512)===55296&&(y.charCodeAt(v+1)&64512)===56320?(++v,g+=4):g+=3;return g},h.read=function(y,g,b){var v=b-g;if(v<1)return"";for(var S=null,O=[],w=0,T;g<b;)T=y[g++],T<128?O[w++]=T:T>191&&T<224?O[w++]=(T&31)<<6|y[g++]&63:T>239&&T<365?(T=((T&7)<<18|(y[g++]&63)<<12|(y[g++]&63)<<6|y[g++]&63)-65536,O[w++]=55296+(T>>10),O[w++]=56320+(T&1023)):O[w++]=(T&15)<<12|(y[g++]&63)<<6|y[g++]&63,w>8191&&((S||(S=[])).push(String.fromCharCode.apply(String,O)),w=0);return S?(w&&S.push(String.fromCharCode.apply(String,O.slice(0,w))),S.join("")):String.fromCharCode.apply(String,O.slice(0,w))},h.write=function(y,g,b){for(var v=b,S,O,w=0;w<y.length;++w)S=y.charCodeAt(w),S<128?g[b++]=S:S<2048?(g[b++]=S>>6|192,g[b++]=S&63|128):(S&64512)===55296&&((O=y.charCodeAt(w+1))&64512)===56320?(S=65536+((S&1023)<<10)+(O&1023),++w,g[b++]=S>>18|240,g[b++]=S>>12&63|128,g[b++]=S>>6&63|128,g[b++]=S&63|128):(g[b++]=S>>12|224,g[b++]=S>>6&63|128,g[b++]=S&63|128);return b-v}})(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=d;function d(h,f,y){var g=y||8192,b=g>>>1,v=null,S=g;return function(w){if(w<1||w>b)return h(w);S+w>g&&(v=h(g),S=0);var T=f.call(v,S,S+=w);return S&7&&(S=(S|7)+1),T}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=h;var d=requireMinimal$1();function h(b,v){this.lo=b>>>0,this.hi=v>>>0}var f=h.zero=new h(0,0);f.toNumber=function(){return 0},f.zzEncode=f.zzDecode=function(){return this},f.length=function(){return 1};var y=h.zeroHash="\0\0\0\0\0\0\0\0";h.fromNumber=function(v){if(v===0)return f;var S=v<0;S&&(v=-v);var O=v>>>0,w=(v-O)/4294967296>>>0;return S&&(w=~w>>>0,O=~O>>>0,++O>4294967295&&(O=0,++w>4294967295&&(w=0))),new h(O,w)},h.from=function(v){if(typeof v=="number")return h.fromNumber(v);if(d.isString(v))if(d.Long)v=d.Long.fromString(v);else return h.fromNumber(parseInt(v,10));return v.low||v.high?new h(v.low>>>0,v.high>>>0):f},h.prototype.toNumber=function(v){if(!v&&this.hi>>>31){var S=~this.lo+1>>>0,O=~this.hi>>>0;return S||(O=O+1>>>0),-(S+O*4294967296)}return this.lo+this.hi*4294967296},h.prototype.toLong=function(v){return d.Long?new d.Long(this.lo|0,this.hi|0,!!v):{low:this.lo|0,high:this.hi|0,unsigned:!!v}};var g=String.prototype.charCodeAt;return h.fromHash=function(v){return v===y?f:new h((g.call(v,0)|g.call(v,1)<<8|g.call(v,2)<<16|g.call(v,3)<<24)>>>0,(g.call(v,4)|g.call(v,5)<<8|g.call(v,6)<<16|g.call(v,7)<<24)>>>0)},h.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},h.prototype.zzEncode=function(){var v=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^v)>>>0,this.lo=(this.lo<<1^v)>>>0,this},h.prototype.zzDecode=function(){var v=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^v)>>>0,this.hi=(this.hi>>>1^v)>>>0,this},h.prototype.length=function(){var v=this.lo,S=(this.lo>>>28|this.hi<<4)>>>0,O=this.hi>>>24;return O===0?S===0?v<16384?v<128?1:2:v<2097152?3:4:S<16384?S<128?5:6:S<2097152?7:8:O<128?9:10},longbits}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,(function(d){var h=d;h.asPromise=requireAspromise(),h.base64=requireBase64(),h.EventEmitter=requireEventemitter(),h.float=requireFloat(),h.inquire=requireInquire(),h.utf8=requireUtf8(),h.pool=requirePool(),h.LongBits=requireLongbits(),h.isNode=!!(typeof commonjsGlobal!="undefined"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),h.global=h.isNode&&commonjsGlobal||typeof window!="undefined"&&window||typeof self!="undefined"&&self||minimal$1,h.emptyArray=Object.freeze?Object.freeze([]):[],h.emptyObject=Object.freeze?Object.freeze({}):{},h.isInteger=Number.isInteger||function(b){return typeof b=="number"&&isFinite(b)&&Math.floor(b)===b},h.isString=function(b){return typeof b=="string"||b instanceof String},h.isObject=function(b){return b&&typeof b=="object"},h.isset=h.isSet=function(b,v){var S=b[v];return S!=null&&b.hasOwnProperty(v)?typeof S!="object"||(Array.isArray(S)?S.length:Object.keys(S).length)>0:!1},h.Buffer=(function(){try{var g=h.inquire("buffer").Buffer;return g.prototype.utf8Write?g:null}catch(b){return null}})(),h._Buffer_from=null,h._Buffer_allocUnsafe=null,h.newBuffer=function(b){return typeof b=="number"?h.Buffer?h._Buffer_allocUnsafe(b):new h.Array(b):h.Buffer?h._Buffer_from(b):typeof Uint8Array=="undefined"?b:new Uint8Array(b)},h.Array=typeof Uint8Array!="undefined"?Uint8Array:Array,h.Long=h.global.dcodeIO&&h.global.dcodeIO.Long||h.global.Long||h.inquire("long"),h.key2Re=/^true|false|0|1$/,h.key32Re=/^-?(?:0|[1-9][0-9]*)$/,h.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,h.longToHash=function(b){return b?h.LongBits.from(b).toHash():h.LongBits.zeroHash},h.longFromHash=function(b,v){var S=h.LongBits.fromHash(b);return h.Long?h.Long.fromBits(S.lo,S.hi,v):S.toNumber(!!v)};function f(g,b,v){for(var S=Object.keys(b),O=0;O<S.length;++O)(g[S[O]]===void 0||!v)&&(g[S[O]]=b[S[O]]);return g}h.merge=f,h.lcFirst=function(b){return b.charAt(0).toLowerCase()+b.substring(1)};function y(g){function b(v,S){if(!(this instanceof b))return new b(v,S);Object.defineProperty(this,"message",{get:function(){return v}}),Error.captureStackTrace?Error.captureStackTrace(this,b):Object.defineProperty(this,"stack",{value:new Error().stack||""}),S&&f(this,S)}return b.prototype=Object.create(Error.prototype,{constructor:{value:b,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return g},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),b}h.newError=y,h.ProtocolError=y("ProtocolError"),h.oneOfGetter=function(b){for(var v={},S=0;S<b.length;++S)v[b[S]]=1;return function(){for(var O=Object.keys(this),w=O.length-1;w>-1;--w)if(v[O[w]]===1&&this[O[w]]!==void 0&&this[O[w]]!==null)return O[w]}},h.oneOfSetter=function(b){return function(v){for(var S=0;S<b.length;++S)b[S]!==v&&delete this[b[S]]}},h.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},h._configure=function(){var g=h.Buffer;if(!g){h._Buffer_from=h._Buffer_allocUnsafe=null;return}h._Buffer_from=g.from!==Uint8Array.from&&g.from||function(v,S){return new g(v,S)},h._Buffer_allocUnsafe=g.allocUnsafe||function(v){return new g(v)}}})(minimal$1)),minimal$1}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=O;var d=requireMinimal$1(),h,f=d.LongBits,y=d.base64,g=d.utf8;function b(A,D,N){this.fn=A,this.len=D,this.next=void 0,this.val=N}function v(){}function S(A){this.head=A.head,this.tail=A.tail,this.len=A.len,this.next=A.states}function O(){this.len=0,this.head=new b(v,0,0),this.tail=this.head,this.states=null}var w=function(){return d.Buffer?function(){return(O.create=function(){return new h})()}:function(){return new O}};O.create=w(),O.alloc=function(D){return new d.Array(D)},d.Array!==Array&&(O.alloc=d.pool(O.alloc,d.Array.prototype.subarray)),O.prototype._push=function(D,N,j){return this.tail=this.tail.next=new b(D,N,j),this.len+=N,this};function T(A,D,N){D[N]=A&255}function E(A,D,N){for(;A>127;)D[N++]=A&127|128,A>>>=7;D[N]=A}function k(A,D){this.len=A,this.next=void 0,this.val=D}k.prototype=Object.create(b.prototype),k.prototype.fn=E,O.prototype.uint32=function(D){return this.len+=(this.tail=this.tail.next=new k((D=D>>>0)<128?1:D<16384?2:D<2097152?3:D<268435456?4:5,D)).len,this},O.prototype.int32=function(D){return D<0?this._push(C,10,f.fromNumber(D)):this.uint32(D)},O.prototype.sint32=function(D){return this.uint32((D<<1^D>>31)>>>0)};function C(A,D,N){for(;A.hi;)D[N++]=A.lo&127|128,A.lo=(A.lo>>>7|A.hi<<25)>>>0,A.hi>>>=7;for(;A.lo>127;)D[N++]=A.lo&127|128,A.lo=A.lo>>>7;D[N++]=A.lo}O.prototype.uint64=function(D){var N=f.from(D);return this._push(C,N.length(),N)},O.prototype.int64=O.prototype.uint64,O.prototype.sint64=function(D){var N=f.from(D).zzEncode();return this._push(C,N.length(),N)},O.prototype.bool=function(D){return this._push(T,1,D?1:0)};function P(A,D,N){D[N]=A&255,D[N+1]=A>>>8&255,D[N+2]=A>>>16&255,D[N+3]=A>>>24}O.prototype.fixed32=function(D){return this._push(P,4,D>>>0)},O.prototype.sfixed32=O.prototype.fixed32,O.prototype.fixed64=function(D){var N=f.from(D);return this._push(P,4,N.lo)._push(P,4,N.hi)},O.prototype.sfixed64=O.prototype.fixed64,O.prototype.float=function(D){return this._push(d.float.writeFloatLE,4,D)},O.prototype.double=function(D){return this._push(d.float.writeDoubleLE,8,D)};var M=d.Array.prototype.set?function(D,N,j){N.set(D,j)}:function(D,N,j){for(var q=0;q<D.length;++q)N[j+q]=D[q]};return O.prototype.bytes=function(D){var N=D.length>>>0;if(!N)return this._push(T,1,0);if(d.isString(D)){var j=O.alloc(N=y.length(D));y.decode(D,j,0),D=j}return this.uint32(N)._push(M,N,D)},O.prototype.string=function(D){var N=g.length(D);return N?this.uint32(N)._push(g.write,N,D):this._push(T,1,0)},O.prototype.fork=function(){return this.states=new S(this),this.head=this.tail=new b(v,0,0),this.len=0,this},O.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new b(v,0,0),this.len=0),this},O.prototype.ldelim=function(){var D=this.head,N=this.tail,j=this.len;return this.reset().uint32(j),j&&(this.tail.next=D.next,this.tail=N,this.len+=j),this},O.prototype.finish=function(){for(var D=this.head.next,N=this.constructor.alloc(this.len),j=0;D;)D.fn(D.val,N,j),j+=D.len,D=D.next;return N},O._configure=function(A){h=A,O.create=w(),h._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=f;var d=requireWriter();(f.prototype=Object.create(d.prototype)).constructor=f;var h=requireMinimal$1();function f(){d.call(this)}f._configure=function(){f.alloc=h._Buffer_allocUnsafe,f.writeBytesBuffer=h.Buffer&&h.Buffer.prototype instanceof Uint8Array&&h.Buffer.prototype.set.name==="set"?function(b,v,S){v.set(b,S)}:function(b,v,S){if(b.copy)b.copy(v,S,0,b.length);else for(var O=0;O<b.length;)v[S++]=b[O++]}},f.prototype.bytes=function(b){h.isString(b)&&(b=h._Buffer_from(b,"base64"));var v=b.length>>>0;return this.uint32(v),v&&this._push(f.writeBytesBuffer,v,b),this};function y(g,b,v){g.length<40?h.utf8.write(g,b,v):b.utf8Write?b.utf8Write(g,v):b.write(g,v)}return f.prototype.string=function(b){var v=h.Buffer.byteLength(b);return this.uint32(v),v&&this._push(y,v,b),this},f._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=b;var d=requireMinimal$1(),h,f=d.LongBits,y=d.utf8;function g(E,k){return RangeError("index out of range: "+E.pos+" + "+(k||1)+" > "+E.len)}function b(E){this.buf=E,this.pos=0,this.len=E.length}var v=typeof Uint8Array!="undefined"?function(k){if(k instanceof Uint8Array||Array.isArray(k))return new b(k);throw Error("illegal buffer")}:function(k){if(Array.isArray(k))return new b(k);throw Error("illegal buffer")},S=function(){return d.Buffer?function(C){return(b.create=function(M){return d.Buffer.isBuffer(M)?new h(M):v(M)})(C)}:v};b.create=S(),b.prototype._slice=d.Array.prototype.subarray||d.Array.prototype.slice,b.prototype.uint32=(function(){var k=4294967295;return function(){if(k=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(k=(k|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(k=(k|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(k=(k|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(k=(k|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return k;if((this.pos+=5)>this.len)throw this.pos=this.len,g(this,10);return k}})(),b.prototype.int32=function(){return this.uint32()|0},b.prototype.sint32=function(){var k=this.uint32();return k>>>1^-(k&1)|0};function O(){var E=new f(0,0),k=0;if(this.len-this.pos>4){for(;k<4;++k)if(E.lo=(E.lo|(this.buf[this.pos]&127)<<k*7)>>>0,this.buf[this.pos++]<128)return E;if(E.lo=(E.lo|(this.buf[this.pos]&127)<<28)>>>0,E.hi=(E.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return E;k=0}else{for(;k<3;++k){if(this.pos>=this.len)throw g(this);if(E.lo=(E.lo|(this.buf[this.pos]&127)<<k*7)>>>0,this.buf[this.pos++]<128)return E}return E.lo=(E.lo|(this.buf[this.pos++]&127)<<k*7)>>>0,E}if(this.len-this.pos>4){for(;k<5;++k)if(E.hi=(E.hi|(this.buf[this.pos]&127)<<k*7+3)>>>0,this.buf[this.pos++]<128)return E}else for(;k<5;++k){if(this.pos>=this.len)throw g(this);if(E.hi=(E.hi|(this.buf[this.pos]&127)<<k*7+3)>>>0,this.buf[this.pos++]<128)return E}throw Error("invalid varint encoding")}b.prototype.bool=function(){return this.uint32()!==0};function w(E,k){return(E[k-4]|E[k-3]<<8|E[k-2]<<16|E[k-1]<<24)>>>0}b.prototype.fixed32=function(){if(this.pos+4>this.len)throw g(this,4);return w(this.buf,this.pos+=4)},b.prototype.sfixed32=function(){if(this.pos+4>this.len)throw g(this,4);return w(this.buf,this.pos+=4)|0};function T(){if(this.pos+8>this.len)throw g(this,8);return new f(w(this.buf,this.pos+=4),w(this.buf,this.pos+=4))}return b.prototype.float=function(){if(this.pos+4>this.len)throw g(this,4);var k=d.float.readFloatLE(this.buf,this.pos);return this.pos+=4,k},b.prototype.double=function(){if(this.pos+8>this.len)throw g(this,4);var k=d.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,k},b.prototype.bytes=function(){var k=this.uint32(),C=this.pos,P=this.pos+k;if(P>this.len)throw g(this,k);if(this.pos+=k,Array.isArray(this.buf))return this.buf.slice(C,P);if(C===P){var M=d.Buffer;return M?M.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,C,P)},b.prototype.string=function(){var k=this.bytes();return y.read(k,0,k.length)},b.prototype.skip=function(k){if(typeof k=="number"){if(this.pos+k>this.len)throw g(this,k);this.pos+=k}else do if(this.pos>=this.len)throw g(this);while(this.buf[this.pos++]&128);return this},b.prototype.skipType=function(E){switch(E){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(E=this.uint32()&7)!==4;)this.skipType(E);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+E+" at offset "+this.pos)}return this},b._configure=function(E){h=E,b.create=S(),h._configure();var k=d.Long?"toLong":"toNumber";d.merge(b.prototype,{int64:function(){return O.call(this)[k](!1)},uint64:function(){return O.call(this)[k](!0)},sint64:function(){return O.call(this).zzDecode()[k](!1)},fixed64:function(){return T.call(this)[k](!0)},sfixed64:function(){return T.call(this)[k](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=f;var d=requireReader();(f.prototype=Object.create(d.prototype)).constructor=f;var h=requireMinimal$1();function f(y){d.call(this,y)}return f._configure=function(){h.Buffer&&(f.prototype._slice=h.Buffer.prototype.slice)},f.prototype.string=function(){var g=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+g,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+g,this.len))},f._configure(),reader_buffer}var rpc={},service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=h;var d=requireMinimal$1();(h.prototype=Object.create(d.EventEmitter.prototype)).constructor=h;function h(f,y,g){if(typeof f!="function")throw TypeError("rpcImpl must be a function");d.EventEmitter.call(this),this.rpcImpl=f,this.requestDelimited=!!y,this.responseDelimited=!!g}return h.prototype.rpcCall=function f(y,g,b,v,S){if(!v)throw TypeError("request must be specified");var O=this;if(!S)return d.asPromise(f,O,y,g,b,v);if(!O.rpcImpl){setTimeout(function(){S(Error("already ended"))},0);return}try{return O.rpcImpl(y,g[O.requestDelimited?"encodeDelimited":"encode"](v).finish(),function(T,E){if(T)return O.emit("error",T,y),S(T);if(E===null){O.end(!0);return}if(!(E instanceof b))try{E=b[O.responseDelimited?"decodeDelimited":"decode"](E)}catch(k){return O.emit("error",k,y),S(k)}return O.emit("data",E,y),S(null,E)})}catch(w){O.emit("error",w,y),setTimeout(function(){S(w)},0);return}},h.prototype.end=function(y){return this.rpcImpl&&(y||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,(function(d){var h=d;h.Service=requireService()})(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,(function(d){var h=d;h.build="minimal",h.Writer=requireWriter(),h.BufferWriter=requireWriter_buffer(),h.Reader=requireReader(),h.BufferReader=requireReader_buffer(),h.util=requireMinimal$1(),h.rpc=requireRpc(),h.roots=requireRoots(),h.configure=f;function f(){h.util._configure(),h.Writer._configure(h.BufferWriter),h.Reader._configure(h.BufferReader)}f()})(indexMinimal)),indexMinimal}var minimal,hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,minimal=requireIndexMinimal()),minimal}var minimalExports=requireMinimal();const $Reader$7=minimalExports.Reader,$Writer$7=minimalExports.Writer,$util$7=minimalExports.util,$root$7={};$root$7.Metric=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.xAdvance=0,d.prototype.xOffset=0,d.prototype.yOffset=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$7.create()),f.xAdvance!=null&&Object.hasOwnProperty.call(f,"xAdvance")&&y.uint32(8).sint32(f.xAdvance),f.xOffset!=null&&Object.hasOwnProperty.call(f,"xOffset")&&y.uint32(16).sint32(f.xOffset),f.yOffset!=null&&Object.hasOwnProperty.call(f,"yOffset")&&y.uint32(24).sint32(f.yOffset),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$7||(f=$Reader$7.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$7.Metric;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.xAdvance=f.sint32();break}case 2:{v.xOffset=f.sint32();break}case 3:{v.yOffset=f.sint32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$7||(f=new $Reader$7(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.xAdvance!=null&&f.hasOwnProperty("xAdvance")&&!$util$7.isInteger(f.xAdvance)?"xAdvance: integer expected":f.xOffset!=null&&f.hasOwnProperty("xOffset")&&!$util$7.isInteger(f.xOffset)?"xOffset: integer expected":f.yOffset!=null&&f.hasOwnProperty("yOffset")&&!$util$7.isInteger(f.yOffset)?"yOffset: integer expected":null},d.fromObject=function(f){if(f instanceof $root$7.Metric)return f;let y=new $root$7.Metric;return f.xAdvance!=null&&(y.xAdvance=f.xAdvance|0),f.xOffset!=null&&(y.xOffset=f.xOffset|0),f.yOffset!=null&&(y.yOffset=f.yOffset|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.xAdvance=0,g.xOffset=0,g.yOffset=0),f.xAdvance!=null&&f.hasOwnProperty("xAdvance")&&(g.xAdvance=f.xAdvance),f.xOffset!=null&&f.hasOwnProperty("xOffset")&&(g.xOffset=f.xOffset),f.yOffset!=null&&f.hasOwnProperty("yOffset")&&(g.yOffset=f.yOffset),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Metric"},d})();$root$7.GradientColor=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.id=0,d.prototype.offset=0,d.prototype.color="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$7.create()),f.id!=null&&Object.hasOwnProperty.call(f,"id")&&y.uint32(8).int32(f.id),f.offset!=null&&Object.hasOwnProperty.call(f,"offset")&&y.uint32(16).sint32(f.offset),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(26).string(f.color),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$7||(f=$Reader$7.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$7.GradientColor;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.id=f.int32();break}case 2:{v.offset=f.sint32();break}case 3:{v.color=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$7||(f=new $Reader$7(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.id!=null&&f.hasOwnProperty("id")&&!$util$7.isInteger(f.id)?"id: integer expected":f.offset!=null&&f.hasOwnProperty("offset")&&!$util$7.isInteger(f.offset)?"offset: integer expected":f.color!=null&&f.hasOwnProperty("color")&&!$util$7.isString(f.color)?"color: string expected":null},d.fromObject=function(f){if(f instanceof $root$7.GradientColor)return f;let y=new $root$7.GradientColor;return f.id!=null&&(y.id=f.id|0),f.offset!=null&&(y.offset=f.offset|0),f.color!=null&&(y.color=String(f.color)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.id=0,g.offset=0,g.color=""),f.id!=null&&f.hasOwnProperty("id")&&(g.id=f.id),f.offset!=null&&f.hasOwnProperty("offset")&&(g.offset=f.offset),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GradientColor"},d})();$root$7.Gradient=(()=>{function d(h){if(this.palette=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.type=0,d.prototype.angle=0,d.prototype.palette=$util$7.emptyArray,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$7.create()),f.type!=null&&Object.hasOwnProperty.call(f,"type")&&y.uint32(8).int32(f.type),f.angle!=null&&Object.hasOwnProperty.call(f,"angle")&&y.uint32(21).float(f.angle),f.palette!=null&&f.palette.length)for(let g=0;g<f.palette.length;++g)$root$7.GradientColor.encode(f.palette[g],y.uint32(26).fork()).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$7||(f=$Reader$7.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$7.Gradient;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.type=f.int32();break}case 2:{v.angle=f.float();break}case 3:{v.palette&&v.palette.length||(v.palette=[]),v.palette.push($root$7.GradientColor.decode(f,f.uint32()));break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$7||(f=new $Reader$7(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.type!=null&&f.hasOwnProperty("type")&&!$util$7.isInteger(f.type))return"type: integer expected";if(f.angle!=null&&f.hasOwnProperty("angle")&&typeof f.angle!="number")return"angle: number expected";if(f.palette!=null&&f.hasOwnProperty("palette")){if(!Array.isArray(f.palette))return"palette: array expected";for(let y=0;y<f.palette.length;++y){let g=$root$7.GradientColor.verify(f.palette[y]);if(g)return"palette."+g}}return null},d.fromObject=function(f){if(f instanceof $root$7.Gradient)return f;let y=new $root$7.Gradient;if(f.type!=null&&(y.type=f.type|0),f.angle!=null&&(y.angle=Number(f.angle)),f.palette){if(!Array.isArray(f.palette))throw TypeError(".Gradient.palette: array expected");y.palette=[];for(let g=0;g<f.palette.length;++g){if(typeof f.palette[g]!="object")throw TypeError(".Gradient.palette: object expected");y.palette[g]=$root$7.GradientColor.fromObject(f.palette[g])}}return y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.palette=[]),y.defaults&&(g.type=0,g.angle=0),f.type!=null&&f.hasOwnProperty("type")&&(g.type=f.type),f.angle!=null&&f.hasOwnProperty("angle")&&(g.angle=y.json&&!isFinite(f.angle)?String(f.angle):f.angle),f.palette&&f.palette.length){g.palette=[];for(let b=0;b<f.palette.length;++b)g.palette[b]=$root$7.GradientColor.toObject(f.palette[b],y)}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Gradient"},d})();$root$7.PatternTexture=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.buffer=$util$7.newBuffer([]),d.prototype.scale=0,d.prototype.repetition="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$7.create()),f.buffer!=null&&Object.hasOwnProperty.call(f,"buffer")&&y.uint32(10).bytes(f.buffer),f.scale!=null&&Object.hasOwnProperty.call(f,"scale")&&y.uint32(17).double(f.scale),f.repetition!=null&&Object.hasOwnProperty.call(f,"repetition")&&y.uint32(26).string(f.repetition),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$7||(f=$Reader$7.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$7.PatternTexture;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.buffer=f.bytes();break}case 2:{v.scale=f.double();break}case 3:{v.repetition=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$7||(f=new $Reader$7(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.buffer!=null&&f.hasOwnProperty("buffer")&&!(f.buffer&&typeof f.buffer.length=="number"||$util$7.isString(f.buffer))?"buffer: buffer expected":f.scale!=null&&f.hasOwnProperty("scale")&&typeof f.scale!="number"?"scale: number expected":f.repetition!=null&&f.hasOwnProperty("repetition")&&!$util$7.isString(f.repetition)?"repetition: string expected":null},d.fromObject=function(f){if(f instanceof $root$7.PatternTexture)return f;let y=new $root$7.PatternTexture;return f.buffer!=null&&(typeof f.buffer=="string"?$util$7.base64.decode(f.buffer,y.buffer=$util$7.newBuffer($util$7.base64.length(f.buffer)),0):f.buffer.length>=0&&(y.buffer=f.buffer)),f.scale!=null&&(y.scale=Number(f.scale)),f.repetition!=null&&(y.repetition=String(f.repetition)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(y.bytes===String?g.buffer="":(g.buffer=[],y.bytes!==Array&&(g.buffer=$util$7.newBuffer(g.buffer))),g.scale=0,g.repetition=""),f.buffer!=null&&f.hasOwnProperty("buffer")&&(g.buffer=y.bytes===String?$util$7.base64.encode(f.buffer,0,f.buffer.length):y.bytes===Array?Array.prototype.slice.call(f.buffer):f.buffer),f.scale!=null&&f.hasOwnProperty("scale")&&(g.scale=y.json&&!isFinite(f.scale)?String(f.scale):f.scale),f.repetition!=null&&f.hasOwnProperty("repetition")&&(g.repetition=f.repetition),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/PatternTexture"},d})();$root$7.Fill=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.type=0,d.prototype.color="",d.prototype.gradient=null,d.prototype.patternTexture=null,d.prototype.width=0,d.prototype.lineCap="",d.prototype.lineJoin="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$7.create()),f.type!=null&&Object.hasOwnProperty.call(f,"type")&&y.uint32(8).int32(f.type),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(18).string(f.color),f.gradient!=null&&Object.hasOwnProperty.call(f,"gradient")&&$root$7.Gradient.encode(f.gradient,y.uint32(26).fork()).ldelim(),f.patternTexture!=null&&Object.hasOwnProperty.call(f,"patternTexture")&&$root$7.PatternTexture.encode(f.patternTexture,y.uint32(34).fork()).ldelim(),f.width!=null&&Object.hasOwnProperty.call(f,"width")&&y.uint32(40).int32(f.width),f.lineCap!=null&&Object.hasOwnProperty.call(f,"lineCap")&&y.uint32(50).string(f.lineCap),f.lineJoin!=null&&Object.hasOwnProperty.call(f,"lineJoin")&&y.uint32(58).string(f.lineJoin),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$7||(f=$Reader$7.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$7.Fill;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.type=f.int32();break}case 2:{v.color=f.string();break}case 3:{v.gradient=$root$7.Gradient.decode(f,f.uint32());break}case 4:{v.patternTexture=$root$7.PatternTexture.decode(f,f.uint32());break}case 5:{v.width=f.int32();break}case 6:{v.lineCap=f.string();break}case 7:{v.lineJoin=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$7||(f=new $Reader$7(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.type!=null&&f.hasOwnProperty("type")&&!$util$7.isInteger(f.type))return"type: integer expected";if(f.color!=null&&f.hasOwnProperty("color")&&!$util$7.isString(f.color))return"color: string expected";if(f.gradient!=null&&f.hasOwnProperty("gradient")){let y=$root$7.Gradient.verify(f.gradient);if(y)return"gradient."+y}if(f.patternTexture!=null&&f.hasOwnProperty("patternTexture")){let y=$root$7.PatternTexture.verify(f.patternTexture);if(y)return"patternTexture."+y}return f.width!=null&&f.hasOwnProperty("width")&&!$util$7.isInteger(f.width)?"width: integer expected":f.lineCap!=null&&f.hasOwnProperty("lineCap")&&!$util$7.isString(f.lineCap)?"lineCap: string expected":f.lineJoin!=null&&f.hasOwnProperty("lineJoin")&&!$util$7.isString(f.lineJoin)?"lineJoin: string expected":null},d.fromObject=function(f){if(f instanceof $root$7.Fill)return f;let y=new $root$7.Fill;if(f.type!=null&&(y.type=f.type|0),f.color!=null&&(y.color=String(f.color)),f.gradient!=null){if(typeof f.gradient!="object")throw TypeError(".Fill.gradient: object expected");y.gradient=$root$7.Gradient.fromObject(f.gradient)}if(f.patternTexture!=null){if(typeof f.patternTexture!="object")throw TypeError(".Fill.patternTexture: object expected");y.patternTexture=$root$7.PatternTexture.fromObject(f.patternTexture)}return f.width!=null&&(y.width=f.width|0),f.lineCap!=null&&(y.lineCap=String(f.lineCap)),f.lineJoin!=null&&(y.lineJoin=String(f.lineJoin)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.type=0,g.color="",g.gradient=null,g.patternTexture=null,g.width=0,g.lineCap="",g.lineJoin=""),f.type!=null&&f.hasOwnProperty("type")&&(g.type=f.type),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),f.gradient!=null&&f.hasOwnProperty("gradient")&&(g.gradient=$root$7.Gradient.toObject(f.gradient,y)),f.patternTexture!=null&&f.hasOwnProperty("patternTexture")&&(g.patternTexture=$root$7.PatternTexture.toObject(f.patternTexture,y)),f.width!=null&&f.hasOwnProperty("width")&&(g.width=f.width),f.lineCap!=null&&f.hasOwnProperty("lineCap")&&(g.lineCap=f.lineCap),f.lineJoin!=null&&f.hasOwnProperty("lineJoin")&&(g.lineJoin=f.lineJoin),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Fill"},d})();$root$7.Font=(()=>{function d(f){if(f)for(let y=Object.keys(f),g=0;g<y.length;++g)f[y[g]]!=null&&(this[y[g]]=f[y[g]])}d.prototype.font=null,d.prototype.family="",d.prototype.size=0,d.prototype.lineHeight=0;let h;return Object.defineProperty(d.prototype,"_font",{get:$util$7.oneOfGetter(h=["font"]),set:$util$7.oneOfSetter(h)}),d.create=function(y){return new d(y)},d.encode=function(y,g){return g||(g=$Writer$7.create()),y.font!=null&&Object.hasOwnProperty.call(y,"font")&&g.uint32(10).bytes(y.font),y.family!=null&&Object.hasOwnProperty.call(y,"family")&&g.uint32(18).string(y.family),y.size!=null&&Object.hasOwnProperty.call(y,"size")&&g.uint32(24).int32(y.size),y.lineHeight!=null&&Object.hasOwnProperty.call(y,"lineHeight")&&g.uint32(32).int32(y.lineHeight),g},d.encodeDelimited=function(y,g){return this.encode(y,g).ldelim()},d.decode=function(y,g,b){y instanceof $Reader$7||(y=$Reader$7.create(y));let v=g===void 0?y.len:y.pos+g,S=new $root$7.Font;for(;y.pos<v;){let O=y.uint32();if(O===b)break;switch(O>>>3){case 1:{S.font=y.bytes();break}case 2:{S.family=y.string();break}case 3:{S.size=y.int32();break}case 4:{S.lineHeight=y.int32();break}default:y.skipType(O&7);break}}return S},d.decodeDelimited=function(y){return y instanceof $Reader$7||(y=new $Reader$7(y)),this.decode(y,y.uint32())},d.verify=function(y){return typeof y!="object"||y===null?"object expected":y.font!=null&&y.hasOwnProperty("font")&&!(y.font&&typeof y.font.length=="number"||$util$7.isString(y.font))?"font: buffer expected":y.family!=null&&y.hasOwnProperty("family")&&!$util$7.isString(y.family)?"family: string expected":y.size!=null&&y.hasOwnProperty("size")&&!$util$7.isInteger(y.size)?"size: integer expected":y.lineHeight!=null&&y.hasOwnProperty("lineHeight")&&!$util$7.isInteger(y.lineHeight)?"lineHeight: integer expected":null},d.fromObject=function(y){if(y instanceof $root$7.Font)return y;let g=new $root$7.Font;return y.font!=null&&(typeof y.font=="string"?$util$7.base64.decode(y.font,g.font=$util$7.newBuffer($util$7.base64.length(y.font)),0):y.font.length>=0&&(g.font=y.font)),y.family!=null&&(g.family=String(y.family)),y.size!=null&&(g.size=y.size|0),y.lineHeight!=null&&(g.lineHeight=y.lineHeight|0),g},d.toObject=function(y,g){g||(g={});let b={};return g.defaults&&(b.family="",b.size=0,b.lineHeight=0),y.font!=null&&y.hasOwnProperty("font")&&(b.font=g.bytes===String?$util$7.base64.encode(y.font,0,y.font.length):g.bytes===Array?Array.prototype.slice.call(y.font):y.font,g.oneofs&&(b._font="font")),y.family!=null&&y.hasOwnProperty("family")&&(b.family=y.family),y.size!=null&&y.hasOwnProperty("size")&&(b.size=y.size),y.lineHeight!=null&&y.hasOwnProperty("lineHeight")&&(b.lineHeight=y.lineHeight),b},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(y){return y===void 0&&(y="type.googleapis.com"),y+"/Font"},d})();$root$7.GlyphFont=(()=>{function d(h){if(this.kerning={},h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.letter="",d.prototype.adjustMetric=null,d.prototype.kerning=$util$7.emptyObject,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$7.create()),f.letter!=null&&Object.hasOwnProperty.call(f,"letter")&&y.uint32(10).string(f.letter),f.adjustMetric!=null&&Object.hasOwnProperty.call(f,"adjustMetric")&&$root$7.Metric.encode(f.adjustMetric,y.uint32(18).fork()).ldelim(),f.kerning!=null&&Object.hasOwnProperty.call(f,"kerning"))for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.uint32(26).fork().uint32(10).string(g[b]).uint32(16).int32(f.kerning[g[b]]).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$7||(f=$Reader$7.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$7.GlyphFont,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.letter=f.string();break}case 2:{v.adjustMetric=$root$7.Metric.decode(f,f.uint32());break}case 3:{v.kerning===$util$7.emptyObject&&(v.kerning={});let T=f.uint32()+f.pos;for(S="",O=0;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=f.int32();break;default:f.skipType(E&7);break}}v.kerning[S]=O;break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$7||(f=new $Reader$7(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.letter!=null&&f.hasOwnProperty("letter")&&!$util$7.isString(f.letter))return"letter: string expected";if(f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")){let y=$root$7.Metric.verify(f.adjustMetric);if(y)return"adjustMetric."+y}if(f.kerning!=null&&f.hasOwnProperty("kerning")){if(!$util$7.isObject(f.kerning))return"kerning: object expected";let y=Object.keys(f.kerning);for(let g=0;g<y.length;++g)if(!$util$7.isInteger(f.kerning[y[g]]))return"kerning: integer{k:string} expected"}return null},d.fromObject=function(f){if(f instanceof $root$7.GlyphFont)return f;let y=new $root$7.GlyphFont;if(f.letter!=null&&(y.letter=String(f.letter)),f.adjustMetric!=null){if(typeof f.adjustMetric!="object")throw TypeError(".GlyphFont.adjustMetric: object expected");y.adjustMetric=$root$7.Metric.fromObject(f.adjustMetric)}if(f.kerning){if(typeof f.kerning!="object")throw TypeError(".GlyphFont.kerning: object expected");y.kerning={};for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.kerning[g[b]]=f.kerning[g[b]]|0}return y},d.toObject=function(f,y){y||(y={});let g={};(y.objects||y.defaults)&&(g.kerning={}),y.defaults&&(g.letter="",g.adjustMetric=null),f.letter!=null&&f.hasOwnProperty("letter")&&(g.letter=f.letter),f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")&&(g.adjustMetric=$root$7.Metric.toObject(f.adjustMetric,y));let b;if(f.kerning&&(b=Object.keys(f.kerning)).length){g.kerning={};for(let v=0;v<b.length;++v)g.kerning[b[v]]=f.kerning[b[v]]}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GlyphFont"},d})();$root$7.GlyphImage=(()=>{function d(h){if(this.kerning={},h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.letter="",d.prototype.adjustMetric=null,d.prototype.buffer=$util$7.newBuffer([]),d.prototype.fileName="",d.prototype.fileType="",d.prototype.selected=!1,d.prototype.kerning=$util$7.emptyObject,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$7.create()),f.letter!=null&&Object.hasOwnProperty.call(f,"letter")&&y.uint32(10).string(f.letter),f.adjustMetric!=null&&Object.hasOwnProperty.call(f,"adjustMetric")&&$root$7.Metric.encode(f.adjustMetric,y.uint32(18).fork()).ldelim(),f.buffer!=null&&Object.hasOwnProperty.call(f,"buffer")&&y.uint32(26).bytes(f.buffer),f.fileName!=null&&Object.hasOwnProperty.call(f,"fileName")&&y.uint32(34).string(f.fileName),f.fileType!=null&&Object.hasOwnProperty.call(f,"fileType")&&y.uint32(42).string(f.fileType),f.selected!=null&&Object.hasOwnProperty.call(f,"selected")&&y.uint32(48).bool(f.selected),f.kerning!=null&&Object.hasOwnProperty.call(f,"kerning"))for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.uint32(58).fork().uint32(10).string(g[b]).uint32(16).int32(f.kerning[g[b]]).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$7||(f=$Reader$7.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$7.GlyphImage,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.letter=f.string();break}case 2:{v.adjustMetric=$root$7.Metric.decode(f,f.uint32());break}case 3:{v.buffer=f.bytes();break}case 4:{v.fileName=f.string();break}case 5:{v.fileType=f.string();break}case 6:{v.selected=f.bool();break}case 7:{v.kerning===$util$7.emptyObject&&(v.kerning={});let T=f.uint32()+f.pos;for(S="",O=0;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=f.int32();break;default:f.skipType(E&7);break}}v.kerning[S]=O;break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$7||(f=new $Reader$7(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.letter!=null&&f.hasOwnProperty("letter")&&!$util$7.isString(f.letter))return"letter: string expected";if(f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")){let y=$root$7.Metric.verify(f.adjustMetric);if(y)return"adjustMetric."+y}if(f.buffer!=null&&f.hasOwnProperty("buffer")&&!(f.buffer&&typeof f.buffer.length=="number"||$util$7.isString(f.buffer)))return"buffer: buffer expected";if(f.fileName!=null&&f.hasOwnProperty("fileName")&&!$util$7.isString(f.fileName))return"fileName: string expected";if(f.fileType!=null&&f.hasOwnProperty("fileType")&&!$util$7.isString(f.fileType))return"fileType: string expected";if(f.selected!=null&&f.hasOwnProperty("selected")&&typeof f.selected!="boolean")return"selected: boolean expected";if(f.kerning!=null&&f.hasOwnProperty("kerning")){if(!$util$7.isObject(f.kerning))return"kerning: object expected";let y=Object.keys(f.kerning);for(let g=0;g<y.length;++g)if(!$util$7.isInteger(f.kerning[y[g]]))return"kerning: integer{k:string} expected"}return null},d.fromObject=function(f){if(f instanceof $root$7.GlyphImage)return f;let y=new $root$7.GlyphImage;if(f.letter!=null&&(y.letter=String(f.letter)),f.adjustMetric!=null){if(typeof f.adjustMetric!="object")throw TypeError(".GlyphImage.adjustMetric: object expected");y.adjustMetric=$root$7.Metric.fromObject(f.adjustMetric)}if(f.buffer!=null&&(typeof f.buffer=="string"?$util$7.base64.decode(f.buffer,y.buffer=$util$7.newBuffer($util$7.base64.length(f.buffer)),0):f.buffer.length>=0&&(y.buffer=f.buffer)),f.fileName!=null&&(y.fileName=String(f.fileName)),f.fileType!=null&&(y.fileType=String(f.fileType)),f.selected!=null&&(y.selected=!!f.selected),f.kerning){if(typeof f.kerning!="object")throw TypeError(".GlyphImage.kerning: object expected");y.kerning={};for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.kerning[g[b]]=f.kerning[g[b]]|0}return y},d.toObject=function(f,y){y||(y={});let g={};(y.objects||y.defaults)&&(g.kerning={}),y.defaults&&(g.letter="",g.adjustMetric=null,y.bytes===String?g.buffer="":(g.buffer=[],y.bytes!==Array&&(g.buffer=$util$7.newBuffer(g.buffer))),g.fileName="",g.fileType="",g.selected=!1),f.letter!=null&&f.hasOwnProperty("letter")&&(g.letter=f.letter),f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")&&(g.adjustMetric=$root$7.Metric.toObject(f.adjustMetric,y)),f.buffer!=null&&f.hasOwnProperty("buffer")&&(g.buffer=y.bytes===String?$util$7.base64.encode(f.buffer,0,f.buffer.length):y.bytes===Array?Array.prototype.slice.call(f.buffer):f.buffer),f.fileName!=null&&f.hasOwnProperty("fileName")&&(g.fileName=f.fileName),f.fileType!=null&&f.hasOwnProperty("fileType")&&(g.fileType=f.fileType),f.selected!=null&&f.hasOwnProperty("selected")&&(g.selected=f.selected);let b;if(f.kerning&&(b=Object.keys(f.kerning)).length){g.kerning={};for(let v=0;v<b.length;++v)g.kerning[b[v]]=f.kerning[b[v]]}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GlyphImage"},d})();$root$7.Layout=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.padding=0,d.prototype.spacing=0,d.prototype.power=!1,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$7.create()),f.padding!=null&&Object.hasOwnProperty.call(f,"padding")&&y.uint32(8).int32(f.padding),f.spacing!=null&&Object.hasOwnProperty.call(f,"spacing")&&y.uint32(16).int32(f.spacing),f.power!=null&&Object.hasOwnProperty.call(f,"power")&&y.uint32(24).bool(f.power),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$7||(f=$Reader$7.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$7.Layout;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.padding=f.int32();break}case 2:{v.spacing=f.int32();break}case 3:{v.power=f.bool();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$7||(f=new $Reader$7(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.padding!=null&&f.hasOwnProperty("padding")&&!$util$7.isInteger(f.padding)?"padding: integer expected":f.spacing!=null&&f.hasOwnProperty("spacing")&&!$util$7.isInteger(f.spacing)?"spacing: integer expected":f.power!=null&&f.hasOwnProperty("power")&&typeof f.power!="boolean"?"power: boolean expected":null},d.fromObject=function(f){if(f instanceof $root$7.Layout)return f;let y=new $root$7.Layout;return f.padding!=null&&(y.padding=f.padding|0),f.spacing!=null&&(y.spacing=f.spacing|0),f.power!=null&&(y.power=!!f.power),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.padding=0,g.spacing=0,g.power=!1),f.padding!=null&&f.hasOwnProperty("padding")&&(g.padding=f.padding),f.spacing!=null&&f.hasOwnProperty("spacing")&&(g.spacing=f.spacing),f.power!=null&&f.hasOwnProperty("power")&&(g.power=f.power),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Layout"},d})();$root$7.Shadow=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.color="",d.prototype.blur=0,d.prototype.offsetX=0,d.prototype.offsetY=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$7.create()),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(10).string(f.color),f.blur!=null&&Object.hasOwnProperty.call(f,"blur")&&y.uint32(16).int32(f.blur),f.offsetX!=null&&Object.hasOwnProperty.call(f,"offsetX")&&y.uint32(24).sint32(f.offsetX),f.offsetY!=null&&Object.hasOwnProperty.call(f,"offsetY")&&y.uint32(32).sint32(f.offsetY),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$7||(f=$Reader$7.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$7.Shadow;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.color=f.string();break}case 2:{v.blur=f.int32();break}case 3:{v.offsetX=f.sint32();break}case 4:{v.offsetY=f.sint32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$7||(f=new $Reader$7(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.color!=null&&f.hasOwnProperty("color")&&!$util$7.isString(f.color)?"color: string expected":f.blur!=null&&f.hasOwnProperty("blur")&&!$util$7.isInteger(f.blur)?"blur: integer expected":f.offsetX!=null&&f.hasOwnProperty("offsetX")&&!$util$7.isInteger(f.offsetX)?"offsetX: integer expected":f.offsetY!=null&&f.hasOwnProperty("offsetY")&&!$util$7.isInteger(f.offsetY)?"offsetY: integer expected":null},d.fromObject=function(f){if(f instanceof $root$7.Shadow)return f;let y=new $root$7.Shadow;return f.color!=null&&(y.color=String(f.color)),f.blur!=null&&(y.blur=f.blur|0),f.offsetX!=null&&(y.offsetX=f.offsetX|0),f.offsetY!=null&&(y.offsetY=f.offsetY|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.color="",g.blur=0,g.offsetX=0,g.offsetY=0),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),f.blur!=null&&f.hasOwnProperty("blur")&&(g.blur=f.blur),f.offsetX!=null&&f.hasOwnProperty("offsetX")&&(g.offsetX=f.offsetX),f.offsetY!=null&&f.hasOwnProperty("offsetY")&&(g.offsetY=f.offsetY),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Shadow"},d})();$root$7.Style=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.font=null,d.prototype.fill=null,d.prototype.useStroke=!1,d.prototype.stroke=null,d.prototype.useShadow=!1,d.prototype.shadow=null,d.prototype.bgColor="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$7.create()),f.font!=null&&Object.hasOwnProperty.call(f,"font")&&$root$7.Font.encode(f.font,y.uint32(10).fork()).ldelim(),f.fill!=null&&Object.hasOwnProperty.call(f,"fill")&&$root$7.Fill.encode(f.fill,y.uint32(18).fork()).ldelim(),f.useStroke!=null&&Object.hasOwnProperty.call(f,"useStroke")&&y.uint32(24).bool(f.useStroke),f.stroke!=null&&Object.hasOwnProperty.call(f,"stroke")&&$root$7.Fill.encode(f.stroke,y.uint32(34).fork()).ldelim(),f.useShadow!=null&&Object.hasOwnProperty.call(f,"useShadow")&&y.uint32(40).bool(f.useShadow),f.shadow!=null&&Object.hasOwnProperty.call(f,"shadow")&&$root$7.Shadow.encode(f.shadow,y.uint32(50).fork()).ldelim(),f.bgColor!=null&&Object.hasOwnProperty.call(f,"bgColor")&&y.uint32(58).string(f.bgColor),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$7||(f=$Reader$7.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$7.Style;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.font=$root$7.Font.decode(f,f.uint32());break}case 2:{v.fill=$root$7.Fill.decode(f,f.uint32());break}case 3:{v.useStroke=f.bool();break}case 4:{v.stroke=$root$7.Fill.decode(f,f.uint32());break}case 5:{v.useShadow=f.bool();break}case 6:{v.shadow=$root$7.Shadow.decode(f,f.uint32());break}case 7:{v.bgColor=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$7||(f=new $Reader$7(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.font!=null&&f.hasOwnProperty("font")){let y=$root$7.Font.verify(f.font);if(y)return"font."+y}if(f.fill!=null&&f.hasOwnProperty("fill")){let y=$root$7.Fill.verify(f.fill);if(y)return"fill."+y}if(f.useStroke!=null&&f.hasOwnProperty("useStroke")&&typeof f.useStroke!="boolean")return"useStroke: boolean expected";if(f.stroke!=null&&f.hasOwnProperty("stroke")){let y=$root$7.Fill.verify(f.stroke);if(y)return"stroke."+y}if(f.useShadow!=null&&f.hasOwnProperty("useShadow")&&typeof f.useShadow!="boolean")return"useShadow: boolean expected";if(f.shadow!=null&&f.hasOwnProperty("shadow")){let y=$root$7.Shadow.verify(f.shadow);if(y)return"shadow."+y}return f.bgColor!=null&&f.hasOwnProperty("bgColor")&&!$util$7.isString(f.bgColor)?"bgColor: string expected":null},d.fromObject=function(f){if(f instanceof $root$7.Style)return f;let y=new $root$7.Style;if(f.font!=null){if(typeof f.font!="object")throw TypeError(".Style.font: object expected");y.font=$root$7.Font.fromObject(f.font)}if(f.fill!=null){if(typeof f.fill!="object")throw TypeError(".Style.fill: object expected");y.fill=$root$7.Fill.fromObject(f.fill)}if(f.useStroke!=null&&(y.useStroke=!!f.useStroke),f.stroke!=null){if(typeof f.stroke!="object")throw TypeError(".Style.stroke: object expected");y.stroke=$root$7.Fill.fromObject(f.stroke)}if(f.useShadow!=null&&(y.useShadow=!!f.useShadow),f.shadow!=null){if(typeof f.shadow!="object")throw TypeError(".Style.shadow: object expected");y.shadow=$root$7.Shadow.fromObject(f.shadow)}return f.bgColor!=null&&(y.bgColor=String(f.bgColor)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.font=null,g.fill=null,g.useStroke=!1,g.stroke=null,g.useShadow=!1,g.shadow=null,g.bgColor=""),f.font!=null&&f.hasOwnProperty("font")&&(g.font=$root$7.Font.toObject(f.font,y)),f.fill!=null&&f.hasOwnProperty("fill")&&(g.fill=$root$7.Fill.toObject(f.fill,y)),f.useStroke!=null&&f.hasOwnProperty("useStroke")&&(g.useStroke=f.useStroke),f.stroke!=null&&f.hasOwnProperty("stroke")&&(g.stroke=$root$7.Fill.toObject(f.stroke,y)),f.useShadow!=null&&f.hasOwnProperty("useShadow")&&(g.useShadow=f.useShadow),f.shadow!=null&&f.hasOwnProperty("shadow")&&(g.shadow=$root$7.Shadow.toObject(f.shadow,y)),f.bgColor!=null&&f.hasOwnProperty("bgColor")&&(g.bgColor=f.bgColor),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Style"},d})();$root$7.Ui=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.previewText="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$7.create()),f.previewText!=null&&Object.hasOwnProperty.call(f,"previewText")&&y.uint32(10).string(f.previewText),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$7||(f=$Reader$7.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$7.Ui;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.previewText=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$7||(f=new $Reader$7(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.previewText!=null&&f.hasOwnProperty("previewText")&&!$util$7.isString(f.previewText)?"previewText: string expected":null},d.fromObject=function(f){if(f instanceof $root$7.Ui)return f;let y=new $root$7.Ui;return f.previewText!=null&&(y.previewText=String(f.previewText)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.previewText=""),f.previewText!=null&&f.hasOwnProperty("previewText")&&(g.previewText=f.previewText),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Ui"},d})();const Project$7=$root$7.Project=(()=>{function d(h){if(this.glyphs={},this.glyphImages=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.id=$util$7.Long?$util$7.Long.fromBits(0,0,!1):0,d.prototype.name="",d.prototype.text="",d.prototype.glyphs=$util$7.emptyObject,d.prototype.glyphImages=$util$7.emptyArray,d.prototype.style=null,d.prototype.layout=null,d.prototype.globalAdjustMetric=null,d.prototype.ui=null,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$7.create()),f.id!=null&&Object.hasOwnProperty.call(f,"id")&&y.uint32(8).int64(f.id),f.name!=null&&Object.hasOwnProperty.call(f,"name")&&y.uint32(18).string(f.name),f.text!=null&&Object.hasOwnProperty.call(f,"text")&&y.uint32(26).string(f.text),f.glyphs!=null&&Object.hasOwnProperty.call(f,"glyphs"))for(let g=Object.keys(f.glyphs),b=0;b<g.length;++b)y.uint32(34).fork().uint32(10).string(g[b]),$root$7.GlyphFont.encode(f.glyphs[g[b]],y.uint32(18).fork()).ldelim().ldelim();if(f.glyphImages!=null&&f.glyphImages.length)for(let g=0;g<f.glyphImages.length;++g)$root$7.GlyphImage.encode(f.glyphImages[g],y.uint32(42).fork()).ldelim();return f.style!=null&&Object.hasOwnProperty.call(f,"style")&&$root$7.Style.encode(f.style,y.uint32(50).fork()).ldelim(),f.layout!=null&&Object.hasOwnProperty.call(f,"layout")&&$root$7.Layout.encode(f.layout,y.uint32(58).fork()).ldelim(),f.globalAdjustMetric!=null&&Object.hasOwnProperty.call(f,"globalAdjustMetric")&&$root$7.Metric.encode(f.globalAdjustMetric,y.uint32(66).fork()).ldelim(),f.ui!=null&&Object.hasOwnProperty.call(f,"ui")&&$root$7.Ui.encode(f.ui,y.uint32(74).fork()).ldelim(),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$7||(f=$Reader$7.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$7.Project,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.id=f.int64();break}case 2:{v.name=f.string();break}case 3:{v.text=f.string();break}case 4:{v.glyphs===$util$7.emptyObject&&(v.glyphs={});let T=f.uint32()+f.pos;for(S="",O=null;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=$root$7.GlyphFont.decode(f,f.uint32());break;default:f.skipType(E&7);break}}v.glyphs[S]=O;break}case 5:{v.glyphImages&&v.glyphImages.length||(v.glyphImages=[]),v.glyphImages.push($root$7.GlyphImage.decode(f,f.uint32()));break}case 6:{v.style=$root$7.Style.decode(f,f.uint32());break}case 7:{v.layout=$root$7.Layout.decode(f,f.uint32());break}case 8:{v.globalAdjustMetric=$root$7.Metric.decode(f,f.uint32());break}case 9:{v.ui=$root$7.Ui.decode(f,f.uint32());break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$7||(f=new $Reader$7(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.id!=null&&f.hasOwnProperty("id")&&!$util$7.isInteger(f.id)&&!(f.id&&$util$7.isInteger(f.id.low)&&$util$7.isInteger(f.id.high)))return"id: integer|Long expected";if(f.name!=null&&f.hasOwnProperty("name")&&!$util$7.isString(f.name))return"name: string expected";if(f.text!=null&&f.hasOwnProperty("text")&&!$util$7.isString(f.text))return"text: string expected";if(f.glyphs!=null&&f.hasOwnProperty("glyphs")){if(!$util$7.isObject(f.glyphs))return"glyphs: object expected";let y=Object.keys(f.glyphs);for(let g=0;g<y.length;++g){let b=$root$7.GlyphFont.verify(f.glyphs[y[g]]);if(b)return"glyphs."+b}}if(f.glyphImages!=null&&f.hasOwnProperty("glyphImages")){if(!Array.isArray(f.glyphImages))return"glyphImages: array expected";for(let y=0;y<f.glyphImages.length;++y){let g=$root$7.GlyphImage.verify(f.glyphImages[y]);if(g)return"glyphImages."+g}}if(f.style!=null&&f.hasOwnProperty("style")){let y=$root$7.Style.verify(f.style);if(y)return"style."+y}if(f.layout!=null&&f.hasOwnProperty("layout")){let y=$root$7.Layout.verify(f.layout);if(y)return"layout."+y}if(f.globalAdjustMetric!=null&&f.hasOwnProperty("globalAdjustMetric")){let y=$root$7.Metric.verify(f.globalAdjustMetric);if(y)return"globalAdjustMetric."+y}if(f.ui!=null&&f.hasOwnProperty("ui")){let y=$root$7.Ui.verify(f.ui);if(y)return"ui."+y}return null},d.fromObject=function(f){if(f instanceof $root$7.Project)return f;let y=new $root$7.Project;if(f.id!=null&&($util$7.Long?(y.id=$util$7.Long.fromValue(f.id)).unsigned=!1:typeof f.id=="string"?y.id=parseInt(f.id,10):typeof f.id=="number"?y.id=f.id:typeof f.id=="object"&&(y.id=new $util$7.LongBits(f.id.low>>>0,f.id.high>>>0).toNumber())),f.name!=null&&(y.name=String(f.name)),f.text!=null&&(y.text=String(f.text)),f.glyphs){if(typeof f.glyphs!="object")throw TypeError(".Project.glyphs: object expected");y.glyphs={};for(let g=Object.keys(f.glyphs),b=0;b<g.length;++b){if(typeof f.glyphs[g[b]]!="object")throw TypeError(".Project.glyphs: object expected");y.glyphs[g[b]]=$root$7.GlyphFont.fromObject(f.glyphs[g[b]])}}if(f.glyphImages){if(!Array.isArray(f.glyphImages))throw TypeError(".Project.glyphImages: array expected");y.glyphImages=[];for(let g=0;g<f.glyphImages.length;++g){if(typeof f.glyphImages[g]!="object")throw TypeError(".Project.glyphImages: object expected");y.glyphImages[g]=$root$7.GlyphImage.fromObject(f.glyphImages[g])}}if(f.style!=null){if(typeof f.style!="object")throw TypeError(".Project.style: object expected");y.style=$root$7.Style.fromObject(f.style)}if(f.layout!=null){if(typeof f.layout!="object")throw TypeError(".Project.layout: object expected");y.layout=$root$7.Layout.fromObject(f.layout)}if(f.globalAdjustMetric!=null){if(typeof f.globalAdjustMetric!="object")throw TypeError(".Project.globalAdjustMetric: object expected");y.globalAdjustMetric=$root$7.Metric.fromObject(f.globalAdjustMetric)}if(f.ui!=null){if(typeof f.ui!="object")throw TypeError(".Project.ui: object expected");y.ui=$root$7.Ui.fromObject(f.ui)}return y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.glyphImages=[]),(y.objects||y.defaults)&&(g.glyphs={}),y.defaults){if($util$7.Long){let v=new $util$7.Long(0,0,!1);g.id=y.longs===String?v.toString():y.longs===Number?v.toNumber():v}else g.id=y.longs===String?"0":0;g.name="",g.text="",g.style=null,g.layout=null,g.globalAdjustMetric=null,g.ui=null}f.id!=null&&f.hasOwnProperty("id")&&(typeof f.id=="number"?g.id=y.longs===String?String(f.id):f.id:g.id=y.longs===String?$util$7.Long.prototype.toString.call(f.id):y.longs===Number?new $util$7.LongBits(f.id.low>>>0,f.id.high>>>0).toNumber():f.id),f.name!=null&&f.hasOwnProperty("name")&&(g.name=f.name),f.text!=null&&f.hasOwnProperty("text")&&(g.text=f.text);let b;if(f.glyphs&&(b=Object.keys(f.glyphs)).length){g.glyphs={};for(let v=0;v<b.length;++v)g.glyphs[b[v]]=$root$7.GlyphFont.toObject(f.glyphs[b[v]],y)}if(f.glyphImages&&f.glyphImages.length){g.glyphImages=[];for(let v=0;v<f.glyphImages.length;++v)g.glyphImages[v]=$root$7.GlyphImage.toObject(f.glyphImages[v],y)}return f.style!=null&&f.hasOwnProperty("style")&&(g.style=$root$7.Style.toObject(f.style,y)),f.layout!=null&&f.hasOwnProperty("layout")&&(g.layout=$root$7.Layout.toObject(f.layout,y)),f.globalAdjustMetric!=null&&f.hasOwnProperty("globalAdjustMetric")&&(g.globalAdjustMetric=$root$7.Metric.toObject(f.globalAdjustMetric,y)),f.ui!=null&&f.hasOwnProperty("ui")&&(g.ui=$root$7.Ui.toObject(f.ui,y)),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Project"},d})();function updateToNext$7(d){const h=d;return h.layout=X({},d.layout),h.layout.width=1024,h.layout.height=1024,h.layout.auto=!0,h.layout.fixedSize=!1,h}const $Reader$6=minimalExports.Reader,$Writer$6=minimalExports.Writer,$util$6=minimalExports.util,$root$6={};$root$6.Metric=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.xAdvance=0,d.prototype.xOffset=0,d.prototype.yOffset=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$6.create()),f.xAdvance!=null&&Object.hasOwnProperty.call(f,"xAdvance")&&y.uint32(8).sint32(f.xAdvance),f.xOffset!=null&&Object.hasOwnProperty.call(f,"xOffset")&&y.uint32(16).sint32(f.xOffset),f.yOffset!=null&&Object.hasOwnProperty.call(f,"yOffset")&&y.uint32(24).sint32(f.yOffset),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$6||(f=$Reader$6.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$6.Metric;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.xAdvance=f.sint32();break}case 2:{v.xOffset=f.sint32();break}case 3:{v.yOffset=f.sint32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$6||(f=new $Reader$6(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.xAdvance!=null&&f.hasOwnProperty("xAdvance")&&!$util$6.isInteger(f.xAdvance)?"xAdvance: integer expected":f.xOffset!=null&&f.hasOwnProperty("xOffset")&&!$util$6.isInteger(f.xOffset)?"xOffset: integer expected":f.yOffset!=null&&f.hasOwnProperty("yOffset")&&!$util$6.isInteger(f.yOffset)?"yOffset: integer expected":null},d.fromObject=function(f){if(f instanceof $root$6.Metric)return f;let y=new $root$6.Metric;return f.xAdvance!=null&&(y.xAdvance=f.xAdvance|0),f.xOffset!=null&&(y.xOffset=f.xOffset|0),f.yOffset!=null&&(y.yOffset=f.yOffset|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.xAdvance=0,g.xOffset=0,g.yOffset=0),f.xAdvance!=null&&f.hasOwnProperty("xAdvance")&&(g.xAdvance=f.xAdvance),f.xOffset!=null&&f.hasOwnProperty("xOffset")&&(g.xOffset=f.xOffset),f.yOffset!=null&&f.hasOwnProperty("yOffset")&&(g.yOffset=f.yOffset),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Metric"},d})();$root$6.GradientColor=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.id=0,d.prototype.offset=0,d.prototype.color="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$6.create()),f.id!=null&&Object.hasOwnProperty.call(f,"id")&&y.uint32(8).int32(f.id),f.offset!=null&&Object.hasOwnProperty.call(f,"offset")&&y.uint32(16).sint32(f.offset),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(26).string(f.color),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$6||(f=$Reader$6.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$6.GradientColor;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.id=f.int32();break}case 2:{v.offset=f.sint32();break}case 3:{v.color=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$6||(f=new $Reader$6(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.id!=null&&f.hasOwnProperty("id")&&!$util$6.isInteger(f.id)?"id: integer expected":f.offset!=null&&f.hasOwnProperty("offset")&&!$util$6.isInteger(f.offset)?"offset: integer expected":f.color!=null&&f.hasOwnProperty("color")&&!$util$6.isString(f.color)?"color: string expected":null},d.fromObject=function(f){if(f instanceof $root$6.GradientColor)return f;let y=new $root$6.GradientColor;return f.id!=null&&(y.id=f.id|0),f.offset!=null&&(y.offset=f.offset|0),f.color!=null&&(y.color=String(f.color)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.id=0,g.offset=0,g.color=""),f.id!=null&&f.hasOwnProperty("id")&&(g.id=f.id),f.offset!=null&&f.hasOwnProperty("offset")&&(g.offset=f.offset),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GradientColor"},d})();$root$6.Gradient=(()=>{function d(h){if(this.palette=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.type=0,d.prototype.angle=0,d.prototype.palette=$util$6.emptyArray,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$6.create()),f.type!=null&&Object.hasOwnProperty.call(f,"type")&&y.uint32(8).int32(f.type),f.angle!=null&&Object.hasOwnProperty.call(f,"angle")&&y.uint32(21).float(f.angle),f.palette!=null&&f.palette.length)for(let g=0;g<f.palette.length;++g)$root$6.GradientColor.encode(f.palette[g],y.uint32(26).fork()).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$6||(f=$Reader$6.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$6.Gradient;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.type=f.int32();break}case 2:{v.angle=f.float();break}case 3:{v.palette&&v.palette.length||(v.palette=[]),v.palette.push($root$6.GradientColor.decode(f,f.uint32()));break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$6||(f=new $Reader$6(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.type!=null&&f.hasOwnProperty("type")&&!$util$6.isInteger(f.type))return"type: integer expected";if(f.angle!=null&&f.hasOwnProperty("angle")&&typeof f.angle!="number")return"angle: number expected";if(f.palette!=null&&f.hasOwnProperty("palette")){if(!Array.isArray(f.palette))return"palette: array expected";for(let y=0;y<f.palette.length;++y){let g=$root$6.GradientColor.verify(f.palette[y]);if(g)return"palette."+g}}return null},d.fromObject=function(f){if(f instanceof $root$6.Gradient)return f;let y=new $root$6.Gradient;if(f.type!=null&&(y.type=f.type|0),f.angle!=null&&(y.angle=Number(f.angle)),f.palette){if(!Array.isArray(f.palette))throw TypeError(".Gradient.palette: array expected");y.palette=[];for(let g=0;g<f.palette.length;++g){if(typeof f.palette[g]!="object")throw TypeError(".Gradient.palette: object expected");y.palette[g]=$root$6.GradientColor.fromObject(f.palette[g])}}return y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.palette=[]),y.defaults&&(g.type=0,g.angle=0),f.type!=null&&f.hasOwnProperty("type")&&(g.type=f.type),f.angle!=null&&f.hasOwnProperty("angle")&&(g.angle=y.json&&!isFinite(f.angle)?String(f.angle):f.angle),f.palette&&f.palette.length){g.palette=[];for(let b=0;b<f.palette.length;++b)g.palette[b]=$root$6.GradientColor.toObject(f.palette[b],y)}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Gradient"},d})();$root$6.PatternTexture=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.buffer=$util$6.newBuffer([]),d.prototype.scale=0,d.prototype.repetition="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$6.create()),f.buffer!=null&&Object.hasOwnProperty.call(f,"buffer")&&y.uint32(10).bytes(f.buffer),f.scale!=null&&Object.hasOwnProperty.call(f,"scale")&&y.uint32(17).double(f.scale),f.repetition!=null&&Object.hasOwnProperty.call(f,"repetition")&&y.uint32(26).string(f.repetition),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$6||(f=$Reader$6.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$6.PatternTexture;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.buffer=f.bytes();break}case 2:{v.scale=f.double();break}case 3:{v.repetition=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$6||(f=new $Reader$6(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.buffer!=null&&f.hasOwnProperty("buffer")&&!(f.buffer&&typeof f.buffer.length=="number"||$util$6.isString(f.buffer))?"buffer: buffer expected":f.scale!=null&&f.hasOwnProperty("scale")&&typeof f.scale!="number"?"scale: number expected":f.repetition!=null&&f.hasOwnProperty("repetition")&&!$util$6.isString(f.repetition)?"repetition: string expected":null},d.fromObject=function(f){if(f instanceof $root$6.PatternTexture)return f;let y=new $root$6.PatternTexture;return f.buffer!=null&&(typeof f.buffer=="string"?$util$6.base64.decode(f.buffer,y.buffer=$util$6.newBuffer($util$6.base64.length(f.buffer)),0):f.buffer.length>=0&&(y.buffer=f.buffer)),f.scale!=null&&(y.scale=Number(f.scale)),f.repetition!=null&&(y.repetition=String(f.repetition)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(y.bytes===String?g.buffer="":(g.buffer=[],y.bytes!==Array&&(g.buffer=$util$6.newBuffer(g.buffer))),g.scale=0,g.repetition=""),f.buffer!=null&&f.hasOwnProperty("buffer")&&(g.buffer=y.bytes===String?$util$6.base64.encode(f.buffer,0,f.buffer.length):y.bytes===Array?Array.prototype.slice.call(f.buffer):f.buffer),f.scale!=null&&f.hasOwnProperty("scale")&&(g.scale=y.json&&!isFinite(f.scale)?String(f.scale):f.scale),f.repetition!=null&&f.hasOwnProperty("repetition")&&(g.repetition=f.repetition),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/PatternTexture"},d})();$root$6.Fill=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.type=0,d.prototype.color="",d.prototype.gradient=null,d.prototype.patternTexture=null,d.prototype.width=0,d.prototype.lineCap="",d.prototype.lineJoin="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$6.create()),f.type!=null&&Object.hasOwnProperty.call(f,"type")&&y.uint32(8).int32(f.type),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(18).string(f.color),f.gradient!=null&&Object.hasOwnProperty.call(f,"gradient")&&$root$6.Gradient.encode(f.gradient,y.uint32(26).fork()).ldelim(),f.patternTexture!=null&&Object.hasOwnProperty.call(f,"patternTexture")&&$root$6.PatternTexture.encode(f.patternTexture,y.uint32(34).fork()).ldelim(),f.width!=null&&Object.hasOwnProperty.call(f,"width")&&y.uint32(40).int32(f.width),f.lineCap!=null&&Object.hasOwnProperty.call(f,"lineCap")&&y.uint32(50).string(f.lineCap),f.lineJoin!=null&&Object.hasOwnProperty.call(f,"lineJoin")&&y.uint32(58).string(f.lineJoin),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$6||(f=$Reader$6.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$6.Fill;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.type=f.int32();break}case 2:{v.color=f.string();break}case 3:{v.gradient=$root$6.Gradient.decode(f,f.uint32());break}case 4:{v.patternTexture=$root$6.PatternTexture.decode(f,f.uint32());break}case 5:{v.width=f.int32();break}case 6:{v.lineCap=f.string();break}case 7:{v.lineJoin=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$6||(f=new $Reader$6(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.type!=null&&f.hasOwnProperty("type")&&!$util$6.isInteger(f.type))return"type: integer expected";if(f.color!=null&&f.hasOwnProperty("color")&&!$util$6.isString(f.color))return"color: string expected";if(f.gradient!=null&&f.hasOwnProperty("gradient")){let y=$root$6.Gradient.verify(f.gradient);if(y)return"gradient."+y}if(f.patternTexture!=null&&f.hasOwnProperty("patternTexture")){let y=$root$6.PatternTexture.verify(f.patternTexture);if(y)return"patternTexture."+y}return f.width!=null&&f.hasOwnProperty("width")&&!$util$6.isInteger(f.width)?"width: integer expected":f.lineCap!=null&&f.hasOwnProperty("lineCap")&&!$util$6.isString(f.lineCap)?"lineCap: string expected":f.lineJoin!=null&&f.hasOwnProperty("lineJoin")&&!$util$6.isString(f.lineJoin)?"lineJoin: string expected":null},d.fromObject=function(f){if(f instanceof $root$6.Fill)return f;let y=new $root$6.Fill;if(f.type!=null&&(y.type=f.type|0),f.color!=null&&(y.color=String(f.color)),f.gradient!=null){if(typeof f.gradient!="object")throw TypeError(".Fill.gradient: object expected");y.gradient=$root$6.Gradient.fromObject(f.gradient)}if(f.patternTexture!=null){if(typeof f.patternTexture!="object")throw TypeError(".Fill.patternTexture: object expected");y.patternTexture=$root$6.PatternTexture.fromObject(f.patternTexture)}return f.width!=null&&(y.width=f.width|0),f.lineCap!=null&&(y.lineCap=String(f.lineCap)),f.lineJoin!=null&&(y.lineJoin=String(f.lineJoin)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.type=0,g.color="",g.gradient=null,g.patternTexture=null,g.width=0,g.lineCap="",g.lineJoin=""),f.type!=null&&f.hasOwnProperty("type")&&(g.type=f.type),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),f.gradient!=null&&f.hasOwnProperty("gradient")&&(g.gradient=$root$6.Gradient.toObject(f.gradient,y)),f.patternTexture!=null&&f.hasOwnProperty("patternTexture")&&(g.patternTexture=$root$6.PatternTexture.toObject(f.patternTexture,y)),f.width!=null&&f.hasOwnProperty("width")&&(g.width=f.width),f.lineCap!=null&&f.hasOwnProperty("lineCap")&&(g.lineCap=f.lineCap),f.lineJoin!=null&&f.hasOwnProperty("lineJoin")&&(g.lineJoin=f.lineJoin),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Fill"},d})();$root$6.Font=(()=>{function d(f){if(f)for(let y=Object.keys(f),g=0;g<y.length;++g)f[y[g]]!=null&&(this[y[g]]=f[y[g]])}d.prototype.font=null,d.prototype.family="",d.prototype.size=0,d.prototype.lineHeight=0;let h;return Object.defineProperty(d.prototype,"_font",{get:$util$6.oneOfGetter(h=["font"]),set:$util$6.oneOfSetter(h)}),d.create=function(y){return new d(y)},d.encode=function(y,g){return g||(g=$Writer$6.create()),y.font!=null&&Object.hasOwnProperty.call(y,"font")&&g.uint32(10).bytes(y.font),y.family!=null&&Object.hasOwnProperty.call(y,"family")&&g.uint32(18).string(y.family),y.size!=null&&Object.hasOwnProperty.call(y,"size")&&g.uint32(24).int32(y.size),y.lineHeight!=null&&Object.hasOwnProperty.call(y,"lineHeight")&&g.uint32(32).int32(y.lineHeight),g},d.encodeDelimited=function(y,g){return this.encode(y,g).ldelim()},d.decode=function(y,g,b){y instanceof $Reader$6||(y=$Reader$6.create(y));let v=g===void 0?y.len:y.pos+g,S=new $root$6.Font;for(;y.pos<v;){let O=y.uint32();if(O===b)break;switch(O>>>3){case 1:{S.font=y.bytes();break}case 2:{S.family=y.string();break}case 3:{S.size=y.int32();break}case 4:{S.lineHeight=y.int32();break}default:y.skipType(O&7);break}}return S},d.decodeDelimited=function(y){return y instanceof $Reader$6||(y=new $Reader$6(y)),this.decode(y,y.uint32())},d.verify=function(y){return typeof y!="object"||y===null?"object expected":y.font!=null&&y.hasOwnProperty("font")&&!(y.font&&typeof y.font.length=="number"||$util$6.isString(y.font))?"font: buffer expected":y.family!=null&&y.hasOwnProperty("family")&&!$util$6.isString(y.family)?"family: string expected":y.size!=null&&y.hasOwnProperty("size")&&!$util$6.isInteger(y.size)?"size: integer expected":y.lineHeight!=null&&y.hasOwnProperty("lineHeight")&&!$util$6.isInteger(y.lineHeight)?"lineHeight: integer expected":null},d.fromObject=function(y){if(y instanceof $root$6.Font)return y;let g=new $root$6.Font;return y.font!=null&&(typeof y.font=="string"?$util$6.base64.decode(y.font,g.font=$util$6.newBuffer($util$6.base64.length(y.font)),0):y.font.length>=0&&(g.font=y.font)),y.family!=null&&(g.family=String(y.family)),y.size!=null&&(g.size=y.size|0),y.lineHeight!=null&&(g.lineHeight=y.lineHeight|0),g},d.toObject=function(y,g){g||(g={});let b={};return g.defaults&&(b.family="",b.size=0,b.lineHeight=0),y.font!=null&&y.hasOwnProperty("font")&&(b.font=g.bytes===String?$util$6.base64.encode(y.font,0,y.font.length):g.bytes===Array?Array.prototype.slice.call(y.font):y.font,g.oneofs&&(b._font="font")),y.family!=null&&y.hasOwnProperty("family")&&(b.family=y.family),y.size!=null&&y.hasOwnProperty("size")&&(b.size=y.size),y.lineHeight!=null&&y.hasOwnProperty("lineHeight")&&(b.lineHeight=y.lineHeight),b},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(y){return y===void 0&&(y="type.googleapis.com"),y+"/Font"},d})();$root$6.GlyphFont=(()=>{function d(h){if(this.kerning={},h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.letter="",d.prototype.adjustMetric=null,d.prototype.kerning=$util$6.emptyObject,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$6.create()),f.letter!=null&&Object.hasOwnProperty.call(f,"letter")&&y.uint32(10).string(f.letter),f.adjustMetric!=null&&Object.hasOwnProperty.call(f,"adjustMetric")&&$root$6.Metric.encode(f.adjustMetric,y.uint32(18).fork()).ldelim(),f.kerning!=null&&Object.hasOwnProperty.call(f,"kerning"))for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.uint32(26).fork().uint32(10).string(g[b]).uint32(16).int32(f.kerning[g[b]]).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$6||(f=$Reader$6.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$6.GlyphFont,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.letter=f.string();break}case 2:{v.adjustMetric=$root$6.Metric.decode(f,f.uint32());break}case 3:{v.kerning===$util$6.emptyObject&&(v.kerning={});let T=f.uint32()+f.pos;for(S="",O=0;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=f.int32();break;default:f.skipType(E&7);break}}v.kerning[S]=O;break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$6||(f=new $Reader$6(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.letter!=null&&f.hasOwnProperty("letter")&&!$util$6.isString(f.letter))return"letter: string expected";if(f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")){let y=$root$6.Metric.verify(f.adjustMetric);if(y)return"adjustMetric."+y}if(f.kerning!=null&&f.hasOwnProperty("kerning")){if(!$util$6.isObject(f.kerning))return"kerning: object expected";let y=Object.keys(f.kerning);for(let g=0;g<y.length;++g)if(!$util$6.isInteger(f.kerning[y[g]]))return"kerning: integer{k:string} expected"}return null},d.fromObject=function(f){if(f instanceof $root$6.GlyphFont)return f;let y=new $root$6.GlyphFont;if(f.letter!=null&&(y.letter=String(f.letter)),f.adjustMetric!=null){if(typeof f.adjustMetric!="object")throw TypeError(".GlyphFont.adjustMetric: object expected");y.adjustMetric=$root$6.Metric.fromObject(f.adjustMetric)}if(f.kerning){if(typeof f.kerning!="object")throw TypeError(".GlyphFont.kerning: object expected");y.kerning={};for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.kerning[g[b]]=f.kerning[g[b]]|0}return y},d.toObject=function(f,y){y||(y={});let g={};(y.objects||y.defaults)&&(g.kerning={}),y.defaults&&(g.letter="",g.adjustMetric=null),f.letter!=null&&f.hasOwnProperty("letter")&&(g.letter=f.letter),f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")&&(g.adjustMetric=$root$6.Metric.toObject(f.adjustMetric,y));let b;if(f.kerning&&(b=Object.keys(f.kerning)).length){g.kerning={};for(let v=0;v<b.length;++v)g.kerning[b[v]]=f.kerning[b[v]]}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GlyphFont"},d})();$root$6.GlyphImage=(()=>{function d(h){if(this.kerning={},h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.letter="",d.prototype.adjustMetric=null,d.prototype.buffer=$util$6.newBuffer([]),d.prototype.fileName="",d.prototype.fileType="",d.prototype.selected=!1,d.prototype.kerning=$util$6.emptyObject,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$6.create()),f.letter!=null&&Object.hasOwnProperty.call(f,"letter")&&y.uint32(10).string(f.letter),f.adjustMetric!=null&&Object.hasOwnProperty.call(f,"adjustMetric")&&$root$6.Metric.encode(f.adjustMetric,y.uint32(18).fork()).ldelim(),f.buffer!=null&&Object.hasOwnProperty.call(f,"buffer")&&y.uint32(26).bytes(f.buffer),f.fileName!=null&&Object.hasOwnProperty.call(f,"fileName")&&y.uint32(34).string(f.fileName),f.fileType!=null&&Object.hasOwnProperty.call(f,"fileType")&&y.uint32(42).string(f.fileType),f.selected!=null&&Object.hasOwnProperty.call(f,"selected")&&y.uint32(48).bool(f.selected),f.kerning!=null&&Object.hasOwnProperty.call(f,"kerning"))for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.uint32(58).fork().uint32(10).string(g[b]).uint32(16).int32(f.kerning[g[b]]).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$6||(f=$Reader$6.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$6.GlyphImage,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.letter=f.string();break}case 2:{v.adjustMetric=$root$6.Metric.decode(f,f.uint32());break}case 3:{v.buffer=f.bytes();break}case 4:{v.fileName=f.string();break}case 5:{v.fileType=f.string();break}case 6:{v.selected=f.bool();break}case 7:{v.kerning===$util$6.emptyObject&&(v.kerning={});let T=f.uint32()+f.pos;for(S="",O=0;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=f.int32();break;default:f.skipType(E&7);break}}v.kerning[S]=O;break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$6||(f=new $Reader$6(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.letter!=null&&f.hasOwnProperty("letter")&&!$util$6.isString(f.letter))return"letter: string expected";if(f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")){let y=$root$6.Metric.verify(f.adjustMetric);if(y)return"adjustMetric."+y}if(f.buffer!=null&&f.hasOwnProperty("buffer")&&!(f.buffer&&typeof f.buffer.length=="number"||$util$6.isString(f.buffer)))return"buffer: buffer expected";if(f.fileName!=null&&f.hasOwnProperty("fileName")&&!$util$6.isString(f.fileName))return"fileName: string expected";if(f.fileType!=null&&f.hasOwnProperty("fileType")&&!$util$6.isString(f.fileType))return"fileType: string expected";if(f.selected!=null&&f.hasOwnProperty("selected")&&typeof f.selected!="boolean")return"selected: boolean expected";if(f.kerning!=null&&f.hasOwnProperty("kerning")){if(!$util$6.isObject(f.kerning))return"kerning: object expected";let y=Object.keys(f.kerning);for(let g=0;g<y.length;++g)if(!$util$6.isInteger(f.kerning[y[g]]))return"kerning: integer{k:string} expected"}return null},d.fromObject=function(f){if(f instanceof $root$6.GlyphImage)return f;let y=new $root$6.GlyphImage;if(f.letter!=null&&(y.letter=String(f.letter)),f.adjustMetric!=null){if(typeof f.adjustMetric!="object")throw TypeError(".GlyphImage.adjustMetric: object expected");y.adjustMetric=$root$6.Metric.fromObject(f.adjustMetric)}if(f.buffer!=null&&(typeof f.buffer=="string"?$util$6.base64.decode(f.buffer,y.buffer=$util$6.newBuffer($util$6.base64.length(f.buffer)),0):f.buffer.length>=0&&(y.buffer=f.buffer)),f.fileName!=null&&(y.fileName=String(f.fileName)),f.fileType!=null&&(y.fileType=String(f.fileType)),f.selected!=null&&(y.selected=!!f.selected),f.kerning){if(typeof f.kerning!="object")throw TypeError(".GlyphImage.kerning: object expected");y.kerning={};for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.kerning[g[b]]=f.kerning[g[b]]|0}return y},d.toObject=function(f,y){y||(y={});let g={};(y.objects||y.defaults)&&(g.kerning={}),y.defaults&&(g.letter="",g.adjustMetric=null,y.bytes===String?g.buffer="":(g.buffer=[],y.bytes!==Array&&(g.buffer=$util$6.newBuffer(g.buffer))),g.fileName="",g.fileType="",g.selected=!1),f.letter!=null&&f.hasOwnProperty("letter")&&(g.letter=f.letter),f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")&&(g.adjustMetric=$root$6.Metric.toObject(f.adjustMetric,y)),f.buffer!=null&&f.hasOwnProperty("buffer")&&(g.buffer=y.bytes===String?$util$6.base64.encode(f.buffer,0,f.buffer.length):y.bytes===Array?Array.prototype.slice.call(f.buffer):f.buffer),f.fileName!=null&&f.hasOwnProperty("fileName")&&(g.fileName=f.fileName),f.fileType!=null&&f.hasOwnProperty("fileType")&&(g.fileType=f.fileType),f.selected!=null&&f.hasOwnProperty("selected")&&(g.selected=f.selected);let b;if(f.kerning&&(b=Object.keys(f.kerning)).length){g.kerning={};for(let v=0;v<b.length;++v)g.kerning[b[v]]=f.kerning[b[v]]}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GlyphImage"},d})();$root$6.Layout=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.padding=0,d.prototype.spacing=0,d.prototype.width=0,d.prototype.height=0,d.prototype.auto=!1,d.prototype.fixedSize=!1,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$6.create()),f.padding!=null&&Object.hasOwnProperty.call(f,"padding")&&y.uint32(8).int32(f.padding),f.spacing!=null&&Object.hasOwnProperty.call(f,"spacing")&&y.uint32(16).int32(f.spacing),f.width!=null&&Object.hasOwnProperty.call(f,"width")&&y.uint32(24).int32(f.width),f.height!=null&&Object.hasOwnProperty.call(f,"height")&&y.uint32(32).int32(f.height),f.auto!=null&&Object.hasOwnProperty.call(f,"auto")&&y.uint32(40).bool(f.auto),f.fixedSize!=null&&Object.hasOwnProperty.call(f,"fixedSize")&&y.uint32(48).bool(f.fixedSize),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$6||(f=$Reader$6.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$6.Layout;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.padding=f.int32();break}case 2:{v.spacing=f.int32();break}case 3:{v.width=f.int32();break}case 4:{v.height=f.int32();break}case 5:{v.auto=f.bool();break}case 6:{v.fixedSize=f.bool();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$6||(f=new $Reader$6(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.padding!=null&&f.hasOwnProperty("padding")&&!$util$6.isInteger(f.padding)?"padding: integer expected":f.spacing!=null&&f.hasOwnProperty("spacing")&&!$util$6.isInteger(f.spacing)?"spacing: integer expected":f.width!=null&&f.hasOwnProperty("width")&&!$util$6.isInteger(f.width)?"width: integer expected":f.height!=null&&f.hasOwnProperty("height")&&!$util$6.isInteger(f.height)?"height: integer expected":f.auto!=null&&f.hasOwnProperty("auto")&&typeof f.auto!="boolean"?"auto: boolean expected":f.fixedSize!=null&&f.hasOwnProperty("fixedSize")&&typeof f.fixedSize!="boolean"?"fixedSize: boolean expected":null},d.fromObject=function(f){if(f instanceof $root$6.Layout)return f;let y=new $root$6.Layout;return f.padding!=null&&(y.padding=f.padding|0),f.spacing!=null&&(y.spacing=f.spacing|0),f.width!=null&&(y.width=f.width|0),f.height!=null&&(y.height=f.height|0),f.auto!=null&&(y.auto=!!f.auto),f.fixedSize!=null&&(y.fixedSize=!!f.fixedSize),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.padding=0,g.spacing=0,g.width=0,g.height=0,g.auto=!1,g.fixedSize=!1),f.padding!=null&&f.hasOwnProperty("padding")&&(g.padding=f.padding),f.spacing!=null&&f.hasOwnProperty("spacing")&&(g.spacing=f.spacing),f.width!=null&&f.hasOwnProperty("width")&&(g.width=f.width),f.height!=null&&f.hasOwnProperty("height")&&(g.height=f.height),f.auto!=null&&f.hasOwnProperty("auto")&&(g.auto=f.auto),f.fixedSize!=null&&f.hasOwnProperty("fixedSize")&&(g.fixedSize=f.fixedSize),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Layout"},d})();$root$6.Shadow=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.color="",d.prototype.blur=0,d.prototype.offsetX=0,d.prototype.offsetY=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$6.create()),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(10).string(f.color),f.blur!=null&&Object.hasOwnProperty.call(f,"blur")&&y.uint32(16).int32(f.blur),f.offsetX!=null&&Object.hasOwnProperty.call(f,"offsetX")&&y.uint32(24).sint32(f.offsetX),f.offsetY!=null&&Object.hasOwnProperty.call(f,"offsetY")&&y.uint32(32).sint32(f.offsetY),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$6||(f=$Reader$6.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$6.Shadow;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.color=f.string();break}case 2:{v.blur=f.int32();break}case 3:{v.offsetX=f.sint32();break}case 4:{v.offsetY=f.sint32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$6||(f=new $Reader$6(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.color!=null&&f.hasOwnProperty("color")&&!$util$6.isString(f.color)?"color: string expected":f.blur!=null&&f.hasOwnProperty("blur")&&!$util$6.isInteger(f.blur)?"blur: integer expected":f.offsetX!=null&&f.hasOwnProperty("offsetX")&&!$util$6.isInteger(f.offsetX)?"offsetX: integer expected":f.offsetY!=null&&f.hasOwnProperty("offsetY")&&!$util$6.isInteger(f.offsetY)?"offsetY: integer expected":null},d.fromObject=function(f){if(f instanceof $root$6.Shadow)return f;let y=new $root$6.Shadow;return f.color!=null&&(y.color=String(f.color)),f.blur!=null&&(y.blur=f.blur|0),f.offsetX!=null&&(y.offsetX=f.offsetX|0),f.offsetY!=null&&(y.offsetY=f.offsetY|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.color="",g.blur=0,g.offsetX=0,g.offsetY=0),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),f.blur!=null&&f.hasOwnProperty("blur")&&(g.blur=f.blur),f.offsetX!=null&&f.hasOwnProperty("offsetX")&&(g.offsetX=f.offsetX),f.offsetY!=null&&f.hasOwnProperty("offsetY")&&(g.offsetY=f.offsetY),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Shadow"},d})();$root$6.Style=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.font=null,d.prototype.fill=null,d.prototype.useStroke=!1,d.prototype.stroke=null,d.prototype.useShadow=!1,d.prototype.shadow=null,d.prototype.bgColor="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$6.create()),f.font!=null&&Object.hasOwnProperty.call(f,"font")&&$root$6.Font.encode(f.font,y.uint32(10).fork()).ldelim(),f.fill!=null&&Object.hasOwnProperty.call(f,"fill")&&$root$6.Fill.encode(f.fill,y.uint32(18).fork()).ldelim(),f.useStroke!=null&&Object.hasOwnProperty.call(f,"useStroke")&&y.uint32(24).bool(f.useStroke),f.stroke!=null&&Object.hasOwnProperty.call(f,"stroke")&&$root$6.Fill.encode(f.stroke,y.uint32(34).fork()).ldelim(),f.useShadow!=null&&Object.hasOwnProperty.call(f,"useShadow")&&y.uint32(40).bool(f.useShadow),f.shadow!=null&&Object.hasOwnProperty.call(f,"shadow")&&$root$6.Shadow.encode(f.shadow,y.uint32(50).fork()).ldelim(),f.bgColor!=null&&Object.hasOwnProperty.call(f,"bgColor")&&y.uint32(58).string(f.bgColor),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$6||(f=$Reader$6.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$6.Style;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.font=$root$6.Font.decode(f,f.uint32());break}case 2:{v.fill=$root$6.Fill.decode(f,f.uint32());break}case 3:{v.useStroke=f.bool();break}case 4:{v.stroke=$root$6.Fill.decode(f,f.uint32());break}case 5:{v.useShadow=f.bool();break}case 6:{v.shadow=$root$6.Shadow.decode(f,f.uint32());break}case 7:{v.bgColor=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$6||(f=new $Reader$6(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.font!=null&&f.hasOwnProperty("font")){let y=$root$6.Font.verify(f.font);if(y)return"font."+y}if(f.fill!=null&&f.hasOwnProperty("fill")){let y=$root$6.Fill.verify(f.fill);if(y)return"fill."+y}if(f.useStroke!=null&&f.hasOwnProperty("useStroke")&&typeof f.useStroke!="boolean")return"useStroke: boolean expected";if(f.stroke!=null&&f.hasOwnProperty("stroke")){let y=$root$6.Fill.verify(f.stroke);if(y)return"stroke."+y}if(f.useShadow!=null&&f.hasOwnProperty("useShadow")&&typeof f.useShadow!="boolean")return"useShadow: boolean expected";if(f.shadow!=null&&f.hasOwnProperty("shadow")){let y=$root$6.Shadow.verify(f.shadow);if(y)return"shadow."+y}return f.bgColor!=null&&f.hasOwnProperty("bgColor")&&!$util$6.isString(f.bgColor)?"bgColor: string expected":null},d.fromObject=function(f){if(f instanceof $root$6.Style)return f;let y=new $root$6.Style;if(f.font!=null){if(typeof f.font!="object")throw TypeError(".Style.font: object expected");y.font=$root$6.Font.fromObject(f.font)}if(f.fill!=null){if(typeof f.fill!="object")throw TypeError(".Style.fill: object expected");y.fill=$root$6.Fill.fromObject(f.fill)}if(f.useStroke!=null&&(y.useStroke=!!f.useStroke),f.stroke!=null){if(typeof f.stroke!="object")throw TypeError(".Style.stroke: object expected");y.stroke=$root$6.Fill.fromObject(f.stroke)}if(f.useShadow!=null&&(y.useShadow=!!f.useShadow),f.shadow!=null){if(typeof f.shadow!="object")throw TypeError(".Style.shadow: object expected");y.shadow=$root$6.Shadow.fromObject(f.shadow)}return f.bgColor!=null&&(y.bgColor=String(f.bgColor)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.font=null,g.fill=null,g.useStroke=!1,g.stroke=null,g.useShadow=!1,g.shadow=null,g.bgColor=""),f.font!=null&&f.hasOwnProperty("font")&&(g.font=$root$6.Font.toObject(f.font,y)),f.fill!=null&&f.hasOwnProperty("fill")&&(g.fill=$root$6.Fill.toObject(f.fill,y)),f.useStroke!=null&&f.hasOwnProperty("useStroke")&&(g.useStroke=f.useStroke),f.stroke!=null&&f.hasOwnProperty("stroke")&&(g.stroke=$root$6.Fill.toObject(f.stroke,y)),f.useShadow!=null&&f.hasOwnProperty("useShadow")&&(g.useShadow=f.useShadow),f.shadow!=null&&f.hasOwnProperty("shadow")&&(g.shadow=$root$6.Shadow.toObject(f.shadow,y)),f.bgColor!=null&&f.hasOwnProperty("bgColor")&&(g.bgColor=f.bgColor),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Style"},d})();$root$6.Ui=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.previewText="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$6.create()),f.previewText!=null&&Object.hasOwnProperty.call(f,"previewText")&&y.uint32(10).string(f.previewText),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$6||(f=$Reader$6.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$6.Ui;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.previewText=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$6||(f=new $Reader$6(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.previewText!=null&&f.hasOwnProperty("previewText")&&!$util$6.isString(f.previewText)?"previewText: string expected":null},d.fromObject=function(f){if(f instanceof $root$6.Ui)return f;let y=new $root$6.Ui;return f.previewText!=null&&(y.previewText=String(f.previewText)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.previewText=""),f.previewText!=null&&f.hasOwnProperty("previewText")&&(g.previewText=f.previewText),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Ui"},d})();const Project$6=$root$6.Project=(()=>{function d(h){if(this.glyphs={},this.glyphImages=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.id=$util$6.Long?$util$6.Long.fromBits(0,0,!1):0,d.prototype.name="",d.prototype.text="",d.prototype.glyphs=$util$6.emptyObject,d.prototype.glyphImages=$util$6.emptyArray,d.prototype.style=null,d.prototype.layout=null,d.prototype.globalAdjustMetric=null,d.prototype.ui=null,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$6.create()),f.id!=null&&Object.hasOwnProperty.call(f,"id")&&y.uint32(8).int64(f.id),f.name!=null&&Object.hasOwnProperty.call(f,"name")&&y.uint32(18).string(f.name),f.text!=null&&Object.hasOwnProperty.call(f,"text")&&y.uint32(26).string(f.text),f.glyphs!=null&&Object.hasOwnProperty.call(f,"glyphs"))for(let g=Object.keys(f.glyphs),b=0;b<g.length;++b)y.uint32(34).fork().uint32(10).string(g[b]),$root$6.GlyphFont.encode(f.glyphs[g[b]],y.uint32(18).fork()).ldelim().ldelim();if(f.glyphImages!=null&&f.glyphImages.length)for(let g=0;g<f.glyphImages.length;++g)$root$6.GlyphImage.encode(f.glyphImages[g],y.uint32(42).fork()).ldelim();return f.style!=null&&Object.hasOwnProperty.call(f,"style")&&$root$6.Style.encode(f.style,y.uint32(50).fork()).ldelim(),f.layout!=null&&Object.hasOwnProperty.call(f,"layout")&&$root$6.Layout.encode(f.layout,y.uint32(58).fork()).ldelim(),f.globalAdjustMetric!=null&&Object.hasOwnProperty.call(f,"globalAdjustMetric")&&$root$6.Metric.encode(f.globalAdjustMetric,y.uint32(66).fork()).ldelim(),f.ui!=null&&Object.hasOwnProperty.call(f,"ui")&&$root$6.Ui.encode(f.ui,y.uint32(74).fork()).ldelim(),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$6||(f=$Reader$6.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$6.Project,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.id=f.int64();break}case 2:{v.name=f.string();break}case 3:{v.text=f.string();break}case 4:{v.glyphs===$util$6.emptyObject&&(v.glyphs={});let T=f.uint32()+f.pos;for(S="",O=null;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=$root$6.GlyphFont.decode(f,f.uint32());break;default:f.skipType(E&7);break}}v.glyphs[S]=O;break}case 5:{v.glyphImages&&v.glyphImages.length||(v.glyphImages=[]),v.glyphImages.push($root$6.GlyphImage.decode(f,f.uint32()));break}case 6:{v.style=$root$6.Style.decode(f,f.uint32());break}case 7:{v.layout=$root$6.Layout.decode(f,f.uint32());break}case 8:{v.globalAdjustMetric=$root$6.Metric.decode(f,f.uint32());break}case 9:{v.ui=$root$6.Ui.decode(f,f.uint32());break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$6||(f=new $Reader$6(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.id!=null&&f.hasOwnProperty("id")&&!$util$6.isInteger(f.id)&&!(f.id&&$util$6.isInteger(f.id.low)&&$util$6.isInteger(f.id.high)))return"id: integer|Long expected";if(f.name!=null&&f.hasOwnProperty("name")&&!$util$6.isString(f.name))return"name: string expected";if(f.text!=null&&f.hasOwnProperty("text")&&!$util$6.isString(f.text))return"text: string expected";if(f.glyphs!=null&&f.hasOwnProperty("glyphs")){if(!$util$6.isObject(f.glyphs))return"glyphs: object expected";let y=Object.keys(f.glyphs);for(let g=0;g<y.length;++g){let b=$root$6.GlyphFont.verify(f.glyphs[y[g]]);if(b)return"glyphs."+b}}if(f.glyphImages!=null&&f.hasOwnProperty("glyphImages")){if(!Array.isArray(f.glyphImages))return"glyphImages: array expected";for(let y=0;y<f.glyphImages.length;++y){let g=$root$6.GlyphImage.verify(f.glyphImages[y]);if(g)return"glyphImages."+g}}if(f.style!=null&&f.hasOwnProperty("style")){let y=$root$6.Style.verify(f.style);if(y)return"style."+y}if(f.layout!=null&&f.hasOwnProperty("layout")){let y=$root$6.Layout.verify(f.layout);if(y)return"layout."+y}if(f.globalAdjustMetric!=null&&f.hasOwnProperty("globalAdjustMetric")){let y=$root$6.Metric.verify(f.globalAdjustMetric);if(y)return"globalAdjustMetric."+y}if(f.ui!=null&&f.hasOwnProperty("ui")){let y=$root$6.Ui.verify(f.ui);if(y)return"ui."+y}return null},d.fromObject=function(f){if(f instanceof $root$6.Project)return f;let y=new $root$6.Project;if(f.id!=null&&($util$6.Long?(y.id=$util$6.Long.fromValue(f.id)).unsigned=!1:typeof f.id=="string"?y.id=parseInt(f.id,10):typeof f.id=="number"?y.id=f.id:typeof f.id=="object"&&(y.id=new $util$6.LongBits(f.id.low>>>0,f.id.high>>>0).toNumber())),f.name!=null&&(y.name=String(f.name)),f.text!=null&&(y.text=String(f.text)),f.glyphs){if(typeof f.glyphs!="object")throw TypeError(".Project.glyphs: object expected");y.glyphs={};for(let g=Object.keys(f.glyphs),b=0;b<g.length;++b){if(typeof f.glyphs[g[b]]!="object")throw TypeError(".Project.glyphs: object expected");y.glyphs[g[b]]=$root$6.GlyphFont.fromObject(f.glyphs[g[b]])}}if(f.glyphImages){if(!Array.isArray(f.glyphImages))throw TypeError(".Project.glyphImages: array expected");y.glyphImages=[];for(let g=0;g<f.glyphImages.length;++g){if(typeof f.glyphImages[g]!="object")throw TypeError(".Project.glyphImages: object expected");y.glyphImages[g]=$root$6.GlyphImage.fromObject(f.glyphImages[g])}}if(f.style!=null){if(typeof f.style!="object")throw TypeError(".Project.style: object expected");y.style=$root$6.Style.fromObject(f.style)}if(f.layout!=null){if(typeof f.layout!="object")throw TypeError(".Project.layout: object expected");y.layout=$root$6.Layout.fromObject(f.layout)}if(f.globalAdjustMetric!=null){if(typeof f.globalAdjustMetric!="object")throw TypeError(".Project.globalAdjustMetric: object expected");y.globalAdjustMetric=$root$6.Metric.fromObject(f.globalAdjustMetric)}if(f.ui!=null){if(typeof f.ui!="object")throw TypeError(".Project.ui: object expected");y.ui=$root$6.Ui.fromObject(f.ui)}return y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.glyphImages=[]),(y.objects||y.defaults)&&(g.glyphs={}),y.defaults){if($util$6.Long){let v=new $util$6.Long(0,0,!1);g.id=y.longs===String?v.toString():y.longs===Number?v.toNumber():v}else g.id=y.longs===String?"0":0;g.name="",g.text="",g.style=null,g.layout=null,g.globalAdjustMetric=null,g.ui=null}f.id!=null&&f.hasOwnProperty("id")&&(typeof f.id=="number"?g.id=y.longs===String?String(f.id):f.id:g.id=y.longs===String?$util$6.Long.prototype.toString.call(f.id):y.longs===Number?new $util$6.LongBits(f.id.low>>>0,f.id.high>>>0).toNumber():f.id),f.name!=null&&f.hasOwnProperty("name")&&(g.name=f.name),f.text!=null&&f.hasOwnProperty("text")&&(g.text=f.text);let b;if(f.glyphs&&(b=Object.keys(f.glyphs)).length){g.glyphs={};for(let v=0;v<b.length;++v)g.glyphs[b[v]]=$root$6.GlyphFont.toObject(f.glyphs[b[v]],y)}if(f.glyphImages&&f.glyphImages.length){g.glyphImages=[];for(let v=0;v<f.glyphImages.length;++v)g.glyphImages[v]=$root$6.GlyphImage.toObject(f.glyphImages[v],y)}return f.style!=null&&f.hasOwnProperty("style")&&(g.style=$root$6.Style.toObject(f.style,y)),f.layout!=null&&f.hasOwnProperty("layout")&&(g.layout=$root$6.Layout.toObject(f.layout,y)),f.globalAdjustMetric!=null&&f.hasOwnProperty("globalAdjustMetric")&&(g.globalAdjustMetric=$root$6.Metric.toObject(f.globalAdjustMetric,y)),f.ui!=null&&f.hasOwnProperty("ui")&&(g.ui=$root$6.Ui.toObject(f.ui,y)),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Project"},d})();function updateToNext$6(d){var f,y,g,b,v,S;function h(O){const w=O.length-1;O.forEach((T,E)=>{T.offset=1/w*E})}return(g=(y=(f=d==null?void 0:d.style)==null?void 0:f.fill)==null?void 0:y.gradient)!=null&&g.palette&&d.style.fill.gradient.palette.length>0&&h(d.style.fill.gradient.palette),(S=(v=(b=d==null?void 0:d.style)==null?void 0:b.stroke)==null?void 0:v.gradient)!=null&&S.palette&&d.style.stroke.gradient.palette.length>0&&h(d.style.stroke.gradient.palette),d}const $Reader$5=minimalExports.Reader,$Writer$5=minimalExports.Writer,$util$5=minimalExports.util,$root$5={};$root$5.Metric=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.xAdvance=0,d.prototype.xOffset=0,d.prototype.yOffset=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$5.create()),f.xAdvance!=null&&Object.hasOwnProperty.call(f,"xAdvance")&&y.uint32(8).sint32(f.xAdvance),f.xOffset!=null&&Object.hasOwnProperty.call(f,"xOffset")&&y.uint32(16).sint32(f.xOffset),f.yOffset!=null&&Object.hasOwnProperty.call(f,"yOffset")&&y.uint32(24).sint32(f.yOffset),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$5||(f=$Reader$5.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$5.Metric;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.xAdvance=f.sint32();break}case 2:{v.xOffset=f.sint32();break}case 3:{v.yOffset=f.sint32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$5||(f=new $Reader$5(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.xAdvance!=null&&f.hasOwnProperty("xAdvance")&&!$util$5.isInteger(f.xAdvance)?"xAdvance: integer expected":f.xOffset!=null&&f.hasOwnProperty("xOffset")&&!$util$5.isInteger(f.xOffset)?"xOffset: integer expected":f.yOffset!=null&&f.hasOwnProperty("yOffset")&&!$util$5.isInteger(f.yOffset)?"yOffset: integer expected":null},d.fromObject=function(f){if(f instanceof $root$5.Metric)return f;let y=new $root$5.Metric;return f.xAdvance!=null&&(y.xAdvance=f.xAdvance|0),f.xOffset!=null&&(y.xOffset=f.xOffset|0),f.yOffset!=null&&(y.yOffset=f.yOffset|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.xAdvance=0,g.xOffset=0,g.yOffset=0),f.xAdvance!=null&&f.hasOwnProperty("xAdvance")&&(g.xAdvance=f.xAdvance),f.xOffset!=null&&f.hasOwnProperty("xOffset")&&(g.xOffset=f.xOffset),f.yOffset!=null&&f.hasOwnProperty("yOffset")&&(g.yOffset=f.yOffset),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Metric"},d})();$root$5.GradientColor=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.id=0,d.prototype.offset=0,d.prototype.color="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$5.create()),f.id!=null&&Object.hasOwnProperty.call(f,"id")&&y.uint32(8).int32(f.id),f.offset!=null&&Object.hasOwnProperty.call(f,"offset")&&y.uint32(21).float(f.offset),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(26).string(f.color),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$5||(f=$Reader$5.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$5.GradientColor;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.id=f.int32();break}case 2:{v.offset=f.float();break}case 3:{v.color=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$5||(f=new $Reader$5(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.id!=null&&f.hasOwnProperty("id")&&!$util$5.isInteger(f.id)?"id: integer expected":f.offset!=null&&f.hasOwnProperty("offset")&&typeof f.offset!="number"?"offset: number expected":f.color!=null&&f.hasOwnProperty("color")&&!$util$5.isString(f.color)?"color: string expected":null},d.fromObject=function(f){if(f instanceof $root$5.GradientColor)return f;let y=new $root$5.GradientColor;return f.id!=null&&(y.id=f.id|0),f.offset!=null&&(y.offset=Number(f.offset)),f.color!=null&&(y.color=String(f.color)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.id=0,g.offset=0,g.color=""),f.id!=null&&f.hasOwnProperty("id")&&(g.id=f.id),f.offset!=null&&f.hasOwnProperty("offset")&&(g.offset=y.json&&!isFinite(f.offset)?String(f.offset):f.offset),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GradientColor"},d})();$root$5.Gradient=(()=>{function d(h){if(this.palette=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.type=0,d.prototype.angle=0,d.prototype.palette=$util$5.emptyArray,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$5.create()),f.type!=null&&Object.hasOwnProperty.call(f,"type")&&y.uint32(8).int32(f.type),f.angle!=null&&Object.hasOwnProperty.call(f,"angle")&&y.uint32(21).float(f.angle),f.palette!=null&&f.palette.length)for(let g=0;g<f.palette.length;++g)$root$5.GradientColor.encode(f.palette[g],y.uint32(26).fork()).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$5||(f=$Reader$5.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$5.Gradient;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.type=f.int32();break}case 2:{v.angle=f.float();break}case 3:{v.palette&&v.palette.length||(v.palette=[]),v.palette.push($root$5.GradientColor.decode(f,f.uint32()));break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$5||(f=new $Reader$5(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.type!=null&&f.hasOwnProperty("type")&&!$util$5.isInteger(f.type))return"type: integer expected";if(f.angle!=null&&f.hasOwnProperty("angle")&&typeof f.angle!="number")return"angle: number expected";if(f.palette!=null&&f.hasOwnProperty("palette")){if(!Array.isArray(f.palette))return"palette: array expected";for(let y=0;y<f.palette.length;++y){let g=$root$5.GradientColor.verify(f.palette[y]);if(g)return"palette."+g}}return null},d.fromObject=function(f){if(f instanceof $root$5.Gradient)return f;let y=new $root$5.Gradient;if(f.type!=null&&(y.type=f.type|0),f.angle!=null&&(y.angle=Number(f.angle)),f.palette){if(!Array.isArray(f.palette))throw TypeError(".Gradient.palette: array expected");y.palette=[];for(let g=0;g<f.palette.length;++g){if(typeof f.palette[g]!="object")throw TypeError(".Gradient.palette: object expected");y.palette[g]=$root$5.GradientColor.fromObject(f.palette[g])}}return y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.palette=[]),y.defaults&&(g.type=0,g.angle=0),f.type!=null&&f.hasOwnProperty("type")&&(g.type=f.type),f.angle!=null&&f.hasOwnProperty("angle")&&(g.angle=y.json&&!isFinite(f.angle)?String(f.angle):f.angle),f.palette&&f.palette.length){g.palette=[];for(let b=0;b<f.palette.length;++b)g.palette[b]=$root$5.GradientColor.toObject(f.palette[b],y)}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Gradient"},d})();$root$5.PatternTexture=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.buffer=$util$5.newBuffer([]),d.prototype.scale=0,d.prototype.repetition="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$5.create()),f.buffer!=null&&Object.hasOwnProperty.call(f,"buffer")&&y.uint32(10).bytes(f.buffer),f.scale!=null&&Object.hasOwnProperty.call(f,"scale")&&y.uint32(17).double(f.scale),f.repetition!=null&&Object.hasOwnProperty.call(f,"repetition")&&y.uint32(26).string(f.repetition),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$5||(f=$Reader$5.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$5.PatternTexture;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.buffer=f.bytes();break}case 2:{v.scale=f.double();break}case 3:{v.repetition=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$5||(f=new $Reader$5(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.buffer!=null&&f.hasOwnProperty("buffer")&&!(f.buffer&&typeof f.buffer.length=="number"||$util$5.isString(f.buffer))?"buffer: buffer expected":f.scale!=null&&f.hasOwnProperty("scale")&&typeof f.scale!="number"?"scale: number expected":f.repetition!=null&&f.hasOwnProperty("repetition")&&!$util$5.isString(f.repetition)?"repetition: string expected":null},d.fromObject=function(f){if(f instanceof $root$5.PatternTexture)return f;let y=new $root$5.PatternTexture;return f.buffer!=null&&(typeof f.buffer=="string"?$util$5.base64.decode(f.buffer,y.buffer=$util$5.newBuffer($util$5.base64.length(f.buffer)),0):f.buffer.length>=0&&(y.buffer=f.buffer)),f.scale!=null&&(y.scale=Number(f.scale)),f.repetition!=null&&(y.repetition=String(f.repetition)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(y.bytes===String?g.buffer="":(g.buffer=[],y.bytes!==Array&&(g.buffer=$util$5.newBuffer(g.buffer))),g.scale=0,g.repetition=""),f.buffer!=null&&f.hasOwnProperty("buffer")&&(g.buffer=y.bytes===String?$util$5.base64.encode(f.buffer,0,f.buffer.length):y.bytes===Array?Array.prototype.slice.call(f.buffer):f.buffer),f.scale!=null&&f.hasOwnProperty("scale")&&(g.scale=y.json&&!isFinite(f.scale)?String(f.scale):f.scale),f.repetition!=null&&f.hasOwnProperty("repetition")&&(g.repetition=f.repetition),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/PatternTexture"},d})();$root$5.Fill=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.type=0,d.prototype.color="",d.prototype.gradient=null,d.prototype.patternTexture=null,d.prototype.width=0,d.prototype.lineCap="",d.prototype.lineJoin="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$5.create()),f.type!=null&&Object.hasOwnProperty.call(f,"type")&&y.uint32(8).int32(f.type),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(18).string(f.color),f.gradient!=null&&Object.hasOwnProperty.call(f,"gradient")&&$root$5.Gradient.encode(f.gradient,y.uint32(26).fork()).ldelim(),f.patternTexture!=null&&Object.hasOwnProperty.call(f,"patternTexture")&&$root$5.PatternTexture.encode(f.patternTexture,y.uint32(34).fork()).ldelim(),f.width!=null&&Object.hasOwnProperty.call(f,"width")&&y.uint32(40).int32(f.width),f.lineCap!=null&&Object.hasOwnProperty.call(f,"lineCap")&&y.uint32(50).string(f.lineCap),f.lineJoin!=null&&Object.hasOwnProperty.call(f,"lineJoin")&&y.uint32(58).string(f.lineJoin),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$5||(f=$Reader$5.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$5.Fill;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.type=f.int32();break}case 2:{v.color=f.string();break}case 3:{v.gradient=$root$5.Gradient.decode(f,f.uint32());break}case 4:{v.patternTexture=$root$5.PatternTexture.decode(f,f.uint32());break}case 5:{v.width=f.int32();break}case 6:{v.lineCap=f.string();break}case 7:{v.lineJoin=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$5||(f=new $Reader$5(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.type!=null&&f.hasOwnProperty("type")&&!$util$5.isInteger(f.type))return"type: integer expected";if(f.color!=null&&f.hasOwnProperty("color")&&!$util$5.isString(f.color))return"color: string expected";if(f.gradient!=null&&f.hasOwnProperty("gradient")){let y=$root$5.Gradient.verify(f.gradient);if(y)return"gradient."+y}if(f.patternTexture!=null&&f.hasOwnProperty("patternTexture")){let y=$root$5.PatternTexture.verify(f.patternTexture);if(y)return"patternTexture."+y}return f.width!=null&&f.hasOwnProperty("width")&&!$util$5.isInteger(f.width)?"width: integer expected":f.lineCap!=null&&f.hasOwnProperty("lineCap")&&!$util$5.isString(f.lineCap)?"lineCap: string expected":f.lineJoin!=null&&f.hasOwnProperty("lineJoin")&&!$util$5.isString(f.lineJoin)?"lineJoin: string expected":null},d.fromObject=function(f){if(f instanceof $root$5.Fill)return f;let y=new $root$5.Fill;if(f.type!=null&&(y.type=f.type|0),f.color!=null&&(y.color=String(f.color)),f.gradient!=null){if(typeof f.gradient!="object")throw TypeError(".Fill.gradient: object expected");y.gradient=$root$5.Gradient.fromObject(f.gradient)}if(f.patternTexture!=null){if(typeof f.patternTexture!="object")throw TypeError(".Fill.patternTexture: object expected");y.patternTexture=$root$5.PatternTexture.fromObject(f.patternTexture)}return f.width!=null&&(y.width=f.width|0),f.lineCap!=null&&(y.lineCap=String(f.lineCap)),f.lineJoin!=null&&(y.lineJoin=String(f.lineJoin)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.type=0,g.color="",g.gradient=null,g.patternTexture=null,g.width=0,g.lineCap="",g.lineJoin=""),f.type!=null&&f.hasOwnProperty("type")&&(g.type=f.type),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),f.gradient!=null&&f.hasOwnProperty("gradient")&&(g.gradient=$root$5.Gradient.toObject(f.gradient,y)),f.patternTexture!=null&&f.hasOwnProperty("patternTexture")&&(g.patternTexture=$root$5.PatternTexture.toObject(f.patternTexture,y)),f.width!=null&&f.hasOwnProperty("width")&&(g.width=f.width),f.lineCap!=null&&f.hasOwnProperty("lineCap")&&(g.lineCap=f.lineCap),f.lineJoin!=null&&f.hasOwnProperty("lineJoin")&&(g.lineJoin=f.lineJoin),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Fill"},d})();$root$5.Font=(()=>{function d(f){if(f)for(let y=Object.keys(f),g=0;g<y.length;++g)f[y[g]]!=null&&(this[y[g]]=f[y[g]])}d.prototype.font=null,d.prototype.family="",d.prototype.size=0,d.prototype.lineHeight=0;let h;return Object.defineProperty(d.prototype,"_font",{get:$util$5.oneOfGetter(h=["font"]),set:$util$5.oneOfSetter(h)}),d.create=function(y){return new d(y)},d.encode=function(y,g){return g||(g=$Writer$5.create()),y.font!=null&&Object.hasOwnProperty.call(y,"font")&&g.uint32(10).bytes(y.font),y.family!=null&&Object.hasOwnProperty.call(y,"family")&&g.uint32(18).string(y.family),y.size!=null&&Object.hasOwnProperty.call(y,"size")&&g.uint32(24).int32(y.size),y.lineHeight!=null&&Object.hasOwnProperty.call(y,"lineHeight")&&g.uint32(32).int32(y.lineHeight),g},d.encodeDelimited=function(y,g){return this.encode(y,g).ldelim()},d.decode=function(y,g,b){y instanceof $Reader$5||(y=$Reader$5.create(y));let v=g===void 0?y.len:y.pos+g,S=new $root$5.Font;for(;y.pos<v;){let O=y.uint32();if(O===b)break;switch(O>>>3){case 1:{S.font=y.bytes();break}case 2:{S.family=y.string();break}case 3:{S.size=y.int32();break}case 4:{S.lineHeight=y.int32();break}default:y.skipType(O&7);break}}return S},d.decodeDelimited=function(y){return y instanceof $Reader$5||(y=new $Reader$5(y)),this.decode(y,y.uint32())},d.verify=function(y){return typeof y!="object"||y===null?"object expected":y.font!=null&&y.hasOwnProperty("font")&&!(y.font&&typeof y.font.length=="number"||$util$5.isString(y.font))?"font: buffer expected":y.family!=null&&y.hasOwnProperty("family")&&!$util$5.isString(y.family)?"family: string expected":y.size!=null&&y.hasOwnProperty("size")&&!$util$5.isInteger(y.size)?"size: integer expected":y.lineHeight!=null&&y.hasOwnProperty("lineHeight")&&!$util$5.isInteger(y.lineHeight)?"lineHeight: integer expected":null},d.fromObject=function(y){if(y instanceof $root$5.Font)return y;let g=new $root$5.Font;return y.font!=null&&(typeof y.font=="string"?$util$5.base64.decode(y.font,g.font=$util$5.newBuffer($util$5.base64.length(y.font)),0):y.font.length>=0&&(g.font=y.font)),y.family!=null&&(g.family=String(y.family)),y.size!=null&&(g.size=y.size|0),y.lineHeight!=null&&(g.lineHeight=y.lineHeight|0),g},d.toObject=function(y,g){g||(g={});let b={};return g.defaults&&(b.family="",b.size=0,b.lineHeight=0),y.font!=null&&y.hasOwnProperty("font")&&(b.font=g.bytes===String?$util$5.base64.encode(y.font,0,y.font.length):g.bytes===Array?Array.prototype.slice.call(y.font):y.font,g.oneofs&&(b._font="font")),y.family!=null&&y.hasOwnProperty("family")&&(b.family=y.family),y.size!=null&&y.hasOwnProperty("size")&&(b.size=y.size),y.lineHeight!=null&&y.hasOwnProperty("lineHeight")&&(b.lineHeight=y.lineHeight),b},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(y){return y===void 0&&(y="type.googleapis.com"),y+"/Font"},d})();$root$5.GlyphFont=(()=>{function d(h){if(this.kerning={},h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.letter="",d.prototype.adjustMetric=null,d.prototype.kerning=$util$5.emptyObject,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$5.create()),f.letter!=null&&Object.hasOwnProperty.call(f,"letter")&&y.uint32(10).string(f.letter),f.adjustMetric!=null&&Object.hasOwnProperty.call(f,"adjustMetric")&&$root$5.Metric.encode(f.adjustMetric,y.uint32(18).fork()).ldelim(),f.kerning!=null&&Object.hasOwnProperty.call(f,"kerning"))for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.uint32(26).fork().uint32(10).string(g[b]).uint32(16).int32(f.kerning[g[b]]).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$5||(f=$Reader$5.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$5.GlyphFont,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.letter=f.string();break}case 2:{v.adjustMetric=$root$5.Metric.decode(f,f.uint32());break}case 3:{v.kerning===$util$5.emptyObject&&(v.kerning={});let T=f.uint32()+f.pos;for(S="",O=0;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=f.int32();break;default:f.skipType(E&7);break}}v.kerning[S]=O;break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$5||(f=new $Reader$5(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.letter!=null&&f.hasOwnProperty("letter")&&!$util$5.isString(f.letter))return"letter: string expected";if(f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")){let y=$root$5.Metric.verify(f.adjustMetric);if(y)return"adjustMetric."+y}if(f.kerning!=null&&f.hasOwnProperty("kerning")){if(!$util$5.isObject(f.kerning))return"kerning: object expected";let y=Object.keys(f.kerning);for(let g=0;g<y.length;++g)if(!$util$5.isInteger(f.kerning[y[g]]))return"kerning: integer{k:string} expected"}return null},d.fromObject=function(f){if(f instanceof $root$5.GlyphFont)return f;let y=new $root$5.GlyphFont;if(f.letter!=null&&(y.letter=String(f.letter)),f.adjustMetric!=null){if(typeof f.adjustMetric!="object")throw TypeError(".GlyphFont.adjustMetric: object expected");y.adjustMetric=$root$5.Metric.fromObject(f.adjustMetric)}if(f.kerning){if(typeof f.kerning!="object")throw TypeError(".GlyphFont.kerning: object expected");y.kerning={};for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.kerning[g[b]]=f.kerning[g[b]]|0}return y},d.toObject=function(f,y){y||(y={});let g={};(y.objects||y.defaults)&&(g.kerning={}),y.defaults&&(g.letter="",g.adjustMetric=null),f.letter!=null&&f.hasOwnProperty("letter")&&(g.letter=f.letter),f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")&&(g.adjustMetric=$root$5.Metric.toObject(f.adjustMetric,y));let b;if(f.kerning&&(b=Object.keys(f.kerning)).length){g.kerning={};for(let v=0;v<b.length;++v)g.kerning[b[v]]=f.kerning[b[v]]}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GlyphFont"},d})();$root$5.GlyphImage=(()=>{function d(h){if(this.kerning={},h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.letter="",d.prototype.adjustMetric=null,d.prototype.buffer=$util$5.newBuffer([]),d.prototype.fileName="",d.prototype.fileType="",d.prototype.selected=!1,d.prototype.kerning=$util$5.emptyObject,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$5.create()),f.letter!=null&&Object.hasOwnProperty.call(f,"letter")&&y.uint32(10).string(f.letter),f.adjustMetric!=null&&Object.hasOwnProperty.call(f,"adjustMetric")&&$root$5.Metric.encode(f.adjustMetric,y.uint32(18).fork()).ldelim(),f.buffer!=null&&Object.hasOwnProperty.call(f,"buffer")&&y.uint32(26).bytes(f.buffer),f.fileName!=null&&Object.hasOwnProperty.call(f,"fileName")&&y.uint32(34).string(f.fileName),f.fileType!=null&&Object.hasOwnProperty.call(f,"fileType")&&y.uint32(42).string(f.fileType),f.selected!=null&&Object.hasOwnProperty.call(f,"selected")&&y.uint32(48).bool(f.selected),f.kerning!=null&&Object.hasOwnProperty.call(f,"kerning"))for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.uint32(58).fork().uint32(10).string(g[b]).uint32(16).int32(f.kerning[g[b]]).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$5||(f=$Reader$5.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$5.GlyphImage,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.letter=f.string();break}case 2:{v.adjustMetric=$root$5.Metric.decode(f,f.uint32());break}case 3:{v.buffer=f.bytes();break}case 4:{v.fileName=f.string();break}case 5:{v.fileType=f.string();break}case 6:{v.selected=f.bool();break}case 7:{v.kerning===$util$5.emptyObject&&(v.kerning={});let T=f.uint32()+f.pos;for(S="",O=0;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=f.int32();break;default:f.skipType(E&7);break}}v.kerning[S]=O;break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$5||(f=new $Reader$5(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.letter!=null&&f.hasOwnProperty("letter")&&!$util$5.isString(f.letter))return"letter: string expected";if(f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")){let y=$root$5.Metric.verify(f.adjustMetric);if(y)return"adjustMetric."+y}if(f.buffer!=null&&f.hasOwnProperty("buffer")&&!(f.buffer&&typeof f.buffer.length=="number"||$util$5.isString(f.buffer)))return"buffer: buffer expected";if(f.fileName!=null&&f.hasOwnProperty("fileName")&&!$util$5.isString(f.fileName))return"fileName: string expected";if(f.fileType!=null&&f.hasOwnProperty("fileType")&&!$util$5.isString(f.fileType))return"fileType: string expected";if(f.selected!=null&&f.hasOwnProperty("selected")&&typeof f.selected!="boolean")return"selected: boolean expected";if(f.kerning!=null&&f.hasOwnProperty("kerning")){if(!$util$5.isObject(f.kerning))return"kerning: object expected";let y=Object.keys(f.kerning);for(let g=0;g<y.length;++g)if(!$util$5.isInteger(f.kerning[y[g]]))return"kerning: integer{k:string} expected"}return null},d.fromObject=function(f){if(f instanceof $root$5.GlyphImage)return f;let y=new $root$5.GlyphImage;if(f.letter!=null&&(y.letter=String(f.letter)),f.adjustMetric!=null){if(typeof f.adjustMetric!="object")throw TypeError(".GlyphImage.adjustMetric: object expected");y.adjustMetric=$root$5.Metric.fromObject(f.adjustMetric)}if(f.buffer!=null&&(typeof f.buffer=="string"?$util$5.base64.decode(f.buffer,y.buffer=$util$5.newBuffer($util$5.base64.length(f.buffer)),0):f.buffer.length>=0&&(y.buffer=f.buffer)),f.fileName!=null&&(y.fileName=String(f.fileName)),f.fileType!=null&&(y.fileType=String(f.fileType)),f.selected!=null&&(y.selected=!!f.selected),f.kerning){if(typeof f.kerning!="object")throw TypeError(".GlyphImage.kerning: object expected");y.kerning={};for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.kerning[g[b]]=f.kerning[g[b]]|0}return y},d.toObject=function(f,y){y||(y={});let g={};(y.objects||y.defaults)&&(g.kerning={}),y.defaults&&(g.letter="",g.adjustMetric=null,y.bytes===String?g.buffer="":(g.buffer=[],y.bytes!==Array&&(g.buffer=$util$5.newBuffer(g.buffer))),g.fileName="",g.fileType="",g.selected=!1),f.letter!=null&&f.hasOwnProperty("letter")&&(g.letter=f.letter),f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")&&(g.adjustMetric=$root$5.Metric.toObject(f.adjustMetric,y)),f.buffer!=null&&f.hasOwnProperty("buffer")&&(g.buffer=y.bytes===String?$util$5.base64.encode(f.buffer,0,f.buffer.length):y.bytes===Array?Array.prototype.slice.call(f.buffer):f.buffer),f.fileName!=null&&f.hasOwnProperty("fileName")&&(g.fileName=f.fileName),f.fileType!=null&&f.hasOwnProperty("fileType")&&(g.fileType=f.fileType),f.selected!=null&&f.hasOwnProperty("selected")&&(g.selected=f.selected);let b;if(f.kerning&&(b=Object.keys(f.kerning)).length){g.kerning={};for(let v=0;v<b.length;++v)g.kerning[b[v]]=f.kerning[b[v]]}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GlyphImage"},d})();$root$5.Layout=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.padding=0,d.prototype.spacing=0,d.prototype.width=0,d.prototype.height=0,d.prototype.auto=!1,d.prototype.fixedSize=!1,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$5.create()),f.padding!=null&&Object.hasOwnProperty.call(f,"padding")&&y.uint32(8).int32(f.padding),f.spacing!=null&&Object.hasOwnProperty.call(f,"spacing")&&y.uint32(16).int32(f.spacing),f.width!=null&&Object.hasOwnProperty.call(f,"width")&&y.uint32(24).int32(f.width),f.height!=null&&Object.hasOwnProperty.call(f,"height")&&y.uint32(32).int32(f.height),f.auto!=null&&Object.hasOwnProperty.call(f,"auto")&&y.uint32(40).bool(f.auto),f.fixedSize!=null&&Object.hasOwnProperty.call(f,"fixedSize")&&y.uint32(48).bool(f.fixedSize),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$5||(f=$Reader$5.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$5.Layout;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.padding=f.int32();break}case 2:{v.spacing=f.int32();break}case 3:{v.width=f.int32();break}case 4:{v.height=f.int32();break}case 5:{v.auto=f.bool();break}case 6:{v.fixedSize=f.bool();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$5||(f=new $Reader$5(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.padding!=null&&f.hasOwnProperty("padding")&&!$util$5.isInteger(f.padding)?"padding: integer expected":f.spacing!=null&&f.hasOwnProperty("spacing")&&!$util$5.isInteger(f.spacing)?"spacing: integer expected":f.width!=null&&f.hasOwnProperty("width")&&!$util$5.isInteger(f.width)?"width: integer expected":f.height!=null&&f.hasOwnProperty("height")&&!$util$5.isInteger(f.height)?"height: integer expected":f.auto!=null&&f.hasOwnProperty("auto")&&typeof f.auto!="boolean"?"auto: boolean expected":f.fixedSize!=null&&f.hasOwnProperty("fixedSize")&&typeof f.fixedSize!="boolean"?"fixedSize: boolean expected":null},d.fromObject=function(f){if(f instanceof $root$5.Layout)return f;let y=new $root$5.Layout;return f.padding!=null&&(y.padding=f.padding|0),f.spacing!=null&&(y.spacing=f.spacing|0),f.width!=null&&(y.width=f.width|0),f.height!=null&&(y.height=f.height|0),f.auto!=null&&(y.auto=!!f.auto),f.fixedSize!=null&&(y.fixedSize=!!f.fixedSize),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.padding=0,g.spacing=0,g.width=0,g.height=0,g.auto=!1,g.fixedSize=!1),f.padding!=null&&f.hasOwnProperty("padding")&&(g.padding=f.padding),f.spacing!=null&&f.hasOwnProperty("spacing")&&(g.spacing=f.spacing),f.width!=null&&f.hasOwnProperty("width")&&(g.width=f.width),f.height!=null&&f.hasOwnProperty("height")&&(g.height=f.height),f.auto!=null&&f.hasOwnProperty("auto")&&(g.auto=f.auto),f.fixedSize!=null&&f.hasOwnProperty("fixedSize")&&(g.fixedSize=f.fixedSize),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Layout"},d})();$root$5.Shadow=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.color="",d.prototype.blur=0,d.prototype.offsetX=0,d.prototype.offsetY=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$5.create()),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(10).string(f.color),f.blur!=null&&Object.hasOwnProperty.call(f,"blur")&&y.uint32(16).int32(f.blur),f.offsetX!=null&&Object.hasOwnProperty.call(f,"offsetX")&&y.uint32(24).sint32(f.offsetX),f.offsetY!=null&&Object.hasOwnProperty.call(f,"offsetY")&&y.uint32(32).sint32(f.offsetY),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$5||(f=$Reader$5.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$5.Shadow;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.color=f.string();break}case 2:{v.blur=f.int32();break}case 3:{v.offsetX=f.sint32();break}case 4:{v.offsetY=f.sint32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$5||(f=new $Reader$5(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.color!=null&&f.hasOwnProperty("color")&&!$util$5.isString(f.color)?"color: string expected":f.blur!=null&&f.hasOwnProperty("blur")&&!$util$5.isInteger(f.blur)?"blur: integer expected":f.offsetX!=null&&f.hasOwnProperty("offsetX")&&!$util$5.isInteger(f.offsetX)?"offsetX: integer expected":f.offsetY!=null&&f.hasOwnProperty("offsetY")&&!$util$5.isInteger(f.offsetY)?"offsetY: integer expected":null},d.fromObject=function(f){if(f instanceof $root$5.Shadow)return f;let y=new $root$5.Shadow;return f.color!=null&&(y.color=String(f.color)),f.blur!=null&&(y.blur=f.blur|0),f.offsetX!=null&&(y.offsetX=f.offsetX|0),f.offsetY!=null&&(y.offsetY=f.offsetY|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.color="",g.blur=0,g.offsetX=0,g.offsetY=0),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),f.blur!=null&&f.hasOwnProperty("blur")&&(g.blur=f.blur),f.offsetX!=null&&f.hasOwnProperty("offsetX")&&(g.offsetX=f.offsetX),f.offsetY!=null&&f.hasOwnProperty("offsetY")&&(g.offsetY=f.offsetY),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Shadow"},d})();$root$5.Style=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.font=null,d.prototype.fill=null,d.prototype.useStroke=!1,d.prototype.stroke=null,d.prototype.useShadow=!1,d.prototype.shadow=null,d.prototype.bgColor="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$5.create()),f.font!=null&&Object.hasOwnProperty.call(f,"font")&&$root$5.Font.encode(f.font,y.uint32(10).fork()).ldelim(),f.fill!=null&&Object.hasOwnProperty.call(f,"fill")&&$root$5.Fill.encode(f.fill,y.uint32(18).fork()).ldelim(),f.useStroke!=null&&Object.hasOwnProperty.call(f,"useStroke")&&y.uint32(24).bool(f.useStroke),f.stroke!=null&&Object.hasOwnProperty.call(f,"stroke")&&$root$5.Fill.encode(f.stroke,y.uint32(34).fork()).ldelim(),f.useShadow!=null&&Object.hasOwnProperty.call(f,"useShadow")&&y.uint32(40).bool(f.useShadow),f.shadow!=null&&Object.hasOwnProperty.call(f,"shadow")&&$root$5.Shadow.encode(f.shadow,y.uint32(50).fork()).ldelim(),f.bgColor!=null&&Object.hasOwnProperty.call(f,"bgColor")&&y.uint32(58).string(f.bgColor),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$5||(f=$Reader$5.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$5.Style;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.font=$root$5.Font.decode(f,f.uint32());break}case 2:{v.fill=$root$5.Fill.decode(f,f.uint32());break}case 3:{v.useStroke=f.bool();break}case 4:{v.stroke=$root$5.Fill.decode(f,f.uint32());break}case 5:{v.useShadow=f.bool();break}case 6:{v.shadow=$root$5.Shadow.decode(f,f.uint32());break}case 7:{v.bgColor=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$5||(f=new $Reader$5(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.font!=null&&f.hasOwnProperty("font")){let y=$root$5.Font.verify(f.font);if(y)return"font."+y}if(f.fill!=null&&f.hasOwnProperty("fill")){let y=$root$5.Fill.verify(f.fill);if(y)return"fill."+y}if(f.useStroke!=null&&f.hasOwnProperty("useStroke")&&typeof f.useStroke!="boolean")return"useStroke: boolean expected";if(f.stroke!=null&&f.hasOwnProperty("stroke")){let y=$root$5.Fill.verify(f.stroke);if(y)return"stroke."+y}if(f.useShadow!=null&&f.hasOwnProperty("useShadow")&&typeof f.useShadow!="boolean")return"useShadow: boolean expected";if(f.shadow!=null&&f.hasOwnProperty("shadow")){let y=$root$5.Shadow.verify(f.shadow);if(y)return"shadow."+y}return f.bgColor!=null&&f.hasOwnProperty("bgColor")&&!$util$5.isString(f.bgColor)?"bgColor: string expected":null},d.fromObject=function(f){if(f instanceof $root$5.Style)return f;let y=new $root$5.Style;if(f.font!=null){if(typeof f.font!="object")throw TypeError(".Style.font: object expected");y.font=$root$5.Font.fromObject(f.font)}if(f.fill!=null){if(typeof f.fill!="object")throw TypeError(".Style.fill: object expected");y.fill=$root$5.Fill.fromObject(f.fill)}if(f.useStroke!=null&&(y.useStroke=!!f.useStroke),f.stroke!=null){if(typeof f.stroke!="object")throw TypeError(".Style.stroke: object expected");y.stroke=$root$5.Fill.fromObject(f.stroke)}if(f.useShadow!=null&&(y.useShadow=!!f.useShadow),f.shadow!=null){if(typeof f.shadow!="object")throw TypeError(".Style.shadow: object expected");y.shadow=$root$5.Shadow.fromObject(f.shadow)}return f.bgColor!=null&&(y.bgColor=String(f.bgColor)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.font=null,g.fill=null,g.useStroke=!1,g.stroke=null,g.useShadow=!1,g.shadow=null,g.bgColor=""),f.font!=null&&f.hasOwnProperty("font")&&(g.font=$root$5.Font.toObject(f.font,y)),f.fill!=null&&f.hasOwnProperty("fill")&&(g.fill=$root$5.Fill.toObject(f.fill,y)),f.useStroke!=null&&f.hasOwnProperty("useStroke")&&(g.useStroke=f.useStroke),f.stroke!=null&&f.hasOwnProperty("stroke")&&(g.stroke=$root$5.Fill.toObject(f.stroke,y)),f.useShadow!=null&&f.hasOwnProperty("useShadow")&&(g.useShadow=f.useShadow),f.shadow!=null&&f.hasOwnProperty("shadow")&&(g.shadow=$root$5.Shadow.toObject(f.shadow,y)),f.bgColor!=null&&f.hasOwnProperty("bgColor")&&(g.bgColor=f.bgColor),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Style"},d})();$root$5.Ui=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.previewText="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$5.create()),f.previewText!=null&&Object.hasOwnProperty.call(f,"previewText")&&y.uint32(10).string(f.previewText),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$5||(f=$Reader$5.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$5.Ui;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.previewText=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$5||(f=new $Reader$5(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.previewText!=null&&f.hasOwnProperty("previewText")&&!$util$5.isString(f.previewText)?"previewText: string expected":null},d.fromObject=function(f){if(f instanceof $root$5.Ui)return f;let y=new $root$5.Ui;return f.previewText!=null&&(y.previewText=String(f.previewText)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.previewText=""),f.previewText!=null&&f.hasOwnProperty("previewText")&&(g.previewText=f.previewText),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Ui"},d})();const Project$5=$root$5.Project=(()=>{function d(h){if(this.glyphs={},this.glyphImages=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.id=$util$5.Long?$util$5.Long.fromBits(0,0,!1):0,d.prototype.name="",d.prototype.text="",d.prototype.glyphs=$util$5.emptyObject,d.prototype.glyphImages=$util$5.emptyArray,d.prototype.style=null,d.prototype.layout=null,d.prototype.globalAdjustMetric=null,d.prototype.ui=null,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$5.create()),f.id!=null&&Object.hasOwnProperty.call(f,"id")&&y.uint32(8).int64(f.id),f.name!=null&&Object.hasOwnProperty.call(f,"name")&&y.uint32(18).string(f.name),f.text!=null&&Object.hasOwnProperty.call(f,"text")&&y.uint32(26).string(f.text),f.glyphs!=null&&Object.hasOwnProperty.call(f,"glyphs"))for(let g=Object.keys(f.glyphs),b=0;b<g.length;++b)y.uint32(34).fork().uint32(10).string(g[b]),$root$5.GlyphFont.encode(f.glyphs[g[b]],y.uint32(18).fork()).ldelim().ldelim();if(f.glyphImages!=null&&f.glyphImages.length)for(let g=0;g<f.glyphImages.length;++g)$root$5.GlyphImage.encode(f.glyphImages[g],y.uint32(42).fork()).ldelim();return f.style!=null&&Object.hasOwnProperty.call(f,"style")&&$root$5.Style.encode(f.style,y.uint32(50).fork()).ldelim(),f.layout!=null&&Object.hasOwnProperty.call(f,"layout")&&$root$5.Layout.encode(f.layout,y.uint32(58).fork()).ldelim(),f.globalAdjustMetric!=null&&Object.hasOwnProperty.call(f,"globalAdjustMetric")&&$root$5.Metric.encode(f.globalAdjustMetric,y.uint32(66).fork()).ldelim(),f.ui!=null&&Object.hasOwnProperty.call(f,"ui")&&$root$5.Ui.encode(f.ui,y.uint32(74).fork()).ldelim(),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$5||(f=$Reader$5.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$5.Project,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.id=f.int64();break}case 2:{v.name=f.string();break}case 3:{v.text=f.string();break}case 4:{v.glyphs===$util$5.emptyObject&&(v.glyphs={});let T=f.uint32()+f.pos;for(S="",O=null;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=$root$5.GlyphFont.decode(f,f.uint32());break;default:f.skipType(E&7);break}}v.glyphs[S]=O;break}case 5:{v.glyphImages&&v.glyphImages.length||(v.glyphImages=[]),v.glyphImages.push($root$5.GlyphImage.decode(f,f.uint32()));break}case 6:{v.style=$root$5.Style.decode(f,f.uint32());break}case 7:{v.layout=$root$5.Layout.decode(f,f.uint32());break}case 8:{v.globalAdjustMetric=$root$5.Metric.decode(f,f.uint32());break}case 9:{v.ui=$root$5.Ui.decode(f,f.uint32());break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$5||(f=new $Reader$5(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.id!=null&&f.hasOwnProperty("id")&&!$util$5.isInteger(f.id)&&!(f.id&&$util$5.isInteger(f.id.low)&&$util$5.isInteger(f.id.high)))return"id: integer|Long expected";if(f.name!=null&&f.hasOwnProperty("name")&&!$util$5.isString(f.name))return"name: string expected";if(f.text!=null&&f.hasOwnProperty("text")&&!$util$5.isString(f.text))return"text: string expected";if(f.glyphs!=null&&f.hasOwnProperty("glyphs")){if(!$util$5.isObject(f.glyphs))return"glyphs: object expected";let y=Object.keys(f.glyphs);for(let g=0;g<y.length;++g){let b=$root$5.GlyphFont.verify(f.glyphs[y[g]]);if(b)return"glyphs."+b}}if(f.glyphImages!=null&&f.hasOwnProperty("glyphImages")){if(!Array.isArray(f.glyphImages))return"glyphImages: array expected";for(let y=0;y<f.glyphImages.length;++y){let g=$root$5.GlyphImage.verify(f.glyphImages[y]);if(g)return"glyphImages."+g}}if(f.style!=null&&f.hasOwnProperty("style")){let y=$root$5.Style.verify(f.style);if(y)return"style."+y}if(f.layout!=null&&f.hasOwnProperty("layout")){let y=$root$5.Layout.verify(f.layout);if(y)return"layout."+y}if(f.globalAdjustMetric!=null&&f.hasOwnProperty("globalAdjustMetric")){let y=$root$5.Metric.verify(f.globalAdjustMetric);if(y)return"globalAdjustMetric."+y}if(f.ui!=null&&f.hasOwnProperty("ui")){let y=$root$5.Ui.verify(f.ui);if(y)return"ui."+y}return null},d.fromObject=function(f){if(f instanceof $root$5.Project)return f;let y=new $root$5.Project;if(f.id!=null&&($util$5.Long?(y.id=$util$5.Long.fromValue(f.id)).unsigned=!1:typeof f.id=="string"?y.id=parseInt(f.id,10):typeof f.id=="number"?y.id=f.id:typeof f.id=="object"&&(y.id=new $util$5.LongBits(f.id.low>>>0,f.id.high>>>0).toNumber())),f.name!=null&&(y.name=String(f.name)),f.text!=null&&(y.text=String(f.text)),f.glyphs){if(typeof f.glyphs!="object")throw TypeError(".Project.glyphs: object expected");y.glyphs={};for(let g=Object.keys(f.glyphs),b=0;b<g.length;++b){if(typeof f.glyphs[g[b]]!="object")throw TypeError(".Project.glyphs: object expected");y.glyphs[g[b]]=$root$5.GlyphFont.fromObject(f.glyphs[g[b]])}}if(f.glyphImages){if(!Array.isArray(f.glyphImages))throw TypeError(".Project.glyphImages: array expected");y.glyphImages=[];for(let g=0;g<f.glyphImages.length;++g){if(typeof f.glyphImages[g]!="object")throw TypeError(".Project.glyphImages: object expected");y.glyphImages[g]=$root$5.GlyphImage.fromObject(f.glyphImages[g])}}if(f.style!=null){if(typeof f.style!="object")throw TypeError(".Project.style: object expected");y.style=$root$5.Style.fromObject(f.style)}if(f.layout!=null){if(typeof f.layout!="object")throw TypeError(".Project.layout: object expected");y.layout=$root$5.Layout.fromObject(f.layout)}if(f.globalAdjustMetric!=null){if(typeof f.globalAdjustMetric!="object")throw TypeError(".Project.globalAdjustMetric: object expected");y.globalAdjustMetric=$root$5.Metric.fromObject(f.globalAdjustMetric)}if(f.ui!=null){if(typeof f.ui!="object")throw TypeError(".Project.ui: object expected");y.ui=$root$5.Ui.fromObject(f.ui)}return y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.glyphImages=[]),(y.objects||y.defaults)&&(g.glyphs={}),y.defaults){if($util$5.Long){let v=new $util$5.Long(0,0,!1);g.id=y.longs===String?v.toString():y.longs===Number?v.toNumber():v}else g.id=y.longs===String?"0":0;g.name="",g.text="",g.style=null,g.layout=null,g.globalAdjustMetric=null,g.ui=null}f.id!=null&&f.hasOwnProperty("id")&&(typeof f.id=="number"?g.id=y.longs===String?String(f.id):f.id:g.id=y.longs===String?$util$5.Long.prototype.toString.call(f.id):y.longs===Number?new $util$5.LongBits(f.id.low>>>0,f.id.high>>>0).toNumber():f.id),f.name!=null&&f.hasOwnProperty("name")&&(g.name=f.name),f.text!=null&&f.hasOwnProperty("text")&&(g.text=f.text);let b;if(f.glyphs&&(b=Object.keys(f.glyphs)).length){g.glyphs={};for(let v=0;v<b.length;++v)g.glyphs[b[v]]=$root$5.GlyphFont.toObject(f.glyphs[b[v]],y)}if(f.glyphImages&&f.glyphImages.length){g.glyphImages=[];for(let v=0;v<f.glyphImages.length;++v)g.glyphImages[v]=$root$5.GlyphImage.toObject(f.glyphImages[v],y)}return f.style!=null&&f.hasOwnProperty("style")&&(g.style=$root$5.Style.toObject(f.style,y)),f.layout!=null&&f.hasOwnProperty("layout")&&(g.layout=$root$5.Layout.toObject(f.layout,y)),f.globalAdjustMetric!=null&&f.hasOwnProperty("globalAdjustMetric")&&(g.globalAdjustMetric=$root$5.Metric.toObject(f.globalAdjustMetric,y)),f.ui!=null&&f.hasOwnProperty("ui")&&(g.ui=$root$5.Ui.toObject(f.ui,y)),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Project"},d})();function updateToNext$5(d){var h,f;return(f=(h=d.style)==null?void 0:h.font)!=null&&f.font&&(d.style.font.fonts=[{font:d.style.font.font}]),d}const $Reader$4=minimalExports.Reader,$Writer$4=minimalExports.Writer,$util$4=minimalExports.util,$root$4={};$root$4.Metric=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.xAdvance=0,d.prototype.xOffset=0,d.prototype.yOffset=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$4.create()),f.xAdvance!=null&&Object.hasOwnProperty.call(f,"xAdvance")&&y.uint32(8).sint32(f.xAdvance),f.xOffset!=null&&Object.hasOwnProperty.call(f,"xOffset")&&y.uint32(16).sint32(f.xOffset),f.yOffset!=null&&Object.hasOwnProperty.call(f,"yOffset")&&y.uint32(24).sint32(f.yOffset),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$4||(f=$Reader$4.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$4.Metric;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.xAdvance=f.sint32();break}case 2:{v.xOffset=f.sint32();break}case 3:{v.yOffset=f.sint32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$4||(f=new $Reader$4(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.xAdvance!=null&&f.hasOwnProperty("xAdvance")&&!$util$4.isInteger(f.xAdvance)?"xAdvance: integer expected":f.xOffset!=null&&f.hasOwnProperty("xOffset")&&!$util$4.isInteger(f.xOffset)?"xOffset: integer expected":f.yOffset!=null&&f.hasOwnProperty("yOffset")&&!$util$4.isInteger(f.yOffset)?"yOffset: integer expected":null},d.fromObject=function(f){if(f instanceof $root$4.Metric)return f;let y=new $root$4.Metric;return f.xAdvance!=null&&(y.xAdvance=f.xAdvance|0),f.xOffset!=null&&(y.xOffset=f.xOffset|0),f.yOffset!=null&&(y.yOffset=f.yOffset|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.xAdvance=0,g.xOffset=0,g.yOffset=0),f.xAdvance!=null&&f.hasOwnProperty("xAdvance")&&(g.xAdvance=f.xAdvance),f.xOffset!=null&&f.hasOwnProperty("xOffset")&&(g.xOffset=f.xOffset),f.yOffset!=null&&f.hasOwnProperty("yOffset")&&(g.yOffset=f.yOffset),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Metric"},d})();$root$4.GradientColor=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.id=0,d.prototype.offset=0,d.prototype.color="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$4.create()),f.id!=null&&Object.hasOwnProperty.call(f,"id")&&y.uint32(8).int32(f.id),f.offset!=null&&Object.hasOwnProperty.call(f,"offset")&&y.uint32(21).float(f.offset),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(26).string(f.color),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$4||(f=$Reader$4.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$4.GradientColor;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.id=f.int32();break}case 2:{v.offset=f.float();break}case 3:{v.color=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$4||(f=new $Reader$4(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.id!=null&&f.hasOwnProperty("id")&&!$util$4.isInteger(f.id)?"id: integer expected":f.offset!=null&&f.hasOwnProperty("offset")&&typeof f.offset!="number"?"offset: number expected":f.color!=null&&f.hasOwnProperty("color")&&!$util$4.isString(f.color)?"color: string expected":null},d.fromObject=function(f){if(f instanceof $root$4.GradientColor)return f;let y=new $root$4.GradientColor;return f.id!=null&&(y.id=f.id|0),f.offset!=null&&(y.offset=Number(f.offset)),f.color!=null&&(y.color=String(f.color)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.id=0,g.offset=0,g.color=""),f.id!=null&&f.hasOwnProperty("id")&&(g.id=f.id),f.offset!=null&&f.hasOwnProperty("offset")&&(g.offset=y.json&&!isFinite(f.offset)?String(f.offset):f.offset),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GradientColor"},d})();$root$4.Gradient=(()=>{function d(h){if(this.palette=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.type=0,d.prototype.angle=0,d.prototype.palette=$util$4.emptyArray,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$4.create()),f.type!=null&&Object.hasOwnProperty.call(f,"type")&&y.uint32(8).int32(f.type),f.angle!=null&&Object.hasOwnProperty.call(f,"angle")&&y.uint32(21).float(f.angle),f.palette!=null&&f.palette.length)for(let g=0;g<f.palette.length;++g)$root$4.GradientColor.encode(f.palette[g],y.uint32(26).fork()).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$4||(f=$Reader$4.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$4.Gradient;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.type=f.int32();break}case 2:{v.angle=f.float();break}case 3:{v.palette&&v.palette.length||(v.palette=[]),v.palette.push($root$4.GradientColor.decode(f,f.uint32()));break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$4||(f=new $Reader$4(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.type!=null&&f.hasOwnProperty("type")&&!$util$4.isInteger(f.type))return"type: integer expected";if(f.angle!=null&&f.hasOwnProperty("angle")&&typeof f.angle!="number")return"angle: number expected";if(f.palette!=null&&f.hasOwnProperty("palette")){if(!Array.isArray(f.palette))return"palette: array expected";for(let y=0;y<f.palette.length;++y){let g=$root$4.GradientColor.verify(f.palette[y]);if(g)return"palette."+g}}return null},d.fromObject=function(f){if(f instanceof $root$4.Gradient)return f;let y=new $root$4.Gradient;if(f.type!=null&&(y.type=f.type|0),f.angle!=null&&(y.angle=Number(f.angle)),f.palette){if(!Array.isArray(f.palette))throw TypeError(".Gradient.palette: array expected");y.palette=[];for(let g=0;g<f.palette.length;++g){if(typeof f.palette[g]!="object")throw TypeError(".Gradient.palette: object expected");y.palette[g]=$root$4.GradientColor.fromObject(f.palette[g])}}return y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.palette=[]),y.defaults&&(g.type=0,g.angle=0),f.type!=null&&f.hasOwnProperty("type")&&(g.type=f.type),f.angle!=null&&f.hasOwnProperty("angle")&&(g.angle=y.json&&!isFinite(f.angle)?String(f.angle):f.angle),f.palette&&f.palette.length){g.palette=[];for(let b=0;b<f.palette.length;++b)g.palette[b]=$root$4.GradientColor.toObject(f.palette[b],y)}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Gradient"},d})();$root$4.PatternTexture=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.buffer=$util$4.newBuffer([]),d.prototype.scale=0,d.prototype.repetition="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$4.create()),f.buffer!=null&&Object.hasOwnProperty.call(f,"buffer")&&y.uint32(10).bytes(f.buffer),f.scale!=null&&Object.hasOwnProperty.call(f,"scale")&&y.uint32(17).double(f.scale),f.repetition!=null&&Object.hasOwnProperty.call(f,"repetition")&&y.uint32(26).string(f.repetition),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$4||(f=$Reader$4.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$4.PatternTexture;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.buffer=f.bytes();break}case 2:{v.scale=f.double();break}case 3:{v.repetition=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$4||(f=new $Reader$4(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.buffer!=null&&f.hasOwnProperty("buffer")&&!(f.buffer&&typeof f.buffer.length=="number"||$util$4.isString(f.buffer))?"buffer: buffer expected":f.scale!=null&&f.hasOwnProperty("scale")&&typeof f.scale!="number"?"scale: number expected":f.repetition!=null&&f.hasOwnProperty("repetition")&&!$util$4.isString(f.repetition)?"repetition: string expected":null},d.fromObject=function(f){if(f instanceof $root$4.PatternTexture)return f;let y=new $root$4.PatternTexture;return f.buffer!=null&&(typeof f.buffer=="string"?$util$4.base64.decode(f.buffer,y.buffer=$util$4.newBuffer($util$4.base64.length(f.buffer)),0):f.buffer.length>=0&&(y.buffer=f.buffer)),f.scale!=null&&(y.scale=Number(f.scale)),f.repetition!=null&&(y.repetition=String(f.repetition)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(y.bytes===String?g.buffer="":(g.buffer=[],y.bytes!==Array&&(g.buffer=$util$4.newBuffer(g.buffer))),g.scale=0,g.repetition=""),f.buffer!=null&&f.hasOwnProperty("buffer")&&(g.buffer=y.bytes===String?$util$4.base64.encode(f.buffer,0,f.buffer.length):y.bytes===Array?Array.prototype.slice.call(f.buffer):f.buffer),f.scale!=null&&f.hasOwnProperty("scale")&&(g.scale=y.json&&!isFinite(f.scale)?String(f.scale):f.scale),f.repetition!=null&&f.hasOwnProperty("repetition")&&(g.repetition=f.repetition),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/PatternTexture"},d})();$root$4.Fill=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.type=0,d.prototype.color="",d.prototype.gradient=null,d.prototype.patternTexture=null,d.prototype.width=0,d.prototype.lineCap="",d.prototype.lineJoin="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$4.create()),f.type!=null&&Object.hasOwnProperty.call(f,"type")&&y.uint32(8).int32(f.type),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(18).string(f.color),f.gradient!=null&&Object.hasOwnProperty.call(f,"gradient")&&$root$4.Gradient.encode(f.gradient,y.uint32(26).fork()).ldelim(),f.patternTexture!=null&&Object.hasOwnProperty.call(f,"patternTexture")&&$root$4.PatternTexture.encode(f.patternTexture,y.uint32(34).fork()).ldelim(),f.width!=null&&Object.hasOwnProperty.call(f,"width")&&y.uint32(40).int32(f.width),f.lineCap!=null&&Object.hasOwnProperty.call(f,"lineCap")&&y.uint32(50).string(f.lineCap),f.lineJoin!=null&&Object.hasOwnProperty.call(f,"lineJoin")&&y.uint32(58).string(f.lineJoin),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$4||(f=$Reader$4.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$4.Fill;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.type=f.int32();break}case 2:{v.color=f.string();break}case 3:{v.gradient=$root$4.Gradient.decode(f,f.uint32());break}case 4:{v.patternTexture=$root$4.PatternTexture.decode(f,f.uint32());break}case 5:{v.width=f.int32();break}case 6:{v.lineCap=f.string();break}case 7:{v.lineJoin=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$4||(f=new $Reader$4(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.type!=null&&f.hasOwnProperty("type")&&!$util$4.isInteger(f.type))return"type: integer expected";if(f.color!=null&&f.hasOwnProperty("color")&&!$util$4.isString(f.color))return"color: string expected";if(f.gradient!=null&&f.hasOwnProperty("gradient")){let y=$root$4.Gradient.verify(f.gradient);if(y)return"gradient."+y}if(f.patternTexture!=null&&f.hasOwnProperty("patternTexture")){let y=$root$4.PatternTexture.verify(f.patternTexture);if(y)return"patternTexture."+y}return f.width!=null&&f.hasOwnProperty("width")&&!$util$4.isInteger(f.width)?"width: integer expected":f.lineCap!=null&&f.hasOwnProperty("lineCap")&&!$util$4.isString(f.lineCap)?"lineCap: string expected":f.lineJoin!=null&&f.hasOwnProperty("lineJoin")&&!$util$4.isString(f.lineJoin)?"lineJoin: string expected":null},d.fromObject=function(f){if(f instanceof $root$4.Fill)return f;let y=new $root$4.Fill;if(f.type!=null&&(y.type=f.type|0),f.color!=null&&(y.color=String(f.color)),f.gradient!=null){if(typeof f.gradient!="object")throw TypeError(".Fill.gradient: object expected");y.gradient=$root$4.Gradient.fromObject(f.gradient)}if(f.patternTexture!=null){if(typeof f.patternTexture!="object")throw TypeError(".Fill.patternTexture: object expected");y.patternTexture=$root$4.PatternTexture.fromObject(f.patternTexture)}return f.width!=null&&(y.width=f.width|0),f.lineCap!=null&&(y.lineCap=String(f.lineCap)),f.lineJoin!=null&&(y.lineJoin=String(f.lineJoin)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.type=0,g.color="",g.gradient=null,g.patternTexture=null,g.width=0,g.lineCap="",g.lineJoin=""),f.type!=null&&f.hasOwnProperty("type")&&(g.type=f.type),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),f.gradient!=null&&f.hasOwnProperty("gradient")&&(g.gradient=$root$4.Gradient.toObject(f.gradient,y)),f.patternTexture!=null&&f.hasOwnProperty("patternTexture")&&(g.patternTexture=$root$4.PatternTexture.toObject(f.patternTexture,y)),f.width!=null&&f.hasOwnProperty("width")&&(g.width=f.width),f.lineCap!=null&&f.hasOwnProperty("lineCap")&&(g.lineCap=f.lineCap),f.lineJoin!=null&&f.hasOwnProperty("lineJoin")&&(g.lineJoin=f.lineJoin),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Fill"},d})();$root$4.FontResource=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.font=$util$4.newBuffer([]),d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$4.create()),f.font!=null&&Object.hasOwnProperty.call(f,"font")&&y.uint32(10).bytes(f.font),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$4||(f=$Reader$4.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$4.FontResource;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.font=f.bytes();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$4||(f=new $Reader$4(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.font!=null&&f.hasOwnProperty("font")&&!(f.font&&typeof f.font.length=="number"||$util$4.isString(f.font))?"font: buffer expected":null},d.fromObject=function(f){if(f instanceof $root$4.FontResource)return f;let y=new $root$4.FontResource;return f.font!=null&&(typeof f.font=="string"?$util$4.base64.decode(f.font,y.font=$util$4.newBuffer($util$4.base64.length(f.font)),0):f.font.length>=0&&(y.font=f.font)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(y.bytes===String?g.font="":(g.font=[],y.bytes!==Array&&(g.font=$util$4.newBuffer(g.font)))),f.font!=null&&f.hasOwnProperty("font")&&(g.font=y.bytes===String?$util$4.base64.encode(f.font,0,f.font.length):y.bytes===Array?Array.prototype.slice.call(f.font):f.font),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/FontResource"},d})();$root$4.Font=(()=>{function d(h){if(this.fonts=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.fonts=$util$4.emptyArray,d.prototype.size=0,d.prototype.lineHeight=0,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$4.create()),f.fonts!=null&&f.fonts.length)for(let g=0;g<f.fonts.length;++g)$root$4.FontResource.encode(f.fonts[g],y.uint32(10).fork()).ldelim();return f.size!=null&&Object.hasOwnProperty.call(f,"size")&&y.uint32(16).int32(f.size),f.lineHeight!=null&&Object.hasOwnProperty.call(f,"lineHeight")&&y.uint32(24).int32(f.lineHeight),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$4||(f=$Reader$4.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$4.Font;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.fonts&&v.fonts.length||(v.fonts=[]),v.fonts.push($root$4.FontResource.decode(f,f.uint32()));break}case 2:{v.size=f.int32();break}case 3:{v.lineHeight=f.int32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$4||(f=new $Reader$4(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.fonts!=null&&f.hasOwnProperty("fonts")){if(!Array.isArray(f.fonts))return"fonts: array expected";for(let y=0;y<f.fonts.length;++y){let g=$root$4.FontResource.verify(f.fonts[y]);if(g)return"fonts."+g}}return f.size!=null&&f.hasOwnProperty("size")&&!$util$4.isInteger(f.size)?"size: integer expected":f.lineHeight!=null&&f.hasOwnProperty("lineHeight")&&!$util$4.isInteger(f.lineHeight)?"lineHeight: integer expected":null},d.fromObject=function(f){if(f instanceof $root$4.Font)return f;let y=new $root$4.Font;if(f.fonts){if(!Array.isArray(f.fonts))throw TypeError(".Font.fonts: array expected");y.fonts=[];for(let g=0;g<f.fonts.length;++g){if(typeof f.fonts[g]!="object")throw TypeError(".Font.fonts: object expected");y.fonts[g]=$root$4.FontResource.fromObject(f.fonts[g])}}return f.size!=null&&(y.size=f.size|0),f.lineHeight!=null&&(y.lineHeight=f.lineHeight|0),y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.fonts=[]),y.defaults&&(g.size=0,g.lineHeight=0),f.fonts&&f.fonts.length){g.fonts=[];for(let b=0;b<f.fonts.length;++b)g.fonts[b]=$root$4.FontResource.toObject(f.fonts[b],y)}return f.size!=null&&f.hasOwnProperty("size")&&(g.size=f.size),f.lineHeight!=null&&f.hasOwnProperty("lineHeight")&&(g.lineHeight=f.lineHeight),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Font"},d})();$root$4.GlyphFont=(()=>{function d(h){if(this.kerning={},h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.letter="",d.prototype.adjustMetric=null,d.prototype.kerning=$util$4.emptyObject,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$4.create()),f.letter!=null&&Object.hasOwnProperty.call(f,"letter")&&y.uint32(10).string(f.letter),f.adjustMetric!=null&&Object.hasOwnProperty.call(f,"adjustMetric")&&$root$4.Metric.encode(f.adjustMetric,y.uint32(18).fork()).ldelim(),f.kerning!=null&&Object.hasOwnProperty.call(f,"kerning"))for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.uint32(26).fork().uint32(10).string(g[b]).uint32(16).int32(f.kerning[g[b]]).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$4||(f=$Reader$4.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$4.GlyphFont,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.letter=f.string();break}case 2:{v.adjustMetric=$root$4.Metric.decode(f,f.uint32());break}case 3:{v.kerning===$util$4.emptyObject&&(v.kerning={});let T=f.uint32()+f.pos;for(S="",O=0;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=f.int32();break;default:f.skipType(E&7);break}}v.kerning[S]=O;break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$4||(f=new $Reader$4(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.letter!=null&&f.hasOwnProperty("letter")&&!$util$4.isString(f.letter))return"letter: string expected";if(f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")){let y=$root$4.Metric.verify(f.adjustMetric);if(y)return"adjustMetric."+y}if(f.kerning!=null&&f.hasOwnProperty("kerning")){if(!$util$4.isObject(f.kerning))return"kerning: object expected";let y=Object.keys(f.kerning);for(let g=0;g<y.length;++g)if(!$util$4.isInteger(f.kerning[y[g]]))return"kerning: integer{k:string} expected"}return null},d.fromObject=function(f){if(f instanceof $root$4.GlyphFont)return f;let y=new $root$4.GlyphFont;if(f.letter!=null&&(y.letter=String(f.letter)),f.adjustMetric!=null){if(typeof f.adjustMetric!="object")throw TypeError(".GlyphFont.adjustMetric: object expected");y.adjustMetric=$root$4.Metric.fromObject(f.adjustMetric)}if(f.kerning){if(typeof f.kerning!="object")throw TypeError(".GlyphFont.kerning: object expected");y.kerning={};for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.kerning[g[b]]=f.kerning[g[b]]|0}return y},d.toObject=function(f,y){y||(y={});let g={};(y.objects||y.defaults)&&(g.kerning={}),y.defaults&&(g.letter="",g.adjustMetric=null),f.letter!=null&&f.hasOwnProperty("letter")&&(g.letter=f.letter),f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")&&(g.adjustMetric=$root$4.Metric.toObject(f.adjustMetric,y));let b;if(f.kerning&&(b=Object.keys(f.kerning)).length){g.kerning={};for(let v=0;v<b.length;++v)g.kerning[b[v]]=f.kerning[b[v]]}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GlyphFont"},d})();$root$4.GlyphImage=(()=>{function d(h){if(this.kerning={},h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.letter="",d.prototype.adjustMetric=null,d.prototype.buffer=$util$4.newBuffer([]),d.prototype.fileName="",d.prototype.fileType="",d.prototype.selected=!1,d.prototype.kerning=$util$4.emptyObject,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$4.create()),f.letter!=null&&Object.hasOwnProperty.call(f,"letter")&&y.uint32(10).string(f.letter),f.adjustMetric!=null&&Object.hasOwnProperty.call(f,"adjustMetric")&&$root$4.Metric.encode(f.adjustMetric,y.uint32(18).fork()).ldelim(),f.buffer!=null&&Object.hasOwnProperty.call(f,"buffer")&&y.uint32(26).bytes(f.buffer),f.fileName!=null&&Object.hasOwnProperty.call(f,"fileName")&&y.uint32(34).string(f.fileName),f.fileType!=null&&Object.hasOwnProperty.call(f,"fileType")&&y.uint32(42).string(f.fileType),f.selected!=null&&Object.hasOwnProperty.call(f,"selected")&&y.uint32(48).bool(f.selected),f.kerning!=null&&Object.hasOwnProperty.call(f,"kerning"))for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.uint32(58).fork().uint32(10).string(g[b]).uint32(16).int32(f.kerning[g[b]]).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$4||(f=$Reader$4.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$4.GlyphImage,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.letter=f.string();break}case 2:{v.adjustMetric=$root$4.Metric.decode(f,f.uint32());break}case 3:{v.buffer=f.bytes();break}case 4:{v.fileName=f.string();break}case 5:{v.fileType=f.string();break}case 6:{v.selected=f.bool();break}case 7:{v.kerning===$util$4.emptyObject&&(v.kerning={});let T=f.uint32()+f.pos;for(S="",O=0;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=f.int32();break;default:f.skipType(E&7);break}}v.kerning[S]=O;break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$4||(f=new $Reader$4(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.letter!=null&&f.hasOwnProperty("letter")&&!$util$4.isString(f.letter))return"letter: string expected";if(f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")){let y=$root$4.Metric.verify(f.adjustMetric);if(y)return"adjustMetric."+y}if(f.buffer!=null&&f.hasOwnProperty("buffer")&&!(f.buffer&&typeof f.buffer.length=="number"||$util$4.isString(f.buffer)))return"buffer: buffer expected";if(f.fileName!=null&&f.hasOwnProperty("fileName")&&!$util$4.isString(f.fileName))return"fileName: string expected";if(f.fileType!=null&&f.hasOwnProperty("fileType")&&!$util$4.isString(f.fileType))return"fileType: string expected";if(f.selected!=null&&f.hasOwnProperty("selected")&&typeof f.selected!="boolean")return"selected: boolean expected";if(f.kerning!=null&&f.hasOwnProperty("kerning")){if(!$util$4.isObject(f.kerning))return"kerning: object expected";let y=Object.keys(f.kerning);for(let g=0;g<y.length;++g)if(!$util$4.isInteger(f.kerning[y[g]]))return"kerning: integer{k:string} expected"}return null},d.fromObject=function(f){if(f instanceof $root$4.GlyphImage)return f;let y=new $root$4.GlyphImage;if(f.letter!=null&&(y.letter=String(f.letter)),f.adjustMetric!=null){if(typeof f.adjustMetric!="object")throw TypeError(".GlyphImage.adjustMetric: object expected");y.adjustMetric=$root$4.Metric.fromObject(f.adjustMetric)}if(f.buffer!=null&&(typeof f.buffer=="string"?$util$4.base64.decode(f.buffer,y.buffer=$util$4.newBuffer($util$4.base64.length(f.buffer)),0):f.buffer.length>=0&&(y.buffer=f.buffer)),f.fileName!=null&&(y.fileName=String(f.fileName)),f.fileType!=null&&(y.fileType=String(f.fileType)),f.selected!=null&&(y.selected=!!f.selected),f.kerning){if(typeof f.kerning!="object")throw TypeError(".GlyphImage.kerning: object expected");y.kerning={};for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.kerning[g[b]]=f.kerning[g[b]]|0}return y},d.toObject=function(f,y){y||(y={});let g={};(y.objects||y.defaults)&&(g.kerning={}),y.defaults&&(g.letter="",g.adjustMetric=null,y.bytes===String?g.buffer="":(g.buffer=[],y.bytes!==Array&&(g.buffer=$util$4.newBuffer(g.buffer))),g.fileName="",g.fileType="",g.selected=!1),f.letter!=null&&f.hasOwnProperty("letter")&&(g.letter=f.letter),f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")&&(g.adjustMetric=$root$4.Metric.toObject(f.adjustMetric,y)),f.buffer!=null&&f.hasOwnProperty("buffer")&&(g.buffer=y.bytes===String?$util$4.base64.encode(f.buffer,0,f.buffer.length):y.bytes===Array?Array.prototype.slice.call(f.buffer):f.buffer),f.fileName!=null&&f.hasOwnProperty("fileName")&&(g.fileName=f.fileName),f.fileType!=null&&f.hasOwnProperty("fileType")&&(g.fileType=f.fileType),f.selected!=null&&f.hasOwnProperty("selected")&&(g.selected=f.selected);let b;if(f.kerning&&(b=Object.keys(f.kerning)).length){g.kerning={};for(let v=0;v<b.length;++v)g.kerning[b[v]]=f.kerning[b[v]]}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GlyphImage"},d})();$root$4.Layout=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.padding=0,d.prototype.spacing=0,d.prototype.width=0,d.prototype.height=0,d.prototype.auto=!1,d.prototype.fixedSize=!1,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$4.create()),f.padding!=null&&Object.hasOwnProperty.call(f,"padding")&&y.uint32(8).int32(f.padding),f.spacing!=null&&Object.hasOwnProperty.call(f,"spacing")&&y.uint32(16).int32(f.spacing),f.width!=null&&Object.hasOwnProperty.call(f,"width")&&y.uint32(24).int32(f.width),f.height!=null&&Object.hasOwnProperty.call(f,"height")&&y.uint32(32).int32(f.height),f.auto!=null&&Object.hasOwnProperty.call(f,"auto")&&y.uint32(40).bool(f.auto),f.fixedSize!=null&&Object.hasOwnProperty.call(f,"fixedSize")&&y.uint32(48).bool(f.fixedSize),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$4||(f=$Reader$4.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$4.Layout;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.padding=f.int32();break}case 2:{v.spacing=f.int32();break}case 3:{v.width=f.int32();break}case 4:{v.height=f.int32();break}case 5:{v.auto=f.bool();break}case 6:{v.fixedSize=f.bool();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$4||(f=new $Reader$4(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.padding!=null&&f.hasOwnProperty("padding")&&!$util$4.isInteger(f.padding)?"padding: integer expected":f.spacing!=null&&f.hasOwnProperty("spacing")&&!$util$4.isInteger(f.spacing)?"spacing: integer expected":f.width!=null&&f.hasOwnProperty("width")&&!$util$4.isInteger(f.width)?"width: integer expected":f.height!=null&&f.hasOwnProperty("height")&&!$util$4.isInteger(f.height)?"height: integer expected":f.auto!=null&&f.hasOwnProperty("auto")&&typeof f.auto!="boolean"?"auto: boolean expected":f.fixedSize!=null&&f.hasOwnProperty("fixedSize")&&typeof f.fixedSize!="boolean"?"fixedSize: boolean expected":null},d.fromObject=function(f){if(f instanceof $root$4.Layout)return f;let y=new $root$4.Layout;return f.padding!=null&&(y.padding=f.padding|0),f.spacing!=null&&(y.spacing=f.spacing|0),f.width!=null&&(y.width=f.width|0),f.height!=null&&(y.height=f.height|0),f.auto!=null&&(y.auto=!!f.auto),f.fixedSize!=null&&(y.fixedSize=!!f.fixedSize),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.padding=0,g.spacing=0,g.width=0,g.height=0,g.auto=!1,g.fixedSize=!1),f.padding!=null&&f.hasOwnProperty("padding")&&(g.padding=f.padding),f.spacing!=null&&f.hasOwnProperty("spacing")&&(g.spacing=f.spacing),f.width!=null&&f.hasOwnProperty("width")&&(g.width=f.width),f.height!=null&&f.hasOwnProperty("height")&&(g.height=f.height),f.auto!=null&&f.hasOwnProperty("auto")&&(g.auto=f.auto),f.fixedSize!=null&&f.hasOwnProperty("fixedSize")&&(g.fixedSize=f.fixedSize),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Layout"},d})();$root$4.Shadow=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.color="",d.prototype.blur=0,d.prototype.offsetX=0,d.prototype.offsetY=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$4.create()),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(10).string(f.color),f.blur!=null&&Object.hasOwnProperty.call(f,"blur")&&y.uint32(16).int32(f.blur),f.offsetX!=null&&Object.hasOwnProperty.call(f,"offsetX")&&y.uint32(24).sint32(f.offsetX),f.offsetY!=null&&Object.hasOwnProperty.call(f,"offsetY")&&y.uint32(32).sint32(f.offsetY),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$4||(f=$Reader$4.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$4.Shadow;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.color=f.string();break}case 2:{v.blur=f.int32();break}case 3:{v.offsetX=f.sint32();break}case 4:{v.offsetY=f.sint32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$4||(f=new $Reader$4(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.color!=null&&f.hasOwnProperty("color")&&!$util$4.isString(f.color)?"color: string expected":f.blur!=null&&f.hasOwnProperty("blur")&&!$util$4.isInteger(f.blur)?"blur: integer expected":f.offsetX!=null&&f.hasOwnProperty("offsetX")&&!$util$4.isInteger(f.offsetX)?"offsetX: integer expected":f.offsetY!=null&&f.hasOwnProperty("offsetY")&&!$util$4.isInteger(f.offsetY)?"offsetY: integer expected":null},d.fromObject=function(f){if(f instanceof $root$4.Shadow)return f;let y=new $root$4.Shadow;return f.color!=null&&(y.color=String(f.color)),f.blur!=null&&(y.blur=f.blur|0),f.offsetX!=null&&(y.offsetX=f.offsetX|0),f.offsetY!=null&&(y.offsetY=f.offsetY|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.color="",g.blur=0,g.offsetX=0,g.offsetY=0),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),f.blur!=null&&f.hasOwnProperty("blur")&&(g.blur=f.blur),f.offsetX!=null&&f.hasOwnProperty("offsetX")&&(g.offsetX=f.offsetX),f.offsetY!=null&&f.hasOwnProperty("offsetY")&&(g.offsetY=f.offsetY),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Shadow"},d})();$root$4.Style=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.font=null,d.prototype.fill=null,d.prototype.useStroke=!1,d.prototype.stroke=null,d.prototype.useShadow=!1,d.prototype.shadow=null,d.prototype.bgColor="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$4.create()),f.font!=null&&Object.hasOwnProperty.call(f,"font")&&$root$4.Font.encode(f.font,y.uint32(10).fork()).ldelim(),f.fill!=null&&Object.hasOwnProperty.call(f,"fill")&&$root$4.Fill.encode(f.fill,y.uint32(18).fork()).ldelim(),f.useStroke!=null&&Object.hasOwnProperty.call(f,"useStroke")&&y.uint32(24).bool(f.useStroke),f.stroke!=null&&Object.hasOwnProperty.call(f,"stroke")&&$root$4.Fill.encode(f.stroke,y.uint32(34).fork()).ldelim(),f.useShadow!=null&&Object.hasOwnProperty.call(f,"useShadow")&&y.uint32(40).bool(f.useShadow),f.shadow!=null&&Object.hasOwnProperty.call(f,"shadow")&&$root$4.Shadow.encode(f.shadow,y.uint32(50).fork()).ldelim(),f.bgColor!=null&&Object.hasOwnProperty.call(f,"bgColor")&&y.uint32(58).string(f.bgColor),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$4||(f=$Reader$4.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$4.Style;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.font=$root$4.Font.decode(f,f.uint32());break}case 2:{v.fill=$root$4.Fill.decode(f,f.uint32());break}case 3:{v.useStroke=f.bool();break}case 4:{v.stroke=$root$4.Fill.decode(f,f.uint32());break}case 5:{v.useShadow=f.bool();break}case 6:{v.shadow=$root$4.Shadow.decode(f,f.uint32());break}case 7:{v.bgColor=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$4||(f=new $Reader$4(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.font!=null&&f.hasOwnProperty("font")){let y=$root$4.Font.verify(f.font);if(y)return"font."+y}if(f.fill!=null&&f.hasOwnProperty("fill")){let y=$root$4.Fill.verify(f.fill);if(y)return"fill."+y}if(f.useStroke!=null&&f.hasOwnProperty("useStroke")&&typeof f.useStroke!="boolean")return"useStroke: boolean expected";if(f.stroke!=null&&f.hasOwnProperty("stroke")){let y=$root$4.Fill.verify(f.stroke);if(y)return"stroke."+y}if(f.useShadow!=null&&f.hasOwnProperty("useShadow")&&typeof f.useShadow!="boolean")return"useShadow: boolean expected";if(f.shadow!=null&&f.hasOwnProperty("shadow")){let y=$root$4.Shadow.verify(f.shadow);if(y)return"shadow."+y}return f.bgColor!=null&&f.hasOwnProperty("bgColor")&&!$util$4.isString(f.bgColor)?"bgColor: string expected":null},d.fromObject=function(f){if(f instanceof $root$4.Style)return f;let y=new $root$4.Style;if(f.font!=null){if(typeof f.font!="object")throw TypeError(".Style.font: object expected");y.font=$root$4.Font.fromObject(f.font)}if(f.fill!=null){if(typeof f.fill!="object")throw TypeError(".Style.fill: object expected");y.fill=$root$4.Fill.fromObject(f.fill)}if(f.useStroke!=null&&(y.useStroke=!!f.useStroke),f.stroke!=null){if(typeof f.stroke!="object")throw TypeError(".Style.stroke: object expected");y.stroke=$root$4.Fill.fromObject(f.stroke)}if(f.useShadow!=null&&(y.useShadow=!!f.useShadow),f.shadow!=null){if(typeof f.shadow!="object")throw TypeError(".Style.shadow: object expected");y.shadow=$root$4.Shadow.fromObject(f.shadow)}return f.bgColor!=null&&(y.bgColor=String(f.bgColor)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.font=null,g.fill=null,g.useStroke=!1,g.stroke=null,g.useShadow=!1,g.shadow=null,g.bgColor=""),f.font!=null&&f.hasOwnProperty("font")&&(g.font=$root$4.Font.toObject(f.font,y)),f.fill!=null&&f.hasOwnProperty("fill")&&(g.fill=$root$4.Fill.toObject(f.fill,y)),f.useStroke!=null&&f.hasOwnProperty("useStroke")&&(g.useStroke=f.useStroke),f.stroke!=null&&f.hasOwnProperty("stroke")&&(g.stroke=$root$4.Fill.toObject(f.stroke,y)),f.useShadow!=null&&f.hasOwnProperty("useShadow")&&(g.useShadow=f.useShadow),f.shadow!=null&&f.hasOwnProperty("shadow")&&(g.shadow=$root$4.Shadow.toObject(f.shadow,y)),f.bgColor!=null&&f.hasOwnProperty("bgColor")&&(g.bgColor=f.bgColor),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Style"},d})();$root$4.Ui=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.previewText="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$4.create()),f.previewText!=null&&Object.hasOwnProperty.call(f,"previewText")&&y.uint32(10).string(f.previewText),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$4||(f=$Reader$4.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$4.Ui;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.previewText=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$4||(f=new $Reader$4(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.previewText!=null&&f.hasOwnProperty("previewText")&&!$util$4.isString(f.previewText)?"previewText: string expected":null},d.fromObject=function(f){if(f instanceof $root$4.Ui)return f;let y=new $root$4.Ui;return f.previewText!=null&&(y.previewText=String(f.previewText)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.previewText=""),f.previewText!=null&&f.hasOwnProperty("previewText")&&(g.previewText=f.previewText),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Ui"},d})();const Project$4=$root$4.Project=(()=>{function d(h){if(this.glyphs={},this.glyphImages=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.id=$util$4.Long?$util$4.Long.fromBits(0,0,!1):0,d.prototype.name="",d.prototype.text="",d.prototype.glyphs=$util$4.emptyObject,d.prototype.glyphImages=$util$4.emptyArray,d.prototype.style=null,d.prototype.layout=null,d.prototype.globalAdjustMetric=null,d.prototype.ui=null,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$4.create()),f.id!=null&&Object.hasOwnProperty.call(f,"id")&&y.uint32(8).int64(f.id),f.name!=null&&Object.hasOwnProperty.call(f,"name")&&y.uint32(18).string(f.name),f.text!=null&&Object.hasOwnProperty.call(f,"text")&&y.uint32(26).string(f.text),f.glyphs!=null&&Object.hasOwnProperty.call(f,"glyphs"))for(let g=Object.keys(f.glyphs),b=0;b<g.length;++b)y.uint32(34).fork().uint32(10).string(g[b]),$root$4.GlyphFont.encode(f.glyphs[g[b]],y.uint32(18).fork()).ldelim().ldelim();if(f.glyphImages!=null&&f.glyphImages.length)for(let g=0;g<f.glyphImages.length;++g)$root$4.GlyphImage.encode(f.glyphImages[g],y.uint32(42).fork()).ldelim();return f.style!=null&&Object.hasOwnProperty.call(f,"style")&&$root$4.Style.encode(f.style,y.uint32(50).fork()).ldelim(),f.layout!=null&&Object.hasOwnProperty.call(f,"layout")&&$root$4.Layout.encode(f.layout,y.uint32(58).fork()).ldelim(),f.globalAdjustMetric!=null&&Object.hasOwnProperty.call(f,"globalAdjustMetric")&&$root$4.Metric.encode(f.globalAdjustMetric,y.uint32(66).fork()).ldelim(),f.ui!=null&&Object.hasOwnProperty.call(f,"ui")&&$root$4.Ui.encode(f.ui,y.uint32(74).fork()).ldelim(),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$4||(f=$Reader$4.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$4.Project,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.id=f.int64();break}case 2:{v.name=f.string();break}case 3:{v.text=f.string();break}case 4:{v.glyphs===$util$4.emptyObject&&(v.glyphs={});let T=f.uint32()+f.pos;for(S="",O=null;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=$root$4.GlyphFont.decode(f,f.uint32());break;default:f.skipType(E&7);break}}v.glyphs[S]=O;break}case 5:{v.glyphImages&&v.glyphImages.length||(v.glyphImages=[]),v.glyphImages.push($root$4.GlyphImage.decode(f,f.uint32()));break}case 6:{v.style=$root$4.Style.decode(f,f.uint32());break}case 7:{v.layout=$root$4.Layout.decode(f,f.uint32());break}case 8:{v.globalAdjustMetric=$root$4.Metric.decode(f,f.uint32());break}case 9:{v.ui=$root$4.Ui.decode(f,f.uint32());break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$4||(f=new $Reader$4(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.id!=null&&f.hasOwnProperty("id")&&!$util$4.isInteger(f.id)&&!(f.id&&$util$4.isInteger(f.id.low)&&$util$4.isInteger(f.id.high)))return"id: integer|Long expected";if(f.name!=null&&f.hasOwnProperty("name")&&!$util$4.isString(f.name))return"name: string expected";if(f.text!=null&&f.hasOwnProperty("text")&&!$util$4.isString(f.text))return"text: string expected";if(f.glyphs!=null&&f.hasOwnProperty("glyphs")){if(!$util$4.isObject(f.glyphs))return"glyphs: object expected";let y=Object.keys(f.glyphs);for(let g=0;g<y.length;++g){let b=$root$4.GlyphFont.verify(f.glyphs[y[g]]);if(b)return"glyphs."+b}}if(f.glyphImages!=null&&f.hasOwnProperty("glyphImages")){if(!Array.isArray(f.glyphImages))return"glyphImages: array expected";for(let y=0;y<f.glyphImages.length;++y){let g=$root$4.GlyphImage.verify(f.glyphImages[y]);if(g)return"glyphImages."+g}}if(f.style!=null&&f.hasOwnProperty("style")){let y=$root$4.Style.verify(f.style);if(y)return"style."+y}if(f.layout!=null&&f.hasOwnProperty("layout")){let y=$root$4.Layout.verify(f.layout);if(y)return"layout."+y}if(f.globalAdjustMetric!=null&&f.hasOwnProperty("globalAdjustMetric")){let y=$root$4.Metric.verify(f.globalAdjustMetric);if(y)return"globalAdjustMetric."+y}if(f.ui!=null&&f.hasOwnProperty("ui")){let y=$root$4.Ui.verify(f.ui);if(y)return"ui."+y}return null},d.fromObject=function(f){if(f instanceof $root$4.Project)return f;let y=new $root$4.Project;if(f.id!=null&&($util$4.Long?(y.id=$util$4.Long.fromValue(f.id)).unsigned=!1:typeof f.id=="string"?y.id=parseInt(f.id,10):typeof f.id=="number"?y.id=f.id:typeof f.id=="object"&&(y.id=new $util$4.LongBits(f.id.low>>>0,f.id.high>>>0).toNumber())),f.name!=null&&(y.name=String(f.name)),f.text!=null&&(y.text=String(f.text)),f.glyphs){if(typeof f.glyphs!="object")throw TypeError(".Project.glyphs: object expected");y.glyphs={};for(let g=Object.keys(f.glyphs),b=0;b<g.length;++b){if(typeof f.glyphs[g[b]]!="object")throw TypeError(".Project.glyphs: object expected");y.glyphs[g[b]]=$root$4.GlyphFont.fromObject(f.glyphs[g[b]])}}if(f.glyphImages){if(!Array.isArray(f.glyphImages))throw TypeError(".Project.glyphImages: array expected");y.glyphImages=[];for(let g=0;g<f.glyphImages.length;++g){if(typeof f.glyphImages[g]!="object")throw TypeError(".Project.glyphImages: object expected");y.glyphImages[g]=$root$4.GlyphImage.fromObject(f.glyphImages[g])}}if(f.style!=null){if(typeof f.style!="object")throw TypeError(".Project.style: object expected");y.style=$root$4.Style.fromObject(f.style)}if(f.layout!=null){if(typeof f.layout!="object")throw TypeError(".Project.layout: object expected");y.layout=$root$4.Layout.fromObject(f.layout)}if(f.globalAdjustMetric!=null){if(typeof f.globalAdjustMetric!="object")throw TypeError(".Project.globalAdjustMetric: object expected");y.globalAdjustMetric=$root$4.Metric.fromObject(f.globalAdjustMetric)}if(f.ui!=null){if(typeof f.ui!="object")throw TypeError(".Project.ui: object expected");y.ui=$root$4.Ui.fromObject(f.ui)}return y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.glyphImages=[]),(y.objects||y.defaults)&&(g.glyphs={}),y.defaults){if($util$4.Long){let v=new $util$4.Long(0,0,!1);g.id=y.longs===String?v.toString():y.longs===Number?v.toNumber():v}else g.id=y.longs===String?"0":0;g.name="",g.text="",g.style=null,g.layout=null,g.globalAdjustMetric=null,g.ui=null}f.id!=null&&f.hasOwnProperty("id")&&(typeof f.id=="number"?g.id=y.longs===String?String(f.id):f.id:g.id=y.longs===String?$util$4.Long.prototype.toString.call(f.id):y.longs===Number?new $util$4.LongBits(f.id.low>>>0,f.id.high>>>0).toNumber():f.id),f.name!=null&&f.hasOwnProperty("name")&&(g.name=f.name),f.text!=null&&f.hasOwnProperty("text")&&(g.text=f.text);let b;if(f.glyphs&&(b=Object.keys(f.glyphs)).length){g.glyphs={};for(let v=0;v<b.length;++v)g.glyphs[b[v]]=$root$4.GlyphFont.toObject(f.glyphs[b[v]],y)}if(f.glyphImages&&f.glyphImages.length){g.glyphImages=[];for(let v=0;v<f.glyphImages.length;++v)g.glyphImages[v]=$root$4.GlyphImage.toObject(f.glyphImages[v],y)}return f.style!=null&&f.hasOwnProperty("style")&&(g.style=$root$4.Style.toObject(f.style,y)),f.layout!=null&&f.hasOwnProperty("layout")&&(g.layout=$root$4.Layout.toObject(f.layout,y)),f.globalAdjustMetric!=null&&f.hasOwnProperty("globalAdjustMetric")&&(g.globalAdjustMetric=$root$4.Metric.toObject(f.globalAdjustMetric,y)),f.ui!=null&&f.hasOwnProperty("ui")&&(g.ui=$root$4.Ui.toObject(f.ui,y)),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Project"},d})();function updateToNext$4(d){var h,f,y,g;return(h=d.style)!=null&&h.stroke&&(((f=d.style)==null?void 0:f.stroke).strokeType=((g=(y=d.style)==null?void 0:y.stroke)==null?void 0:g.strokeType)||0),d}const $Reader$3=minimalExports.Reader,$Writer$3=minimalExports.Writer,$util$3=minimalExports.util,$root$3={};$root$3.Metric=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.xAdvance=0,d.prototype.xOffset=0,d.prototype.yOffset=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$3.create()),f.xAdvance!=null&&Object.hasOwnProperty.call(f,"xAdvance")&&y.uint32(8).sint32(f.xAdvance),f.xOffset!=null&&Object.hasOwnProperty.call(f,"xOffset")&&y.uint32(16).sint32(f.xOffset),f.yOffset!=null&&Object.hasOwnProperty.call(f,"yOffset")&&y.uint32(24).sint32(f.yOffset),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$3||(f=$Reader$3.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$3.Metric;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.xAdvance=f.sint32();break}case 2:{v.xOffset=f.sint32();break}case 3:{v.yOffset=f.sint32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$3||(f=new $Reader$3(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.xAdvance!=null&&f.hasOwnProperty("xAdvance")&&!$util$3.isInteger(f.xAdvance)?"xAdvance: integer expected":f.xOffset!=null&&f.hasOwnProperty("xOffset")&&!$util$3.isInteger(f.xOffset)?"xOffset: integer expected":f.yOffset!=null&&f.hasOwnProperty("yOffset")&&!$util$3.isInteger(f.yOffset)?"yOffset: integer expected":null},d.fromObject=function(f){if(f instanceof $root$3.Metric)return f;let y=new $root$3.Metric;return f.xAdvance!=null&&(y.xAdvance=f.xAdvance|0),f.xOffset!=null&&(y.xOffset=f.xOffset|0),f.yOffset!=null&&(y.yOffset=f.yOffset|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.xAdvance=0,g.xOffset=0,g.yOffset=0),f.xAdvance!=null&&f.hasOwnProperty("xAdvance")&&(g.xAdvance=f.xAdvance),f.xOffset!=null&&f.hasOwnProperty("xOffset")&&(g.xOffset=f.xOffset),f.yOffset!=null&&f.hasOwnProperty("yOffset")&&(g.yOffset=f.yOffset),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Metric"},d})();$root$3.GradientColor=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.id=0,d.prototype.offset=0,d.prototype.color="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$3.create()),f.id!=null&&Object.hasOwnProperty.call(f,"id")&&y.uint32(8).int32(f.id),f.offset!=null&&Object.hasOwnProperty.call(f,"offset")&&y.uint32(21).float(f.offset),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(26).string(f.color),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$3||(f=$Reader$3.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$3.GradientColor;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.id=f.int32();break}case 2:{v.offset=f.float();break}case 3:{v.color=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$3||(f=new $Reader$3(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.id!=null&&f.hasOwnProperty("id")&&!$util$3.isInteger(f.id)?"id: integer expected":f.offset!=null&&f.hasOwnProperty("offset")&&typeof f.offset!="number"?"offset: number expected":f.color!=null&&f.hasOwnProperty("color")&&!$util$3.isString(f.color)?"color: string expected":null},d.fromObject=function(f){if(f instanceof $root$3.GradientColor)return f;let y=new $root$3.GradientColor;return f.id!=null&&(y.id=f.id|0),f.offset!=null&&(y.offset=Number(f.offset)),f.color!=null&&(y.color=String(f.color)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.id=0,g.offset=0,g.color=""),f.id!=null&&f.hasOwnProperty("id")&&(g.id=f.id),f.offset!=null&&f.hasOwnProperty("offset")&&(g.offset=y.json&&!isFinite(f.offset)?String(f.offset):f.offset),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GradientColor"},d})();$root$3.Gradient=(()=>{function d(h){if(this.palette=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.type=0,d.prototype.angle=0,d.prototype.palette=$util$3.emptyArray,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$3.create()),f.type!=null&&Object.hasOwnProperty.call(f,"type")&&y.uint32(8).int32(f.type),f.angle!=null&&Object.hasOwnProperty.call(f,"angle")&&y.uint32(21).float(f.angle),f.palette!=null&&f.palette.length)for(let g=0;g<f.palette.length;++g)$root$3.GradientColor.encode(f.palette[g],y.uint32(26).fork()).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$3||(f=$Reader$3.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$3.Gradient;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.type=f.int32();break}case 2:{v.angle=f.float();break}case 3:{v.palette&&v.palette.length||(v.palette=[]),v.palette.push($root$3.GradientColor.decode(f,f.uint32()));break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$3||(f=new $Reader$3(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.type!=null&&f.hasOwnProperty("type")&&!$util$3.isInteger(f.type))return"type: integer expected";if(f.angle!=null&&f.hasOwnProperty("angle")&&typeof f.angle!="number")return"angle: number expected";if(f.palette!=null&&f.hasOwnProperty("palette")){if(!Array.isArray(f.palette))return"palette: array expected";for(let y=0;y<f.palette.length;++y){let g=$root$3.GradientColor.verify(f.palette[y]);if(g)return"palette."+g}}return null},d.fromObject=function(f){if(f instanceof $root$3.Gradient)return f;let y=new $root$3.Gradient;if(f.type!=null&&(y.type=f.type|0),f.angle!=null&&(y.angle=Number(f.angle)),f.palette){if(!Array.isArray(f.palette))throw TypeError(".Gradient.palette: array expected");y.palette=[];for(let g=0;g<f.palette.length;++g){if(typeof f.palette[g]!="object")throw TypeError(".Gradient.palette: object expected");y.palette[g]=$root$3.GradientColor.fromObject(f.palette[g])}}return y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.palette=[]),y.defaults&&(g.type=0,g.angle=0),f.type!=null&&f.hasOwnProperty("type")&&(g.type=f.type),f.angle!=null&&f.hasOwnProperty("angle")&&(g.angle=y.json&&!isFinite(f.angle)?String(f.angle):f.angle),f.palette&&f.palette.length){g.palette=[];for(let b=0;b<f.palette.length;++b)g.palette[b]=$root$3.GradientColor.toObject(f.palette[b],y)}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Gradient"},d})();$root$3.PatternTexture=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.buffer=$util$3.newBuffer([]),d.prototype.scale=0,d.prototype.repetition="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$3.create()),f.buffer!=null&&Object.hasOwnProperty.call(f,"buffer")&&y.uint32(10).bytes(f.buffer),f.scale!=null&&Object.hasOwnProperty.call(f,"scale")&&y.uint32(17).double(f.scale),f.repetition!=null&&Object.hasOwnProperty.call(f,"repetition")&&y.uint32(26).string(f.repetition),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$3||(f=$Reader$3.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$3.PatternTexture;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.buffer=f.bytes();break}case 2:{v.scale=f.double();break}case 3:{v.repetition=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$3||(f=new $Reader$3(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.buffer!=null&&f.hasOwnProperty("buffer")&&!(f.buffer&&typeof f.buffer.length=="number"||$util$3.isString(f.buffer))?"buffer: buffer expected":f.scale!=null&&f.hasOwnProperty("scale")&&typeof f.scale!="number"?"scale: number expected":f.repetition!=null&&f.hasOwnProperty("repetition")&&!$util$3.isString(f.repetition)?"repetition: string expected":null},d.fromObject=function(f){if(f instanceof $root$3.PatternTexture)return f;let y=new $root$3.PatternTexture;return f.buffer!=null&&(typeof f.buffer=="string"?$util$3.base64.decode(f.buffer,y.buffer=$util$3.newBuffer($util$3.base64.length(f.buffer)),0):f.buffer.length>=0&&(y.buffer=f.buffer)),f.scale!=null&&(y.scale=Number(f.scale)),f.repetition!=null&&(y.repetition=String(f.repetition)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(y.bytes===String?g.buffer="":(g.buffer=[],y.bytes!==Array&&(g.buffer=$util$3.newBuffer(g.buffer))),g.scale=0,g.repetition=""),f.buffer!=null&&f.hasOwnProperty("buffer")&&(g.buffer=y.bytes===String?$util$3.base64.encode(f.buffer,0,f.buffer.length):y.bytes===Array?Array.prototype.slice.call(f.buffer):f.buffer),f.scale!=null&&f.hasOwnProperty("scale")&&(g.scale=y.json&&!isFinite(f.scale)?String(f.scale):f.scale),f.repetition!=null&&f.hasOwnProperty("repetition")&&(g.repetition=f.repetition),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/PatternTexture"},d})();$root$3.Fill=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.type=0,d.prototype.color="",d.prototype.gradient=null,d.prototype.patternTexture=null,d.prototype.width=0,d.prototype.lineCap="",d.prototype.lineJoin="",d.prototype.strokeType=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$3.create()),f.type!=null&&Object.hasOwnProperty.call(f,"type")&&y.uint32(8).int32(f.type),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(18).string(f.color),f.gradient!=null&&Object.hasOwnProperty.call(f,"gradient")&&$root$3.Gradient.encode(f.gradient,y.uint32(26).fork()).ldelim(),f.patternTexture!=null&&Object.hasOwnProperty.call(f,"patternTexture")&&$root$3.PatternTexture.encode(f.patternTexture,y.uint32(34).fork()).ldelim(),f.width!=null&&Object.hasOwnProperty.call(f,"width")&&y.uint32(40).int32(f.width),f.lineCap!=null&&Object.hasOwnProperty.call(f,"lineCap")&&y.uint32(50).string(f.lineCap),f.lineJoin!=null&&Object.hasOwnProperty.call(f,"lineJoin")&&y.uint32(58).string(f.lineJoin),f.strokeType!=null&&Object.hasOwnProperty.call(f,"strokeType")&&y.uint32(64).int32(f.strokeType),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$3||(f=$Reader$3.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$3.Fill;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.type=f.int32();break}case 2:{v.color=f.string();break}case 3:{v.gradient=$root$3.Gradient.decode(f,f.uint32());break}case 4:{v.patternTexture=$root$3.PatternTexture.decode(f,f.uint32());break}case 5:{v.width=f.int32();break}case 6:{v.lineCap=f.string();break}case 7:{v.lineJoin=f.string();break}case 8:{v.strokeType=f.int32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$3||(f=new $Reader$3(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.type!=null&&f.hasOwnProperty("type")&&!$util$3.isInteger(f.type))return"type: integer expected";if(f.color!=null&&f.hasOwnProperty("color")&&!$util$3.isString(f.color))return"color: string expected";if(f.gradient!=null&&f.hasOwnProperty("gradient")){let y=$root$3.Gradient.verify(f.gradient);if(y)return"gradient."+y}if(f.patternTexture!=null&&f.hasOwnProperty("patternTexture")){let y=$root$3.PatternTexture.verify(f.patternTexture);if(y)return"patternTexture."+y}return f.width!=null&&f.hasOwnProperty("width")&&!$util$3.isInteger(f.width)?"width: integer expected":f.lineCap!=null&&f.hasOwnProperty("lineCap")&&!$util$3.isString(f.lineCap)?"lineCap: string expected":f.lineJoin!=null&&f.hasOwnProperty("lineJoin")&&!$util$3.isString(f.lineJoin)?"lineJoin: string expected":f.strokeType!=null&&f.hasOwnProperty("strokeType")&&!$util$3.isInteger(f.strokeType)?"strokeType: integer expected":null},d.fromObject=function(f){if(f instanceof $root$3.Fill)return f;let y=new $root$3.Fill;if(f.type!=null&&(y.type=f.type|0),f.color!=null&&(y.color=String(f.color)),f.gradient!=null){if(typeof f.gradient!="object")throw TypeError(".Fill.gradient: object expected");y.gradient=$root$3.Gradient.fromObject(f.gradient)}if(f.patternTexture!=null){if(typeof f.patternTexture!="object")throw TypeError(".Fill.patternTexture: object expected");y.patternTexture=$root$3.PatternTexture.fromObject(f.patternTexture)}return f.width!=null&&(y.width=f.width|0),f.lineCap!=null&&(y.lineCap=String(f.lineCap)),f.lineJoin!=null&&(y.lineJoin=String(f.lineJoin)),f.strokeType!=null&&(y.strokeType=f.strokeType|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.type=0,g.color="",g.gradient=null,g.patternTexture=null,g.width=0,g.lineCap="",g.lineJoin="",g.strokeType=0),f.type!=null&&f.hasOwnProperty("type")&&(g.type=f.type),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),f.gradient!=null&&f.hasOwnProperty("gradient")&&(g.gradient=$root$3.Gradient.toObject(f.gradient,y)),f.patternTexture!=null&&f.hasOwnProperty("patternTexture")&&(g.patternTexture=$root$3.PatternTexture.toObject(f.patternTexture,y)),f.width!=null&&f.hasOwnProperty("width")&&(g.width=f.width),f.lineCap!=null&&f.hasOwnProperty("lineCap")&&(g.lineCap=f.lineCap),f.lineJoin!=null&&f.hasOwnProperty("lineJoin")&&(g.lineJoin=f.lineJoin),f.strokeType!=null&&f.hasOwnProperty("strokeType")&&(g.strokeType=f.strokeType),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Fill"},d})();$root$3.FontResource=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.font=$util$3.newBuffer([]),d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$3.create()),f.font!=null&&Object.hasOwnProperty.call(f,"font")&&y.uint32(10).bytes(f.font),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$3||(f=$Reader$3.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$3.FontResource;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.font=f.bytes();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$3||(f=new $Reader$3(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.font!=null&&f.hasOwnProperty("font")&&!(f.font&&typeof f.font.length=="number"||$util$3.isString(f.font))?"font: buffer expected":null},d.fromObject=function(f){if(f instanceof $root$3.FontResource)return f;let y=new $root$3.FontResource;return f.font!=null&&(typeof f.font=="string"?$util$3.base64.decode(f.font,y.font=$util$3.newBuffer($util$3.base64.length(f.font)),0):f.font.length>=0&&(y.font=f.font)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(y.bytes===String?g.font="":(g.font=[],y.bytes!==Array&&(g.font=$util$3.newBuffer(g.font)))),f.font!=null&&f.hasOwnProperty("font")&&(g.font=y.bytes===String?$util$3.base64.encode(f.font,0,f.font.length):y.bytes===Array?Array.prototype.slice.call(f.font):f.font),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/FontResource"},d})();$root$3.Font=(()=>{function d(h){if(this.fonts=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.fonts=$util$3.emptyArray,d.prototype.size=0,d.prototype.lineHeight=0,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$3.create()),f.fonts!=null&&f.fonts.length)for(let g=0;g<f.fonts.length;++g)$root$3.FontResource.encode(f.fonts[g],y.uint32(10).fork()).ldelim();return f.size!=null&&Object.hasOwnProperty.call(f,"size")&&y.uint32(16).int32(f.size),f.lineHeight!=null&&Object.hasOwnProperty.call(f,"lineHeight")&&y.uint32(24).int32(f.lineHeight),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$3||(f=$Reader$3.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$3.Font;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.fonts&&v.fonts.length||(v.fonts=[]),v.fonts.push($root$3.FontResource.decode(f,f.uint32()));break}case 2:{v.size=f.int32();break}case 3:{v.lineHeight=f.int32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$3||(f=new $Reader$3(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.fonts!=null&&f.hasOwnProperty("fonts")){if(!Array.isArray(f.fonts))return"fonts: array expected";for(let y=0;y<f.fonts.length;++y){let g=$root$3.FontResource.verify(f.fonts[y]);if(g)return"fonts."+g}}return f.size!=null&&f.hasOwnProperty("size")&&!$util$3.isInteger(f.size)?"size: integer expected":f.lineHeight!=null&&f.hasOwnProperty("lineHeight")&&!$util$3.isInteger(f.lineHeight)?"lineHeight: integer expected":null},d.fromObject=function(f){if(f instanceof $root$3.Font)return f;let y=new $root$3.Font;if(f.fonts){if(!Array.isArray(f.fonts))throw TypeError(".Font.fonts: array expected");y.fonts=[];for(let g=0;g<f.fonts.length;++g){if(typeof f.fonts[g]!="object")throw TypeError(".Font.fonts: object expected");y.fonts[g]=$root$3.FontResource.fromObject(f.fonts[g])}}return f.size!=null&&(y.size=f.size|0),f.lineHeight!=null&&(y.lineHeight=f.lineHeight|0),y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.fonts=[]),y.defaults&&(g.size=0,g.lineHeight=0),f.fonts&&f.fonts.length){g.fonts=[];for(let b=0;b<f.fonts.length;++b)g.fonts[b]=$root$3.FontResource.toObject(f.fonts[b],y)}return f.size!=null&&f.hasOwnProperty("size")&&(g.size=f.size),f.lineHeight!=null&&f.hasOwnProperty("lineHeight")&&(g.lineHeight=f.lineHeight),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Font"},d})();$root$3.GlyphFont=(()=>{function d(h){if(this.kerning={},h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.letter="",d.prototype.adjustMetric=null,d.prototype.kerning=$util$3.emptyObject,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$3.create()),f.letter!=null&&Object.hasOwnProperty.call(f,"letter")&&y.uint32(10).string(f.letter),f.adjustMetric!=null&&Object.hasOwnProperty.call(f,"adjustMetric")&&$root$3.Metric.encode(f.adjustMetric,y.uint32(18).fork()).ldelim(),f.kerning!=null&&Object.hasOwnProperty.call(f,"kerning"))for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.uint32(26).fork().uint32(10).string(g[b]).uint32(16).int32(f.kerning[g[b]]).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$3||(f=$Reader$3.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$3.GlyphFont,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.letter=f.string();break}case 2:{v.adjustMetric=$root$3.Metric.decode(f,f.uint32());break}case 3:{v.kerning===$util$3.emptyObject&&(v.kerning={});let T=f.uint32()+f.pos;for(S="",O=0;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=f.int32();break;default:f.skipType(E&7);break}}v.kerning[S]=O;break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$3||(f=new $Reader$3(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.letter!=null&&f.hasOwnProperty("letter")&&!$util$3.isString(f.letter))return"letter: string expected";if(f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")){let y=$root$3.Metric.verify(f.adjustMetric);if(y)return"adjustMetric."+y}if(f.kerning!=null&&f.hasOwnProperty("kerning")){if(!$util$3.isObject(f.kerning))return"kerning: object expected";let y=Object.keys(f.kerning);for(let g=0;g<y.length;++g)if(!$util$3.isInteger(f.kerning[y[g]]))return"kerning: integer{k:string} expected"}return null},d.fromObject=function(f){if(f instanceof $root$3.GlyphFont)return f;let y=new $root$3.GlyphFont;if(f.letter!=null&&(y.letter=String(f.letter)),f.adjustMetric!=null){if(typeof f.adjustMetric!="object")throw TypeError(".GlyphFont.adjustMetric: object expected");y.adjustMetric=$root$3.Metric.fromObject(f.adjustMetric)}if(f.kerning){if(typeof f.kerning!="object")throw TypeError(".GlyphFont.kerning: object expected");y.kerning={};for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.kerning[g[b]]=f.kerning[g[b]]|0}return y},d.toObject=function(f,y){y||(y={});let g={};(y.objects||y.defaults)&&(g.kerning={}),y.defaults&&(g.letter="",g.adjustMetric=null),f.letter!=null&&f.hasOwnProperty("letter")&&(g.letter=f.letter),f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")&&(g.adjustMetric=$root$3.Metric.toObject(f.adjustMetric,y));let b;if(f.kerning&&(b=Object.keys(f.kerning)).length){g.kerning={};for(let v=0;v<b.length;++v)g.kerning[b[v]]=f.kerning[b[v]]}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GlyphFont"},d})();$root$3.GlyphImage=(()=>{function d(h){if(this.kerning={},h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.letter="",d.prototype.adjustMetric=null,d.prototype.buffer=$util$3.newBuffer([]),d.prototype.fileName="",d.prototype.fileType="",d.prototype.selected=!1,d.prototype.kerning=$util$3.emptyObject,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$3.create()),f.letter!=null&&Object.hasOwnProperty.call(f,"letter")&&y.uint32(10).string(f.letter),f.adjustMetric!=null&&Object.hasOwnProperty.call(f,"adjustMetric")&&$root$3.Metric.encode(f.adjustMetric,y.uint32(18).fork()).ldelim(),f.buffer!=null&&Object.hasOwnProperty.call(f,"buffer")&&y.uint32(26).bytes(f.buffer),f.fileName!=null&&Object.hasOwnProperty.call(f,"fileName")&&y.uint32(34).string(f.fileName),f.fileType!=null&&Object.hasOwnProperty.call(f,"fileType")&&y.uint32(42).string(f.fileType),f.selected!=null&&Object.hasOwnProperty.call(f,"selected")&&y.uint32(48).bool(f.selected),f.kerning!=null&&Object.hasOwnProperty.call(f,"kerning"))for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.uint32(58).fork().uint32(10).string(g[b]).uint32(16).int32(f.kerning[g[b]]).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$3||(f=$Reader$3.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$3.GlyphImage,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.letter=f.string();break}case 2:{v.adjustMetric=$root$3.Metric.decode(f,f.uint32());break}case 3:{v.buffer=f.bytes();break}case 4:{v.fileName=f.string();break}case 5:{v.fileType=f.string();break}case 6:{v.selected=f.bool();break}case 7:{v.kerning===$util$3.emptyObject&&(v.kerning={});let T=f.uint32()+f.pos;for(S="",O=0;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=f.int32();break;default:f.skipType(E&7);break}}v.kerning[S]=O;break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$3||(f=new $Reader$3(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.letter!=null&&f.hasOwnProperty("letter")&&!$util$3.isString(f.letter))return"letter: string expected";if(f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")){let y=$root$3.Metric.verify(f.adjustMetric);if(y)return"adjustMetric."+y}if(f.buffer!=null&&f.hasOwnProperty("buffer")&&!(f.buffer&&typeof f.buffer.length=="number"||$util$3.isString(f.buffer)))return"buffer: buffer expected";if(f.fileName!=null&&f.hasOwnProperty("fileName")&&!$util$3.isString(f.fileName))return"fileName: string expected";if(f.fileType!=null&&f.hasOwnProperty("fileType")&&!$util$3.isString(f.fileType))return"fileType: string expected";if(f.selected!=null&&f.hasOwnProperty("selected")&&typeof f.selected!="boolean")return"selected: boolean expected";if(f.kerning!=null&&f.hasOwnProperty("kerning")){if(!$util$3.isObject(f.kerning))return"kerning: object expected";let y=Object.keys(f.kerning);for(let g=0;g<y.length;++g)if(!$util$3.isInteger(f.kerning[y[g]]))return"kerning: integer{k:string} expected"}return null},d.fromObject=function(f){if(f instanceof $root$3.GlyphImage)return f;let y=new $root$3.GlyphImage;if(f.letter!=null&&(y.letter=String(f.letter)),f.adjustMetric!=null){if(typeof f.adjustMetric!="object")throw TypeError(".GlyphImage.adjustMetric: object expected");y.adjustMetric=$root$3.Metric.fromObject(f.adjustMetric)}if(f.buffer!=null&&(typeof f.buffer=="string"?$util$3.base64.decode(f.buffer,y.buffer=$util$3.newBuffer($util$3.base64.length(f.buffer)),0):f.buffer.length>=0&&(y.buffer=f.buffer)),f.fileName!=null&&(y.fileName=String(f.fileName)),f.fileType!=null&&(y.fileType=String(f.fileType)),f.selected!=null&&(y.selected=!!f.selected),f.kerning){if(typeof f.kerning!="object")throw TypeError(".GlyphImage.kerning: object expected");y.kerning={};for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.kerning[g[b]]=f.kerning[g[b]]|0}return y},d.toObject=function(f,y){y||(y={});let g={};(y.objects||y.defaults)&&(g.kerning={}),y.defaults&&(g.letter="",g.adjustMetric=null,y.bytes===String?g.buffer="":(g.buffer=[],y.bytes!==Array&&(g.buffer=$util$3.newBuffer(g.buffer))),g.fileName="",g.fileType="",g.selected=!1),f.letter!=null&&f.hasOwnProperty("letter")&&(g.letter=f.letter),f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")&&(g.adjustMetric=$root$3.Metric.toObject(f.adjustMetric,y)),f.buffer!=null&&f.hasOwnProperty("buffer")&&(g.buffer=y.bytes===String?$util$3.base64.encode(f.buffer,0,f.buffer.length):y.bytes===Array?Array.prototype.slice.call(f.buffer):f.buffer),f.fileName!=null&&f.hasOwnProperty("fileName")&&(g.fileName=f.fileName),f.fileType!=null&&f.hasOwnProperty("fileType")&&(g.fileType=f.fileType),f.selected!=null&&f.hasOwnProperty("selected")&&(g.selected=f.selected);let b;if(f.kerning&&(b=Object.keys(f.kerning)).length){g.kerning={};for(let v=0;v<b.length;++v)g.kerning[b[v]]=f.kerning[b[v]]}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GlyphImage"},d})();$root$3.Layout=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.padding=0,d.prototype.spacing=0,d.prototype.width=0,d.prototype.height=0,d.prototype.auto=!1,d.prototype.fixedSize=!1,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$3.create()),f.padding!=null&&Object.hasOwnProperty.call(f,"padding")&&y.uint32(8).int32(f.padding),f.spacing!=null&&Object.hasOwnProperty.call(f,"spacing")&&y.uint32(16).int32(f.spacing),f.width!=null&&Object.hasOwnProperty.call(f,"width")&&y.uint32(24).int32(f.width),f.height!=null&&Object.hasOwnProperty.call(f,"height")&&y.uint32(32).int32(f.height),f.auto!=null&&Object.hasOwnProperty.call(f,"auto")&&y.uint32(40).bool(f.auto),f.fixedSize!=null&&Object.hasOwnProperty.call(f,"fixedSize")&&y.uint32(48).bool(f.fixedSize),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$3||(f=$Reader$3.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$3.Layout;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.padding=f.int32();break}case 2:{v.spacing=f.int32();break}case 3:{v.width=f.int32();break}case 4:{v.height=f.int32();break}case 5:{v.auto=f.bool();break}case 6:{v.fixedSize=f.bool();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$3||(f=new $Reader$3(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.padding!=null&&f.hasOwnProperty("padding")&&!$util$3.isInteger(f.padding)?"padding: integer expected":f.spacing!=null&&f.hasOwnProperty("spacing")&&!$util$3.isInteger(f.spacing)?"spacing: integer expected":f.width!=null&&f.hasOwnProperty("width")&&!$util$3.isInteger(f.width)?"width: integer expected":f.height!=null&&f.hasOwnProperty("height")&&!$util$3.isInteger(f.height)?"height: integer expected":f.auto!=null&&f.hasOwnProperty("auto")&&typeof f.auto!="boolean"?"auto: boolean expected":f.fixedSize!=null&&f.hasOwnProperty("fixedSize")&&typeof f.fixedSize!="boolean"?"fixedSize: boolean expected":null},d.fromObject=function(f){if(f instanceof $root$3.Layout)return f;let y=new $root$3.Layout;return f.padding!=null&&(y.padding=f.padding|0),f.spacing!=null&&(y.spacing=f.spacing|0),f.width!=null&&(y.width=f.width|0),f.height!=null&&(y.height=f.height|0),f.auto!=null&&(y.auto=!!f.auto),f.fixedSize!=null&&(y.fixedSize=!!f.fixedSize),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.padding=0,g.spacing=0,g.width=0,g.height=0,g.auto=!1,g.fixedSize=!1),f.padding!=null&&f.hasOwnProperty("padding")&&(g.padding=f.padding),f.spacing!=null&&f.hasOwnProperty("spacing")&&(g.spacing=f.spacing),f.width!=null&&f.hasOwnProperty("width")&&(g.width=f.width),f.height!=null&&f.hasOwnProperty("height")&&(g.height=f.height),f.auto!=null&&f.hasOwnProperty("auto")&&(g.auto=f.auto),f.fixedSize!=null&&f.hasOwnProperty("fixedSize")&&(g.fixedSize=f.fixedSize),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Layout"},d})();$root$3.Shadow=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.color="",d.prototype.blur=0,d.prototype.offsetX=0,d.prototype.offsetY=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$3.create()),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(10).string(f.color),f.blur!=null&&Object.hasOwnProperty.call(f,"blur")&&y.uint32(16).int32(f.blur),f.offsetX!=null&&Object.hasOwnProperty.call(f,"offsetX")&&y.uint32(24).sint32(f.offsetX),f.offsetY!=null&&Object.hasOwnProperty.call(f,"offsetY")&&y.uint32(32).sint32(f.offsetY),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$3||(f=$Reader$3.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$3.Shadow;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.color=f.string();break}case 2:{v.blur=f.int32();break}case 3:{v.offsetX=f.sint32();break}case 4:{v.offsetY=f.sint32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$3||(f=new $Reader$3(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.color!=null&&f.hasOwnProperty("color")&&!$util$3.isString(f.color)?"color: string expected":f.blur!=null&&f.hasOwnProperty("blur")&&!$util$3.isInteger(f.blur)?"blur: integer expected":f.offsetX!=null&&f.hasOwnProperty("offsetX")&&!$util$3.isInteger(f.offsetX)?"offsetX: integer expected":f.offsetY!=null&&f.hasOwnProperty("offsetY")&&!$util$3.isInteger(f.offsetY)?"offsetY: integer expected":null},d.fromObject=function(f){if(f instanceof $root$3.Shadow)return f;let y=new $root$3.Shadow;return f.color!=null&&(y.color=String(f.color)),f.blur!=null&&(y.blur=f.blur|0),f.offsetX!=null&&(y.offsetX=f.offsetX|0),f.offsetY!=null&&(y.offsetY=f.offsetY|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.color="",g.blur=0,g.offsetX=0,g.offsetY=0),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),f.blur!=null&&f.hasOwnProperty("blur")&&(g.blur=f.blur),f.offsetX!=null&&f.hasOwnProperty("offsetX")&&(g.offsetX=f.offsetX),f.offsetY!=null&&f.hasOwnProperty("offsetY")&&(g.offsetY=f.offsetY),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Shadow"},d})();$root$3.Style=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.font=null,d.prototype.fill=null,d.prototype.useStroke=!1,d.prototype.stroke=null,d.prototype.useShadow=!1,d.prototype.shadow=null,d.prototype.bgColor="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$3.create()),f.font!=null&&Object.hasOwnProperty.call(f,"font")&&$root$3.Font.encode(f.font,y.uint32(10).fork()).ldelim(),f.fill!=null&&Object.hasOwnProperty.call(f,"fill")&&$root$3.Fill.encode(f.fill,y.uint32(18).fork()).ldelim(),f.useStroke!=null&&Object.hasOwnProperty.call(f,"useStroke")&&y.uint32(24).bool(f.useStroke),f.stroke!=null&&Object.hasOwnProperty.call(f,"stroke")&&$root$3.Fill.encode(f.stroke,y.uint32(34).fork()).ldelim(),f.useShadow!=null&&Object.hasOwnProperty.call(f,"useShadow")&&y.uint32(40).bool(f.useShadow),f.shadow!=null&&Object.hasOwnProperty.call(f,"shadow")&&$root$3.Shadow.encode(f.shadow,y.uint32(50).fork()).ldelim(),f.bgColor!=null&&Object.hasOwnProperty.call(f,"bgColor")&&y.uint32(58).string(f.bgColor),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$3||(f=$Reader$3.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$3.Style;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.font=$root$3.Font.decode(f,f.uint32());break}case 2:{v.fill=$root$3.Fill.decode(f,f.uint32());break}case 3:{v.useStroke=f.bool();break}case 4:{v.stroke=$root$3.Fill.decode(f,f.uint32());break}case 5:{v.useShadow=f.bool();break}case 6:{v.shadow=$root$3.Shadow.decode(f,f.uint32());break}case 7:{v.bgColor=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$3||(f=new $Reader$3(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.font!=null&&f.hasOwnProperty("font")){let y=$root$3.Font.verify(f.font);if(y)return"font."+y}if(f.fill!=null&&f.hasOwnProperty("fill")){let y=$root$3.Fill.verify(f.fill);if(y)return"fill."+y}if(f.useStroke!=null&&f.hasOwnProperty("useStroke")&&typeof f.useStroke!="boolean")return"useStroke: boolean expected";if(f.stroke!=null&&f.hasOwnProperty("stroke")){let y=$root$3.Fill.verify(f.stroke);if(y)return"stroke."+y}if(f.useShadow!=null&&f.hasOwnProperty("useShadow")&&typeof f.useShadow!="boolean")return"useShadow: boolean expected";if(f.shadow!=null&&f.hasOwnProperty("shadow")){let y=$root$3.Shadow.verify(f.shadow);if(y)return"shadow."+y}return f.bgColor!=null&&f.hasOwnProperty("bgColor")&&!$util$3.isString(f.bgColor)?"bgColor: string expected":null},d.fromObject=function(f){if(f instanceof $root$3.Style)return f;let y=new $root$3.Style;if(f.font!=null){if(typeof f.font!="object")throw TypeError(".Style.font: object expected");y.font=$root$3.Font.fromObject(f.font)}if(f.fill!=null){if(typeof f.fill!="object")throw TypeError(".Style.fill: object expected");y.fill=$root$3.Fill.fromObject(f.fill)}if(f.useStroke!=null&&(y.useStroke=!!f.useStroke),f.stroke!=null){if(typeof f.stroke!="object")throw TypeError(".Style.stroke: object expected");y.stroke=$root$3.Fill.fromObject(f.stroke)}if(f.useShadow!=null&&(y.useShadow=!!f.useShadow),f.shadow!=null){if(typeof f.shadow!="object")throw TypeError(".Style.shadow: object expected");y.shadow=$root$3.Shadow.fromObject(f.shadow)}return f.bgColor!=null&&(y.bgColor=String(f.bgColor)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.font=null,g.fill=null,g.useStroke=!1,g.stroke=null,g.useShadow=!1,g.shadow=null,g.bgColor=""),f.font!=null&&f.hasOwnProperty("font")&&(g.font=$root$3.Font.toObject(f.font,y)),f.fill!=null&&f.hasOwnProperty("fill")&&(g.fill=$root$3.Fill.toObject(f.fill,y)),f.useStroke!=null&&f.hasOwnProperty("useStroke")&&(g.useStroke=f.useStroke),f.stroke!=null&&f.hasOwnProperty("stroke")&&(g.stroke=$root$3.Fill.toObject(f.stroke,y)),f.useShadow!=null&&f.hasOwnProperty("useShadow")&&(g.useShadow=f.useShadow),f.shadow!=null&&f.hasOwnProperty("shadow")&&(g.shadow=$root$3.Shadow.toObject(f.shadow,y)),f.bgColor!=null&&f.hasOwnProperty("bgColor")&&(g.bgColor=f.bgColor),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Style"},d})();$root$3.Ui=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.previewText="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$3.create()),f.previewText!=null&&Object.hasOwnProperty.call(f,"previewText")&&y.uint32(10).string(f.previewText),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$3||(f=$Reader$3.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$3.Ui;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.previewText=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$3||(f=new $Reader$3(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.previewText!=null&&f.hasOwnProperty("previewText")&&!$util$3.isString(f.previewText)?"previewText: string expected":null},d.fromObject=function(f){if(f instanceof $root$3.Ui)return f;let y=new $root$3.Ui;return f.previewText!=null&&(y.previewText=String(f.previewText)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.previewText=""),f.previewText!=null&&f.hasOwnProperty("previewText")&&(g.previewText=f.previewText),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Ui"},d})();const Project$3=$root$3.Project=(()=>{function d(h){if(this.glyphs={},this.glyphImages=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.id=$util$3.Long?$util$3.Long.fromBits(0,0,!1):0,d.prototype.name="",d.prototype.text="",d.prototype.glyphs=$util$3.emptyObject,d.prototype.glyphImages=$util$3.emptyArray,d.prototype.style=null,d.prototype.layout=null,d.prototype.globalAdjustMetric=null,d.prototype.ui=null,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$3.create()),f.id!=null&&Object.hasOwnProperty.call(f,"id")&&y.uint32(8).int64(f.id),f.name!=null&&Object.hasOwnProperty.call(f,"name")&&y.uint32(18).string(f.name),f.text!=null&&Object.hasOwnProperty.call(f,"text")&&y.uint32(26).string(f.text),f.glyphs!=null&&Object.hasOwnProperty.call(f,"glyphs"))for(let g=Object.keys(f.glyphs),b=0;b<g.length;++b)y.uint32(34).fork().uint32(10).string(g[b]),$root$3.GlyphFont.encode(f.glyphs[g[b]],y.uint32(18).fork()).ldelim().ldelim();if(f.glyphImages!=null&&f.glyphImages.length)for(let g=0;g<f.glyphImages.length;++g)$root$3.GlyphImage.encode(f.glyphImages[g],y.uint32(42).fork()).ldelim();return f.style!=null&&Object.hasOwnProperty.call(f,"style")&&$root$3.Style.encode(f.style,y.uint32(50).fork()).ldelim(),f.layout!=null&&Object.hasOwnProperty.call(f,"layout")&&$root$3.Layout.encode(f.layout,y.uint32(58).fork()).ldelim(),f.globalAdjustMetric!=null&&Object.hasOwnProperty.call(f,"globalAdjustMetric")&&$root$3.Metric.encode(f.globalAdjustMetric,y.uint32(66).fork()).ldelim(),f.ui!=null&&Object.hasOwnProperty.call(f,"ui")&&$root$3.Ui.encode(f.ui,y.uint32(74).fork()).ldelim(),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$3||(f=$Reader$3.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$3.Project,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.id=f.int64();break}case 2:{v.name=f.string();break}case 3:{v.text=f.string();break}case 4:{v.glyphs===$util$3.emptyObject&&(v.glyphs={});let T=f.uint32()+f.pos;for(S="",O=null;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=$root$3.GlyphFont.decode(f,f.uint32());break;default:f.skipType(E&7);break}}v.glyphs[S]=O;break}case 5:{v.glyphImages&&v.glyphImages.length||(v.glyphImages=[]),v.glyphImages.push($root$3.GlyphImage.decode(f,f.uint32()));break}case 6:{v.style=$root$3.Style.decode(f,f.uint32());break}case 7:{v.layout=$root$3.Layout.decode(f,f.uint32());break}case 8:{v.globalAdjustMetric=$root$3.Metric.decode(f,f.uint32());break}case 9:{v.ui=$root$3.Ui.decode(f,f.uint32());break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$3||(f=new $Reader$3(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.id!=null&&f.hasOwnProperty("id")&&!$util$3.isInteger(f.id)&&!(f.id&&$util$3.isInteger(f.id.low)&&$util$3.isInteger(f.id.high)))return"id: integer|Long expected";if(f.name!=null&&f.hasOwnProperty("name")&&!$util$3.isString(f.name))return"name: string expected";if(f.text!=null&&f.hasOwnProperty("text")&&!$util$3.isString(f.text))return"text: string expected";if(f.glyphs!=null&&f.hasOwnProperty("glyphs")){if(!$util$3.isObject(f.glyphs))return"glyphs: object expected";let y=Object.keys(f.glyphs);for(let g=0;g<y.length;++g){let b=$root$3.GlyphFont.verify(f.glyphs[y[g]]);if(b)return"glyphs."+b}}if(f.glyphImages!=null&&f.hasOwnProperty("glyphImages")){if(!Array.isArray(f.glyphImages))return"glyphImages: array expected";for(let y=0;y<f.glyphImages.length;++y){let g=$root$3.GlyphImage.verify(f.glyphImages[y]);if(g)return"glyphImages."+g}}if(f.style!=null&&f.hasOwnProperty("style")){let y=$root$3.Style.verify(f.style);if(y)return"style."+y}if(f.layout!=null&&f.hasOwnProperty("layout")){let y=$root$3.Layout.verify(f.layout);if(y)return"layout."+y}if(f.globalAdjustMetric!=null&&f.hasOwnProperty("globalAdjustMetric")){let y=$root$3.Metric.verify(f.globalAdjustMetric);if(y)return"globalAdjustMetric."+y}if(f.ui!=null&&f.hasOwnProperty("ui")){let y=$root$3.Ui.verify(f.ui);if(y)return"ui."+y}return null},d.fromObject=function(f){if(f instanceof $root$3.Project)return f;let y=new $root$3.Project;if(f.id!=null&&($util$3.Long?(y.id=$util$3.Long.fromValue(f.id)).unsigned=!1:typeof f.id=="string"?y.id=parseInt(f.id,10):typeof f.id=="number"?y.id=f.id:typeof f.id=="object"&&(y.id=new $util$3.LongBits(f.id.low>>>0,f.id.high>>>0).toNumber())),f.name!=null&&(y.name=String(f.name)),f.text!=null&&(y.text=String(f.text)),f.glyphs){if(typeof f.glyphs!="object")throw TypeError(".Project.glyphs: object expected");y.glyphs={};for(let g=Object.keys(f.glyphs),b=0;b<g.length;++b){if(typeof f.glyphs[g[b]]!="object")throw TypeError(".Project.glyphs: object expected");y.glyphs[g[b]]=$root$3.GlyphFont.fromObject(f.glyphs[g[b]])}}if(f.glyphImages){if(!Array.isArray(f.glyphImages))throw TypeError(".Project.glyphImages: array expected");y.glyphImages=[];for(let g=0;g<f.glyphImages.length;++g){if(typeof f.glyphImages[g]!="object")throw TypeError(".Project.glyphImages: object expected");y.glyphImages[g]=$root$3.GlyphImage.fromObject(f.glyphImages[g])}}if(f.style!=null){if(typeof f.style!="object")throw TypeError(".Project.style: object expected");y.style=$root$3.Style.fromObject(f.style)}if(f.layout!=null){if(typeof f.layout!="object")throw TypeError(".Project.layout: object expected");y.layout=$root$3.Layout.fromObject(f.layout)}if(f.globalAdjustMetric!=null){if(typeof f.globalAdjustMetric!="object")throw TypeError(".Project.globalAdjustMetric: object expected");y.globalAdjustMetric=$root$3.Metric.fromObject(f.globalAdjustMetric)}if(f.ui!=null){if(typeof f.ui!="object")throw TypeError(".Project.ui: object expected");y.ui=$root$3.Ui.fromObject(f.ui)}return y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.glyphImages=[]),(y.objects||y.defaults)&&(g.glyphs={}),y.defaults){if($util$3.Long){let v=new $util$3.Long(0,0,!1);g.id=y.longs===String?v.toString():y.longs===Number?v.toNumber():v}else g.id=y.longs===String?"0":0;g.name="",g.text="",g.style=null,g.layout=null,g.globalAdjustMetric=null,g.ui=null}f.id!=null&&f.hasOwnProperty("id")&&(typeof f.id=="number"?g.id=y.longs===String?String(f.id):f.id:g.id=y.longs===String?$util$3.Long.prototype.toString.call(f.id):y.longs===Number?new $util$3.LongBits(f.id.low>>>0,f.id.high>>>0).toNumber():f.id),f.name!=null&&f.hasOwnProperty("name")&&(g.name=f.name),f.text!=null&&f.hasOwnProperty("text")&&(g.text=f.text);let b;if(f.glyphs&&(b=Object.keys(f.glyphs)).length){g.glyphs={};for(let v=0;v<b.length;++v)g.glyphs[b[v]]=$root$3.GlyphFont.toObject(f.glyphs[b[v]],y)}if(f.glyphImages&&f.glyphImages.length){g.glyphImages=[];for(let v=0;v<f.glyphImages.length;++v)g.glyphImages[v]=$root$3.GlyphImage.toObject(f.glyphImages[v],y)}return f.style!=null&&f.hasOwnProperty("style")&&(g.style=$root$3.Style.toObject(f.style,y)),f.layout!=null&&f.hasOwnProperty("layout")&&(g.layout=$root$3.Layout.toObject(f.layout,y)),f.globalAdjustMetric!=null&&f.hasOwnProperty("globalAdjustMetric")&&(g.globalAdjustMetric=$root$3.Metric.toObject(f.globalAdjustMetric,y)),f.ui!=null&&f.hasOwnProperty("ui")&&(g.ui=$root$3.Ui.toObject(f.ui,y)),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Project"},d})();function updateToNext$3(d){return d}const $Reader$2=minimalExports.Reader,$Writer$2=minimalExports.Writer,$util$2=minimalExports.util,$root$2={};$root$2.Metric=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.xAdvance=0,d.prototype.xOffset=0,d.prototype.yOffset=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$2.create()),f.xAdvance!=null&&Object.hasOwnProperty.call(f,"xAdvance")&&y.uint32(8).sint32(f.xAdvance),f.xOffset!=null&&Object.hasOwnProperty.call(f,"xOffset")&&y.uint32(16).sint32(f.xOffset),f.yOffset!=null&&Object.hasOwnProperty.call(f,"yOffset")&&y.uint32(24).sint32(f.yOffset),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$2||(f=$Reader$2.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$2.Metric;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.xAdvance=f.sint32();break}case 2:{v.xOffset=f.sint32();break}case 3:{v.yOffset=f.sint32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$2||(f=new $Reader$2(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.xAdvance!=null&&f.hasOwnProperty("xAdvance")&&!$util$2.isInteger(f.xAdvance)?"xAdvance: integer expected":f.xOffset!=null&&f.hasOwnProperty("xOffset")&&!$util$2.isInteger(f.xOffset)?"xOffset: integer expected":f.yOffset!=null&&f.hasOwnProperty("yOffset")&&!$util$2.isInteger(f.yOffset)?"yOffset: integer expected":null},d.fromObject=function(f){if(f instanceof $root$2.Metric)return f;let y=new $root$2.Metric;return f.xAdvance!=null&&(y.xAdvance=f.xAdvance|0),f.xOffset!=null&&(y.xOffset=f.xOffset|0),f.yOffset!=null&&(y.yOffset=f.yOffset|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.xAdvance=0,g.xOffset=0,g.yOffset=0),f.xAdvance!=null&&f.hasOwnProperty("xAdvance")&&(g.xAdvance=f.xAdvance),f.xOffset!=null&&f.hasOwnProperty("xOffset")&&(g.xOffset=f.xOffset),f.yOffset!=null&&f.hasOwnProperty("yOffset")&&(g.yOffset=f.yOffset),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Metric"},d})();$root$2.GradientColor=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.id=0,d.prototype.offset=0,d.prototype.color="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$2.create()),f.id!=null&&Object.hasOwnProperty.call(f,"id")&&y.uint32(8).int32(f.id),f.offset!=null&&Object.hasOwnProperty.call(f,"offset")&&y.uint32(21).float(f.offset),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(26).string(f.color),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$2||(f=$Reader$2.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$2.GradientColor;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.id=f.int32();break}case 2:{v.offset=f.float();break}case 3:{v.color=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$2||(f=new $Reader$2(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.id!=null&&f.hasOwnProperty("id")&&!$util$2.isInteger(f.id)?"id: integer expected":f.offset!=null&&f.hasOwnProperty("offset")&&typeof f.offset!="number"?"offset: number expected":f.color!=null&&f.hasOwnProperty("color")&&!$util$2.isString(f.color)?"color: string expected":null},d.fromObject=function(f){if(f instanceof $root$2.GradientColor)return f;let y=new $root$2.GradientColor;return f.id!=null&&(y.id=f.id|0),f.offset!=null&&(y.offset=Number(f.offset)),f.color!=null&&(y.color=String(f.color)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.id=0,g.offset=0,g.color=""),f.id!=null&&f.hasOwnProperty("id")&&(g.id=f.id),f.offset!=null&&f.hasOwnProperty("offset")&&(g.offset=y.json&&!isFinite(f.offset)?String(f.offset):f.offset),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GradientColor"},d})();$root$2.Gradient=(()=>{function d(h){if(this.palette=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.type=0,d.prototype.angle=0,d.prototype.palette=$util$2.emptyArray,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$2.create()),f.type!=null&&Object.hasOwnProperty.call(f,"type")&&y.uint32(8).int32(f.type),f.angle!=null&&Object.hasOwnProperty.call(f,"angle")&&y.uint32(21).float(f.angle),f.palette!=null&&f.palette.length)for(let g=0;g<f.palette.length;++g)$root$2.GradientColor.encode(f.palette[g],y.uint32(26).fork()).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$2||(f=$Reader$2.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$2.Gradient;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.type=f.int32();break}case 2:{v.angle=f.float();break}case 3:{v.palette&&v.palette.length||(v.palette=[]),v.palette.push($root$2.GradientColor.decode(f,f.uint32()));break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$2||(f=new $Reader$2(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.type!=null&&f.hasOwnProperty("type")&&!$util$2.isInteger(f.type))return"type: integer expected";if(f.angle!=null&&f.hasOwnProperty("angle")&&typeof f.angle!="number")return"angle: number expected";if(f.palette!=null&&f.hasOwnProperty("palette")){if(!Array.isArray(f.palette))return"palette: array expected";for(let y=0;y<f.palette.length;++y){let g=$root$2.GradientColor.verify(f.palette[y]);if(g)return"palette."+g}}return null},d.fromObject=function(f){if(f instanceof $root$2.Gradient)return f;let y=new $root$2.Gradient;if(f.type!=null&&(y.type=f.type|0),f.angle!=null&&(y.angle=Number(f.angle)),f.palette){if(!Array.isArray(f.palette))throw TypeError(".Gradient.palette: array expected");y.palette=[];for(let g=0;g<f.palette.length;++g){if(typeof f.palette[g]!="object")throw TypeError(".Gradient.palette: object expected");y.palette[g]=$root$2.GradientColor.fromObject(f.palette[g])}}return y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.palette=[]),y.defaults&&(g.type=0,g.angle=0),f.type!=null&&f.hasOwnProperty("type")&&(g.type=f.type),f.angle!=null&&f.hasOwnProperty("angle")&&(g.angle=y.json&&!isFinite(f.angle)?String(f.angle):f.angle),f.palette&&f.palette.length){g.palette=[];for(let b=0;b<f.palette.length;++b)g.palette[b]=$root$2.GradientColor.toObject(f.palette[b],y)}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Gradient"},d})();$root$2.PatternTexture=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.buffer=$util$2.newBuffer([]),d.prototype.scale=0,d.prototype.repetition="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$2.create()),f.buffer!=null&&Object.hasOwnProperty.call(f,"buffer")&&y.uint32(10).bytes(f.buffer),f.scale!=null&&Object.hasOwnProperty.call(f,"scale")&&y.uint32(17).double(f.scale),f.repetition!=null&&Object.hasOwnProperty.call(f,"repetition")&&y.uint32(26).string(f.repetition),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$2||(f=$Reader$2.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$2.PatternTexture;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.buffer=f.bytes();break}case 2:{v.scale=f.double();break}case 3:{v.repetition=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$2||(f=new $Reader$2(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.buffer!=null&&f.hasOwnProperty("buffer")&&!(f.buffer&&typeof f.buffer.length=="number"||$util$2.isString(f.buffer))?"buffer: buffer expected":f.scale!=null&&f.hasOwnProperty("scale")&&typeof f.scale!="number"?"scale: number expected":f.repetition!=null&&f.hasOwnProperty("repetition")&&!$util$2.isString(f.repetition)?"repetition: string expected":null},d.fromObject=function(f){if(f instanceof $root$2.PatternTexture)return f;let y=new $root$2.PatternTexture;return f.buffer!=null&&(typeof f.buffer=="string"?$util$2.base64.decode(f.buffer,y.buffer=$util$2.newBuffer($util$2.base64.length(f.buffer)),0):f.buffer.length>=0&&(y.buffer=f.buffer)),f.scale!=null&&(y.scale=Number(f.scale)),f.repetition!=null&&(y.repetition=String(f.repetition)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(y.bytes===String?g.buffer="":(g.buffer=[],y.bytes!==Array&&(g.buffer=$util$2.newBuffer(g.buffer))),g.scale=0,g.repetition=""),f.buffer!=null&&f.hasOwnProperty("buffer")&&(g.buffer=y.bytes===String?$util$2.base64.encode(f.buffer,0,f.buffer.length):y.bytes===Array?Array.prototype.slice.call(f.buffer):f.buffer),f.scale!=null&&f.hasOwnProperty("scale")&&(g.scale=y.json&&!isFinite(f.scale)?String(f.scale):f.scale),f.repetition!=null&&f.hasOwnProperty("repetition")&&(g.repetition=f.repetition),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/PatternTexture"},d})();$root$2.Fill=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.type=0,d.prototype.color="",d.prototype.gradient=null,d.prototype.patternTexture=null,d.prototype.width=0,d.prototype.lineCap="",d.prototype.lineJoin="",d.prototype.strokeType=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$2.create()),f.type!=null&&Object.hasOwnProperty.call(f,"type")&&y.uint32(8).int32(f.type),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(18).string(f.color),f.gradient!=null&&Object.hasOwnProperty.call(f,"gradient")&&$root$2.Gradient.encode(f.gradient,y.uint32(26).fork()).ldelim(),f.patternTexture!=null&&Object.hasOwnProperty.call(f,"patternTexture")&&$root$2.PatternTexture.encode(f.patternTexture,y.uint32(34).fork()).ldelim(),f.width!=null&&Object.hasOwnProperty.call(f,"width")&&y.uint32(40).int32(f.width),f.lineCap!=null&&Object.hasOwnProperty.call(f,"lineCap")&&y.uint32(50).string(f.lineCap),f.lineJoin!=null&&Object.hasOwnProperty.call(f,"lineJoin")&&y.uint32(58).string(f.lineJoin),f.strokeType!=null&&Object.hasOwnProperty.call(f,"strokeType")&&y.uint32(64).int32(f.strokeType),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$2||(f=$Reader$2.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$2.Fill;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.type=f.int32();break}case 2:{v.color=f.string();break}case 3:{v.gradient=$root$2.Gradient.decode(f,f.uint32());break}case 4:{v.patternTexture=$root$2.PatternTexture.decode(f,f.uint32());break}case 5:{v.width=f.int32();break}case 6:{v.lineCap=f.string();break}case 7:{v.lineJoin=f.string();break}case 8:{v.strokeType=f.int32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$2||(f=new $Reader$2(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.type!=null&&f.hasOwnProperty("type")&&!$util$2.isInteger(f.type))return"type: integer expected";if(f.color!=null&&f.hasOwnProperty("color")&&!$util$2.isString(f.color))return"color: string expected";if(f.gradient!=null&&f.hasOwnProperty("gradient")){let y=$root$2.Gradient.verify(f.gradient);if(y)return"gradient."+y}if(f.patternTexture!=null&&f.hasOwnProperty("patternTexture")){let y=$root$2.PatternTexture.verify(f.patternTexture);if(y)return"patternTexture."+y}return f.width!=null&&f.hasOwnProperty("width")&&!$util$2.isInteger(f.width)?"width: integer expected":f.lineCap!=null&&f.hasOwnProperty("lineCap")&&!$util$2.isString(f.lineCap)?"lineCap: string expected":f.lineJoin!=null&&f.hasOwnProperty("lineJoin")&&!$util$2.isString(f.lineJoin)?"lineJoin: string expected":f.strokeType!=null&&f.hasOwnProperty("strokeType")&&!$util$2.isInteger(f.strokeType)?"strokeType: integer expected":null},d.fromObject=function(f){if(f instanceof $root$2.Fill)return f;let y=new $root$2.Fill;if(f.type!=null&&(y.type=f.type|0),f.color!=null&&(y.color=String(f.color)),f.gradient!=null){if(typeof f.gradient!="object")throw TypeError(".Fill.gradient: object expected");y.gradient=$root$2.Gradient.fromObject(f.gradient)}if(f.patternTexture!=null){if(typeof f.patternTexture!="object")throw TypeError(".Fill.patternTexture: object expected");y.patternTexture=$root$2.PatternTexture.fromObject(f.patternTexture)}return f.width!=null&&(y.width=f.width|0),f.lineCap!=null&&(y.lineCap=String(f.lineCap)),f.lineJoin!=null&&(y.lineJoin=String(f.lineJoin)),f.strokeType!=null&&(y.strokeType=f.strokeType|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.type=0,g.color="",g.gradient=null,g.patternTexture=null,g.width=0,g.lineCap="",g.lineJoin="",g.strokeType=0),f.type!=null&&f.hasOwnProperty("type")&&(g.type=f.type),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),f.gradient!=null&&f.hasOwnProperty("gradient")&&(g.gradient=$root$2.Gradient.toObject(f.gradient,y)),f.patternTexture!=null&&f.hasOwnProperty("patternTexture")&&(g.patternTexture=$root$2.PatternTexture.toObject(f.patternTexture,y)),f.width!=null&&f.hasOwnProperty("width")&&(g.width=f.width),f.lineCap!=null&&f.hasOwnProperty("lineCap")&&(g.lineCap=f.lineCap),f.lineJoin!=null&&f.hasOwnProperty("lineJoin")&&(g.lineJoin=f.lineJoin),f.strokeType!=null&&f.hasOwnProperty("strokeType")&&(g.strokeType=f.strokeType),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Fill"},d})();$root$2.FontResource=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.font=$util$2.newBuffer([]),d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$2.create()),f.font!=null&&Object.hasOwnProperty.call(f,"font")&&y.uint32(10).bytes(f.font),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$2||(f=$Reader$2.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$2.FontResource;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.font=f.bytes();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$2||(f=new $Reader$2(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.font!=null&&f.hasOwnProperty("font")&&!(f.font&&typeof f.font.length=="number"||$util$2.isString(f.font))?"font: buffer expected":null},d.fromObject=function(f){if(f instanceof $root$2.FontResource)return f;let y=new $root$2.FontResource;return f.font!=null&&(typeof f.font=="string"?$util$2.base64.decode(f.font,y.font=$util$2.newBuffer($util$2.base64.length(f.font)),0):f.font.length>=0&&(y.font=f.font)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(y.bytes===String?g.font="":(g.font=[],y.bytes!==Array&&(g.font=$util$2.newBuffer(g.font)))),f.font!=null&&f.hasOwnProperty("font")&&(g.font=y.bytes===String?$util$2.base64.encode(f.font,0,f.font.length):y.bytes===Array?Array.prototype.slice.call(f.font):f.font),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/FontResource"},d})();$root$2.Font=(()=>{function d(h){if(this.fonts=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.fonts=$util$2.emptyArray,d.prototype.size=0,d.prototype.lineHeight=0,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$2.create()),f.fonts!=null&&f.fonts.length)for(let g=0;g<f.fonts.length;++g)$root$2.FontResource.encode(f.fonts[g],y.uint32(10).fork()).ldelim();return f.size!=null&&Object.hasOwnProperty.call(f,"size")&&y.uint32(16).int32(f.size),f.lineHeight!=null&&Object.hasOwnProperty.call(f,"lineHeight")&&y.uint32(29).float(f.lineHeight),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$2||(f=$Reader$2.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$2.Font;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.fonts&&v.fonts.length||(v.fonts=[]),v.fonts.push($root$2.FontResource.decode(f,f.uint32()));break}case 2:{v.size=f.int32();break}case 3:{v.lineHeight=f.float();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$2||(f=new $Reader$2(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.fonts!=null&&f.hasOwnProperty("fonts")){if(!Array.isArray(f.fonts))return"fonts: array expected";for(let y=0;y<f.fonts.length;++y){let g=$root$2.FontResource.verify(f.fonts[y]);if(g)return"fonts."+g}}return f.size!=null&&f.hasOwnProperty("size")&&!$util$2.isInteger(f.size)?"size: integer expected":f.lineHeight!=null&&f.hasOwnProperty("lineHeight")&&typeof f.lineHeight!="number"?"lineHeight: number expected":null},d.fromObject=function(f){if(f instanceof $root$2.Font)return f;let y=new $root$2.Font;if(f.fonts){if(!Array.isArray(f.fonts))throw TypeError(".Font.fonts: array expected");y.fonts=[];for(let g=0;g<f.fonts.length;++g){if(typeof f.fonts[g]!="object")throw TypeError(".Font.fonts: object expected");y.fonts[g]=$root$2.FontResource.fromObject(f.fonts[g])}}return f.size!=null&&(y.size=f.size|0),f.lineHeight!=null&&(y.lineHeight=Number(f.lineHeight)),y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.fonts=[]),y.defaults&&(g.size=0,g.lineHeight=0),f.fonts&&f.fonts.length){g.fonts=[];for(let b=0;b<f.fonts.length;++b)g.fonts[b]=$root$2.FontResource.toObject(f.fonts[b],y)}return f.size!=null&&f.hasOwnProperty("size")&&(g.size=f.size),f.lineHeight!=null&&f.hasOwnProperty("lineHeight")&&(g.lineHeight=y.json&&!isFinite(f.lineHeight)?String(f.lineHeight):f.lineHeight),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Font"},d})();$root$2.GlyphFont=(()=>{function d(h){if(this.kerning={},h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.letter="",d.prototype.adjustMetric=null,d.prototype.kerning=$util$2.emptyObject,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$2.create()),f.letter!=null&&Object.hasOwnProperty.call(f,"letter")&&y.uint32(10).string(f.letter),f.adjustMetric!=null&&Object.hasOwnProperty.call(f,"adjustMetric")&&$root$2.Metric.encode(f.adjustMetric,y.uint32(18).fork()).ldelim(),f.kerning!=null&&Object.hasOwnProperty.call(f,"kerning"))for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.uint32(26).fork().uint32(10).string(g[b]).uint32(16).int32(f.kerning[g[b]]).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$2||(f=$Reader$2.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$2.GlyphFont,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.letter=f.string();break}case 2:{v.adjustMetric=$root$2.Metric.decode(f,f.uint32());break}case 3:{v.kerning===$util$2.emptyObject&&(v.kerning={});let T=f.uint32()+f.pos;for(S="",O=0;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=f.int32();break;default:f.skipType(E&7);break}}v.kerning[S]=O;break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$2||(f=new $Reader$2(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.letter!=null&&f.hasOwnProperty("letter")&&!$util$2.isString(f.letter))return"letter: string expected";if(f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")){let y=$root$2.Metric.verify(f.adjustMetric);if(y)return"adjustMetric."+y}if(f.kerning!=null&&f.hasOwnProperty("kerning")){if(!$util$2.isObject(f.kerning))return"kerning: object expected";let y=Object.keys(f.kerning);for(let g=0;g<y.length;++g)if(!$util$2.isInteger(f.kerning[y[g]]))return"kerning: integer{k:string} expected"}return null},d.fromObject=function(f){if(f instanceof $root$2.GlyphFont)return f;let y=new $root$2.GlyphFont;if(f.letter!=null&&(y.letter=String(f.letter)),f.adjustMetric!=null){if(typeof f.adjustMetric!="object")throw TypeError(".GlyphFont.adjustMetric: object expected");y.adjustMetric=$root$2.Metric.fromObject(f.adjustMetric)}if(f.kerning){if(typeof f.kerning!="object")throw TypeError(".GlyphFont.kerning: object expected");y.kerning={};for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.kerning[g[b]]=f.kerning[g[b]]|0}return y},d.toObject=function(f,y){y||(y={});let g={};(y.objects||y.defaults)&&(g.kerning={}),y.defaults&&(g.letter="",g.adjustMetric=null),f.letter!=null&&f.hasOwnProperty("letter")&&(g.letter=f.letter),f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")&&(g.adjustMetric=$root$2.Metric.toObject(f.adjustMetric,y));let b;if(f.kerning&&(b=Object.keys(f.kerning)).length){g.kerning={};for(let v=0;v<b.length;++v)g.kerning[b[v]]=f.kerning[b[v]]}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GlyphFont"},d})();$root$2.GlyphImage=(()=>{function d(h){if(this.kerning={},h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.letter="",d.prototype.adjustMetric=null,d.prototype.buffer=$util$2.newBuffer([]),d.prototype.fileName="",d.prototype.fileType="",d.prototype.selected=!1,d.prototype.kerning=$util$2.emptyObject,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$2.create()),f.letter!=null&&Object.hasOwnProperty.call(f,"letter")&&y.uint32(10).string(f.letter),f.adjustMetric!=null&&Object.hasOwnProperty.call(f,"adjustMetric")&&$root$2.Metric.encode(f.adjustMetric,y.uint32(18).fork()).ldelim(),f.buffer!=null&&Object.hasOwnProperty.call(f,"buffer")&&y.uint32(26).bytes(f.buffer),f.fileName!=null&&Object.hasOwnProperty.call(f,"fileName")&&y.uint32(34).string(f.fileName),f.fileType!=null&&Object.hasOwnProperty.call(f,"fileType")&&y.uint32(42).string(f.fileType),f.selected!=null&&Object.hasOwnProperty.call(f,"selected")&&y.uint32(48).bool(f.selected),f.kerning!=null&&Object.hasOwnProperty.call(f,"kerning"))for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.uint32(58).fork().uint32(10).string(g[b]).uint32(16).int32(f.kerning[g[b]]).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$2||(f=$Reader$2.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$2.GlyphImage,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.letter=f.string();break}case 2:{v.adjustMetric=$root$2.Metric.decode(f,f.uint32());break}case 3:{v.buffer=f.bytes();break}case 4:{v.fileName=f.string();break}case 5:{v.fileType=f.string();break}case 6:{v.selected=f.bool();break}case 7:{v.kerning===$util$2.emptyObject&&(v.kerning={});let T=f.uint32()+f.pos;for(S="",O=0;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=f.int32();break;default:f.skipType(E&7);break}}v.kerning[S]=O;break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$2||(f=new $Reader$2(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.letter!=null&&f.hasOwnProperty("letter")&&!$util$2.isString(f.letter))return"letter: string expected";if(f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")){let y=$root$2.Metric.verify(f.adjustMetric);if(y)return"adjustMetric."+y}if(f.buffer!=null&&f.hasOwnProperty("buffer")&&!(f.buffer&&typeof f.buffer.length=="number"||$util$2.isString(f.buffer)))return"buffer: buffer expected";if(f.fileName!=null&&f.hasOwnProperty("fileName")&&!$util$2.isString(f.fileName))return"fileName: string expected";if(f.fileType!=null&&f.hasOwnProperty("fileType")&&!$util$2.isString(f.fileType))return"fileType: string expected";if(f.selected!=null&&f.hasOwnProperty("selected")&&typeof f.selected!="boolean")return"selected: boolean expected";if(f.kerning!=null&&f.hasOwnProperty("kerning")){if(!$util$2.isObject(f.kerning))return"kerning: object expected";let y=Object.keys(f.kerning);for(let g=0;g<y.length;++g)if(!$util$2.isInteger(f.kerning[y[g]]))return"kerning: integer{k:string} expected"}return null},d.fromObject=function(f){if(f instanceof $root$2.GlyphImage)return f;let y=new $root$2.GlyphImage;if(f.letter!=null&&(y.letter=String(f.letter)),f.adjustMetric!=null){if(typeof f.adjustMetric!="object")throw TypeError(".GlyphImage.adjustMetric: object expected");y.adjustMetric=$root$2.Metric.fromObject(f.adjustMetric)}if(f.buffer!=null&&(typeof f.buffer=="string"?$util$2.base64.decode(f.buffer,y.buffer=$util$2.newBuffer($util$2.base64.length(f.buffer)),0):f.buffer.length>=0&&(y.buffer=f.buffer)),f.fileName!=null&&(y.fileName=String(f.fileName)),f.fileType!=null&&(y.fileType=String(f.fileType)),f.selected!=null&&(y.selected=!!f.selected),f.kerning){if(typeof f.kerning!="object")throw TypeError(".GlyphImage.kerning: object expected");y.kerning={};for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.kerning[g[b]]=f.kerning[g[b]]|0}return y},d.toObject=function(f,y){y||(y={});let g={};(y.objects||y.defaults)&&(g.kerning={}),y.defaults&&(g.letter="",g.adjustMetric=null,y.bytes===String?g.buffer="":(g.buffer=[],y.bytes!==Array&&(g.buffer=$util$2.newBuffer(g.buffer))),g.fileName="",g.fileType="",g.selected=!1),f.letter!=null&&f.hasOwnProperty("letter")&&(g.letter=f.letter),f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")&&(g.adjustMetric=$root$2.Metric.toObject(f.adjustMetric,y)),f.buffer!=null&&f.hasOwnProperty("buffer")&&(g.buffer=y.bytes===String?$util$2.base64.encode(f.buffer,0,f.buffer.length):y.bytes===Array?Array.prototype.slice.call(f.buffer):f.buffer),f.fileName!=null&&f.hasOwnProperty("fileName")&&(g.fileName=f.fileName),f.fileType!=null&&f.hasOwnProperty("fileType")&&(g.fileType=f.fileType),f.selected!=null&&f.hasOwnProperty("selected")&&(g.selected=f.selected);let b;if(f.kerning&&(b=Object.keys(f.kerning)).length){g.kerning={};for(let v=0;v<b.length;++v)g.kerning[b[v]]=f.kerning[b[v]]}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GlyphImage"},d})();$root$2.Layout=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.padding=0,d.prototype.spacing=0,d.prototype.width=0,d.prototype.height=0,d.prototype.auto=!1,d.prototype.fixedSize=!1,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$2.create()),f.padding!=null&&Object.hasOwnProperty.call(f,"padding")&&y.uint32(8).int32(f.padding),f.spacing!=null&&Object.hasOwnProperty.call(f,"spacing")&&y.uint32(16).int32(f.spacing),f.width!=null&&Object.hasOwnProperty.call(f,"width")&&y.uint32(24).int32(f.width),f.height!=null&&Object.hasOwnProperty.call(f,"height")&&y.uint32(32).int32(f.height),f.auto!=null&&Object.hasOwnProperty.call(f,"auto")&&y.uint32(40).bool(f.auto),f.fixedSize!=null&&Object.hasOwnProperty.call(f,"fixedSize")&&y.uint32(48).bool(f.fixedSize),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$2||(f=$Reader$2.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$2.Layout;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.padding=f.int32();break}case 2:{v.spacing=f.int32();break}case 3:{v.width=f.int32();break}case 4:{v.height=f.int32();break}case 5:{v.auto=f.bool();break}case 6:{v.fixedSize=f.bool();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$2||(f=new $Reader$2(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.padding!=null&&f.hasOwnProperty("padding")&&!$util$2.isInteger(f.padding)?"padding: integer expected":f.spacing!=null&&f.hasOwnProperty("spacing")&&!$util$2.isInteger(f.spacing)?"spacing: integer expected":f.width!=null&&f.hasOwnProperty("width")&&!$util$2.isInteger(f.width)?"width: integer expected":f.height!=null&&f.hasOwnProperty("height")&&!$util$2.isInteger(f.height)?"height: integer expected":f.auto!=null&&f.hasOwnProperty("auto")&&typeof f.auto!="boolean"?"auto: boolean expected":f.fixedSize!=null&&f.hasOwnProperty("fixedSize")&&typeof f.fixedSize!="boolean"?"fixedSize: boolean expected":null},d.fromObject=function(f){if(f instanceof $root$2.Layout)return f;let y=new $root$2.Layout;return f.padding!=null&&(y.padding=f.padding|0),f.spacing!=null&&(y.spacing=f.spacing|0),f.width!=null&&(y.width=f.width|0),f.height!=null&&(y.height=f.height|0),f.auto!=null&&(y.auto=!!f.auto),f.fixedSize!=null&&(y.fixedSize=!!f.fixedSize),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.padding=0,g.spacing=0,g.width=0,g.height=0,g.auto=!1,g.fixedSize=!1),f.padding!=null&&f.hasOwnProperty("padding")&&(g.padding=f.padding),f.spacing!=null&&f.hasOwnProperty("spacing")&&(g.spacing=f.spacing),f.width!=null&&f.hasOwnProperty("width")&&(g.width=f.width),f.height!=null&&f.hasOwnProperty("height")&&(g.height=f.height),f.auto!=null&&f.hasOwnProperty("auto")&&(g.auto=f.auto),f.fixedSize!=null&&f.hasOwnProperty("fixedSize")&&(g.fixedSize=f.fixedSize),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Layout"},d})();$root$2.Shadow=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.color="",d.prototype.blur=0,d.prototype.offsetX=0,d.prototype.offsetY=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$2.create()),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(10).string(f.color),f.blur!=null&&Object.hasOwnProperty.call(f,"blur")&&y.uint32(16).int32(f.blur),f.offsetX!=null&&Object.hasOwnProperty.call(f,"offsetX")&&y.uint32(24).sint32(f.offsetX),f.offsetY!=null&&Object.hasOwnProperty.call(f,"offsetY")&&y.uint32(32).sint32(f.offsetY),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$2||(f=$Reader$2.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$2.Shadow;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.color=f.string();break}case 2:{v.blur=f.int32();break}case 3:{v.offsetX=f.sint32();break}case 4:{v.offsetY=f.sint32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$2||(f=new $Reader$2(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.color!=null&&f.hasOwnProperty("color")&&!$util$2.isString(f.color)?"color: string expected":f.blur!=null&&f.hasOwnProperty("blur")&&!$util$2.isInteger(f.blur)?"blur: integer expected":f.offsetX!=null&&f.hasOwnProperty("offsetX")&&!$util$2.isInteger(f.offsetX)?"offsetX: integer expected":f.offsetY!=null&&f.hasOwnProperty("offsetY")&&!$util$2.isInteger(f.offsetY)?"offsetY: integer expected":null},d.fromObject=function(f){if(f instanceof $root$2.Shadow)return f;let y=new $root$2.Shadow;return f.color!=null&&(y.color=String(f.color)),f.blur!=null&&(y.blur=f.blur|0),f.offsetX!=null&&(y.offsetX=f.offsetX|0),f.offsetY!=null&&(y.offsetY=f.offsetY|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.color="",g.blur=0,g.offsetX=0,g.offsetY=0),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),f.blur!=null&&f.hasOwnProperty("blur")&&(g.blur=f.blur),f.offsetX!=null&&f.hasOwnProperty("offsetX")&&(g.offsetX=f.offsetX),f.offsetY!=null&&f.hasOwnProperty("offsetY")&&(g.offsetY=f.offsetY),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Shadow"},d})();$root$2.Style=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.font=null,d.prototype.fill=null,d.prototype.useStroke=!1,d.prototype.stroke=null,d.prototype.useShadow=!1,d.prototype.shadow=null,d.prototype.bgColor="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$2.create()),f.font!=null&&Object.hasOwnProperty.call(f,"font")&&$root$2.Font.encode(f.font,y.uint32(10).fork()).ldelim(),f.fill!=null&&Object.hasOwnProperty.call(f,"fill")&&$root$2.Fill.encode(f.fill,y.uint32(18).fork()).ldelim(),f.useStroke!=null&&Object.hasOwnProperty.call(f,"useStroke")&&y.uint32(24).bool(f.useStroke),f.stroke!=null&&Object.hasOwnProperty.call(f,"stroke")&&$root$2.Fill.encode(f.stroke,y.uint32(34).fork()).ldelim(),f.useShadow!=null&&Object.hasOwnProperty.call(f,"useShadow")&&y.uint32(40).bool(f.useShadow),f.shadow!=null&&Object.hasOwnProperty.call(f,"shadow")&&$root$2.Shadow.encode(f.shadow,y.uint32(50).fork()).ldelim(),f.bgColor!=null&&Object.hasOwnProperty.call(f,"bgColor")&&y.uint32(58).string(f.bgColor),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$2||(f=$Reader$2.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$2.Style;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.font=$root$2.Font.decode(f,f.uint32());break}case 2:{v.fill=$root$2.Fill.decode(f,f.uint32());break}case 3:{v.useStroke=f.bool();break}case 4:{v.stroke=$root$2.Fill.decode(f,f.uint32());break}case 5:{v.useShadow=f.bool();break}case 6:{v.shadow=$root$2.Shadow.decode(f,f.uint32());break}case 7:{v.bgColor=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$2||(f=new $Reader$2(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.font!=null&&f.hasOwnProperty("font")){let y=$root$2.Font.verify(f.font);if(y)return"font."+y}if(f.fill!=null&&f.hasOwnProperty("fill")){let y=$root$2.Fill.verify(f.fill);if(y)return"fill."+y}if(f.useStroke!=null&&f.hasOwnProperty("useStroke")&&typeof f.useStroke!="boolean")return"useStroke: boolean expected";if(f.stroke!=null&&f.hasOwnProperty("stroke")){let y=$root$2.Fill.verify(f.stroke);if(y)return"stroke."+y}if(f.useShadow!=null&&f.hasOwnProperty("useShadow")&&typeof f.useShadow!="boolean")return"useShadow: boolean expected";if(f.shadow!=null&&f.hasOwnProperty("shadow")){let y=$root$2.Shadow.verify(f.shadow);if(y)return"shadow."+y}return f.bgColor!=null&&f.hasOwnProperty("bgColor")&&!$util$2.isString(f.bgColor)?"bgColor: string expected":null},d.fromObject=function(f){if(f instanceof $root$2.Style)return f;let y=new $root$2.Style;if(f.font!=null){if(typeof f.font!="object")throw TypeError(".Style.font: object expected");y.font=$root$2.Font.fromObject(f.font)}if(f.fill!=null){if(typeof f.fill!="object")throw TypeError(".Style.fill: object expected");y.fill=$root$2.Fill.fromObject(f.fill)}if(f.useStroke!=null&&(y.useStroke=!!f.useStroke),f.stroke!=null){if(typeof f.stroke!="object")throw TypeError(".Style.stroke: object expected");y.stroke=$root$2.Fill.fromObject(f.stroke)}if(f.useShadow!=null&&(y.useShadow=!!f.useShadow),f.shadow!=null){if(typeof f.shadow!="object")throw TypeError(".Style.shadow: object expected");y.shadow=$root$2.Shadow.fromObject(f.shadow)}return f.bgColor!=null&&(y.bgColor=String(f.bgColor)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.font=null,g.fill=null,g.useStroke=!1,g.stroke=null,g.useShadow=!1,g.shadow=null,g.bgColor=""),f.font!=null&&f.hasOwnProperty("font")&&(g.font=$root$2.Font.toObject(f.font,y)),f.fill!=null&&f.hasOwnProperty("fill")&&(g.fill=$root$2.Fill.toObject(f.fill,y)),f.useStroke!=null&&f.hasOwnProperty("useStroke")&&(g.useStroke=f.useStroke),f.stroke!=null&&f.hasOwnProperty("stroke")&&(g.stroke=$root$2.Fill.toObject(f.stroke,y)),f.useShadow!=null&&f.hasOwnProperty("useShadow")&&(g.useShadow=f.useShadow),f.shadow!=null&&f.hasOwnProperty("shadow")&&(g.shadow=$root$2.Shadow.toObject(f.shadow,y)),f.bgColor!=null&&f.hasOwnProperty("bgColor")&&(g.bgColor=f.bgColor),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Style"},d})();$root$2.Ui=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.previewText="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$2.create()),f.previewText!=null&&Object.hasOwnProperty.call(f,"previewText")&&y.uint32(10).string(f.previewText),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$2||(f=$Reader$2.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$2.Ui;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.previewText=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$2||(f=new $Reader$2(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.previewText!=null&&f.hasOwnProperty("previewText")&&!$util$2.isString(f.previewText)?"previewText: string expected":null},d.fromObject=function(f){if(f instanceof $root$2.Ui)return f;let y=new $root$2.Ui;return f.previewText!=null&&(y.previewText=String(f.previewText)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.previewText=""),f.previewText!=null&&f.hasOwnProperty("previewText")&&(g.previewText=f.previewText),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Ui"},d})();const Project$2=$root$2.Project=(()=>{function d(h){if(this.glyphs={},this.glyphImages=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.id=$util$2.Long?$util$2.Long.fromBits(0,0,!1):0,d.prototype.name="",d.prototype.text="",d.prototype.glyphs=$util$2.emptyObject,d.prototype.glyphImages=$util$2.emptyArray,d.prototype.style=null,d.prototype.layout=null,d.prototype.globalAdjustMetric=null,d.prototype.ui=null,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$2.create()),f.id!=null&&Object.hasOwnProperty.call(f,"id")&&y.uint32(8).int64(f.id),f.name!=null&&Object.hasOwnProperty.call(f,"name")&&y.uint32(18).string(f.name),f.text!=null&&Object.hasOwnProperty.call(f,"text")&&y.uint32(26).string(f.text),f.glyphs!=null&&Object.hasOwnProperty.call(f,"glyphs"))for(let g=Object.keys(f.glyphs),b=0;b<g.length;++b)y.uint32(34).fork().uint32(10).string(g[b]),$root$2.GlyphFont.encode(f.glyphs[g[b]],y.uint32(18).fork()).ldelim().ldelim();if(f.glyphImages!=null&&f.glyphImages.length)for(let g=0;g<f.glyphImages.length;++g)$root$2.GlyphImage.encode(f.glyphImages[g],y.uint32(42).fork()).ldelim();return f.style!=null&&Object.hasOwnProperty.call(f,"style")&&$root$2.Style.encode(f.style,y.uint32(50).fork()).ldelim(),f.layout!=null&&Object.hasOwnProperty.call(f,"layout")&&$root$2.Layout.encode(f.layout,y.uint32(58).fork()).ldelim(),f.globalAdjustMetric!=null&&Object.hasOwnProperty.call(f,"globalAdjustMetric")&&$root$2.Metric.encode(f.globalAdjustMetric,y.uint32(66).fork()).ldelim(),f.ui!=null&&Object.hasOwnProperty.call(f,"ui")&&$root$2.Ui.encode(f.ui,y.uint32(74).fork()).ldelim(),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$2||(f=$Reader$2.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$2.Project,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.id=f.int64();break}case 2:{v.name=f.string();break}case 3:{v.text=f.string();break}case 4:{v.glyphs===$util$2.emptyObject&&(v.glyphs={});let T=f.uint32()+f.pos;for(S="",O=null;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=$root$2.GlyphFont.decode(f,f.uint32());break;default:f.skipType(E&7);break}}v.glyphs[S]=O;break}case 5:{v.glyphImages&&v.glyphImages.length||(v.glyphImages=[]),v.glyphImages.push($root$2.GlyphImage.decode(f,f.uint32()));break}case 6:{v.style=$root$2.Style.decode(f,f.uint32());break}case 7:{v.layout=$root$2.Layout.decode(f,f.uint32());break}case 8:{v.globalAdjustMetric=$root$2.Metric.decode(f,f.uint32());break}case 9:{v.ui=$root$2.Ui.decode(f,f.uint32());break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$2||(f=new $Reader$2(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.id!=null&&f.hasOwnProperty("id")&&!$util$2.isInteger(f.id)&&!(f.id&&$util$2.isInteger(f.id.low)&&$util$2.isInteger(f.id.high)))return"id: integer|Long expected";if(f.name!=null&&f.hasOwnProperty("name")&&!$util$2.isString(f.name))return"name: string expected";if(f.text!=null&&f.hasOwnProperty("text")&&!$util$2.isString(f.text))return"text: string expected";if(f.glyphs!=null&&f.hasOwnProperty("glyphs")){if(!$util$2.isObject(f.glyphs))return"glyphs: object expected";let y=Object.keys(f.glyphs);for(let g=0;g<y.length;++g){let b=$root$2.GlyphFont.verify(f.glyphs[y[g]]);if(b)return"glyphs."+b}}if(f.glyphImages!=null&&f.hasOwnProperty("glyphImages")){if(!Array.isArray(f.glyphImages))return"glyphImages: array expected";for(let y=0;y<f.glyphImages.length;++y){let g=$root$2.GlyphImage.verify(f.glyphImages[y]);if(g)return"glyphImages."+g}}if(f.style!=null&&f.hasOwnProperty("style")){let y=$root$2.Style.verify(f.style);if(y)return"style."+y}if(f.layout!=null&&f.hasOwnProperty("layout")){let y=$root$2.Layout.verify(f.layout);if(y)return"layout."+y}if(f.globalAdjustMetric!=null&&f.hasOwnProperty("globalAdjustMetric")){let y=$root$2.Metric.verify(f.globalAdjustMetric);if(y)return"globalAdjustMetric."+y}if(f.ui!=null&&f.hasOwnProperty("ui")){let y=$root$2.Ui.verify(f.ui);if(y)return"ui."+y}return null},d.fromObject=function(f){if(f instanceof $root$2.Project)return f;let y=new $root$2.Project;if(f.id!=null&&($util$2.Long?(y.id=$util$2.Long.fromValue(f.id)).unsigned=!1:typeof f.id=="string"?y.id=parseInt(f.id,10):typeof f.id=="number"?y.id=f.id:typeof f.id=="object"&&(y.id=new $util$2.LongBits(f.id.low>>>0,f.id.high>>>0).toNumber())),f.name!=null&&(y.name=String(f.name)),f.text!=null&&(y.text=String(f.text)),f.glyphs){if(typeof f.glyphs!="object")throw TypeError(".Project.glyphs: object expected");y.glyphs={};for(let g=Object.keys(f.glyphs),b=0;b<g.length;++b){if(typeof f.glyphs[g[b]]!="object")throw TypeError(".Project.glyphs: object expected");y.glyphs[g[b]]=$root$2.GlyphFont.fromObject(f.glyphs[g[b]])}}if(f.glyphImages){if(!Array.isArray(f.glyphImages))throw TypeError(".Project.glyphImages: array expected");y.glyphImages=[];for(let g=0;g<f.glyphImages.length;++g){if(typeof f.glyphImages[g]!="object")throw TypeError(".Project.glyphImages: object expected");y.glyphImages[g]=$root$2.GlyphImage.fromObject(f.glyphImages[g])}}if(f.style!=null){if(typeof f.style!="object")throw TypeError(".Project.style: object expected");y.style=$root$2.Style.fromObject(f.style)}if(f.layout!=null){if(typeof f.layout!="object")throw TypeError(".Project.layout: object expected");y.layout=$root$2.Layout.fromObject(f.layout)}if(f.globalAdjustMetric!=null){if(typeof f.globalAdjustMetric!="object")throw TypeError(".Project.globalAdjustMetric: object expected");y.globalAdjustMetric=$root$2.Metric.fromObject(f.globalAdjustMetric)}if(f.ui!=null){if(typeof f.ui!="object")throw TypeError(".Project.ui: object expected");y.ui=$root$2.Ui.fromObject(f.ui)}return y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.glyphImages=[]),(y.objects||y.defaults)&&(g.glyphs={}),y.defaults){if($util$2.Long){let v=new $util$2.Long(0,0,!1);g.id=y.longs===String?v.toString():y.longs===Number?v.toNumber():v}else g.id=y.longs===String?"0":0;g.name="",g.text="",g.style=null,g.layout=null,g.globalAdjustMetric=null,g.ui=null}f.id!=null&&f.hasOwnProperty("id")&&(typeof f.id=="number"?g.id=y.longs===String?String(f.id):f.id:g.id=y.longs===String?$util$2.Long.prototype.toString.call(f.id):y.longs===Number?new $util$2.LongBits(f.id.low>>>0,f.id.high>>>0).toNumber():f.id),f.name!=null&&f.hasOwnProperty("name")&&(g.name=f.name),f.text!=null&&f.hasOwnProperty("text")&&(g.text=f.text);let b;if(f.glyphs&&(b=Object.keys(f.glyphs)).length){g.glyphs={};for(let v=0;v<b.length;++v)g.glyphs[b[v]]=$root$2.GlyphFont.toObject(f.glyphs[b[v]],y)}if(f.glyphImages&&f.glyphImages.length){g.glyphImages=[];for(let v=0;v<f.glyphImages.length;++v)g.glyphImages[v]=$root$2.GlyphImage.toObject(f.glyphImages[v],y)}return f.style!=null&&f.hasOwnProperty("style")&&(g.style=$root$2.Style.toObject(f.style,y)),f.layout!=null&&f.hasOwnProperty("layout")&&(g.layout=$root$2.Layout.toObject(f.layout,y)),f.globalAdjustMetric!=null&&f.hasOwnProperty("globalAdjustMetric")&&(g.globalAdjustMetric=$root$2.Metric.toObject(f.globalAdjustMetric,y)),f.ui!=null&&f.hasOwnProperty("ui")&&(g.ui=$root$2.Ui.toObject(f.ui,y)),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Project"},d})();function updateToNext$2(d){const h=X({},d);return h.layout&&(h.layout.page=1),h.glyphs&&Object.values(h.glyphs).forEach(f=>{f&&(f.page=0)}),h.glyphImages&&h.glyphImages.forEach(f=>{f&&(f.page=0)}),h}const $Reader$1=minimalExports.Reader,$Writer$1=minimalExports.Writer,$util$1=minimalExports.util,$root$1={};$root$1.Metric=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.xAdvance=0,d.prototype.xOffset=0,d.prototype.yOffset=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$1.create()),f.xAdvance!=null&&Object.hasOwnProperty.call(f,"xAdvance")&&y.uint32(8).sint32(f.xAdvance),f.xOffset!=null&&Object.hasOwnProperty.call(f,"xOffset")&&y.uint32(16).sint32(f.xOffset),f.yOffset!=null&&Object.hasOwnProperty.call(f,"yOffset")&&y.uint32(24).sint32(f.yOffset),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$1||(f=$Reader$1.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$1.Metric;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.xAdvance=f.sint32();break}case 2:{v.xOffset=f.sint32();break}case 3:{v.yOffset=f.sint32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$1||(f=new $Reader$1(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.xAdvance!=null&&f.hasOwnProperty("xAdvance")&&!$util$1.isInteger(f.xAdvance)?"xAdvance: integer expected":f.xOffset!=null&&f.hasOwnProperty("xOffset")&&!$util$1.isInteger(f.xOffset)?"xOffset: integer expected":f.yOffset!=null&&f.hasOwnProperty("yOffset")&&!$util$1.isInteger(f.yOffset)?"yOffset: integer expected":null},d.fromObject=function(f){if(f instanceof $root$1.Metric)return f;let y=new $root$1.Metric;return f.xAdvance!=null&&(y.xAdvance=f.xAdvance|0),f.xOffset!=null&&(y.xOffset=f.xOffset|0),f.yOffset!=null&&(y.yOffset=f.yOffset|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.xAdvance=0,g.xOffset=0,g.yOffset=0),f.xAdvance!=null&&f.hasOwnProperty("xAdvance")&&(g.xAdvance=f.xAdvance),f.xOffset!=null&&f.hasOwnProperty("xOffset")&&(g.xOffset=f.xOffset),f.yOffset!=null&&f.hasOwnProperty("yOffset")&&(g.yOffset=f.yOffset),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Metric"},d})();$root$1.GradientColor=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.id=0,d.prototype.offset=0,d.prototype.color="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$1.create()),f.id!=null&&Object.hasOwnProperty.call(f,"id")&&y.uint32(8).int32(f.id),f.offset!=null&&Object.hasOwnProperty.call(f,"offset")&&y.uint32(21).float(f.offset),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(26).string(f.color),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$1||(f=$Reader$1.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$1.GradientColor;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.id=f.int32();break}case 2:{v.offset=f.float();break}case 3:{v.color=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$1||(f=new $Reader$1(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.id!=null&&f.hasOwnProperty("id")&&!$util$1.isInteger(f.id)?"id: integer expected":f.offset!=null&&f.hasOwnProperty("offset")&&typeof f.offset!="number"?"offset: number expected":f.color!=null&&f.hasOwnProperty("color")&&!$util$1.isString(f.color)?"color: string expected":null},d.fromObject=function(f){if(f instanceof $root$1.GradientColor)return f;let y=new $root$1.GradientColor;return f.id!=null&&(y.id=f.id|0),f.offset!=null&&(y.offset=Number(f.offset)),f.color!=null&&(y.color=String(f.color)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.id=0,g.offset=0,g.color=""),f.id!=null&&f.hasOwnProperty("id")&&(g.id=f.id),f.offset!=null&&f.hasOwnProperty("offset")&&(g.offset=y.json&&!isFinite(f.offset)?String(f.offset):f.offset),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GradientColor"},d})();$root$1.Gradient=(()=>{function d(h){if(this.palette=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.type=0,d.prototype.angle=0,d.prototype.palette=$util$1.emptyArray,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$1.create()),f.type!=null&&Object.hasOwnProperty.call(f,"type")&&y.uint32(8).int32(f.type),f.angle!=null&&Object.hasOwnProperty.call(f,"angle")&&y.uint32(21).float(f.angle),f.palette!=null&&f.palette.length)for(let g=0;g<f.palette.length;++g)$root$1.GradientColor.encode(f.palette[g],y.uint32(26).fork()).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$1||(f=$Reader$1.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$1.Gradient;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.type=f.int32();break}case 2:{v.angle=f.float();break}case 3:{v.palette&&v.palette.length||(v.palette=[]),v.palette.push($root$1.GradientColor.decode(f,f.uint32()));break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$1||(f=new $Reader$1(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.type!=null&&f.hasOwnProperty("type")&&!$util$1.isInteger(f.type))return"type: integer expected";if(f.angle!=null&&f.hasOwnProperty("angle")&&typeof f.angle!="number")return"angle: number expected";if(f.palette!=null&&f.hasOwnProperty("palette")){if(!Array.isArray(f.palette))return"palette: array expected";for(let y=0;y<f.palette.length;++y){let g=$root$1.GradientColor.verify(f.palette[y]);if(g)return"palette."+g}}return null},d.fromObject=function(f){if(f instanceof $root$1.Gradient)return f;let y=new $root$1.Gradient;if(f.type!=null&&(y.type=f.type|0),f.angle!=null&&(y.angle=Number(f.angle)),f.palette){if(!Array.isArray(f.palette))throw TypeError(".Gradient.palette: array expected");y.palette=[];for(let g=0;g<f.palette.length;++g){if(typeof f.palette[g]!="object")throw TypeError(".Gradient.palette: object expected");y.palette[g]=$root$1.GradientColor.fromObject(f.palette[g])}}return y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.palette=[]),y.defaults&&(g.type=0,g.angle=0),f.type!=null&&f.hasOwnProperty("type")&&(g.type=f.type),f.angle!=null&&f.hasOwnProperty("angle")&&(g.angle=y.json&&!isFinite(f.angle)?String(f.angle):f.angle),f.palette&&f.palette.length){g.palette=[];for(let b=0;b<f.palette.length;++b)g.palette[b]=$root$1.GradientColor.toObject(f.palette[b],y)}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Gradient"},d})();$root$1.PatternTexture=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.buffer=$util$1.newBuffer([]),d.prototype.scale=0,d.prototype.repetition="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$1.create()),f.buffer!=null&&Object.hasOwnProperty.call(f,"buffer")&&y.uint32(10).bytes(f.buffer),f.scale!=null&&Object.hasOwnProperty.call(f,"scale")&&y.uint32(17).double(f.scale),f.repetition!=null&&Object.hasOwnProperty.call(f,"repetition")&&y.uint32(26).string(f.repetition),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$1||(f=$Reader$1.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$1.PatternTexture;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.buffer=f.bytes();break}case 2:{v.scale=f.double();break}case 3:{v.repetition=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$1||(f=new $Reader$1(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.buffer!=null&&f.hasOwnProperty("buffer")&&!(f.buffer&&typeof f.buffer.length=="number"||$util$1.isString(f.buffer))?"buffer: buffer expected":f.scale!=null&&f.hasOwnProperty("scale")&&typeof f.scale!="number"?"scale: number expected":f.repetition!=null&&f.hasOwnProperty("repetition")&&!$util$1.isString(f.repetition)?"repetition: string expected":null},d.fromObject=function(f){if(f instanceof $root$1.PatternTexture)return f;let y=new $root$1.PatternTexture;return f.buffer!=null&&(typeof f.buffer=="string"?$util$1.base64.decode(f.buffer,y.buffer=$util$1.newBuffer($util$1.base64.length(f.buffer)),0):f.buffer.length>=0&&(y.buffer=f.buffer)),f.scale!=null&&(y.scale=Number(f.scale)),f.repetition!=null&&(y.repetition=String(f.repetition)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(y.bytes===String?g.buffer="":(g.buffer=[],y.bytes!==Array&&(g.buffer=$util$1.newBuffer(g.buffer))),g.scale=0,g.repetition=""),f.buffer!=null&&f.hasOwnProperty("buffer")&&(g.buffer=y.bytes===String?$util$1.base64.encode(f.buffer,0,f.buffer.length):y.bytes===Array?Array.prototype.slice.call(f.buffer):f.buffer),f.scale!=null&&f.hasOwnProperty("scale")&&(g.scale=y.json&&!isFinite(f.scale)?String(f.scale):f.scale),f.repetition!=null&&f.hasOwnProperty("repetition")&&(g.repetition=f.repetition),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/PatternTexture"},d})();$root$1.Fill=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.type=0,d.prototype.color="",d.prototype.gradient=null,d.prototype.patternTexture=null,d.prototype.width=0,d.prototype.lineCap="",d.prototype.lineJoin="",d.prototype.strokeType=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$1.create()),f.type!=null&&Object.hasOwnProperty.call(f,"type")&&y.uint32(8).int32(f.type),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(18).string(f.color),f.gradient!=null&&Object.hasOwnProperty.call(f,"gradient")&&$root$1.Gradient.encode(f.gradient,y.uint32(26).fork()).ldelim(),f.patternTexture!=null&&Object.hasOwnProperty.call(f,"patternTexture")&&$root$1.PatternTexture.encode(f.patternTexture,y.uint32(34).fork()).ldelim(),f.width!=null&&Object.hasOwnProperty.call(f,"width")&&y.uint32(40).int32(f.width),f.lineCap!=null&&Object.hasOwnProperty.call(f,"lineCap")&&y.uint32(50).string(f.lineCap),f.lineJoin!=null&&Object.hasOwnProperty.call(f,"lineJoin")&&y.uint32(58).string(f.lineJoin),f.strokeType!=null&&Object.hasOwnProperty.call(f,"strokeType")&&y.uint32(64).int32(f.strokeType),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$1||(f=$Reader$1.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$1.Fill;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.type=f.int32();break}case 2:{v.color=f.string();break}case 3:{v.gradient=$root$1.Gradient.decode(f,f.uint32());break}case 4:{v.patternTexture=$root$1.PatternTexture.decode(f,f.uint32());break}case 5:{v.width=f.int32();break}case 6:{v.lineCap=f.string();break}case 7:{v.lineJoin=f.string();break}case 8:{v.strokeType=f.int32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$1||(f=new $Reader$1(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.type!=null&&f.hasOwnProperty("type")&&!$util$1.isInteger(f.type))return"type: integer expected";if(f.color!=null&&f.hasOwnProperty("color")&&!$util$1.isString(f.color))return"color: string expected";if(f.gradient!=null&&f.hasOwnProperty("gradient")){let y=$root$1.Gradient.verify(f.gradient);if(y)return"gradient."+y}if(f.patternTexture!=null&&f.hasOwnProperty("patternTexture")){let y=$root$1.PatternTexture.verify(f.patternTexture);if(y)return"patternTexture."+y}return f.width!=null&&f.hasOwnProperty("width")&&!$util$1.isInteger(f.width)?"width: integer expected":f.lineCap!=null&&f.hasOwnProperty("lineCap")&&!$util$1.isString(f.lineCap)?"lineCap: string expected":f.lineJoin!=null&&f.hasOwnProperty("lineJoin")&&!$util$1.isString(f.lineJoin)?"lineJoin: string expected":f.strokeType!=null&&f.hasOwnProperty("strokeType")&&!$util$1.isInteger(f.strokeType)?"strokeType: integer expected":null},d.fromObject=function(f){if(f instanceof $root$1.Fill)return f;let y=new $root$1.Fill;if(f.type!=null&&(y.type=f.type|0),f.color!=null&&(y.color=String(f.color)),f.gradient!=null){if(typeof f.gradient!="object")throw TypeError(".Fill.gradient: object expected");y.gradient=$root$1.Gradient.fromObject(f.gradient)}if(f.patternTexture!=null){if(typeof f.patternTexture!="object")throw TypeError(".Fill.patternTexture: object expected");y.patternTexture=$root$1.PatternTexture.fromObject(f.patternTexture)}return f.width!=null&&(y.width=f.width|0),f.lineCap!=null&&(y.lineCap=String(f.lineCap)),f.lineJoin!=null&&(y.lineJoin=String(f.lineJoin)),f.strokeType!=null&&(y.strokeType=f.strokeType|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.type=0,g.color="",g.gradient=null,g.patternTexture=null,g.width=0,g.lineCap="",g.lineJoin="",g.strokeType=0),f.type!=null&&f.hasOwnProperty("type")&&(g.type=f.type),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),f.gradient!=null&&f.hasOwnProperty("gradient")&&(g.gradient=$root$1.Gradient.toObject(f.gradient,y)),f.patternTexture!=null&&f.hasOwnProperty("patternTexture")&&(g.patternTexture=$root$1.PatternTexture.toObject(f.patternTexture,y)),f.width!=null&&f.hasOwnProperty("width")&&(g.width=f.width),f.lineCap!=null&&f.hasOwnProperty("lineCap")&&(g.lineCap=f.lineCap),f.lineJoin!=null&&f.hasOwnProperty("lineJoin")&&(g.lineJoin=f.lineJoin),f.strokeType!=null&&f.hasOwnProperty("strokeType")&&(g.strokeType=f.strokeType),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Fill"},d})();$root$1.FontResource=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.font=$util$1.newBuffer([]),d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$1.create()),f.font!=null&&Object.hasOwnProperty.call(f,"font")&&y.uint32(10).bytes(f.font),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$1||(f=$Reader$1.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$1.FontResource;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.font=f.bytes();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$1||(f=new $Reader$1(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.font!=null&&f.hasOwnProperty("font")&&!(f.font&&typeof f.font.length=="number"||$util$1.isString(f.font))?"font: buffer expected":null},d.fromObject=function(f){if(f instanceof $root$1.FontResource)return f;let y=new $root$1.FontResource;return f.font!=null&&(typeof f.font=="string"?$util$1.base64.decode(f.font,y.font=$util$1.newBuffer($util$1.base64.length(f.font)),0):f.font.length>=0&&(y.font=f.font)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(y.bytes===String?g.font="":(g.font=[],y.bytes!==Array&&(g.font=$util$1.newBuffer(g.font)))),f.font!=null&&f.hasOwnProperty("font")&&(g.font=y.bytes===String?$util$1.base64.encode(f.font,0,f.font.length):y.bytes===Array?Array.prototype.slice.call(f.font):f.font),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/FontResource"},d})();$root$1.Font=(()=>{function d(h){if(this.fonts=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.fonts=$util$1.emptyArray,d.prototype.size=0,d.prototype.lineHeight=0,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$1.create()),f.fonts!=null&&f.fonts.length)for(let g=0;g<f.fonts.length;++g)$root$1.FontResource.encode(f.fonts[g],y.uint32(10).fork()).ldelim();return f.size!=null&&Object.hasOwnProperty.call(f,"size")&&y.uint32(16).int32(f.size),f.lineHeight!=null&&Object.hasOwnProperty.call(f,"lineHeight")&&y.uint32(29).float(f.lineHeight),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$1||(f=$Reader$1.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$1.Font;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.fonts&&v.fonts.length||(v.fonts=[]),v.fonts.push($root$1.FontResource.decode(f,f.uint32()));break}case 2:{v.size=f.int32();break}case 3:{v.lineHeight=f.float();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$1||(f=new $Reader$1(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.fonts!=null&&f.hasOwnProperty("fonts")){if(!Array.isArray(f.fonts))return"fonts: array expected";for(let y=0;y<f.fonts.length;++y){let g=$root$1.FontResource.verify(f.fonts[y]);if(g)return"fonts."+g}}return f.size!=null&&f.hasOwnProperty("size")&&!$util$1.isInteger(f.size)?"size: integer expected":f.lineHeight!=null&&f.hasOwnProperty("lineHeight")&&typeof f.lineHeight!="number"?"lineHeight: number expected":null},d.fromObject=function(f){if(f instanceof $root$1.Font)return f;let y=new $root$1.Font;if(f.fonts){if(!Array.isArray(f.fonts))throw TypeError(".Font.fonts: array expected");y.fonts=[];for(let g=0;g<f.fonts.length;++g){if(typeof f.fonts[g]!="object")throw TypeError(".Font.fonts: object expected");y.fonts[g]=$root$1.FontResource.fromObject(f.fonts[g])}}return f.size!=null&&(y.size=f.size|0),f.lineHeight!=null&&(y.lineHeight=Number(f.lineHeight)),y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.fonts=[]),y.defaults&&(g.size=0,g.lineHeight=0),f.fonts&&f.fonts.length){g.fonts=[];for(let b=0;b<f.fonts.length;++b)g.fonts[b]=$root$1.FontResource.toObject(f.fonts[b],y)}return f.size!=null&&f.hasOwnProperty("size")&&(g.size=f.size),f.lineHeight!=null&&f.hasOwnProperty("lineHeight")&&(g.lineHeight=y.json&&!isFinite(f.lineHeight)?String(f.lineHeight):f.lineHeight),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Font"},d})();$root$1.GlyphFont=(()=>{function d(h){if(this.kerning={},h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.letter="",d.prototype.adjustMetric=null,d.prototype.kerning=$util$1.emptyObject,d.prototype.page=0,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$1.create()),f.letter!=null&&Object.hasOwnProperty.call(f,"letter")&&y.uint32(10).string(f.letter),f.adjustMetric!=null&&Object.hasOwnProperty.call(f,"adjustMetric")&&$root$1.Metric.encode(f.adjustMetric,y.uint32(18).fork()).ldelim(),f.kerning!=null&&Object.hasOwnProperty.call(f,"kerning"))for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.uint32(26).fork().uint32(10).string(g[b]).uint32(16).int32(f.kerning[g[b]]).ldelim();return f.page!=null&&Object.hasOwnProperty.call(f,"page")&&y.uint32(32).int32(f.page),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$1||(f=$Reader$1.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$1.GlyphFont,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.letter=f.string();break}case 2:{v.adjustMetric=$root$1.Metric.decode(f,f.uint32());break}case 3:{v.kerning===$util$1.emptyObject&&(v.kerning={});let T=f.uint32()+f.pos;for(S="",O=0;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=f.int32();break;default:f.skipType(E&7);break}}v.kerning[S]=O;break}case 4:{v.page=f.int32();break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$1||(f=new $Reader$1(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.letter!=null&&f.hasOwnProperty("letter")&&!$util$1.isString(f.letter))return"letter: string expected";if(f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")){let y=$root$1.Metric.verify(f.adjustMetric);if(y)return"adjustMetric."+y}if(f.kerning!=null&&f.hasOwnProperty("kerning")){if(!$util$1.isObject(f.kerning))return"kerning: object expected";let y=Object.keys(f.kerning);for(let g=0;g<y.length;++g)if(!$util$1.isInteger(f.kerning[y[g]]))return"kerning: integer{k:string} expected"}return f.page!=null&&f.hasOwnProperty("page")&&!$util$1.isInteger(f.page)?"page: integer expected":null},d.fromObject=function(f){if(f instanceof $root$1.GlyphFont)return f;let y=new $root$1.GlyphFont;if(f.letter!=null&&(y.letter=String(f.letter)),f.adjustMetric!=null){if(typeof f.adjustMetric!="object")throw TypeError(".GlyphFont.adjustMetric: object expected");y.adjustMetric=$root$1.Metric.fromObject(f.adjustMetric)}if(f.kerning){if(typeof f.kerning!="object")throw TypeError(".GlyphFont.kerning: object expected");y.kerning={};for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.kerning[g[b]]=f.kerning[g[b]]|0}return f.page!=null&&(y.page=f.page|0),y},d.toObject=function(f,y){y||(y={});let g={};(y.objects||y.defaults)&&(g.kerning={}),y.defaults&&(g.letter="",g.adjustMetric=null,g.page=0),f.letter!=null&&f.hasOwnProperty("letter")&&(g.letter=f.letter),f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")&&(g.adjustMetric=$root$1.Metric.toObject(f.adjustMetric,y));let b;if(f.kerning&&(b=Object.keys(f.kerning)).length){g.kerning={};for(let v=0;v<b.length;++v)g.kerning[b[v]]=f.kerning[b[v]]}return f.page!=null&&f.hasOwnProperty("page")&&(g.page=f.page),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GlyphFont"},d})();$root$1.GlyphImage=(()=>{function d(h){if(this.kerning={},h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.letter="",d.prototype.adjustMetric=null,d.prototype.buffer=$util$1.newBuffer([]),d.prototype.fileName="",d.prototype.fileType="",d.prototype.selected=!1,d.prototype.kerning=$util$1.emptyObject,d.prototype.page=0,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$1.create()),f.letter!=null&&Object.hasOwnProperty.call(f,"letter")&&y.uint32(10).string(f.letter),f.adjustMetric!=null&&Object.hasOwnProperty.call(f,"adjustMetric")&&$root$1.Metric.encode(f.adjustMetric,y.uint32(18).fork()).ldelim(),f.buffer!=null&&Object.hasOwnProperty.call(f,"buffer")&&y.uint32(26).bytes(f.buffer),f.fileName!=null&&Object.hasOwnProperty.call(f,"fileName")&&y.uint32(34).string(f.fileName),f.fileType!=null&&Object.hasOwnProperty.call(f,"fileType")&&y.uint32(42).string(f.fileType),f.selected!=null&&Object.hasOwnProperty.call(f,"selected")&&y.uint32(48).bool(f.selected),f.kerning!=null&&Object.hasOwnProperty.call(f,"kerning"))for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.uint32(58).fork().uint32(10).string(g[b]).uint32(16).int32(f.kerning[g[b]]).ldelim();return f.page!=null&&Object.hasOwnProperty.call(f,"page")&&y.uint32(64).int32(f.page),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$1||(f=$Reader$1.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$1.GlyphImage,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.letter=f.string();break}case 2:{v.adjustMetric=$root$1.Metric.decode(f,f.uint32());break}case 3:{v.buffer=f.bytes();break}case 4:{v.fileName=f.string();break}case 5:{v.fileType=f.string();break}case 6:{v.selected=f.bool();break}case 7:{v.kerning===$util$1.emptyObject&&(v.kerning={});let T=f.uint32()+f.pos;for(S="",O=0;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=f.int32();break;default:f.skipType(E&7);break}}v.kerning[S]=O;break}case 8:{v.page=f.int32();break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$1||(f=new $Reader$1(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.letter!=null&&f.hasOwnProperty("letter")&&!$util$1.isString(f.letter))return"letter: string expected";if(f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")){let y=$root$1.Metric.verify(f.adjustMetric);if(y)return"adjustMetric."+y}if(f.buffer!=null&&f.hasOwnProperty("buffer")&&!(f.buffer&&typeof f.buffer.length=="number"||$util$1.isString(f.buffer)))return"buffer: buffer expected";if(f.fileName!=null&&f.hasOwnProperty("fileName")&&!$util$1.isString(f.fileName))return"fileName: string expected";if(f.fileType!=null&&f.hasOwnProperty("fileType")&&!$util$1.isString(f.fileType))return"fileType: string expected";if(f.selected!=null&&f.hasOwnProperty("selected")&&typeof f.selected!="boolean")return"selected: boolean expected";if(f.kerning!=null&&f.hasOwnProperty("kerning")){if(!$util$1.isObject(f.kerning))return"kerning: object expected";let y=Object.keys(f.kerning);for(let g=0;g<y.length;++g)if(!$util$1.isInteger(f.kerning[y[g]]))return"kerning: integer{k:string} expected"}return f.page!=null&&f.hasOwnProperty("page")&&!$util$1.isInteger(f.page)?"page: integer expected":null},d.fromObject=function(f){if(f instanceof $root$1.GlyphImage)return f;let y=new $root$1.GlyphImage;if(f.letter!=null&&(y.letter=String(f.letter)),f.adjustMetric!=null){if(typeof f.adjustMetric!="object")throw TypeError(".GlyphImage.adjustMetric: object expected");y.adjustMetric=$root$1.Metric.fromObject(f.adjustMetric)}if(f.buffer!=null&&(typeof f.buffer=="string"?$util$1.base64.decode(f.buffer,y.buffer=$util$1.newBuffer($util$1.base64.length(f.buffer)),0):f.buffer.length>=0&&(y.buffer=f.buffer)),f.fileName!=null&&(y.fileName=String(f.fileName)),f.fileType!=null&&(y.fileType=String(f.fileType)),f.selected!=null&&(y.selected=!!f.selected),f.kerning){if(typeof f.kerning!="object")throw TypeError(".GlyphImage.kerning: object expected");y.kerning={};for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.kerning[g[b]]=f.kerning[g[b]]|0}return f.page!=null&&(y.page=f.page|0),y},d.toObject=function(f,y){y||(y={});let g={};(y.objects||y.defaults)&&(g.kerning={}),y.defaults&&(g.letter="",g.adjustMetric=null,y.bytes===String?g.buffer="":(g.buffer=[],y.bytes!==Array&&(g.buffer=$util$1.newBuffer(g.buffer))),g.fileName="",g.fileType="",g.selected=!1,g.page=0),f.letter!=null&&f.hasOwnProperty("letter")&&(g.letter=f.letter),f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")&&(g.adjustMetric=$root$1.Metric.toObject(f.adjustMetric,y)),f.buffer!=null&&f.hasOwnProperty("buffer")&&(g.buffer=y.bytes===String?$util$1.base64.encode(f.buffer,0,f.buffer.length):y.bytes===Array?Array.prototype.slice.call(f.buffer):f.buffer),f.fileName!=null&&f.hasOwnProperty("fileName")&&(g.fileName=f.fileName),f.fileType!=null&&f.hasOwnProperty("fileType")&&(g.fileType=f.fileType),f.selected!=null&&f.hasOwnProperty("selected")&&(g.selected=f.selected);let b;if(f.kerning&&(b=Object.keys(f.kerning)).length){g.kerning={};for(let v=0;v<b.length;++v)g.kerning[b[v]]=f.kerning[b[v]]}return f.page!=null&&f.hasOwnProperty("page")&&(g.page=f.page),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GlyphImage"},d})();$root$1.Layout=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.padding=0,d.prototype.spacing=0,d.prototype.width=0,d.prototype.height=0,d.prototype.auto=!1,d.prototype.fixedSize=!1,d.prototype.page=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$1.create()),f.padding!=null&&Object.hasOwnProperty.call(f,"padding")&&y.uint32(8).int32(f.padding),f.spacing!=null&&Object.hasOwnProperty.call(f,"spacing")&&y.uint32(16).int32(f.spacing),f.width!=null&&Object.hasOwnProperty.call(f,"width")&&y.uint32(24).int32(f.width),f.height!=null&&Object.hasOwnProperty.call(f,"height")&&y.uint32(32).int32(f.height),f.auto!=null&&Object.hasOwnProperty.call(f,"auto")&&y.uint32(40).bool(f.auto),f.fixedSize!=null&&Object.hasOwnProperty.call(f,"fixedSize")&&y.uint32(48).bool(f.fixedSize),f.page!=null&&Object.hasOwnProperty.call(f,"page")&&y.uint32(56).int32(f.page),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$1||(f=$Reader$1.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$1.Layout;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.padding=f.int32();break}case 2:{v.spacing=f.int32();break}case 3:{v.width=f.int32();break}case 4:{v.height=f.int32();break}case 5:{v.auto=f.bool();break}case 6:{v.fixedSize=f.bool();break}case 7:{v.page=f.int32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$1||(f=new $Reader$1(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.padding!=null&&f.hasOwnProperty("padding")&&!$util$1.isInteger(f.padding)?"padding: integer expected":f.spacing!=null&&f.hasOwnProperty("spacing")&&!$util$1.isInteger(f.spacing)?"spacing: integer expected":f.width!=null&&f.hasOwnProperty("width")&&!$util$1.isInteger(f.width)?"width: integer expected":f.height!=null&&f.hasOwnProperty("height")&&!$util$1.isInteger(f.height)?"height: integer expected":f.auto!=null&&f.hasOwnProperty("auto")&&typeof f.auto!="boolean"?"auto: boolean expected":f.fixedSize!=null&&f.hasOwnProperty("fixedSize")&&typeof f.fixedSize!="boolean"?"fixedSize: boolean expected":f.page!=null&&f.hasOwnProperty("page")&&!$util$1.isInteger(f.page)?"page: integer expected":null},d.fromObject=function(f){if(f instanceof $root$1.Layout)return f;let y=new $root$1.Layout;return f.padding!=null&&(y.padding=f.padding|0),f.spacing!=null&&(y.spacing=f.spacing|0),f.width!=null&&(y.width=f.width|0),f.height!=null&&(y.height=f.height|0),f.auto!=null&&(y.auto=!!f.auto),f.fixedSize!=null&&(y.fixedSize=!!f.fixedSize),f.page!=null&&(y.page=f.page|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.padding=0,g.spacing=0,g.width=0,g.height=0,g.auto=!1,g.fixedSize=!1,g.page=0),f.padding!=null&&f.hasOwnProperty("padding")&&(g.padding=f.padding),f.spacing!=null&&f.hasOwnProperty("spacing")&&(g.spacing=f.spacing),f.width!=null&&f.hasOwnProperty("width")&&(g.width=f.width),f.height!=null&&f.hasOwnProperty("height")&&(g.height=f.height),f.auto!=null&&f.hasOwnProperty("auto")&&(g.auto=f.auto),f.fixedSize!=null&&f.hasOwnProperty("fixedSize")&&(g.fixedSize=f.fixedSize),f.page!=null&&f.hasOwnProperty("page")&&(g.page=f.page),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Layout"},d})();$root$1.Shadow=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.color="",d.prototype.blur=0,d.prototype.offsetX=0,d.prototype.offsetY=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$1.create()),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(10).string(f.color),f.blur!=null&&Object.hasOwnProperty.call(f,"blur")&&y.uint32(16).int32(f.blur),f.offsetX!=null&&Object.hasOwnProperty.call(f,"offsetX")&&y.uint32(24).sint32(f.offsetX),f.offsetY!=null&&Object.hasOwnProperty.call(f,"offsetY")&&y.uint32(32).sint32(f.offsetY),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$1||(f=$Reader$1.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$1.Shadow;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.color=f.string();break}case 2:{v.blur=f.int32();break}case 3:{v.offsetX=f.sint32();break}case 4:{v.offsetY=f.sint32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$1||(f=new $Reader$1(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.color!=null&&f.hasOwnProperty("color")&&!$util$1.isString(f.color)?"color: string expected":f.blur!=null&&f.hasOwnProperty("blur")&&!$util$1.isInteger(f.blur)?"blur: integer expected":f.offsetX!=null&&f.hasOwnProperty("offsetX")&&!$util$1.isInteger(f.offsetX)?"offsetX: integer expected":f.offsetY!=null&&f.hasOwnProperty("offsetY")&&!$util$1.isInteger(f.offsetY)?"offsetY: integer expected":null},d.fromObject=function(f){if(f instanceof $root$1.Shadow)return f;let y=new $root$1.Shadow;return f.color!=null&&(y.color=String(f.color)),f.blur!=null&&(y.blur=f.blur|0),f.offsetX!=null&&(y.offsetX=f.offsetX|0),f.offsetY!=null&&(y.offsetY=f.offsetY|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.color="",g.blur=0,g.offsetX=0,g.offsetY=0),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),f.blur!=null&&f.hasOwnProperty("blur")&&(g.blur=f.blur),f.offsetX!=null&&f.hasOwnProperty("offsetX")&&(g.offsetX=f.offsetX),f.offsetY!=null&&f.hasOwnProperty("offsetY")&&(g.offsetY=f.offsetY),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Shadow"},d})();$root$1.Style=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.font=null,d.prototype.fill=null,d.prototype.useStroke=!1,d.prototype.stroke=null,d.prototype.useShadow=!1,d.prototype.shadow=null,d.prototype.bgColor="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$1.create()),f.font!=null&&Object.hasOwnProperty.call(f,"font")&&$root$1.Font.encode(f.font,y.uint32(10).fork()).ldelim(),f.fill!=null&&Object.hasOwnProperty.call(f,"fill")&&$root$1.Fill.encode(f.fill,y.uint32(18).fork()).ldelim(),f.useStroke!=null&&Object.hasOwnProperty.call(f,"useStroke")&&y.uint32(24).bool(f.useStroke),f.stroke!=null&&Object.hasOwnProperty.call(f,"stroke")&&$root$1.Fill.encode(f.stroke,y.uint32(34).fork()).ldelim(),f.useShadow!=null&&Object.hasOwnProperty.call(f,"useShadow")&&y.uint32(40).bool(f.useShadow),f.shadow!=null&&Object.hasOwnProperty.call(f,"shadow")&&$root$1.Shadow.encode(f.shadow,y.uint32(50).fork()).ldelim(),f.bgColor!=null&&Object.hasOwnProperty.call(f,"bgColor")&&y.uint32(58).string(f.bgColor),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$1||(f=$Reader$1.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$1.Style;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.font=$root$1.Font.decode(f,f.uint32());break}case 2:{v.fill=$root$1.Fill.decode(f,f.uint32());break}case 3:{v.useStroke=f.bool();break}case 4:{v.stroke=$root$1.Fill.decode(f,f.uint32());break}case 5:{v.useShadow=f.bool();break}case 6:{v.shadow=$root$1.Shadow.decode(f,f.uint32());break}case 7:{v.bgColor=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$1||(f=new $Reader$1(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.font!=null&&f.hasOwnProperty("font")){let y=$root$1.Font.verify(f.font);if(y)return"font."+y}if(f.fill!=null&&f.hasOwnProperty("fill")){let y=$root$1.Fill.verify(f.fill);if(y)return"fill."+y}if(f.useStroke!=null&&f.hasOwnProperty("useStroke")&&typeof f.useStroke!="boolean")return"useStroke: boolean expected";if(f.stroke!=null&&f.hasOwnProperty("stroke")){let y=$root$1.Fill.verify(f.stroke);if(y)return"stroke."+y}if(f.useShadow!=null&&f.hasOwnProperty("useShadow")&&typeof f.useShadow!="boolean")return"useShadow: boolean expected";if(f.shadow!=null&&f.hasOwnProperty("shadow")){let y=$root$1.Shadow.verify(f.shadow);if(y)return"shadow."+y}return f.bgColor!=null&&f.hasOwnProperty("bgColor")&&!$util$1.isString(f.bgColor)?"bgColor: string expected":null},d.fromObject=function(f){if(f instanceof $root$1.Style)return f;let y=new $root$1.Style;if(f.font!=null){if(typeof f.font!="object")throw TypeError(".Style.font: object expected");y.font=$root$1.Font.fromObject(f.font)}if(f.fill!=null){if(typeof f.fill!="object")throw TypeError(".Style.fill: object expected");y.fill=$root$1.Fill.fromObject(f.fill)}if(f.useStroke!=null&&(y.useStroke=!!f.useStroke),f.stroke!=null){if(typeof f.stroke!="object")throw TypeError(".Style.stroke: object expected");y.stroke=$root$1.Fill.fromObject(f.stroke)}if(f.useShadow!=null&&(y.useShadow=!!f.useShadow),f.shadow!=null){if(typeof f.shadow!="object")throw TypeError(".Style.shadow: object expected");y.shadow=$root$1.Shadow.fromObject(f.shadow)}return f.bgColor!=null&&(y.bgColor=String(f.bgColor)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.font=null,g.fill=null,g.useStroke=!1,g.stroke=null,g.useShadow=!1,g.shadow=null,g.bgColor=""),f.font!=null&&f.hasOwnProperty("font")&&(g.font=$root$1.Font.toObject(f.font,y)),f.fill!=null&&f.hasOwnProperty("fill")&&(g.fill=$root$1.Fill.toObject(f.fill,y)),f.useStroke!=null&&f.hasOwnProperty("useStroke")&&(g.useStroke=f.useStroke),f.stroke!=null&&f.hasOwnProperty("stroke")&&(g.stroke=$root$1.Fill.toObject(f.stroke,y)),f.useShadow!=null&&f.hasOwnProperty("useShadow")&&(g.useShadow=f.useShadow),f.shadow!=null&&f.hasOwnProperty("shadow")&&(g.shadow=$root$1.Shadow.toObject(f.shadow,y)),f.bgColor!=null&&f.hasOwnProperty("bgColor")&&(g.bgColor=f.bgColor),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Style"},d})();$root$1.Ui=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.previewText="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer$1.create()),f.previewText!=null&&Object.hasOwnProperty.call(f,"previewText")&&y.uint32(10).string(f.previewText),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$1||(f=$Reader$1.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$1.Ui;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.previewText=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$1||(f=new $Reader$1(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.previewText!=null&&f.hasOwnProperty("previewText")&&!$util$1.isString(f.previewText)?"previewText: string expected":null},d.fromObject=function(f){if(f instanceof $root$1.Ui)return f;let y=new $root$1.Ui;return f.previewText!=null&&(y.previewText=String(f.previewText)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.previewText=""),f.previewText!=null&&f.hasOwnProperty("previewText")&&(g.previewText=f.previewText),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Ui"},d})();const Project$1=$root$1.Project=(()=>{function d(h){if(this.glyphs={},this.glyphImages=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.id=$util$1.Long?$util$1.Long.fromBits(0,0,!1):0,d.prototype.name="",d.prototype.text="",d.prototype.glyphs=$util$1.emptyObject,d.prototype.glyphImages=$util$1.emptyArray,d.prototype.style=null,d.prototype.layout=null,d.prototype.globalAdjustMetric=null,d.prototype.ui=null,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer$1.create()),f.id!=null&&Object.hasOwnProperty.call(f,"id")&&y.uint32(8).int64(f.id),f.name!=null&&Object.hasOwnProperty.call(f,"name")&&y.uint32(18).string(f.name),f.text!=null&&Object.hasOwnProperty.call(f,"text")&&y.uint32(26).string(f.text),f.glyphs!=null&&Object.hasOwnProperty.call(f,"glyphs"))for(let g=Object.keys(f.glyphs),b=0;b<g.length;++b)y.uint32(34).fork().uint32(10).string(g[b]),$root$1.GlyphFont.encode(f.glyphs[g[b]],y.uint32(18).fork()).ldelim().ldelim();if(f.glyphImages!=null&&f.glyphImages.length)for(let g=0;g<f.glyphImages.length;++g)$root$1.GlyphImage.encode(f.glyphImages[g],y.uint32(42).fork()).ldelim();return f.style!=null&&Object.hasOwnProperty.call(f,"style")&&$root$1.Style.encode(f.style,y.uint32(50).fork()).ldelim(),f.layout!=null&&Object.hasOwnProperty.call(f,"layout")&&$root$1.Layout.encode(f.layout,y.uint32(58).fork()).ldelim(),f.globalAdjustMetric!=null&&Object.hasOwnProperty.call(f,"globalAdjustMetric")&&$root$1.Metric.encode(f.globalAdjustMetric,y.uint32(66).fork()).ldelim(),f.ui!=null&&Object.hasOwnProperty.call(f,"ui")&&$root$1.Ui.encode(f.ui,y.uint32(74).fork()).ldelim(),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader$1||(f=$Reader$1.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root$1.Project,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.id=f.int64();break}case 2:{v.name=f.string();break}case 3:{v.text=f.string();break}case 4:{v.glyphs===$util$1.emptyObject&&(v.glyphs={});let T=f.uint32()+f.pos;for(S="",O=null;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=$root$1.GlyphFont.decode(f,f.uint32());break;default:f.skipType(E&7);break}}v.glyphs[S]=O;break}case 5:{v.glyphImages&&v.glyphImages.length||(v.glyphImages=[]),v.glyphImages.push($root$1.GlyphImage.decode(f,f.uint32()));break}case 6:{v.style=$root$1.Style.decode(f,f.uint32());break}case 7:{v.layout=$root$1.Layout.decode(f,f.uint32());break}case 8:{v.globalAdjustMetric=$root$1.Metric.decode(f,f.uint32());break}case 9:{v.ui=$root$1.Ui.decode(f,f.uint32());break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader$1||(f=new $Reader$1(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.id!=null&&f.hasOwnProperty("id")&&!$util$1.isInteger(f.id)&&!(f.id&&$util$1.isInteger(f.id.low)&&$util$1.isInteger(f.id.high)))return"id: integer|Long expected";if(f.name!=null&&f.hasOwnProperty("name")&&!$util$1.isString(f.name))return"name: string expected";if(f.text!=null&&f.hasOwnProperty("text")&&!$util$1.isString(f.text))return"text: string expected";if(f.glyphs!=null&&f.hasOwnProperty("glyphs")){if(!$util$1.isObject(f.glyphs))return"glyphs: object expected";let y=Object.keys(f.glyphs);for(let g=0;g<y.length;++g){let b=$root$1.GlyphFont.verify(f.glyphs[y[g]]);if(b)return"glyphs."+b}}if(f.glyphImages!=null&&f.hasOwnProperty("glyphImages")){if(!Array.isArray(f.glyphImages))return"glyphImages: array expected";for(let y=0;y<f.glyphImages.length;++y){let g=$root$1.GlyphImage.verify(f.glyphImages[y]);if(g)return"glyphImages."+g}}if(f.style!=null&&f.hasOwnProperty("style")){let y=$root$1.Style.verify(f.style);if(y)return"style."+y}if(f.layout!=null&&f.hasOwnProperty("layout")){let y=$root$1.Layout.verify(f.layout);if(y)return"layout."+y}if(f.globalAdjustMetric!=null&&f.hasOwnProperty("globalAdjustMetric")){let y=$root$1.Metric.verify(f.globalAdjustMetric);if(y)return"globalAdjustMetric."+y}if(f.ui!=null&&f.hasOwnProperty("ui")){let y=$root$1.Ui.verify(f.ui);if(y)return"ui."+y}return null},d.fromObject=function(f){if(f instanceof $root$1.Project)return f;let y=new $root$1.Project;if(f.id!=null&&($util$1.Long?(y.id=$util$1.Long.fromValue(f.id)).unsigned=!1:typeof f.id=="string"?y.id=parseInt(f.id,10):typeof f.id=="number"?y.id=f.id:typeof f.id=="object"&&(y.id=new $util$1.LongBits(f.id.low>>>0,f.id.high>>>0).toNumber())),f.name!=null&&(y.name=String(f.name)),f.text!=null&&(y.text=String(f.text)),f.glyphs){if(typeof f.glyphs!="object")throw TypeError(".Project.glyphs: object expected");y.glyphs={};for(let g=Object.keys(f.glyphs),b=0;b<g.length;++b){if(typeof f.glyphs[g[b]]!="object")throw TypeError(".Project.glyphs: object expected");y.glyphs[g[b]]=$root$1.GlyphFont.fromObject(f.glyphs[g[b]])}}if(f.glyphImages){if(!Array.isArray(f.glyphImages))throw TypeError(".Project.glyphImages: array expected");y.glyphImages=[];for(let g=0;g<f.glyphImages.length;++g){if(typeof f.glyphImages[g]!="object")throw TypeError(".Project.glyphImages: object expected");y.glyphImages[g]=$root$1.GlyphImage.fromObject(f.glyphImages[g])}}if(f.style!=null){if(typeof f.style!="object")throw TypeError(".Project.style: object expected");y.style=$root$1.Style.fromObject(f.style)}if(f.layout!=null){if(typeof f.layout!="object")throw TypeError(".Project.layout: object expected");y.layout=$root$1.Layout.fromObject(f.layout)}if(f.globalAdjustMetric!=null){if(typeof f.globalAdjustMetric!="object")throw TypeError(".Project.globalAdjustMetric: object expected");y.globalAdjustMetric=$root$1.Metric.fromObject(f.globalAdjustMetric)}if(f.ui!=null){if(typeof f.ui!="object")throw TypeError(".Project.ui: object expected");y.ui=$root$1.Ui.fromObject(f.ui)}return y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.glyphImages=[]),(y.objects||y.defaults)&&(g.glyphs={}),y.defaults){if($util$1.Long){let v=new $util$1.Long(0,0,!1);g.id=y.longs===String?v.toString():y.longs===Number?v.toNumber():v}else g.id=y.longs===String?"0":0;g.name="",g.text="",g.style=null,g.layout=null,g.globalAdjustMetric=null,g.ui=null}f.id!=null&&f.hasOwnProperty("id")&&(typeof f.id=="number"?g.id=y.longs===String?String(f.id):f.id:g.id=y.longs===String?$util$1.Long.prototype.toString.call(f.id):y.longs===Number?new $util$1.LongBits(f.id.low>>>0,f.id.high>>>0).toNumber():f.id),f.name!=null&&f.hasOwnProperty("name")&&(g.name=f.name),f.text!=null&&f.hasOwnProperty("text")&&(g.text=f.text);let b;if(f.glyphs&&(b=Object.keys(f.glyphs)).length){g.glyphs={};for(let v=0;v<b.length;++v)g.glyphs[b[v]]=$root$1.GlyphFont.toObject(f.glyphs[b[v]],y)}if(f.glyphImages&&f.glyphImages.length){g.glyphImages=[];for(let v=0;v<f.glyphImages.length;++v)g.glyphImages[v]=$root$1.GlyphImage.toObject(f.glyphImages[v],y)}return f.style!=null&&f.hasOwnProperty("style")&&(g.style=$root$1.Style.toObject(f.style,y)),f.layout!=null&&f.hasOwnProperty("layout")&&(g.layout=$root$1.Layout.toObject(f.layout,y)),f.globalAdjustMetric!=null&&f.hasOwnProperty("globalAdjustMetric")&&(g.globalAdjustMetric=$root$1.Metric.toObject(f.globalAdjustMetric,y)),f.ui!=null&&f.hasOwnProperty("ui")&&(g.ui=$root$1.Ui.toObject(f.ui,y)),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Project"},d})();function updateToNext$1(d){var f;const h=X({},d);return(f=h.style)!=null&&f.font&&(h.style.font.sharp=80),h}const $Reader=minimalExports.Reader,$Writer=minimalExports.Writer,$util=minimalExports.util,$root={};$root.Metric=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.xAdvance=0,d.prototype.xOffset=0,d.prototype.yOffset=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer.create()),f.xAdvance!=null&&Object.hasOwnProperty.call(f,"xAdvance")&&y.uint32(8).sint32(f.xAdvance),f.xOffset!=null&&Object.hasOwnProperty.call(f,"xOffset")&&y.uint32(16).sint32(f.xOffset),f.yOffset!=null&&Object.hasOwnProperty.call(f,"yOffset")&&y.uint32(24).sint32(f.yOffset),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader||(f=$Reader.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root.Metric;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.xAdvance=f.sint32();break}case 2:{v.xOffset=f.sint32();break}case 3:{v.yOffset=f.sint32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader||(f=new $Reader(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.xAdvance!=null&&f.hasOwnProperty("xAdvance")&&!$util.isInteger(f.xAdvance)?"xAdvance: integer expected":f.xOffset!=null&&f.hasOwnProperty("xOffset")&&!$util.isInteger(f.xOffset)?"xOffset: integer expected":f.yOffset!=null&&f.hasOwnProperty("yOffset")&&!$util.isInteger(f.yOffset)?"yOffset: integer expected":null},d.fromObject=function(f){if(f instanceof $root.Metric)return f;let y=new $root.Metric;return f.xAdvance!=null&&(y.xAdvance=f.xAdvance|0),f.xOffset!=null&&(y.xOffset=f.xOffset|0),f.yOffset!=null&&(y.yOffset=f.yOffset|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.xAdvance=0,g.xOffset=0,g.yOffset=0),f.xAdvance!=null&&f.hasOwnProperty("xAdvance")&&(g.xAdvance=f.xAdvance),f.xOffset!=null&&f.hasOwnProperty("xOffset")&&(g.xOffset=f.xOffset),f.yOffset!=null&&f.hasOwnProperty("yOffset")&&(g.yOffset=f.yOffset),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Metric"},d})();$root.GradientColor=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.id=0,d.prototype.offset=0,d.prototype.color="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer.create()),f.id!=null&&Object.hasOwnProperty.call(f,"id")&&y.uint32(8).int32(f.id),f.offset!=null&&Object.hasOwnProperty.call(f,"offset")&&y.uint32(21).float(f.offset),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(26).string(f.color),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader||(f=$Reader.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root.GradientColor;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.id=f.int32();break}case 2:{v.offset=f.float();break}case 3:{v.color=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader||(f=new $Reader(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.id!=null&&f.hasOwnProperty("id")&&!$util.isInteger(f.id)?"id: integer expected":f.offset!=null&&f.hasOwnProperty("offset")&&typeof f.offset!="number"?"offset: number expected":f.color!=null&&f.hasOwnProperty("color")&&!$util.isString(f.color)?"color: string expected":null},d.fromObject=function(f){if(f instanceof $root.GradientColor)return f;let y=new $root.GradientColor;return f.id!=null&&(y.id=f.id|0),f.offset!=null&&(y.offset=Number(f.offset)),f.color!=null&&(y.color=String(f.color)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.id=0,g.offset=0,g.color=""),f.id!=null&&f.hasOwnProperty("id")&&(g.id=f.id),f.offset!=null&&f.hasOwnProperty("offset")&&(g.offset=y.json&&!isFinite(f.offset)?String(f.offset):f.offset),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GradientColor"},d})();$root.Gradient=(()=>{function d(h){if(this.palette=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.type=0,d.prototype.angle=0,d.prototype.palette=$util.emptyArray,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer.create()),f.type!=null&&Object.hasOwnProperty.call(f,"type")&&y.uint32(8).int32(f.type),f.angle!=null&&Object.hasOwnProperty.call(f,"angle")&&y.uint32(21).float(f.angle),f.palette!=null&&f.palette.length)for(let g=0;g<f.palette.length;++g)$root.GradientColor.encode(f.palette[g],y.uint32(26).fork()).ldelim();return y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader||(f=$Reader.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root.Gradient;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.type=f.int32();break}case 2:{v.angle=f.float();break}case 3:{v.palette&&v.palette.length||(v.palette=[]),v.palette.push($root.GradientColor.decode(f,f.uint32()));break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader||(f=new $Reader(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.type!=null&&f.hasOwnProperty("type")&&!$util.isInteger(f.type))return"type: integer expected";if(f.angle!=null&&f.hasOwnProperty("angle")&&typeof f.angle!="number")return"angle: number expected";if(f.palette!=null&&f.hasOwnProperty("palette")){if(!Array.isArray(f.palette))return"palette: array expected";for(let y=0;y<f.palette.length;++y){let g=$root.GradientColor.verify(f.palette[y]);if(g)return"palette."+g}}return null},d.fromObject=function(f){if(f instanceof $root.Gradient)return f;let y=new $root.Gradient;if(f.type!=null&&(y.type=f.type|0),f.angle!=null&&(y.angle=Number(f.angle)),f.palette){if(!Array.isArray(f.palette))throw TypeError(".Gradient.palette: array expected");y.palette=[];for(let g=0;g<f.palette.length;++g){if(typeof f.palette[g]!="object")throw TypeError(".Gradient.palette: object expected");y.palette[g]=$root.GradientColor.fromObject(f.palette[g])}}return y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.palette=[]),y.defaults&&(g.type=0,g.angle=0),f.type!=null&&f.hasOwnProperty("type")&&(g.type=f.type),f.angle!=null&&f.hasOwnProperty("angle")&&(g.angle=y.json&&!isFinite(f.angle)?String(f.angle):f.angle),f.palette&&f.palette.length){g.palette=[];for(let b=0;b<f.palette.length;++b)g.palette[b]=$root.GradientColor.toObject(f.palette[b],y)}return g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Gradient"},d})();$root.PatternTexture=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.buffer=$util.newBuffer([]),d.prototype.scale=0,d.prototype.repetition="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer.create()),f.buffer!=null&&Object.hasOwnProperty.call(f,"buffer")&&y.uint32(10).bytes(f.buffer),f.scale!=null&&Object.hasOwnProperty.call(f,"scale")&&y.uint32(17).double(f.scale),f.repetition!=null&&Object.hasOwnProperty.call(f,"repetition")&&y.uint32(26).string(f.repetition),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader||(f=$Reader.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root.PatternTexture;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.buffer=f.bytes();break}case 2:{v.scale=f.double();break}case 3:{v.repetition=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader||(f=new $Reader(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.buffer!=null&&f.hasOwnProperty("buffer")&&!(f.buffer&&typeof f.buffer.length=="number"||$util.isString(f.buffer))?"buffer: buffer expected":f.scale!=null&&f.hasOwnProperty("scale")&&typeof f.scale!="number"?"scale: number expected":f.repetition!=null&&f.hasOwnProperty("repetition")&&!$util.isString(f.repetition)?"repetition: string expected":null},d.fromObject=function(f){if(f instanceof $root.PatternTexture)return f;let y=new $root.PatternTexture;return f.buffer!=null&&(typeof f.buffer=="string"?$util.base64.decode(f.buffer,y.buffer=$util.newBuffer($util.base64.length(f.buffer)),0):f.buffer.length>=0&&(y.buffer=f.buffer)),f.scale!=null&&(y.scale=Number(f.scale)),f.repetition!=null&&(y.repetition=String(f.repetition)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(y.bytes===String?g.buffer="":(g.buffer=[],y.bytes!==Array&&(g.buffer=$util.newBuffer(g.buffer))),g.scale=0,g.repetition=""),f.buffer!=null&&f.hasOwnProperty("buffer")&&(g.buffer=y.bytes===String?$util.base64.encode(f.buffer,0,f.buffer.length):y.bytes===Array?Array.prototype.slice.call(f.buffer):f.buffer),f.scale!=null&&f.hasOwnProperty("scale")&&(g.scale=y.json&&!isFinite(f.scale)?String(f.scale):f.scale),f.repetition!=null&&f.hasOwnProperty("repetition")&&(g.repetition=f.repetition),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/PatternTexture"},d})();$root.Fill=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.type=0,d.prototype.color="",d.prototype.gradient=null,d.prototype.patternTexture=null,d.prototype.width=0,d.prototype.lineCap="",d.prototype.lineJoin="",d.prototype.strokeType=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer.create()),f.type!=null&&Object.hasOwnProperty.call(f,"type")&&y.uint32(8).int32(f.type),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(18).string(f.color),f.gradient!=null&&Object.hasOwnProperty.call(f,"gradient")&&$root.Gradient.encode(f.gradient,y.uint32(26).fork()).ldelim(),f.patternTexture!=null&&Object.hasOwnProperty.call(f,"patternTexture")&&$root.PatternTexture.encode(f.patternTexture,y.uint32(34).fork()).ldelim(),f.width!=null&&Object.hasOwnProperty.call(f,"width")&&y.uint32(40).int32(f.width),f.lineCap!=null&&Object.hasOwnProperty.call(f,"lineCap")&&y.uint32(50).string(f.lineCap),f.lineJoin!=null&&Object.hasOwnProperty.call(f,"lineJoin")&&y.uint32(58).string(f.lineJoin),f.strokeType!=null&&Object.hasOwnProperty.call(f,"strokeType")&&y.uint32(64).int32(f.strokeType),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader||(f=$Reader.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root.Fill;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.type=f.int32();break}case 2:{v.color=f.string();break}case 3:{v.gradient=$root.Gradient.decode(f,f.uint32());break}case 4:{v.patternTexture=$root.PatternTexture.decode(f,f.uint32());break}case 5:{v.width=f.int32();break}case 6:{v.lineCap=f.string();break}case 7:{v.lineJoin=f.string();break}case 8:{v.strokeType=f.int32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader||(f=new $Reader(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.type!=null&&f.hasOwnProperty("type")&&!$util.isInteger(f.type))return"type: integer expected";if(f.color!=null&&f.hasOwnProperty("color")&&!$util.isString(f.color))return"color: string expected";if(f.gradient!=null&&f.hasOwnProperty("gradient")){let y=$root.Gradient.verify(f.gradient);if(y)return"gradient."+y}if(f.patternTexture!=null&&f.hasOwnProperty("patternTexture")){let y=$root.PatternTexture.verify(f.patternTexture);if(y)return"patternTexture."+y}return f.width!=null&&f.hasOwnProperty("width")&&!$util.isInteger(f.width)?"width: integer expected":f.lineCap!=null&&f.hasOwnProperty("lineCap")&&!$util.isString(f.lineCap)?"lineCap: string expected":f.lineJoin!=null&&f.hasOwnProperty("lineJoin")&&!$util.isString(f.lineJoin)?"lineJoin: string expected":f.strokeType!=null&&f.hasOwnProperty("strokeType")&&!$util.isInteger(f.strokeType)?"strokeType: integer expected":null},d.fromObject=function(f){if(f instanceof $root.Fill)return f;let y=new $root.Fill;if(f.type!=null&&(y.type=f.type|0),f.color!=null&&(y.color=String(f.color)),f.gradient!=null){if(typeof f.gradient!="object")throw TypeError(".Fill.gradient: object expected");y.gradient=$root.Gradient.fromObject(f.gradient)}if(f.patternTexture!=null){if(typeof f.patternTexture!="object")throw TypeError(".Fill.patternTexture: object expected");y.patternTexture=$root.PatternTexture.fromObject(f.patternTexture)}return f.width!=null&&(y.width=f.width|0),f.lineCap!=null&&(y.lineCap=String(f.lineCap)),f.lineJoin!=null&&(y.lineJoin=String(f.lineJoin)),f.strokeType!=null&&(y.strokeType=f.strokeType|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.type=0,g.color="",g.gradient=null,g.patternTexture=null,g.width=0,g.lineCap="",g.lineJoin="",g.strokeType=0),f.type!=null&&f.hasOwnProperty("type")&&(g.type=f.type),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),f.gradient!=null&&f.hasOwnProperty("gradient")&&(g.gradient=$root.Gradient.toObject(f.gradient,y)),f.patternTexture!=null&&f.hasOwnProperty("patternTexture")&&(g.patternTexture=$root.PatternTexture.toObject(f.patternTexture,y)),f.width!=null&&f.hasOwnProperty("width")&&(g.width=f.width),f.lineCap!=null&&f.hasOwnProperty("lineCap")&&(g.lineCap=f.lineCap),f.lineJoin!=null&&f.hasOwnProperty("lineJoin")&&(g.lineJoin=f.lineJoin),f.strokeType!=null&&f.hasOwnProperty("strokeType")&&(g.strokeType=f.strokeType),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Fill"},d})();$root.FontResource=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.font=$util.newBuffer([]),d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer.create()),f.font!=null&&Object.hasOwnProperty.call(f,"font")&&y.uint32(10).bytes(f.font),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader||(f=$Reader.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root.FontResource;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.font=f.bytes();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader||(f=new $Reader(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.font!=null&&f.hasOwnProperty("font")&&!(f.font&&typeof f.font.length=="number"||$util.isString(f.font))?"font: buffer expected":null},d.fromObject=function(f){if(f instanceof $root.FontResource)return f;let y=new $root.FontResource;return f.font!=null&&(typeof f.font=="string"?$util.base64.decode(f.font,y.font=$util.newBuffer($util.base64.length(f.font)),0):f.font.length>=0&&(y.font=f.font)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(y.bytes===String?g.font="":(g.font=[],y.bytes!==Array&&(g.font=$util.newBuffer(g.font)))),f.font!=null&&f.hasOwnProperty("font")&&(g.font=y.bytes===String?$util.base64.encode(f.font,0,f.font.length):y.bytes===Array?Array.prototype.slice.call(f.font):f.font),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/FontResource"},d})();$root.Font=(()=>{function d(h){if(this.fonts=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.fonts=$util.emptyArray,d.prototype.size=0,d.prototype.lineHeight=0,d.prototype.sharp=0,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer.create()),f.fonts!=null&&f.fonts.length)for(let g=0;g<f.fonts.length;++g)$root.FontResource.encode(f.fonts[g],y.uint32(10).fork()).ldelim();return f.size!=null&&Object.hasOwnProperty.call(f,"size")&&y.uint32(16).int32(f.size),f.lineHeight!=null&&Object.hasOwnProperty.call(f,"lineHeight")&&y.uint32(29).float(f.lineHeight),f.sharp!=null&&Object.hasOwnProperty.call(f,"sharp")&&y.uint32(32).int32(f.sharp),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader||(f=$Reader.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root.Font;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.fonts&&v.fonts.length||(v.fonts=[]),v.fonts.push($root.FontResource.decode(f,f.uint32()));break}case 2:{v.size=f.int32();break}case 3:{v.lineHeight=f.float();break}case 4:{v.sharp=f.int32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader||(f=new $Reader(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.fonts!=null&&f.hasOwnProperty("fonts")){if(!Array.isArray(f.fonts))return"fonts: array expected";for(let y=0;y<f.fonts.length;++y){let g=$root.FontResource.verify(f.fonts[y]);if(g)return"fonts."+g}}return f.size!=null&&f.hasOwnProperty("size")&&!$util.isInteger(f.size)?"size: integer expected":f.lineHeight!=null&&f.hasOwnProperty("lineHeight")&&typeof f.lineHeight!="number"?"lineHeight: number expected":f.sharp!=null&&f.hasOwnProperty("sharp")&&!$util.isInteger(f.sharp)?"sharp: integer expected":null},d.fromObject=function(f){if(f instanceof $root.Font)return f;let y=new $root.Font;if(f.fonts){if(!Array.isArray(f.fonts))throw TypeError(".Font.fonts: array expected");y.fonts=[];for(let g=0;g<f.fonts.length;++g){if(typeof f.fonts[g]!="object")throw TypeError(".Font.fonts: object expected");y.fonts[g]=$root.FontResource.fromObject(f.fonts[g])}}return f.size!=null&&(y.size=f.size|0),f.lineHeight!=null&&(y.lineHeight=Number(f.lineHeight)),f.sharp!=null&&(y.sharp=f.sharp|0),y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.fonts=[]),y.defaults&&(g.size=0,g.lineHeight=0,g.sharp=0),f.fonts&&f.fonts.length){g.fonts=[];for(let b=0;b<f.fonts.length;++b)g.fonts[b]=$root.FontResource.toObject(f.fonts[b],y)}return f.size!=null&&f.hasOwnProperty("size")&&(g.size=f.size),f.lineHeight!=null&&f.hasOwnProperty("lineHeight")&&(g.lineHeight=y.json&&!isFinite(f.lineHeight)?String(f.lineHeight):f.lineHeight),f.sharp!=null&&f.hasOwnProperty("sharp")&&(g.sharp=f.sharp),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Font"},d})();$root.GlyphFont=(()=>{function d(h){if(this.kerning={},h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.letter="",d.prototype.adjustMetric=null,d.prototype.kerning=$util.emptyObject,d.prototype.page=0,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer.create()),f.letter!=null&&Object.hasOwnProperty.call(f,"letter")&&y.uint32(10).string(f.letter),f.adjustMetric!=null&&Object.hasOwnProperty.call(f,"adjustMetric")&&$root.Metric.encode(f.adjustMetric,y.uint32(18).fork()).ldelim(),f.kerning!=null&&Object.hasOwnProperty.call(f,"kerning"))for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.uint32(26).fork().uint32(10).string(g[b]).uint32(16).int32(f.kerning[g[b]]).ldelim();return f.page!=null&&Object.hasOwnProperty.call(f,"page")&&y.uint32(32).int32(f.page),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader||(f=$Reader.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root.GlyphFont,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.letter=f.string();break}case 2:{v.adjustMetric=$root.Metric.decode(f,f.uint32());break}case 3:{v.kerning===$util.emptyObject&&(v.kerning={});let T=f.uint32()+f.pos;for(S="",O=0;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=f.int32();break;default:f.skipType(E&7);break}}v.kerning[S]=O;break}case 4:{v.page=f.int32();break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader||(f=new $Reader(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.letter!=null&&f.hasOwnProperty("letter")&&!$util.isString(f.letter))return"letter: string expected";if(f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")){let y=$root.Metric.verify(f.adjustMetric);if(y)return"adjustMetric."+y}if(f.kerning!=null&&f.hasOwnProperty("kerning")){if(!$util.isObject(f.kerning))return"kerning: object expected";let y=Object.keys(f.kerning);for(let g=0;g<y.length;++g)if(!$util.isInteger(f.kerning[y[g]]))return"kerning: integer{k:string} expected"}return f.page!=null&&f.hasOwnProperty("page")&&!$util.isInteger(f.page)?"page: integer expected":null},d.fromObject=function(f){if(f instanceof $root.GlyphFont)return f;let y=new $root.GlyphFont;if(f.letter!=null&&(y.letter=String(f.letter)),f.adjustMetric!=null){if(typeof f.adjustMetric!="object")throw TypeError(".GlyphFont.adjustMetric: object expected");y.adjustMetric=$root.Metric.fromObject(f.adjustMetric)}if(f.kerning){if(typeof f.kerning!="object")throw TypeError(".GlyphFont.kerning: object expected");y.kerning={};for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.kerning[g[b]]=f.kerning[g[b]]|0}return f.page!=null&&(y.page=f.page|0),y},d.toObject=function(f,y){y||(y={});let g={};(y.objects||y.defaults)&&(g.kerning={}),y.defaults&&(g.letter="",g.adjustMetric=null,g.page=0),f.letter!=null&&f.hasOwnProperty("letter")&&(g.letter=f.letter),f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")&&(g.adjustMetric=$root.Metric.toObject(f.adjustMetric,y));let b;if(f.kerning&&(b=Object.keys(f.kerning)).length){g.kerning={};for(let v=0;v<b.length;++v)g.kerning[b[v]]=f.kerning[b[v]]}return f.page!=null&&f.hasOwnProperty("page")&&(g.page=f.page),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GlyphFont"},d})();$root.GlyphImage=(()=>{function d(h){if(this.kerning={},h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.letter="",d.prototype.adjustMetric=null,d.prototype.buffer=$util.newBuffer([]),d.prototype.fileName="",d.prototype.fileType="",d.prototype.selected=!1,d.prototype.kerning=$util.emptyObject,d.prototype.page=0,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer.create()),f.letter!=null&&Object.hasOwnProperty.call(f,"letter")&&y.uint32(10).string(f.letter),f.adjustMetric!=null&&Object.hasOwnProperty.call(f,"adjustMetric")&&$root.Metric.encode(f.adjustMetric,y.uint32(18).fork()).ldelim(),f.buffer!=null&&Object.hasOwnProperty.call(f,"buffer")&&y.uint32(26).bytes(f.buffer),f.fileName!=null&&Object.hasOwnProperty.call(f,"fileName")&&y.uint32(34).string(f.fileName),f.fileType!=null&&Object.hasOwnProperty.call(f,"fileType")&&y.uint32(42).string(f.fileType),f.selected!=null&&Object.hasOwnProperty.call(f,"selected")&&y.uint32(48).bool(f.selected),f.kerning!=null&&Object.hasOwnProperty.call(f,"kerning"))for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.uint32(58).fork().uint32(10).string(g[b]).uint32(16).int32(f.kerning[g[b]]).ldelim();return f.page!=null&&Object.hasOwnProperty.call(f,"page")&&y.uint32(64).int32(f.page),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader||(f=$Reader.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root.GlyphImage,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.letter=f.string();break}case 2:{v.adjustMetric=$root.Metric.decode(f,f.uint32());break}case 3:{v.buffer=f.bytes();break}case 4:{v.fileName=f.string();break}case 5:{v.fileType=f.string();break}case 6:{v.selected=f.bool();break}case 7:{v.kerning===$util.emptyObject&&(v.kerning={});let T=f.uint32()+f.pos;for(S="",O=0;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=f.int32();break;default:f.skipType(E&7);break}}v.kerning[S]=O;break}case 8:{v.page=f.int32();break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader||(f=new $Reader(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.letter!=null&&f.hasOwnProperty("letter")&&!$util.isString(f.letter))return"letter: string expected";if(f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")){let y=$root.Metric.verify(f.adjustMetric);if(y)return"adjustMetric."+y}if(f.buffer!=null&&f.hasOwnProperty("buffer")&&!(f.buffer&&typeof f.buffer.length=="number"||$util.isString(f.buffer)))return"buffer: buffer expected";if(f.fileName!=null&&f.hasOwnProperty("fileName")&&!$util.isString(f.fileName))return"fileName: string expected";if(f.fileType!=null&&f.hasOwnProperty("fileType")&&!$util.isString(f.fileType))return"fileType: string expected";if(f.selected!=null&&f.hasOwnProperty("selected")&&typeof f.selected!="boolean")return"selected: boolean expected";if(f.kerning!=null&&f.hasOwnProperty("kerning")){if(!$util.isObject(f.kerning))return"kerning: object expected";let y=Object.keys(f.kerning);for(let g=0;g<y.length;++g)if(!$util.isInteger(f.kerning[y[g]]))return"kerning: integer{k:string} expected"}return f.page!=null&&f.hasOwnProperty("page")&&!$util.isInteger(f.page)?"page: integer expected":null},d.fromObject=function(f){if(f instanceof $root.GlyphImage)return f;let y=new $root.GlyphImage;if(f.letter!=null&&(y.letter=String(f.letter)),f.adjustMetric!=null){if(typeof f.adjustMetric!="object")throw TypeError(".GlyphImage.adjustMetric: object expected");y.adjustMetric=$root.Metric.fromObject(f.adjustMetric)}if(f.buffer!=null&&(typeof f.buffer=="string"?$util.base64.decode(f.buffer,y.buffer=$util.newBuffer($util.base64.length(f.buffer)),0):f.buffer.length>=0&&(y.buffer=f.buffer)),f.fileName!=null&&(y.fileName=String(f.fileName)),f.fileType!=null&&(y.fileType=String(f.fileType)),f.selected!=null&&(y.selected=!!f.selected),f.kerning){if(typeof f.kerning!="object")throw TypeError(".GlyphImage.kerning: object expected");y.kerning={};for(let g=Object.keys(f.kerning),b=0;b<g.length;++b)y.kerning[g[b]]=f.kerning[g[b]]|0}return f.page!=null&&(y.page=f.page|0),y},d.toObject=function(f,y){y||(y={});let g={};(y.objects||y.defaults)&&(g.kerning={}),y.defaults&&(g.letter="",g.adjustMetric=null,y.bytes===String?g.buffer="":(g.buffer=[],y.bytes!==Array&&(g.buffer=$util.newBuffer(g.buffer))),g.fileName="",g.fileType="",g.selected=!1,g.page=0),f.letter!=null&&f.hasOwnProperty("letter")&&(g.letter=f.letter),f.adjustMetric!=null&&f.hasOwnProperty("adjustMetric")&&(g.adjustMetric=$root.Metric.toObject(f.adjustMetric,y)),f.buffer!=null&&f.hasOwnProperty("buffer")&&(g.buffer=y.bytes===String?$util.base64.encode(f.buffer,0,f.buffer.length):y.bytes===Array?Array.prototype.slice.call(f.buffer):f.buffer),f.fileName!=null&&f.hasOwnProperty("fileName")&&(g.fileName=f.fileName),f.fileType!=null&&f.hasOwnProperty("fileType")&&(g.fileType=f.fileType),f.selected!=null&&f.hasOwnProperty("selected")&&(g.selected=f.selected);let b;if(f.kerning&&(b=Object.keys(f.kerning)).length){g.kerning={};for(let v=0;v<b.length;++v)g.kerning[b[v]]=f.kerning[b[v]]}return f.page!=null&&f.hasOwnProperty("page")&&(g.page=f.page),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/GlyphImage"},d})();$root.Layout=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.padding=0,d.prototype.spacing=0,d.prototype.width=0,d.prototype.height=0,d.prototype.auto=!1,d.prototype.fixedSize=!1,d.prototype.page=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer.create()),f.padding!=null&&Object.hasOwnProperty.call(f,"padding")&&y.uint32(8).int32(f.padding),f.spacing!=null&&Object.hasOwnProperty.call(f,"spacing")&&y.uint32(16).int32(f.spacing),f.width!=null&&Object.hasOwnProperty.call(f,"width")&&y.uint32(24).int32(f.width),f.height!=null&&Object.hasOwnProperty.call(f,"height")&&y.uint32(32).int32(f.height),f.auto!=null&&Object.hasOwnProperty.call(f,"auto")&&y.uint32(40).bool(f.auto),f.fixedSize!=null&&Object.hasOwnProperty.call(f,"fixedSize")&&y.uint32(48).bool(f.fixedSize),f.page!=null&&Object.hasOwnProperty.call(f,"page")&&y.uint32(56).int32(f.page),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader||(f=$Reader.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root.Layout;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.padding=f.int32();break}case 2:{v.spacing=f.int32();break}case 3:{v.width=f.int32();break}case 4:{v.height=f.int32();break}case 5:{v.auto=f.bool();break}case 6:{v.fixedSize=f.bool();break}case 7:{v.page=f.int32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader||(f=new $Reader(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.padding!=null&&f.hasOwnProperty("padding")&&!$util.isInteger(f.padding)?"padding: integer expected":f.spacing!=null&&f.hasOwnProperty("spacing")&&!$util.isInteger(f.spacing)?"spacing: integer expected":f.width!=null&&f.hasOwnProperty("width")&&!$util.isInteger(f.width)?"width: integer expected":f.height!=null&&f.hasOwnProperty("height")&&!$util.isInteger(f.height)?"height: integer expected":f.auto!=null&&f.hasOwnProperty("auto")&&typeof f.auto!="boolean"?"auto: boolean expected":f.fixedSize!=null&&f.hasOwnProperty("fixedSize")&&typeof f.fixedSize!="boolean"?"fixedSize: boolean expected":f.page!=null&&f.hasOwnProperty("page")&&!$util.isInteger(f.page)?"page: integer expected":null},d.fromObject=function(f){if(f instanceof $root.Layout)return f;let y=new $root.Layout;return f.padding!=null&&(y.padding=f.padding|0),f.spacing!=null&&(y.spacing=f.spacing|0),f.width!=null&&(y.width=f.width|0),f.height!=null&&(y.height=f.height|0),f.auto!=null&&(y.auto=!!f.auto),f.fixedSize!=null&&(y.fixedSize=!!f.fixedSize),f.page!=null&&(y.page=f.page|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.padding=0,g.spacing=0,g.width=0,g.height=0,g.auto=!1,g.fixedSize=!1,g.page=0),f.padding!=null&&f.hasOwnProperty("padding")&&(g.padding=f.padding),f.spacing!=null&&f.hasOwnProperty("spacing")&&(g.spacing=f.spacing),f.width!=null&&f.hasOwnProperty("width")&&(g.width=f.width),f.height!=null&&f.hasOwnProperty("height")&&(g.height=f.height),f.auto!=null&&f.hasOwnProperty("auto")&&(g.auto=f.auto),f.fixedSize!=null&&f.hasOwnProperty("fixedSize")&&(g.fixedSize=f.fixedSize),f.page!=null&&f.hasOwnProperty("page")&&(g.page=f.page),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Layout"},d})();$root.Shadow=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.color="",d.prototype.blur=0,d.prototype.offsetX=0,d.prototype.offsetY=0,d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer.create()),f.color!=null&&Object.hasOwnProperty.call(f,"color")&&y.uint32(10).string(f.color),f.blur!=null&&Object.hasOwnProperty.call(f,"blur")&&y.uint32(16).int32(f.blur),f.offsetX!=null&&Object.hasOwnProperty.call(f,"offsetX")&&y.uint32(24).sint32(f.offsetX),f.offsetY!=null&&Object.hasOwnProperty.call(f,"offsetY")&&y.uint32(32).sint32(f.offsetY),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader||(f=$Reader.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root.Shadow;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.color=f.string();break}case 2:{v.blur=f.int32();break}case 3:{v.offsetX=f.sint32();break}case 4:{v.offsetY=f.sint32();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader||(f=new $Reader(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.color!=null&&f.hasOwnProperty("color")&&!$util.isString(f.color)?"color: string expected":f.blur!=null&&f.hasOwnProperty("blur")&&!$util.isInteger(f.blur)?"blur: integer expected":f.offsetX!=null&&f.hasOwnProperty("offsetX")&&!$util.isInteger(f.offsetX)?"offsetX: integer expected":f.offsetY!=null&&f.hasOwnProperty("offsetY")&&!$util.isInteger(f.offsetY)?"offsetY: integer expected":null},d.fromObject=function(f){if(f instanceof $root.Shadow)return f;let y=new $root.Shadow;return f.color!=null&&(y.color=String(f.color)),f.blur!=null&&(y.blur=f.blur|0),f.offsetX!=null&&(y.offsetX=f.offsetX|0),f.offsetY!=null&&(y.offsetY=f.offsetY|0),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.color="",g.blur=0,g.offsetX=0,g.offsetY=0),f.color!=null&&f.hasOwnProperty("color")&&(g.color=f.color),f.blur!=null&&f.hasOwnProperty("blur")&&(g.blur=f.blur),f.offsetX!=null&&f.hasOwnProperty("offsetX")&&(g.offsetX=f.offsetX),f.offsetY!=null&&f.hasOwnProperty("offsetY")&&(g.offsetY=f.offsetY),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Shadow"},d})();$root.Style=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.font=null,d.prototype.fill=null,d.prototype.useStroke=!1,d.prototype.stroke=null,d.prototype.useShadow=!1,d.prototype.shadow=null,d.prototype.bgColor="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer.create()),f.font!=null&&Object.hasOwnProperty.call(f,"font")&&$root.Font.encode(f.font,y.uint32(10).fork()).ldelim(),f.fill!=null&&Object.hasOwnProperty.call(f,"fill")&&$root.Fill.encode(f.fill,y.uint32(18).fork()).ldelim(),f.useStroke!=null&&Object.hasOwnProperty.call(f,"useStroke")&&y.uint32(24).bool(f.useStroke),f.stroke!=null&&Object.hasOwnProperty.call(f,"stroke")&&$root.Fill.encode(f.stroke,y.uint32(34).fork()).ldelim(),f.useShadow!=null&&Object.hasOwnProperty.call(f,"useShadow")&&y.uint32(40).bool(f.useShadow),f.shadow!=null&&Object.hasOwnProperty.call(f,"shadow")&&$root.Shadow.encode(f.shadow,y.uint32(50).fork()).ldelim(),f.bgColor!=null&&Object.hasOwnProperty.call(f,"bgColor")&&y.uint32(58).string(f.bgColor),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader||(f=$Reader.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root.Style;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.font=$root.Font.decode(f,f.uint32());break}case 2:{v.fill=$root.Fill.decode(f,f.uint32());break}case 3:{v.useStroke=f.bool();break}case 4:{v.stroke=$root.Fill.decode(f,f.uint32());break}case 5:{v.useShadow=f.bool();break}case 6:{v.shadow=$root.Shadow.decode(f,f.uint32());break}case 7:{v.bgColor=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader||(f=new $Reader(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.font!=null&&f.hasOwnProperty("font")){let y=$root.Font.verify(f.font);if(y)return"font."+y}if(f.fill!=null&&f.hasOwnProperty("fill")){let y=$root.Fill.verify(f.fill);if(y)return"fill."+y}if(f.useStroke!=null&&f.hasOwnProperty("useStroke")&&typeof f.useStroke!="boolean")return"useStroke: boolean expected";if(f.stroke!=null&&f.hasOwnProperty("stroke")){let y=$root.Fill.verify(f.stroke);if(y)return"stroke."+y}if(f.useShadow!=null&&f.hasOwnProperty("useShadow")&&typeof f.useShadow!="boolean")return"useShadow: boolean expected";if(f.shadow!=null&&f.hasOwnProperty("shadow")){let y=$root.Shadow.verify(f.shadow);if(y)return"shadow."+y}return f.bgColor!=null&&f.hasOwnProperty("bgColor")&&!$util.isString(f.bgColor)?"bgColor: string expected":null},d.fromObject=function(f){if(f instanceof $root.Style)return f;let y=new $root.Style;if(f.font!=null){if(typeof f.font!="object")throw TypeError(".Style.font: object expected");y.font=$root.Font.fromObject(f.font)}if(f.fill!=null){if(typeof f.fill!="object")throw TypeError(".Style.fill: object expected");y.fill=$root.Fill.fromObject(f.fill)}if(f.useStroke!=null&&(y.useStroke=!!f.useStroke),f.stroke!=null){if(typeof f.stroke!="object")throw TypeError(".Style.stroke: object expected");y.stroke=$root.Fill.fromObject(f.stroke)}if(f.useShadow!=null&&(y.useShadow=!!f.useShadow),f.shadow!=null){if(typeof f.shadow!="object")throw TypeError(".Style.shadow: object expected");y.shadow=$root.Shadow.fromObject(f.shadow)}return f.bgColor!=null&&(y.bgColor=String(f.bgColor)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.font=null,g.fill=null,g.useStroke=!1,g.stroke=null,g.useShadow=!1,g.shadow=null,g.bgColor=""),f.font!=null&&f.hasOwnProperty("font")&&(g.font=$root.Font.toObject(f.font,y)),f.fill!=null&&f.hasOwnProperty("fill")&&(g.fill=$root.Fill.toObject(f.fill,y)),f.useStroke!=null&&f.hasOwnProperty("useStroke")&&(g.useStroke=f.useStroke),f.stroke!=null&&f.hasOwnProperty("stroke")&&(g.stroke=$root.Fill.toObject(f.stroke,y)),f.useShadow!=null&&f.hasOwnProperty("useShadow")&&(g.useShadow=f.useShadow),f.shadow!=null&&f.hasOwnProperty("shadow")&&(g.shadow=$root.Shadow.toObject(f.shadow,y)),f.bgColor!=null&&f.hasOwnProperty("bgColor")&&(g.bgColor=f.bgColor),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Style"},d})();$root.Ui=(()=>{function d(h){if(h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.previewText="",d.create=function(f){return new d(f)},d.encode=function(f,y){return y||(y=$Writer.create()),f.previewText!=null&&Object.hasOwnProperty.call(f,"previewText")&&y.uint32(10).string(f.previewText),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader||(f=$Reader.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root.Ui;for(;f.pos<b;){let S=f.uint32();if(S===g)break;switch(S>>>3){case 1:{v.previewText=f.string();break}default:f.skipType(S&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader||(f=new $Reader(f)),this.decode(f,f.uint32())},d.verify=function(f){return typeof f!="object"||f===null?"object expected":f.previewText!=null&&f.hasOwnProperty("previewText")&&!$util.isString(f.previewText)?"previewText: string expected":null},d.fromObject=function(f){if(f instanceof $root.Ui)return f;let y=new $root.Ui;return f.previewText!=null&&(y.previewText=String(f.previewText)),y},d.toObject=function(f,y){y||(y={});let g={};return y.defaults&&(g.previewText=""),f.previewText!=null&&f.hasOwnProperty("previewText")&&(g.previewText=f.previewText),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Ui"},d})();const Project=$root.Project=(()=>{function d(h){if(this.glyphs={},this.glyphImages=[],h)for(let f=Object.keys(h),y=0;y<f.length;++y)h[f[y]]!=null&&(this[f[y]]=h[f[y]])}return d.prototype.id=$util.Long?$util.Long.fromBits(0,0,!1):0,d.prototype.name="",d.prototype.text="",d.prototype.glyphs=$util.emptyObject,d.prototype.glyphImages=$util.emptyArray,d.prototype.style=null,d.prototype.layout=null,d.prototype.globalAdjustMetric=null,d.prototype.ui=null,d.create=function(f){return new d(f)},d.encode=function(f,y){if(y||(y=$Writer.create()),f.id!=null&&Object.hasOwnProperty.call(f,"id")&&y.uint32(8).int64(f.id),f.name!=null&&Object.hasOwnProperty.call(f,"name")&&y.uint32(18).string(f.name),f.text!=null&&Object.hasOwnProperty.call(f,"text")&&y.uint32(26).string(f.text),f.glyphs!=null&&Object.hasOwnProperty.call(f,"glyphs"))for(let g=Object.keys(f.glyphs),b=0;b<g.length;++b)y.uint32(34).fork().uint32(10).string(g[b]),$root.GlyphFont.encode(f.glyphs[g[b]],y.uint32(18).fork()).ldelim().ldelim();if(f.glyphImages!=null&&f.glyphImages.length)for(let g=0;g<f.glyphImages.length;++g)$root.GlyphImage.encode(f.glyphImages[g],y.uint32(42).fork()).ldelim();return f.style!=null&&Object.hasOwnProperty.call(f,"style")&&$root.Style.encode(f.style,y.uint32(50).fork()).ldelim(),f.layout!=null&&Object.hasOwnProperty.call(f,"layout")&&$root.Layout.encode(f.layout,y.uint32(58).fork()).ldelim(),f.globalAdjustMetric!=null&&Object.hasOwnProperty.call(f,"globalAdjustMetric")&&$root.Metric.encode(f.globalAdjustMetric,y.uint32(66).fork()).ldelim(),f.ui!=null&&Object.hasOwnProperty.call(f,"ui")&&$root.Ui.encode(f.ui,y.uint32(74).fork()).ldelim(),y},d.encodeDelimited=function(f,y){return this.encode(f,y).ldelim()},d.decode=function(f,y,g){f instanceof $Reader||(f=$Reader.create(f));let b=y===void 0?f.len:f.pos+y,v=new $root.Project,S,O;for(;f.pos<b;){let w=f.uint32();if(w===g)break;switch(w>>>3){case 1:{v.id=f.int64();break}case 2:{v.name=f.string();break}case 3:{v.text=f.string();break}case 4:{v.glyphs===$util.emptyObject&&(v.glyphs={});let T=f.uint32()+f.pos;for(S="",O=null;f.pos<T;){let E=f.uint32();switch(E>>>3){case 1:S=f.string();break;case 2:O=$root.GlyphFont.decode(f,f.uint32());break;default:f.skipType(E&7);break}}v.glyphs[S]=O;break}case 5:{v.glyphImages&&v.glyphImages.length||(v.glyphImages=[]),v.glyphImages.push($root.GlyphImage.decode(f,f.uint32()));break}case 6:{v.style=$root.Style.decode(f,f.uint32());break}case 7:{v.layout=$root.Layout.decode(f,f.uint32());break}case 8:{v.globalAdjustMetric=$root.Metric.decode(f,f.uint32());break}case 9:{v.ui=$root.Ui.decode(f,f.uint32());break}default:f.skipType(w&7);break}}return v},d.decodeDelimited=function(f){return f instanceof $Reader||(f=new $Reader(f)),this.decode(f,f.uint32())},d.verify=function(f){if(typeof f!="object"||f===null)return"object expected";if(f.id!=null&&f.hasOwnProperty("id")&&!$util.isInteger(f.id)&&!(f.id&&$util.isInteger(f.id.low)&&$util.isInteger(f.id.high)))return"id: integer|Long expected";if(f.name!=null&&f.hasOwnProperty("name")&&!$util.isString(f.name))return"name: string expected";if(f.text!=null&&f.hasOwnProperty("text")&&!$util.isString(f.text))return"text: string expected";if(f.glyphs!=null&&f.hasOwnProperty("glyphs")){if(!$util.isObject(f.glyphs))return"glyphs: object expected";let y=Object.keys(f.glyphs);for(let g=0;g<y.length;++g){let b=$root.GlyphFont.verify(f.glyphs[y[g]]);if(b)return"glyphs."+b}}if(f.glyphImages!=null&&f.hasOwnProperty("glyphImages")){if(!Array.isArray(f.glyphImages))return"glyphImages: array expected";for(let y=0;y<f.glyphImages.length;++y){let g=$root.GlyphImage.verify(f.glyphImages[y]);if(g)return"glyphImages."+g}}if(f.style!=null&&f.hasOwnProperty("style")){let y=$root.Style.verify(f.style);if(y)return"style."+y}if(f.layout!=null&&f.hasOwnProperty("layout")){let y=$root.Layout.verify(f.layout);if(y)return"layout."+y}if(f.globalAdjustMetric!=null&&f.hasOwnProperty("globalAdjustMetric")){let y=$root.Metric.verify(f.globalAdjustMetric);if(y)return"globalAdjustMetric."+y}if(f.ui!=null&&f.hasOwnProperty("ui")){let y=$root.Ui.verify(f.ui);if(y)return"ui."+y}return null},d.fromObject=function(f){if(f instanceof $root.Project)return f;let y=new $root.Project;if(f.id!=null&&($util.Long?(y.id=$util.Long.fromValue(f.id)).unsigned=!1:typeof f.id=="string"?y.id=parseInt(f.id,10):typeof f.id=="number"?y.id=f.id:typeof f.id=="object"&&(y.id=new $util.LongBits(f.id.low>>>0,f.id.high>>>0).toNumber())),f.name!=null&&(y.name=String(f.name)),f.text!=null&&(y.text=String(f.text)),f.glyphs){if(typeof f.glyphs!="object")throw TypeError(".Project.glyphs: object expected");y.glyphs={};for(let g=Object.keys(f.glyphs),b=0;b<g.length;++b){if(typeof f.glyphs[g[b]]!="object")throw TypeError(".Project.glyphs: object expected");y.glyphs[g[b]]=$root.GlyphFont.fromObject(f.glyphs[g[b]])}}if(f.glyphImages){if(!Array.isArray(f.glyphImages))throw TypeError(".Project.glyphImages: array expected");y.glyphImages=[];for(let g=0;g<f.glyphImages.length;++g){if(typeof f.glyphImages[g]!="object")throw TypeError(".Project.glyphImages: object expected");y.glyphImages[g]=$root.GlyphImage.fromObject(f.glyphImages[g])}}if(f.style!=null){if(typeof f.style!="object")throw TypeError(".Project.style: object expected");y.style=$root.Style.fromObject(f.style)}if(f.layout!=null){if(typeof f.layout!="object")throw TypeError(".Project.layout: object expected");y.layout=$root.Layout.fromObject(f.layout)}if(f.globalAdjustMetric!=null){if(typeof f.globalAdjustMetric!="object")throw TypeError(".Project.globalAdjustMetric: object expected");y.globalAdjustMetric=$root.Metric.fromObject(f.globalAdjustMetric)}if(f.ui!=null){if(typeof f.ui!="object")throw TypeError(".Project.ui: object expected");y.ui=$root.Ui.fromObject(f.ui)}return y},d.toObject=function(f,y){y||(y={});let g={};if((y.arrays||y.defaults)&&(g.glyphImages=[]),(y.objects||y.defaults)&&(g.glyphs={}),y.defaults){if($util.Long){let v=new $util.Long(0,0,!1);g.id=y.longs===String?v.toString():y.longs===Number?v.toNumber():v}else g.id=y.longs===String?"0":0;g.name="",g.text="",g.style=null,g.layout=null,g.globalAdjustMetric=null,g.ui=null}f.id!=null&&f.hasOwnProperty("id")&&(typeof f.id=="number"?g.id=y.longs===String?String(f.id):f.id:g.id=y.longs===String?$util.Long.prototype.toString.call(f.id):y.longs===Number?new $util.LongBits(f.id.low>>>0,f.id.high>>>0).toNumber():f.id),f.name!=null&&f.hasOwnProperty("name")&&(g.name=f.name),f.text!=null&&f.hasOwnProperty("text")&&(g.text=f.text);let b;if(f.glyphs&&(b=Object.keys(f.glyphs)).length){g.glyphs={};for(let v=0;v<b.length;++v)g.glyphs[b[v]]=$root.GlyphFont.toObject(f.glyphs[b[v]],y)}if(f.glyphImages&&f.glyphImages.length){g.glyphImages=[];for(let v=0;v<f.glyphImages.length;++v)g.glyphImages[v]=$root.GlyphImage.toObject(f.glyphImages[v],y)}return f.style!=null&&f.hasOwnProperty("style")&&(g.style=$root.Style.toObject(f.style,y)),f.layout!=null&&f.hasOwnProperty("layout")&&(g.layout=$root.Layout.toObject(f.layout,y)),f.globalAdjustMetric!=null&&f.hasOwnProperty("globalAdjustMetric")&&(g.globalAdjustMetric=$root.Metric.toObject(f.globalAdjustMetric,y)),f.ui!=null&&f.hasOwnProperty("ui")&&(g.ui=$root.Ui.toObject(f.ui,y)),g},d.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},d.getTypeUrl=function(f){return f===void 0&&(f="type.googleapis.com"),f+"/Project"},d})();function updateToNext(d){return d}const mapToObject=d=>Object.fromEntries(d.entries());function getPlainObjectKeys(d){const h=new Set;for(const f in d)h.add(f);return Object.getOwnPropertySymbols(d).forEach(f=>{Object.getOwnPropertyDescriptor(d,f).enumerable&&h.add(f)}),Array.from(h)}function deepMapToObject(d){if(typeof d!="object")return d;if(d===null)return null;if(d instanceof Date)return d;if(Array.isArray(d))return d.map(h=>deepMapToObject(h));if(Object.getPrototypeOf(d)===Set.prototype)return deepMapToObject(Array.from(d));if(Object.getPrototypeOf(d)===Map.prototype)return deepMapToObject(mapToObject(d));if(Object.getPrototypeOf(d)===Object.getPrototypeOf({})){const h={};return getPlainObjectKeys(d).forEach(f=>{h[f]=deepMapToObject(d[f])}),h}return d}function convertBuffersToUint8Array(d){var h,f,y,g,b,v,S,O,w,T;(y=(f=(h=d.style)==null?void 0:h.font)==null?void 0:f.fonts)!=null&&y.length&&d.style.font.fonts.forEach(E=>{E.font&&!(E.font instanceof Uint8Array)&&(E.font=new Uint8Array(E.font))}),(g=d.glyphImages)==null||g.forEach(E=>{E.buffer&&!(E.buffer instanceof Uint8Array)&&(E.buffer=new Uint8Array(E.buffer))}),(S=(v=(b=d.style)==null?void 0:b.fill)==null?void 0:v.patternTexture)!=null&&S.buffer&&!(d.style.fill.patternTexture.buffer instanceof Uint8Array)&&(d.style.fill.patternTexture.buffer=new Uint8Array(d.style.fill.patternTexture.buffer)),(T=(w=(O=d.style)==null?void 0:O.stroke)==null?void 0:w.patternTexture)!=null&&T.buffer&&!(d.style.stroke.patternTexture.buffer instanceof Uint8Array)&&(d.style.stroke.patternTexture.buffer=new Uint8Array(d.style.stroke.patternTexture.buffer))}function encodeProject(d){if(!d)throw new Error("Project is required");try{convertBuffersToUint8Array(d);const h=deepMapToObject(d),f=Project.create(h);return Project.encode(f).finish()}catch(h){throw new Error(`Failed to encode project: ${h instanceof Error?h.message:"Unknown error"}`)}}function convertKerning(d){const h=new Map;for(const[f,y]of Object.entries(d))h.set(f,y||0);return h}function toOriginBuffer(d){var f,y,g,b,v,S,O,w;const h=d;if((y=(f=d.style)==null?void 0:f.font)!=null&&y.fonts&&d.style.font.fonts.forEach((T,E)=>{T.font&&(h.style.font.fonts[E].font=T.font.slice().buffer)}),d.glyphImages&&d.glyphImages.forEach((T,E)=>{T.buffer&&(h.glyphImages[E].buffer=T.buffer.slice().buffer),T.kerning&&(T.kerning=convertKerning(T.kerning))}),d.glyphs){const T=new Map;for(const[E,k]of Object.entries(d.glyphs))T.set(E,Re(X({},k),{kerning:k.kerning?convertKerning(k.kerning):new Map}));h.glyphs=T}return(v=(b=(g=d.style)==null?void 0:g.fill)==null?void 0:b.patternTexture)!=null&&v.buffer&&(h.style.fill.patternTexture.buffer=d.style.fill.patternTexture.buffer.slice().buffer),(w=(O=(S=d.style)==null?void 0:S.stroke)==null?void 0:O.patternTexture)!=null&&w.buffer&&(h.style.stroke.patternTexture.buffer=d.style.stroke.patternTexture.buffer.slice().buffer),h}function updateOldProject(d,h){let f=d;const y=Object.keys(allProto).map(Number).sort((g,b)=>g-b);for(const g of y)h<=g&&g<=CURRENT_VERSION&&allProto[g]&&(f=allProto[g].updateToNext(f));return f}const allProto={1e6:{Project:Project$7,updateToNext:updateToNext$7},1000001:{Project:Project$6,updateToNext:updateToNext$6},1000002:{Project:Project$5,updateToNext:updateToNext$5},1001e3:{Project:Project$4,updateToNext:updateToNext$4},1001001:{Project:Project$3,updateToNext:updateToNext$3},1001002:{Project:Project$2,updateToNext:updateToNext$2},1002e3:{Project:Project$1,updateToNext:updateToNext$1},1002001:{Project,updateToNext}},CURRENT_VERSION=1002001;function getVersionNumber(d){const h=typeof d=="string"?d.split(".").map(Number):Array.isArray(d)?d.map(Number):[];return h.length===0?0:h.reduceRight((f,y,g)=>{const b=Math.pow(1e3,h.length-1-g);return f+y*b},0)}const PREFIX_STR="SnowBambooBMF",VERSION_BYTES=[1,2,1];function createPrefix(){const d=[...PREFIX_STR].map(h=>h.charCodeAt(0));return new Uint8Array([...d,...VERSION_BYTES])}function getVersion(d){if(!(d instanceof ArrayBuffer))return 0;const h=createPrefix();if(d.byteLength<h.byteLength)return 0;const y=new Uint8Array(d).slice(0,h.byteLength),g=h.slice(0,-3);for(let v=0;v<g.length;v++)if(y[v]!==g[v])return 0;const b=y.slice(-3);return getVersionNumber(Array.from(b))}function isSBFFile(d){return getVersion(d)>0}const check=isSBFFile,decode=d=>{if(!(d instanceof ArrayBuffer))throw new Error("Invalid buffer format - expected ArrayBuffer");const h=getVersion(d);if(h===0)throw new Error("Invalid or corrupted SBF file");const f=allProto[h];if(!f)throw new Error(`Unsupported SBF version: ${h}`);const y=createPrefix().byteLength;if(d.byteLength<=y)throw new Error("File too small - missing payload data");try{const g=new Uint8Array(d).slice(y),b=f.Project.decode(g),v=updateOldProject(b,h);return toOriginBuffer(v)}catch(g){throw new Error(`Failed to decode protobuf data: ${g instanceof Error?g.message:"Unknown error"}`)}};function encode(d){if(!d)throw new Error("Project cannot be null or undefined");try{const h=createPrefix(),f=encodeProject(d),y=new Uint8Array(h.byteLength+f.byteLength);return y.set(h,0),y.set(f,h.byteLength),y}catch(h){throw new Error(`Failed to encode project: ${h instanceof Error?h.message:"Unknown error"}`)}}const sbfFile={ext:".sbf",check,decode},conversionList=[sbfFile,litteraFile];function conversion(d){const h=conversionList.find(f=>f.check(d));if(!h)throw new Error("unknown file");return h.decode(d)}const ButtonOpen=d=>{const{sx:h}=d,{enqueueSnackbar:f}=useSnackbar(),y=useWorkspace(),g=reactExports.useRef(null),[b,v]=reactExports.useState(Date.now()),{addProject:S}=y;return jsxs(Button,{sx:h,title:"Open Project ( + O)",component:"label",ref:g,children:["Open",jsx("input",{type:"file",onChange:w=>{var k,C;if(!((C=(k=w.target)==null?void 0:k.files)!=null&&C[0]))return;const T=w.target.files[0],E=/\.ltr$/.test(T.name);readFile(T,E).then(P=>{try{const M=conversion(P);M.name||(M.name=T.name),S(M)&&f("The project already exists and has been switched to the current tab.",{variant:"success"})}catch(M){console.log(M),captureException(M),f(M.toString(),{variant:"error"})}v(Date.now())})},accept:".sbf,.ltr",hidden:!0},b)]})},ButtonOpen$1=observer(ButtonOpen),ButtonSave=d=>{const{sx:h}=d,{enqueueSnackbar:f}=useSnackbar(),y=useWorkspace(),{currentProject:g}=y,b=reactExports.useCallback(v=>{v.preventDefault();try{const S=encode(toJS(g));FileSaver_minExports.saveAs(new Blob([S]),`${g.name}.sbf`)}catch(S){captureException(S),f(S.message)}},[f,g]);return reactExports.useEffect(()=>(hotkeys.unbind("ctrl+s"),hotkeys("ctrl+s",b),()=>{hotkeys.unbind("ctrl+s")}),[b]),jsx(Button,{sx:h,title:"Save Project ( + S)",onClick:b,children:"Save"})},ButtonSave$1=observer(ButtonSave),btnSx={textTransform:"none",color:"#fff","&:hover":{backgroundColor:"#252525"}},TitleBar=()=>{const{zIndex:d}=useTheme();return jsxs(Box,{sx:{position:"relative",display:"flex",alignItems:"center",zIndex:d.appBar,px:4,bgcolor:"background.titleBar"},children:[jsx(Typography,{component:"h1",sx:{fontSize:"1.25rem",fontWeight:"bolder",marginRight:"1rem"},children:"SnowB Bitmap Font"}),jsxs(Box,{sx:{flex:"auto",px:4},children:[jsx(ButtonNew$1,{sx:btnSx}),jsx(ButtonOpen$1,{sx:btnSx}),jsx(ButtonSave$1,{sx:btnSx}),jsx(ButtonExport$1,{sx:btnSx})]}),jsxs(Box,{sx:{display:"flex",alignItems:"center"},children:[jsx(Button,{component:Link,href:"/en/",color:"inherit",underline:"none",sx:btnSx,children:"Home"}),jsx(Button,{component:Link,href:"/en/docs/",color:"inherit",underline:"none",sx:btnSx,children:"Docs"}),jsx(Button,{component:Link,href:"https://github.com/SilenceLeo/snowb-bmf",target:"_blank",color:"inherit",underline:"none",sx:btnSx,children:"GitHub"})]})]})},ControllerBar=()=>{const{scale:d,setTransform:h,previewScale:f,setPreviewTransform:y,showPreview:g,setShowPreview:b}=useProjectUi(),[v,S]=reactExports.useState(!1),O=reactExports.useRef(null),[w]=reactExports.useState([.25,.5,.75,1,1.25,1.5,5,10]),T=()=>{S(P=>!P)},E=P=>{O.current&&O.current.contains(P.target)||S(!1)},k=(P,M)=>{g?y({previewScale:M}):h({scale:M})},C=P=>{k(null,P),S(!1)};return jsxs(Box,{sx:{display:"flex",justifyContent:"space-between",px:2},children:[jsxs(Box,{component:"label",sx:{display:"flex",alignItems:"center"},children:["Preview",jsx(Switch,{size:"small",color:"primary",checked:g,onChange:P=>b(P.target.checked)})]}),jsx(Slider$1,{sx:{width:"200px"},value:g?f:d,min:.01,max:10,step:.01,onChange:k}),jsx(Button,{ref:O,onClick:T,children:`${Math.round((g?f:d)*1e3)/10}%`}),jsx(Popper,{open:v,anchorEl:O.current,placement:"top-end",children:jsx(Paper,{children:jsx(ClickAwayListener,{onClickAway:E,children:jsx(MenuList,{children:w.map(P=>jsx(MenuItem,{onClick:()=>C(P),children:`${P*100}%`},P))})})})})]})},ControllerBar$1=observer(ControllerBar),ImageGlyph=d=>{const{removeImage:h}=useProject(),[f,y]=reactExports.useState(!1),{glyph:g}=d,[b,v]=reactExports.useState(g.letter),{changeSelect:S,selected:O,setGlyph:w}=g,T=k=>{const{value:C}=k.target;f?(v(C.slice(0,1)),w(C.slice(0,1))):w(C)},E=()=>{y(!1),v(k=>k.slice(0,1)),w(b.slice(0,1))};return jsxs(Paper,{variant:"outlined",sx:{width:80,height:80,display:"flex",position:"relative",alignItems:"center",justifyContent:"center",overflow:"hidden","& img":{display:"block",width:"100%",height:"100%",objectFit:"contain",pointerEvents:"none"}},children:[jsx("img",{src:g.src,alt:g.fileName}),jsxs(Stack$1,{direction:"column",spacing:0,sx:{justifyContent:"space-between",alignItems:"stretch",width:"100%",height:"100%",position:"absolute",left:0,top:0},children:[jsxs(Stack$1,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:[jsx(Checkbox,{checked:O,size:"small",color:"default",onChange:k=>S(k.target.checked)}),jsx(IconButton,{color:"info",size:"small",onClick:()=>h(g),children:jsx(DeleteIcon,{fontSize:"small"})})]}),jsx(Box,{component:"label",sx:{width:"100%",height:"100%",display:"flex",alignItems:"flex-end",justifyContent:"center",background:"linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.3) 50%, rgba(0, 0, 0, 0.8))"},children:jsx(InputBase,{fullWidth:!0,value:f?b:g.letter,onFocus:k=>k.target.select(),onInput:T,onCompositionEnd:E,onCompositionStart:()=>y(!0),slotProps:{input:{sx:{textAlign:"center"}}}})})]})]})},ImageGlyph$1=observer(ImageGlyph),ImageGlyphList$1=()=>{const{glyphImages:d}=useProject();return jsx(Box,{sx:{width:"100%",display:"flex",flexWrap:"wrap",gap:8},children:d.map(h=>jsx(ImageGlyph$1,{glyph:h},h.src))})},ImageGlyphList$2=observer(ImageGlyphList$1),LayerBox=()=>{const{addImages:d}=useProject(),[h,f]=reactExports.useState(!1),[y,g]=reactExports.useState(!1),b=E=>{const k=Array.from(E).filter(C=>/^image\//.test(C.type));k.length&&Promise.all(k.map(C=>readFile(C).then(P=>{if(!P||typeof P=="string")return null;const M=C.name.match(/(\S)\.[a-zA-Z0-9]+$/i);return{letter:M?M[1]:"",fileName:C.name,fileType:C.type,buffer:P}}))).then(C=>{d(C.filter(P=>P))})},v=E=>{E.preventDefault(),b(E.dataTransfer.files)},S=E=>{E&&E.stopPropagation(),f(k=>!k)},O=()=>{g(E=>h||!E)},w=E=>{if(!E.target.files)return;const{files:k}=E.target;b(k)},T=E=>{const k=E.target;E.keyCode===27&&(!k||k.tagName!=="INPUT"?f(!1):k&&k.blur())};return reactExports.useEffect(()=>(h?window.addEventListener("keydown",T):window.removeEventListener("keydown",T),()=>window.removeEventListener("keydown",T)),[h]),jsx(Box,{onDragEnter:E=>E.preventDefault(),onDragOver:E=>E.preventDefault(),onDrop:v,sx:X({display:"flex",position:"relative"},h?{position:"fixed",left:0,top:0,zIndex:999999,width:"100%",height:"100%"}:{}),children:jsxs(Accordion,{sx:X({width:"100%",display:"flex",flexDirection:"column",maxHeight:"305px"},h?{maxHeight:"none"}:{}),expanded:h||y,onChange:O,elevation:0,slotProps:{transition:{style:h||y?{flex:1,overflow:"hidden",overflowY:"auto"}:{}}},children:[jsxs(AccordionSummary,{expandIcon:h?void 0:jsx(ExpandMoreIcon,{}),sx:{[`& .${accordionSummaryClasses.content}`]:{alignItems:"center",justifyContent:"space-between"}},children:[jsx(Typography,{children:"Image Glyph List"}),jsxs(Button,{component:"label",color:"primary",size:"small",variant:"contained",startIcon:jsx(PhotoLibraryIcon,{}),children:["Select Images",jsx("input",{hidden:!0,type:"file",multiple:!0,accept:"image/*",onChange:w})]}),jsx(IconButton,{component:"div",onClick:S,children:h?jsx(FullscreenExitIcon,{}):jsx(FullscreenIcon,{})})]}),jsx(AccordionDetails,{sx:{flex:1,overflow:"hidden",overflowY:"auto"},children:jsx(Box,{sx:{minHeight:"224px",height:"100%",width:"100%"},children:jsx(ImageGlyphList$2,{})})})]})})},ImageGlyphList=observer(LayerBox),point={x:0,y:0};function useSpaceDrag(d,h=[]){const[f,y]=reactExports.useState({ks:!1,ms:!1}),g=reactExports.useMemo(()=>f.ks&&f.ms?2:f.ks?1:0,[f.ks,f.ms]),b=reactExports.useCallback(d,[d,...h]),v=reactExports.useCallback(T=>{const E=T.keyCode===32&&T.type==="keydown";f.ks!==E&&y(k=>Re(X({},k),{ks:T.keyCode===32&&T.type==="keydown"}))},[f.ks]),S=T=>{if(!f.ks)return;const{clientX:E,clientY:k}=T;point.x=E,point.y=k,y(C=>Re(X({},C),{ms:!0}))},O=reactExports.useCallback(T=>{const{clientX:E,clientY:k}=T,{x:C,y:P}=point;E-C===0&&k-P===0||(b({offsetX:E-C,offsetY:k-P}),point.x=E,point.y=k)},[b]),w=reactExports.useCallback(()=>{y(T=>Re(X({},T),{ms:!1}))},[]);return reactExports.useEffect(()=>(window.addEventListener("keydown",v),window.addEventListener("keyup",v),()=>{window.removeEventListener("keydown",v),window.removeEventListener("keyup",v)}),[v]),reactExports.useEffect(()=>(f.ks&&f.ms?(window.addEventListener("mousemove",O),window.addEventListener("mouseup",w)):(window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",w)),()=>{window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",w)}),[w,O,f.ks,f.ms]),[g,S]}function useWheel(d,h,f=[]){const y=reactExports.useCallback(h,[h,f]),g=reactExports.useCallback(b=>{b.preventDefault(),b.stopPropagation();const{ctrlKey:v,altKey:S,deltaX:O,deltaY:w}=b;if(v){let T=-.01;Math.abs(w)>50&&(T*=.1),y({deltaScale:w*T,deltaX:0,deltaY:0})}else{let T=-O,E=-w;O===0&&S&&Math.abs(w)>50&&(T=-w,E=0),y({deltaX:T,deltaY:E,deltaScale:0})}},[y]);reactExports.useEffect(()=>{if(!d.current)return;const b=d.current;return b.addEventListener("wheel",g,{passive:!1}),()=>b.removeEventListener("wheel",g)},[d,g])}const PackCanvas=()=>{const{bgPixel:d}=useTheme(),{isPacking:h,ui:f,layout:{packWidth:y,packHeight:g,page:b},style:{bgColor:v},packCanvases:S}=useProject(),{width:O,height:w,scale:T,offsetX:E,offsetY:k}=f,C=reactExports.useRef([]),P=reactExports.useRef(null),[M,A]=reactExports.useState(!1),D=reactExports.useCallback(()=>{const L=C.current.slice(0,b).every(U=>U!=null);return A(L),L},[b]);reactExports.useEffect(()=>{if(C.current.length!==b){const L=new Array(b);for(let U=0;U<Math.min(C.current.length,b);U++)L[U]=C.current[U];C.current=L}A(!1),setTimeout(()=>D(),0)},[b,D]);const N=Math.ceil(Math.sqrt(b)),j=20,[q,F]=useSpaceDrag(L=>{const{offsetX:U,offsetY:z}=L,{scale:V,offsetX:Y,offsetY:W,setTransform:K}=f;K({offsetX:Y+U/V,offsetY:W+z/V})},[f]);return useWheel(P,L=>{const{offsetX:U,offsetY:z,scale:V,setTransform:Y}=f,W=Math.max(.1,Math.min(10,V+L.deltaScale)),K=U+L.deltaX/W,re=z+L.deltaY/W;Y({offsetX:K,offsetY:re,scale:W})},[f]),reactExports.useEffect(()=>{if(!(h||!y||!g)&&M)for(let L=0;L<b;L++){const U=C.current[L];if(!U)continue;U.width=y,U.height=g;const z=U.getContext("2d");z&&(v&&(z.fillStyle=v,z.fillRect(0,0,U.width,U.height)),S[L]&&z.drawImage(S[L],0,0))}},[S,v,h,y,g,b,M]),jsx(Box,{"aria-hidden":!0,ref:P,sx:{position:"relative",width:"100%",height:"100%",overflow:"hidden",flex:1},style:{cursor:q===2?"grabbing":q===1?"grab":"default"},onMouseDown:F,children:jsx(Box,{sx:{position:"absolute",left:"50%",top:"50%",width:`${O}px`,height:`${w}px`,marginLeft:`${O/-2}px`,marginTop:`${w/-2}px`,transformOrigin:"50% 50%"},style:{transform:`scale(${T}) translate(${E}px,${k}px)`},children:Array.from({length:b}).map((L,U)=>{const z=U%N,V=Math.floor(U/N),Y=z*(y+j),W=V*(g+j);return jsx(Box,{component:"canvas",ref:K=>{K&&(C.current[U]=K,D())},sx:Re(X({imageRendering:"pixelated"},d),{position:"absolute",left:`${Y}px`,top:`${W}px`,width:`${y}px`,height:`${g}px`})},U)})})})},PackCanvas$1=observer(PackCanvas),PackSizeBar=()=>{const{palette:d}=useTheme(),{isPacking:h,layout:f}=useProject(),{packWidth:y,packHeight:g}=f;return jsxs(Box,{sx:{width:"100%",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"12px",padding:"2px",animationDuration:"300ms",pointerEvents:"none",position:"relative",bgcolor:"background.paper",color:d.text.secondary},children:["Packed texture size: ",y," x ",g,h?jsx(LinearProgress,{sx:{position:"absolute",left:0,top:"100%",width:"100%"}}):null]})},PackSizeBar$1=observer(PackSizeBar),PackView=()=>jsxs(Fragment,{children:[jsx(PackSizeBar$1,{}),jsx(PackCanvas$1,{})]}),LetterList=d=>{const{data:{xOffset:h,yOffset:f,list:y},drawYOffset:g}=d,b=useProjectUi(),v=(S,O,w)=>{S.stopPropagation(),b.setSelectLetter(O,w)};return jsx(Fragment,{children:y.map((S,O)=>{const w=`${S.letter}${O}`;return jsx(Box,{"aria-hidden":!0,sx:X(X({position:"absolute",width:S.width,height:S.height,left:`${S.x-h}px`,top:`${S.y-f+g}px`,"&:hover":{background:"rgba(0, 0, 0, 0.2)",outline:"1px solid #000"}},S.letter===b.selectLetter&&{background:"rgba(0, 0, 0, 0.2)",outline:"1px solid #000"}),S.letter===b.selectNextLetter&&{background:"rgba(0, 0, 0, 0.1)",outline:"1px dashed #666"}),onClick:T=>v(T,S.letter,S.next)},w)})})},LetterList$1=observer(LetterList),PreviewCanvas=()=>{const{bgPixel:d}=useTheme(),h=useProject(),{ui:f,style:{font:{size:y,lineHeight:g,middle:b,hanging:v,top:S,alphabetic:O,ideographic:w,bottom:T,minBaseLine:E,maxBaseLine:k}},layout:{padding:C},isPacking:P,globalAdjustMetric:M,packCanvases:A}=h,{previewScale:D,previewOffsetX:N,previewOffsetY:j}=f,[q,F]=reactExports.useState(null),L=reactExports.useRef(null),[U,z]=useSpaceDrag(K=>{const{offsetX:re,offsetY:fe}=K,{previewScale:se,previewOffsetX:J,previewOffsetY:ie,setPreviewTransform:ue}=f;ue({previewOffsetX:J+re/se,previewOffsetY:ie+fe/se})},[f]),[V,Y]=reactExports.useState(null),W=reactExports.useCallback(()=>{if(!q||!q.getContext("2d"))return;const re=y*g,fe=k-E,se=[],J=f.previewText.split(/\r\n|\r|\n/);let ie=0,ue=0,ke=0,pe=0;J.forEach((ne,de)=>{const ae=re*de;let H=0;const Z=Array.from(ne);Z.forEach((ve,Te)=>{const te=h.getGlyph(ve);if(!te)return;const ge=Z[Te+1],$e=!!(te&&te.width&&te.height),Q=$e?te.width+C*2:0,le=$e?te.height+C*2:0,Se=M.xOffset+te.adjustMetric.xOffset-($e?te.trimOffsetLeft:0)-($e?C:0),Oe=M.yOffset+te.adjustMetric.yOffset-($e?te.trimOffsetTop:0)-($e?C:0),xe=Math.ceil(te.fontWidth)+M.xAdvance+te.adjustMetric.xAdvance,Pe={x:H+Se+(Q===0?0:C),y:ae+Oe+(Q===0?0:C),width:(Q||xe)-(Q===0?0:C*2),height:(le||fe)-(Q===0?0:C*2),letter:ve,next:ge,glyph:te};H+=xe,te.kerning.get(ge)&&(H+=te.kerning.get(ge)),ie=Math.min(Pe.x,ie),ue=Math.min(Pe.y,ue),ke=Math.max(Pe.x+Pe.width,ke),pe=Math.max(Pe.y+Pe.height,pe),se.push(Pe)})}),Y({lines:J.length,list:se,xOffset:ie,yOffset:ue,width:ke-ie,height:Math.max(pe-ue,J.length*re-ue)+2})},[q,y,g,k,E,f.previewText,h,C,M.xOffset,M.yOffset,M.xAdvance]);return useWheel(L,K=>{const{previewOffsetX:re,previewOffsetY:fe,previewScale:se,setPreviewTransform:J}=f,ie=se+K.deltaScale,ue=re+K.deltaX/ie,ke=fe+K.deltaY/ie;J({previewOffsetX:ue,previewOffsetY:ke,previewScale:ie})},[f]),reactExports.useEffect(()=>{if(!q||P||!V)return;const K=q.getContext("2d");if(!K)return;const re=y*g,fe=Math.max((re-y)/2,0);q.width=V.width,q.height=V.height,V.list.forEach(se=>{if(se.glyph instanceof GlyphImage&&se.glyph.source)K.drawImage(se.glyph.source,se.x-V.xOffset,se.y-V.yOffset+fe);else if(se.glyph instanceof GlyphFont){const J=se.glyph.page||0,ie=A==null?void 0:A[J];if(ie)try{K.drawImage(ie,se.glyph.x+C,se.glyph.y+C,se.glyph.width,se.glyph.height,se.x-V.xOffset,se.y-V.yOffset+fe,se.glyph.width,se.glyph.height)}catch(ue){console.warn(` Failed to draw glyph ${se.glyph.letter} from page ${J}:`,ue)}}});for(let se=0;se<V.lines;se+=1)[b,v,S,O,w,T].forEach(J=>{const ie=Math.round(J-E+se*re);K.beginPath(),K.moveTo(-V.xOffset,ie+.5-V.yOffset+fe),K.lineTo(V.width,ie+.5-V.yOffset+fe),J===E||J===k?(K.strokeStyle="rgba(0,0,0,1)",K.setLineDash([])):(K.strokeStyle="rgba(0,0,0,0.5)",K.setLineDash([10,3,2,3])),K.stroke()}),K.beginPath(),K.moveTo(-V.xOffset+.5,se*re-V.yOffset+fe),K.lineTo(-V.xOffset+.5,se*re-V.yOffset+k-E+fe),K.strokeStyle="rgba(0,0,0,1)",K.setLineDash([]),K.stroke()},[O,T,q,V,v,w,P,g,k,b,E,A,C,y,S]),reactExports.useEffect(()=>{W();const K=se=>W(),re=deepObserve(h.glyphs,K),fe=deepObserve(h.glyphImages,K);return()=>{re(),fe()}},[W,h.glyphImages,h.glyphs]),jsx(Box,{"aria-hidden":!0,ref:L,style:Re(X({position:"relative",flex:1,width:"100%",height:"100%",overflow:"hidden"},d),{cursor:U===2?"grabbing":U===1?"grab":"default"}),onMouseDown:z,onClick:()=>f.setSelectLetter("",""),children:jsxs(Box,{sx:{transformOrigin:"50% 50%",position:"absolute",left:"50%",top:"50%",width:`${V?V.width:0}px`,height:`${V?V.height:0}px`,marginLeft:`${(V?V.width:0)/-2}px`,marginTop:`${(V?V.height:0)/-2}px`,transform:`scale(${D}) translate(${N}px,${j}px)`,"& canvas":{width:"100%",height:"100%",imageRendering:"pixelated"}},children:[jsx("canvas",{ref:K=>F(K)}),V?jsx(LetterList$1,{data:V,drawYOffset:Math.max((y*g-y)/2,0)}):null]})})},PreviewCanvas$1=observer(PreviewCanvas),GlobalMetric=()=>{const{glyphList:d,ui:h,style:{font:{opentype:f,size:y}}}=useProject(),[g,b]=reactExports.useState(0),[v,S]=reactExports.useState();reactExports.useEffect(()=>{S(d.find(w=>w.letter===h.selectLetter))},[d,h.selectLetter]),reactExports.useEffect(()=>{if(v&&h.selectNextLetter&&f){const w=1/f.unitsPerEm*y;b(Math.round(f.getKerningValue(f.charToGlyphIndex(v.letter),f.charToGlyphIndex(h.selectNextLetter))*w))}},[v,f,y,h.selectNextLetter]);const O=w=>{v&&v.steKerning(h.selectNextLetter,Number(w.target.value)-g)};return!v||!h.selectNextLetter?null:jsxs(Fragment,{children:[jsx(Box,{paddingX:2,marginY:4,children:jsx(Typography,{children:`"${v.letter}" - "${h.selectNextLetter}" Kerning`})}),jsx(Box,{paddingX:2,marginY:4,children:jsx(GridInput,{before:"Amount:",after:"px",children:jsx(Input,{value:(v.kerning.get(h.selectNextLetter)||0)+g,fullWidth:!0,type:"number",onChange:O})})})]})},PreviewKerning=observer(GlobalMetric),PreviewMetric=()=>{const d=useProject(),{glyphList:h,ui:f}=d,y=h.find(k=>k.letter===f.selectLetter);if(!y)return null;const{adjustMetric:g,letter:b}=y,{xAdvance:v,xOffset:S,yOffset:O,setXAdvance:w,setXOffset:T,setYOffset:E}=g;return jsxs(Fragment,{children:[jsx(Box,{paddingX:2,marginY:4,children:jsx(Typography,{children:`"${b}" Adjustment`})}),jsx(FormAdjustMetric,{xAdvance:v,xOffset:S,yOffset:O,setXAdvance:w,setXOffset:T,setYOffset:E})]})},PreviewMetric$1=observer(PreviewMetric),Preview$1=()=>{const{previewText:d,setPreviewText:h}=useProjectUi(),[f,y]=reactExports.useState(!1),[g,b]=reactExports.useState(d);return jsxs(Box,{children:[jsx(Box,{paddingX:2,marginY:4,children:jsx(Typography,{children:"Glyphs"})}),jsx(Box,{paddingX:2,marginY:4,children:jsx(TextField,{margin:"none",value:f?g:d,fullWidth:!0,multiline:!0,rows:7,variant:"outlined",onChange:O=>{const{value:w}=O.target;f?b(w):(b(w),w!==d&&h(w))},onCompositionStart:()=>y(!0),onCompositionEnd:()=>{y(!1),b(g),g!==d&&h(g)},slotProps:{htmlInput:{spellCheck:!1}}})})]})},PreviewText=observer(Preview$1),Preview=()=>jsxs(Fragment,{children:[jsx(PreviewCanvas$1,{}),jsxs(Grid,{container:!0,alignItems:"flex-start",children:[jsx(Grid,{size:4,children:jsx(PreviewText,{})}),jsx(Grid,{size:4,children:jsx(PreviewMetric$1,{})}),jsx(Grid,{size:4,children:jsx(PreviewKerning,{})})]})]}),MainView=()=>{const{showPreview:d,packFailed:h}=useProjectUi();return jsxs(Box,{sx:{position:"relative",display:"flex",flex:1,flexDirection:"column",bgcolor:"background.default"},children:[h?jsxs(Box,{sx:{position:"absolute",left:0,top:0,width:"100%",zIndex:10,textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"12px",padding:"2px",animationName:"slideDown",animationDuration:"300ms",bgcolor:"error.main","@keyframes slideDown":{from:{opacity:0,transform:"translate(0, -100%)"},to:{opacity:1,transform:"translate(0, 0)"}}},children:[jsx(ErrorOutlineIcon,{sx:{mr:"5px"},fontSize:"inherit"}),"Packaging failed, try to increase the size of the package please."]}):null,d?jsx(Preview,{}):jsx(PackView,{})]})},MainView$1=observer(MainView),ProjectTab=d=>{const{name:h,useRemove:f,selected:y,value:g,onChange:b,onClick:v,onRemove:S,onRename:O}=d,{palette:w}=useTheme(),[T,E]=reactExports.useState(!1),[k,C]=reactExports.useState(h),P=reactExports.useRef(null),M=F=>{F.stopPropagation(),S&&S(F,g)},A=F=>{F.stopPropagation(),b&&b(F,g),v&&v(F)},D=F=>{F.stopPropagation(),P.current&&E(!0)},N=F=>{F.preventDefault&&F.preventDefault(),E(!1)},j=F=>{F.key==="Enter"&&P.current&&P.current.blur()},q=F=>{C(F.target.value)};return reactExports.useEffect(()=>{T&&P.current&&P.current.focus(),!T&&O&&O(k,g)},[T,O,k,g]),reactExports.useEffect(()=>{C(h)},[h]),jsxs(Box,{"aria-hidden":!0,sx:Re(X({minHeight:"auto",minWidth:"80px",maxWidth:"none",height:"34px",lineHeight:"16px",padding:"10px",color:"rgba(255, 255, 255, 0.5)",backgroundColor:"rgb(45, 45, 45)",textTransform:"none",display:"inline-flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",borderRight:`1px solid ${w.background.default}`},y?{color:"#fff",background:w.background.default}:{}),{"&:hover":{[`.${svgIconClasses.root}`]:{opacity:1}},"&:last-child":{borderRight:"0 none"}}),onClick:A,onDoubleClick:D,title:"Double click rename",children:[jsxs(Box,{"aria-hidden":!0,component:"span",sx:{whiteSpace:"nowrap",position:"relative",background:"inherit"},children:[T?k:h,jsx(InputBase,{sx:{position:"absolute",width:"100%",height:"100%",left:0,fontSize:"inherit",padding:0,border:0,appearance:"none",color:"inherit",background:"inherit",visibility:T?"visible":"hidden",input:{p:0,display:"block"}},ref:P,value:T?k:h,type:"text",onKeyDown:j,onBlur:N,onChange:q})]}),f?jsx(CloseIcon,{sx:{width:"16px",height:"16px",marginLeft:"10px",opacity:y?1:0},onClick:M,onDoubleClick:M}):null]})},ProjectTabs=()=>{const{palette:d,shadows:h}=useTheme(),f=useWorkspace(),{addProject:y,selectProject:g,removeProject:b,setProjectName:v,namedList:S,activeId:O}=f,w=(k,C)=>{g(C)},T=(k,C)=>{typeof C!="undefined"&&b(C)},E=()=>{y()};return jsx(Tabs,{sx:{minHeight:"auto",width:"100%",boxShadow:h[2],background:d.background.sidebar,position:"relative",zIndex:1},value:O,onChange:w,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:!1,selectionFollowsFocus:!0,onDoubleClick:E,slotProps:{indicator:{hidden:!0}},children:S.map(k=>jsx(ProjectTab,{useRemove:S.length>1,name:k.name,value:k.id,onRename:v,onRemove:T},k.id))})},ProjectTabs$1=observer(ProjectTabs),WorkSpace=()=>jsxs(Box,{sx:{position:"relative",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",width:0},children:[jsx(ProjectTabs$1,{}),jsx(MainView$1,{}),jsx(ControllerBar$1,{}),jsx(ImageGlyphList,{})]});function useSimpleState(d){const[h,f]=reactExports.useState(d),y=reactExports.useCallback(b=>{f(b)},[]),g=reactExports.useCallback(()=>{f(d)},[d]);return{value:h,setValue:y,resetValue:g}}function useLoading(d=!1){const[h,f]=reactExports.useState(d),y=reactExports.useCallback(()=>f(!0),[]),g=reactExports.useCallback(()=>f(!1),[]),b=reactExports.useCallback(v=>De(null,null,function*(){y();try{return yield v}finally{g()}}),[y,g]);return{loading:h,startLoading:y,stopLoading:g,withLoading:b}}function useErrorHandler(){const[d,h]=reactExports.useState(null),f=reactExports.useCallback(b=>{const v=typeof b=="string"?new Error(b):b;h(v),console.error("Component Error:",v)},[]),y=reactExports.useCallback(()=>{h(null)},[]),g=reactExports.useCallback((b,v)=>De(null,null,function*(){try{return y(),yield b}catch(S){const O=S instanceof Error?S:new Error(String(S));return f(O),v==null||v(O),null}}),[f,y]);return{error:d,handleError:f,clearError:y,withErrorHandling:g,hasError:d!==null}}const isLocalhost=!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),updateState={isUpdateAvailable:!1,isUpdateReady:!1,registration:null,lastCheckTime:0},UPDATE_CHECK_INTERVAL=isLocalhost?30*1e3:600*1e3;function dispatchUpdateEvent(d,h){window.dispatchEvent(new CustomEvent(d,{detail:h}))}function checkForUpdates(d){return De(this,null,function*(){try{const h=Date.now();if(h-updateState.lastCheckTime<UPDATE_CHECK_INTERVAL/2)return;if(updateState.lastCheckTime=h,!navigator.onLine){console.log("Service Worker: Skipping update check - offline");return}const f=new URL("service-worker.js",window.location.href).href,y=yield fetch(f,{cache:"no-store",headers:{cache:"no-store","cache-control":"no-cache"}});(y==null?void 0:y.status)===200&&(console.log("Service Worker: Checking for updates..."),yield d.update())}catch(h){console.error("Service Worker: Update check failed:",h)}})}function setupPeriodicUpdateCheck(d){setTimeout(()=>checkForUpdates(d),3e4);const h=setInterval(()=>{checkForUpdates(d)},UPDATE_CHECK_INTERVAL);window.addEventListener("beforeunload",()=>{clearInterval(h)}),document.addEventListener("visibilitychange",()=>{document.hidden||setTimeout(()=>checkForUpdates(d),1e3)}),window.addEventListener("focus",()=>{setTimeout(()=>checkForUpdates(d),1e3)})}function register(d){if("serviceWorker"in navigator){if(new URL("/",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const y=new URL("service-worker.js",window.location.href).href;isLocalhost?(checkValidServiceWorker(y,d),navigator.serviceWorker.ready.then(g=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA"),setupPeriodicUpdateCheck(g)})):registerValidSW(y,d)})}}function registerValidSW(d,h){navigator.serviceWorker.register(d).then(f=>{updateState.registration=f,f.onupdatefound=()=>{const y=f.installing;y!=null&&(updateState.isUpdateAvailable=!0,dispatchUpdateEvent("sw-update-found",{registration:f}),y.onstatechange=()=>{y.state==="installed"&&(navigator.serviceWorker.controller?(console.log("Service Worker: New content is available and will be used when all tabs for this page are closed."),updateState.isUpdateReady=!0,dispatchUpdateEvent("sw-update-ready",{registration:f}),h!=null&&h.onUpdate&&h.onUpdate(f)):(console.log("Service Worker: Content is cached for offline use."),dispatchUpdateEvent("sw-ready",{registration:f}),h!=null&&h.onSuccess&&h.onSuccess(f)))})},setupPeriodicUpdateCheck(f),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("Service Worker: Controller changed, reloading page"),window.location.reload()})}).catch(f=>{console.error("Service Worker: Registration failed:",f),dispatchUpdateEvent("sw-error",{error:f})})}function checkValidServiceWorker(d,h){fetch(d,{headers:{"Service-Worker":"script"}}).then(f=>{const y=f.headers.get("content-type");f.status===404||y!=null&&y.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(g=>{g.unregister().then(()=>{window.location.reload()})}):registerValidSW(d,h)}).catch(()=>{console.log("Service Worker: No internet connection found. App is running in offline mode.")})}function forceUpdate(){return De(this,null,function*(){try{if(!updateState.registration)return console.warn("Service Worker: No registration available for update"),!1;const d=updateState.registration.waiting;if(!d)return console.warn("Service Worker: No waiting worker available"),!1;console.log("Service Worker: Forcing update...");const f=yield new Promise(y=>{const g=new MessageChannel;g.port1.onmessage=b=>{var v;(v=b.data)!=null&&v.error?(console.error("Service Worker: Skip waiting failed:",b.data.error),y(!1)):(console.log("Service Worker: Skip waiting successful"),y(!0))},d.postMessage({type:"SKIP_WAITING"},[g.port2])});return f&&(dispatchUpdateEvent("sw-update-applied"),setTimeout(()=>{window.location.reload()},100)),f}catch(d){return console.error("Service Worker: Force update failed:",d),!1}})}function checkForUpdatesManually(){return De(this,null,function*(){try{return updateState.registration?(yield checkForUpdates(updateState.registration),!0):(console.warn("Service Worker: No registration available for manual check"),!1)}catch(d){return console.error("Service Worker: Manual update check failed:",d),!1}})}function UpdateToast(){const{value:d,setValue:h}=useSimpleState({isVisible:!1,isUpdateReady:!1,isOfflineReady:!1,lastUpdateCheck:0}),{loading:f,withLoading:y}=useLoading(),{error:g,handleError:b,clearError:v}=useErrorHandler(),S=React.useCallback((P,M)=>{M!=="clickaway"&&(h(A=>Re(X({},A),{isVisible:!1})),v())},[h,v]),O=React.useCallback(()=>De(null,null,function*(){v(),(yield y(forceUpdate()))||b("Update failed, please try again later")}),[y,b,v]),w=React.useCallback(()=>De(null,null,function*(){v(),(yield y(checkForUpdatesManually()))?(h(M=>Re(X({},M),{lastUpdateCheck:Date.now()})),setTimeout(()=>{d.isUpdateReady||h(M=>Re(X({},M),{isVisible:!1}))},2e3)):b("Failed to check for updates")}),[y,b,v,h,d.isUpdateReady]);React.useEffect(()=>{const P=j=>{j.detail&&(h(q=>Re(X({},q),{isVisible:!0,isUpdateReady:!0})),v())},M=()=>{h(j=>Re(X({},j),{isVisible:!0,isUpdateReady:!1})),v()},A=()=>{h(j=>Re(X({},j),{isVisible:!0,isUpdateReady:!0})),v()},D=()=>{h(j=>Re(X({},j),{isVisible:!0,isOfflineReady:!0})),v(),setTimeout(()=>{h(j=>Re(X({},j),{isVisible:!1,isOfflineReady:!1}))},5e3)},N=j=>{var F;const q=(F=j.detail)==null?void 0:F.error;h(L=>Re(X({},L),{isVisible:!0})),b((q==null?void 0:q.message)||"Service Worker error occurred")};return window.addEventListener("updateVersion",P),window.addEventListener("sw-update-found",M),window.addEventListener("sw-update-ready",A),window.addEventListener("sw-ready",D),window.addEventListener("sw-error",N),()=>{window.removeEventListener("updateVersion",P),window.removeEventListener("sw-update-found",M),window.removeEventListener("sw-update-ready",A),window.removeEventListener("sw-ready",D),window.removeEventListener("sw-error",N)}},[h,v,b]);const T=()=>g?"error":d.isOfflineReady?"success":d.isUpdateReady?"warning":"info",E=()=>f?jsx(CircularProgress,{size:20}):g?jsx(ErrorIcon$1,{}):d.isOfflineReady?jsx(CheckCircleIcon,{}):d.isUpdateReady?jsx(UpdateIcon,{}):jsx(RefreshIcon,{}),k=()=>g?g.message:d.isOfflineReady?"App is ready for offline use":d.isUpdateReady?"New version available, click update to experience now":f?"Checking for updates...":"Check for app updates",C=()=>g?jsxs(Fragment,{children:[jsx(Button,{color:"inherit",size:"small",onClick:w,disabled:f,startIcon:f?jsx(CircularProgress,{size:16}):jsx(RefreshIcon,{}),children:"Retry"}),jsx(IconButton,{"aria-label":"close",color:"inherit",sx:{p:.5},onClick:S,children:jsx(CloseIcon,{})})]}):d.isOfflineReady?jsx(IconButton,{"aria-label":"close",color:"inherit",sx:{p:.5},onClick:S,children:jsx(CloseIcon,{})}):d.isUpdateReady?jsxs(Fragment,{children:[jsx(Button,{color:"inherit",size:"small",onClick:O,disabled:f,startIcon:f?jsx(CircularProgress,{size:16}):jsx(UpdateIcon,{}),children:f?"Updating...":"Update"}),jsx(IconButton,{"aria-label":"close",color:"inherit",sx:{p:.5},onClick:S,children:jsx(CloseIcon,{})})]}):jsxs(Fragment,{children:[jsx(Button,{color:"inherit",size:"small",onClick:w,disabled:f,startIcon:f?jsx(CircularProgress,{size:16}):jsx(RefreshIcon,{}),children:"Check for Updates"}),jsx(IconButton,{"aria-label":"close",color:"inherit",sx:{p:.5},onClick:S,children:jsx(CloseIcon,{})})]});return jsx(Snackbar$1,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:d.isVisible,onClose:S,autoHideDuration:d.isOfflineReady?5e3:void 0,children:jsxs(Alert,{severity:T(),icon:E(),sx:{minWidth:"300px",alignItems:"center","& .MuiAlert-message":{display:"flex",alignItems:"center",flexGrow:1}},action:jsx(Box,{sx:{display:"flex",alignItems:"center",gap:1},children:C()}),children:[jsx(Typography,{variant:"body2",component:"div",children:k()}),d.lastUpdateCheck>0&&!d.isUpdateReady&&!g&&jsxs(Typography,{variant:"caption",color:"text.secondary",sx:{mt:.5},children:["Last checked: ",new Date(d.lastUpdateCheck).toLocaleTimeString()]})]})})}const Wrap=()=>jsxs(Box,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[jsx(TitleBar,{}),jsx(UpdateToast,{}),jsxs(Box,{sx:{display:"flex",flex:1,position:"relative",height:0,overflow:"hidden"},children:[jsx(LeftBar,{}),jsx(WorkSpace,{}),jsx(RightBar,{})]})]}),Wrap$1=observer(Wrap),components={MuiCssBaseline:{styleOverrides:{"html,body,#root":{width:"100%",height:"100%"},html:{fontSize:"14px"},body:{margin:0,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",userSelect:"none",fontSize:"0.8125rem"},"#root":{minWidth:900},"input::-webkit-inner-spin-button":{marginLeft:"10px"},"input:enabled:read-write:-webkit-any(:focus,:hover)::-webkit-inner-spin-button":{opacity:.3},"::-webkit-scrollbar":{width:"4px",height:"4px"},"::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.2)"},"::-webkit-scrollbar-track":{background:"rgba(0, 0, 0, 0.1)"}}},MuiInputBase:{styleOverrides:{input:{"&[type=number]":{textAlign:"right"}}},defaultProps:{size:"small",margin:"dense"}},MuiSlider:{styleOverrides:{root:{verticalAlign:"top","&.Mui-disabled":{opacity:.2}}},defaultProps:{size:"small"}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}},MuiButton:{defaultProps:{size:"small"}},MuiButtonBase:{defaultProps:{disableRipple:!0}},MuiFilledInput:{defaultProps:{margin:"dense"}},MuiFormControl:{defaultProps:{margin:"dense"}},MuiFormHelperText:{defaultProps:{margin:"dense"}},MuiIconButton:{defaultProps:{size:"small"}},MuiInputLabel:{defaultProps:{margin:"dense"}},MuiListItem:{defaultProps:{dense:!0}},MuiOutlinedInput:{defaultProps:{margin:"dense"}},MuiFab:{defaultProps:{size:"small"}},MuiTable:{defaultProps:{size:"small"}},MuiTextField:{defaultProps:{size:"small",margin:"dense"}},MuiToolbar:{defaultProps:{variant:"dense"}}},theme=createTheme({palette:{mode:"dark",primary:{main:"#444"},secondary:{main:"#424242"},background:{paper:"rgb(37, 37, 37)",default:"rgb(30, 30, 30)",activityBar:"rgb(51, 51, 51)",titleBar:"rgb(50, 50, 50)",sidebar:"rgb(37, 37, 37)"},common:{black:"rgb(30,30,30)",white:"rgb(204,204,204)"},action:{hover:"rgba(255, 255, 255, 0.1)"}},bgPixel:{backgroundColor:"#fff",backgroundImage:`
    linear-gradient(45deg, #ccc 25%, transparent 0, transparent 75%, #ccc 0),
    linear-gradient(45deg, #ccc 25%, transparent 0, transparent 75%, #ccc 0)`,backgroundSize:"8px 8px",backgroundPosition:"0 0, 4px 4px",backgroundRepeat:"repeat"},spacing:4,typography:{fontSize:13},transitions:{create:()=>"none"},shape:{borderRadius:0},components}),theme$1=responsiveFontSizes(theme);function App(){return jsx(StoreContext,{value:createStore(),children:jsx(StyledEngineProvider,{injectFirst:!0,children:jsxs(ThemeProvider,{theme:theme$1,children:[jsx(CssBaseline,{}),jsxs(SnackbarProvider,{anchorOrigin:{horizontal:"center",vertical:"top"},children:[jsx(DynamicTitle,{}),jsx(Wrap$1,{})]})]})})})}init({dsn:"https://007c463bad354a5baf9a11d8e9d7c8a6@o501223.ingest.sentry.io/5981296",release:"7ee531b",integrations:[browserTracingIntegration(),replayIntegration()],tracesSampleRate:1,environment:"production",replaysSessionSampleRate:0,replaysOnErrorSampleRate:1});const handleCaughtError=(d,h)=>{console.error("React caught error:",d),captureException(d,{contexts:{react:{componentStack:h.componentStack||"",errorBoundary:!0}}})},handleUncaughtError=(d,h)=>{console.error("React uncaught error:",d),captureException(d,{contexts:{react:{componentStack:h.componentStack||"",errorBoundary:!1}}})},handleRecoverableError=(d,h)=>{addBreadcrumb({category:"react.recoverable",message:d instanceof Error?d.message:String(d),level:"warning",data:{componentStack:h.componentStack||""}})};clientExports.createRoot(document.getElementById("root"),{onCaughtError:handleCaughtError,onUncaughtError:handleUncaughtError,onRecoverableError:handleRecoverableError}).render(jsx(App,{}));register({onUpdate(d){console.log("Service Worker: Update available, preparing to apply...");const h=d.waiting;h&&window.dispatchEvent(new CustomEvent("updateVersion",{detail:h}))},onSuccess(d){console.log("Service Worker: Successfully registered and ready for offline use")}})});export default Mh();
//# sourceMappingURL=index-BCXn8jZs.js.map
